{"version":3,"file":"js/94.66bc7444.js","mappings":"kGAAa,SAASA,IAAW,OAAOA,EAASC,OAAOC,OAAOD,OAAOC,OAAOC,OAAO,SAASC,GAAG,IAAI,IAAIC,EAAEC,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,IAAI,IAAIG,KAAKJ,EAAEE,UAAUD,GAAGD,EAAEJ,OAAOS,UAAUC,eAAeC,KAAKP,EAAEI,KAAKL,EAAEK,GAAGJ,EAAEI,IAAI,OAAOL,CAAC,EAAEJ,EAASa,MAAMC,KAAKP,UAAU,CAAC,IAAIQ,EAAY,CAAC,QAAQ,QAAQ,YAAYC,EAAa,CAAC,QAAQ,QAAQ,cAAcC,EAAgB,CAAC,KAAK,YAAYC,EAAc,SAASd,GAAG,OAAOA,EAAEe,QAAO,SAASb,EAAEF,GAAG,IAAI,IAAIC,KAAKD,EAAE,GAAIE,EAAED,GAAkB,IAAI,IAAIU,EAAYK,QAAQf,GAAGC,EAAED,GAAGL,EAAS,CAAC,EAAEM,EAAED,GAAGD,EAAEC,SAAS,IAAI,IAAIW,EAAaI,QAAQf,GAAG,CAAC,IAAII,EAAEH,EAAED,aAAagB,MAAMf,EAAED,GAAG,CAACC,EAAED,IAAIiB,EAAElB,EAAEC,aAAagB,MAAMjB,EAAEC,GAAG,CAACD,EAAEC,IAAIC,EAAED,GAAG,GAAGkB,OAAOd,EAAEa,EAAE,MAAM,IAAI,IAAIL,EAAgBG,QAAQf,GAAI,IAAI,IAAImB,KAAKpB,EAAEC,GAAG,GAAGC,EAAED,GAAGmB,GAAG,CAAC,IAAIC,EAAEnB,EAAED,GAAGmB,aAAaH,MAAMf,EAAED,GAAGmB,GAAG,CAAClB,EAAED,GAAGmB,IAAIE,EAAEtB,EAAEC,GAAGmB,aAAaH,MAAMjB,EAAEC,GAAGmB,GAAG,CAACpB,EAAEC,GAAGmB,IAAIlB,EAAED,GAAGmB,GAAG,GAAGD,OAAOE,EAAEC,EAAE,MAAMpB,EAAED,GAAGmB,GAAGpB,EAAEC,GAAGmB,QAAS,GAAG,SAASnB,EAAE,IAAI,IAAIsB,KAAKvB,EAAEC,GAAGC,EAAED,GAAGsB,GAAGrB,EAAED,GAAGsB,GAAGC,EAAQtB,EAAED,GAAGsB,GAAGvB,EAAEC,GAAGsB,IAAIvB,EAAEC,GAAGsB,QAAQrB,EAAED,GAAGD,EAAEC,QAAhgBC,EAAED,GAAGD,EAAEC,GAA4f,OAAOC,CAAC,GAAE,CAAC,EAAE,EAAEsB,EAAQ,SAASxB,EAAEC,GAAG,OAAO,WAAWD,GAAGA,EAAES,MAAMC,KAAKP,WAAWF,GAAGA,EAAEQ,MAAMC,KAAKP,UAAU,CAAC,EAAEsB,EAAOC,QAAQZ,C,y+DCA/kC,IAAIa,EAAS,WAAkB,IAAIC,EAAIlB,KAAKmB,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACE,MAAM,CAAC,OAASH,EAAII,OAAO,WAAaJ,EAAIK,cAAcJ,EAAG,cAAc,CAACE,MAAM,CAAC,OAASH,EAAII,WAAW,EAC5M,EACIE,EAAkB,GCFlBP,EAAS,WAAkB,IAAIC,EAAIlB,KAAQkB,EAAIE,MAAMD,GAAG,OAAOD,EAAIO,GAAG,EAC1E,EACID,EAAkB,CAAC,WAAY,IAAIN,EAAIlB,KAAKmB,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACO,YAAY,kBAAkB,CAACP,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,UACtI,GCHA,SAASM,EAAQC,EAAQC,GACvB,IAAIC,EAAO3C,OAAO2C,KAAKF,GACvB,GAAIzC,OAAO4C,sBAAuB,CAChC,IAAIC,EAAU7C,OAAO4C,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAASC,GACnD,OAAO/C,OAAOgD,yBAAyBP,EAAQM,GAAKE,UACtD,KAAKN,EAAKO,KAAKtC,MAAM+B,EAAME,EAC7B,CACA,OAAOF,CACT,CACA,SAASQ,EAAeC,GACtB,IAAK,IAAI1B,EAAI,EAAGA,EAAIpB,UAAUC,OAAQmB,IAAK,CACzC,IAAI2B,EAAS,MAAQ/C,UAAUoB,GAAKpB,UAAUoB,GAAK,CAAC,EACpDA,EAAI,EAAIc,EAAQxC,OAAOqD,IAAS,GAAMC,SAAQ,SAASC,GACrDC,EAAgBJ,EAAQG,EAAKF,EAAOE,GACtC,IAAKvD,OAAOyD,0BAA4BzD,OAAO0D,iBAAiBN,EAAQpD,OAAOyD,0BAA0BJ,IAAWb,EAAQxC,OAAOqD,IAASC,SAAQ,SAASC,GAC3JvD,OAAO2D,eAAeP,EAAQG,EAAKvD,OAAOgD,yBAAyBK,EAAQE,GAC7E,GACF,CACA,OAAOH,CACT,CACA,SAASQ,EAAQC,GAEf,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAASC,GAC5F,cAAcA,CAChB,EAAI,SAASA,GACX,OAAOA,GAAQ,mBAAqBF,QAAUE,EAAKC,cAAgBH,QAAUE,IAASF,OAAOrD,UAAY,gBAAkBuD,CAC7H,EAAGJ,EAAQC,EACb,CACA,SAAS,EAAgBK,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,oCAExB,CACA,SAASC,EAAkBjB,EAAQkB,GACjC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAM/D,OAAQmB,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWtB,WAAasB,EAAWtB,aAAc,EACjDsB,EAAWC,cAAe,EACtB,UAAWD,IACbA,EAAWE,UAAW,GACxBzE,OAAO2D,eAAeP,EAAQsB,EAAeH,EAAWhB,KAAMgB,EAChE,CACF,CACA,SAAS,EAAaJ,EAAaQ,EAAYC,GAQ7C,OAPID,GACFN,EAAkBF,EAAY1D,UAAWkE,GACvCC,GACFP,EAAkBF,EAAaS,GACjC5E,OAAO2D,eAAeQ,EAAa,YAAa,CAC9CM,UAAU,IAELN,CACT,CACA,SAASX,EAAgBK,EAAKN,EAAKsB,GAYjC,OAXAtB,EAAMmB,EAAenB,GACjBA,KAAOM,EACT7D,OAAO2D,eAAeE,EAAKN,EAAK,CAC9BsB,QACA5B,YAAY,EACZuB,cAAc,EACdC,UAAU,IAGZZ,EAAIN,GAAOsB,EAENhB,CACT,CACA,SAAS,EAAUiB,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIX,UAAU,sDAEtBU,EAASrE,UAAYT,OAAOgF,OAAOD,GAAcA,EAAWtE,UAAW,CACrEwD,YAAa,CACXY,MAAOC,EACPL,UAAU,EACVD,cAAc,KAGlBxE,OAAO2D,eAAemB,EAAU,YAAa,CAC3CL,UAAU,IAERM,GACFE,EAAgBH,EAAUC,EAC9B,CACA,SAASG,EAAgBC,GAIvB,OAHAD,EAAkBlF,OAAOoF,eAAiBpF,OAAOqF,eAAenF,OAAS,SAA0BoF,GACjG,OAAOA,EAAGC,WAAavF,OAAOqF,eAAeC,EAC/C,EACOJ,EAAgBC,EACzB,CACA,SAASF,EAAgBE,EAAGK,GAK1B,OAJAP,EAAkBjF,OAAOoF,eAAiBpF,OAAOoF,eAAelF,OAAS,SAA0BoF,EAAIG,GAErG,OADAH,EAAGC,UAAYE,EACRH,CACT,EACOL,EAAgBE,EAAGK,EAC5B,CACA,SAASE,IACP,GAAuB,qBAAZC,UAA4BA,QAAQC,UAC7C,OAAO,EACT,GAAID,QAAQC,UAAUC,KACpB,OAAO,EACT,GAAqB,oBAAVC,MACT,OAAO,EACT,IAGE,OAFAC,QAAQtF,UAAUuF,QAAQrF,KAAKgF,QAAQC,UAAUG,QAAS,IAAI,WAC9D,MACO,CACT,CAAE,MAAO1E,GACP,OAAO,CACT,CACF,CACA,SAAS4E,EAAuBC,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAE3B,OAAOD,CACT,CACA,SAASE,EAA2BF,EAAMvF,GACxC,GAAIA,IAAyB,kBAATA,GAAqC,oBAATA,GAC9C,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAIyD,UAAU,4DAEtB,OAAO6B,EAAuBC,EAChC,CACA,SAAS,EAAaG,GACpB,IAAIC,EAA4BZ,IAChC,OAAO,WACL,IAAsCa,EAAlCC,EAAQtB,EAAgBmB,GAC5B,GAAIC,EAA2B,CAC7B,IAAIG,EAAYvB,EAAgBrE,MAAMoD,YACtCsC,EAASZ,QAAQC,UAAUY,EAAOlG,UAAWmG,EAC/C,MACEF,EAASC,EAAM5F,MAAMC,KAAMP,WAE7B,OAAO8F,EAA2BvF,KAAM0F,EAC1C,CACF,CACA,SAASG,EAAejE,EAAQkE,GAC9B,OAAQ3G,OAAOS,UAAUC,eAAeC,KAAK8B,EAAQkE,GAEnD,GADAlE,EAASyC,EAAgBzC,GACV,OAAXA,EACF,MAEJ,OAAOA,CACT,CACA,SAASmE,IAeP,OAbEA,EADqB,qBAAZjB,SAA2BA,QAAQkB,IACrClB,QAAQkB,IAAI3G,OAEZ,SAAekD,EAAQuD,EAAUG,GACtC,IAAIC,EAAOL,EAAetD,EAAQuD,GAClC,GAAKI,EAAL,CAEA,IAAIC,EAAOhH,OAAOgD,yBAAyB+D,EAAMJ,GACjD,OAAIK,EAAKH,IACAG,EAAKH,IAAIlG,KAAKL,UAAUC,OAAS,EAAI6C,EAAS0D,GAEhDE,EAAKnC,KALJ,CAMV,EAEK+B,EAAKhG,MAAMC,KAAMP,UAC1B,CACA,SAAS2G,EAAmBC,GAC1B,OAAOC,EAAmBD,IAAQE,EAAiBF,IAAQG,EAA4BH,IAAQI,GACjG,CACA,SAASH,EAAmBD,GAC1B,GAAI9F,MAAMmG,QAAQL,GAChB,OAAOM,EAAkBN,EAC7B,CACA,SAASE,EAAiBK,GACxB,GAAsB,qBAAX3D,QAAmD,MAAzB2D,EAAK3D,OAAOC,WAA2C,MAAtB0D,EAAK,cACzE,OAAOrG,MAAMsG,KAAKD,EACtB,CACA,SAASJ,EAA4BlC,EAAGwC,GACtC,GAAKxC,EAAL,CAEA,GAAiB,kBAANA,EACT,OAAOqC,EAAkBrC,EAAGwC,GAC9B,IAAIC,EAAI5H,OAAOS,UAAUoH,SAASlH,KAAKwE,GAAG2C,MAAM,GAAI,GAGpD,MAFU,WAANF,GAAkBzC,EAAElB,cACtB2D,EAAIzC,EAAElB,YAAY8D,MACV,QAANH,GAAqB,QAANA,EACVxG,MAAMsG,KAAKvC,GACV,cAANyC,GAAqB,2CAA2CI,KAAKJ,GAChEJ,EAAkBrC,EAAGwC,QAD9B,CARQ,CAUV,CACA,SAASH,EAAkBN,EAAKe,IACnB,MAAPA,GAAeA,EAAMf,EAAI3G,UAC3B0H,EAAMf,EAAI3G,QACZ,IAAK,IAAImB,EAAI,EAAGwG,EAAO,IAAI9G,MAAM6G,GAAMvG,EAAIuG,EAAKvG,IAC9CwG,EAAKxG,GAAKwF,EAAIxF,GAChB,OAAOwG,CACT,CACA,SAASZ,IACP,MAAM,IAAIlD,UAAU,uIACtB,CACA,SAAS+D,EAAaC,EAAOC,GAC3B,GAAqB,kBAAVD,GAAgC,OAAVA,EAC/B,OAAOA,EACT,IAAIE,EAAOF,EAAMtE,OAAOyE,aACxB,QAAa,IAATD,EAAiB,CACnB,IAAIE,EAAMF,EAAK3H,KAAKyH,EAAOC,GAAQ,WACnC,GAAmB,kBAARG,EACT,OAAOA,EACT,MAAM,IAAIpE,UAAU,+CACtB,CACA,OAAiB,WAATiE,EAAoBI,OAASC,QAAQN,EAC/C,CACA,SAAS1D,EAAeiE,GACtB,IAAIpF,EAAM4E,EAAaQ,EAAK,UAC5B,MAAsB,kBAARpF,EAAmBA,EAAMkF,OAAOlF,EAChD,C,uBCtNIqF,EAAkC,qBAAXC,QAA0BA,OAAOC,UAAYD,OAAOC,SAASC,KAAK5H,QAAQ,uBAAyB,EAC1H6H,EAAQ,CACVC,KAAM,6CACNC,MAAO,yCACPC,KAAM,8CAEJC,EAAQ,eACRC,EAAW,CACbC,OAAQ,CACNC,MAAOX,EAAgB,EAAI,GAE7BY,QAAS,SAAiBC,GAExB,IADA,IAAIC,EACKC,EAAOrJ,UAAUC,OAAQqJ,EAAiB,IAAIxI,MAAMuI,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAC5GD,EAAeC,EAAO,GAAKvJ,UAAUuJ,GAEvChJ,KAAKyI,OAAOC,OAAS,IAAMG,EAAWI,SAASC,IAAInJ,MAAM8I,EAAU,CAACN,EAAOJ,EAAMC,KAAMQ,GAASnI,OAAOsI,GACzG,EACAI,QAAS,SAAiBP,GAExB,IADA,IAAIQ,EACKC,EAAQ5J,UAAUC,OAAQqJ,EAAiB,IAAIxI,MAAM8I,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAClHP,EAAeO,EAAQ,GAAK7J,UAAU6J,GAExCtJ,KAAKyI,OAAOC,OAAS,IAAMU,EAAYH,SAASX,KAAKvI,MAAMqJ,EAAW,CAACb,EAAOJ,EAAMG,KAAMM,GAASnI,OAAOsI,GAC5G,EACAQ,SAAU,SAAkBX,GAC1B,IAAIY,EACJ,KAAIxJ,KAAKyI,OAAOC,MAAQ,GAAxB,CAIA,IADA,IAAIe,EAAOzJ,KAAKyI,OAAOC,OAAS,EAAI,QAAU,QACrCgB,EAAQjK,UAAUC,OAAQqJ,EAAiB,IAAIxI,MAAMmJ,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAClHZ,EAAeY,EAAQ,GAAKlK,UAAUkK,IAEvCH,EAAYP,SAASQ,GAAM1J,MAAMyJ,EAAW,CAACjB,EAAOJ,EAAME,MAAOO,GAASnI,OAAOsI,GALlF,CAMF,GAEF,SAASa,EAAUC,GACjBA,EAAOlB,QAAUH,EAASG,QAAQtJ,KAAKwK,GACvCA,EAAOV,QAAUX,EAASW,QAAQ9J,KAAKwK,GACvCA,EAAON,SAAWf,EAASe,SAASlK,KAAKwK,EAC3C,CCxCA,IAAIC,EAAoC,WACtC,SAASC,EAAmBC,GAC1B,EAAgBhK,KAAM+J,GACtB/J,KAAKgK,aAAeA,CACtB,CAiBA,OAhBA,EAAaD,EAAoB,CAAC,CAChCrH,IAAK,QACLsB,MAAO,SAAeiG,GACpB,OAAOjK,KAAKgK,aAAaC,GAAOC,KAClC,GACC,CACDxH,IAAK,MACLsB,MAAO,SAAaiG,GAClB,OAAOjK,KAAKgK,aAAaC,GAAOE,GAClC,GACC,CACDzH,IAAK,SACLsD,IAAK,WACH,OAAOhG,KAAKgK,aAAatK,MAC3B,KAEKqK,CACT,CAtBwC,GCEpCK,EAAO,CAAC,EA8WZ,SAASC,EAAU3H,EAAK4H,GACtB,IAAK,IAAIzJ,EAAI,EAAGuG,EAAMkD,EAAK5K,OAAQmB,EAAIuG,EAAKvG,IAC1C,GAAI6B,EAAIpC,QAAQgK,EAAKzJ,KAAO,EAC1B,OAAO,EAGX,OAAO,CACT,CA+SA,SAAS0J,EAASvG,GAChB,IAAIwG,EAAOzH,EAAQiB,GACnB,OAAiB,OAAVA,IAA4B,WAATwG,GAA8B,aAATA,EACjD,CACA,SAASC,EAASC,EAAMC,EAAMC,GAC5B,IAAIC,EAAUC,EAAUC,EAASrF,EAAQsF,EAASC,EAC9CC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACTC,GAAW,EACXC,GAAUX,GAAiB,IAATA,GAAsD,oBAAjC3C,OAAOuD,sBAClD,GAAoB,oBAATb,EACT,MAAM,IAAInH,UAAU,uBAStB,SAASiI,EAAWC,GAClB,IAAIC,EAAOb,EACPc,EAAUb,EAId,OAHAD,EAAWC,OAAW,EACtBI,EAAiBO,EACjB/F,EAASgF,EAAK3K,MAAM4L,EAASD,GACtBhG,CACT,CACA,SAASkG,EAAWC,EAAaC,GAC/B,OAAIR,GACFtD,OAAO+D,qBAAqBf,GACrBhD,OAAOuD,sBAAsBM,IAE/BG,WAAWH,EAAaC,EACjC,CACA,SAASG,EAAYC,GACnB,GAAIZ,EACF,OAAOtD,OAAO+D,qBAAqBG,GAErCC,aAAaD,EACf,CACA,SAASE,EAAYX,GAGnB,OAFAP,EAAiBO,EACjBT,EAAUY,EAAWS,EAAc1B,GAC5BQ,EAAUK,EAAWC,GAAQ/F,CACtC,CACA,SAAS4G,EAAcb,GACrB,IAAIc,EAAoBd,EAAOR,EAC3BuB,EAAsBf,EAAOP,EAC7BuB,EAAc9B,EAAO4B,EACzB,OAAOnB,EAASsB,KAAKC,IAAIF,EAAa1B,EAAUyB,GAAuBC,CACzE,CACA,SAASG,EAAanB,GACpB,IAAIc,EAAoBd,EAAOR,EAC3BuB,EAAsBf,EAAOP,EACjC,YAAwB,IAAjBD,GAA2BsB,GAAqB5B,GAAQ4B,EAAoB,GAAKnB,GAAUoB,GAAuBzB,CAC3H,CACA,SAASsB,IACP,IAAIZ,EAAOoB,KAAKC,MAChB,GAAIF,EAAanB,GACf,OAAOsB,EAAatB,GAEtBT,EAAUY,EAAWS,EAAcC,EAAcb,GACnD,CACA,SAASsB,EAAatB,GAEpB,OADAT,OAAU,EACNK,GAAYR,EACPW,EAAWC,IAEpBZ,EAAWC,OAAW,EACfpF,EACT,CACA,SAASsH,SACS,IAAZhC,GACFiB,EAAYjB,GAEdE,EAAiB,EACjBL,EAAWI,EAAeH,EAAWE,OAAU,CACjD,CACA,SAASiC,IACP,YAAmB,IAAZjC,EAAqBtF,EAASqH,EAAaF,KAAKC,MACzD,CACA,SAASI,IACP,YAAmB,IAAZlC,CACT,CACA,SAASmC,IAGP,IAFA,IAAI1B,EAAOoB,KAAKC,MACZM,EAAaR,EAAanB,GACrBpC,EAAQ5J,UAAUC,OAAQgM,EAAO,IAAInL,MAAM8I,GAAQL,EAAO,EAAGA,EAAOK,EAAOL,IAClF0C,EAAK1C,GAAQvJ,UAAUuJ,GAKzB,GAHA6B,EAAWa,EACXZ,EAAW9K,KACXiL,EAAeQ,EACX2B,EAAY,CACd,QAAgB,IAAZpC,EACF,OAAOoB,EAAYnB,GAErB,GAAIG,EAEF,OADAJ,EAAUY,EAAWS,EAAc1B,GAC5Ba,EAAWP,EAEtB,CAIA,YAHgB,IAAZD,IACFA,EAAUY,EAAWS,EAAc1B,IAE9BjF,CACT,CAIA,OAlGAiF,GAAQA,GAAQ,EACZJ,EAASK,KACXO,IAAYP,EAAQO,QACpBC,EAAS,YAAaR,EACtBG,EAAUK,EAASsB,KAAKW,KAAKzC,EAAQG,SAAW,EAAGJ,GAAQI,EAC3DM,EAAW,aAAcT,IAAYA,EAAQS,SAAWA,GA0F1D8B,EAAUH,OAASA,EACnBG,EAAUF,MAAQA,EAClBE,EAAUD,QAAUA,EACbC,CACT,CACA,SAASG,EAAS5C,EAAMC,EAAMC,GAC5B,IAAIO,GAAU,EACVE,GAAW,EACf,GAAoB,oBAATX,EACT,MAAM,IAAInH,UAAU,uBAMtB,OAJIgH,EAASK,KACXO,EAAU,YAAaP,IAAYA,EAAQO,QAAUA,EACrDE,EAAW,aAAcT,IAAYA,EAAQS,SAAWA,GAEnDZ,EAASC,EAAMC,EAAM,CAC1BQ,UACAE,WACAN,QAASJ,GAEb,CACA,SAAS4C,IACP,IAAIC,GAAQC,SAASC,gBAAgBC,aAAa,SAAWC,UAAUC,UAAY,SAASC,oBAI5F,MAHa,UAATN,IACFA,EAAO,MAEFA,CACT,CACA,SAASO,EAAoBC,EAASC,EAAUvL,GAC9C,GAAKsL,EAAL,CAGA,IAAIE,EAAMF,EAAQL,aAAajL,GAC/B,SAAIwL,GAAOA,IAAQD,GAAiC,UAApBD,EAAQG,SAA2C,UAApBH,EAAQG,QAFvE,CAMF,CArzBA/D,EAAKgE,UAAY,WACf,IAAIC,EAAK5O,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,MACtE6O,EAAM7O,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GACvE4B,EAAQ5B,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC1E8O,EAAQ9O,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GACzE+O,EAAMf,SAASgB,cAAcJ,GAcjC,OAbAG,EAAIE,UAAYH,EAChBC,EAAIG,UAAYL,EAChBnP,OAAO2C,KAAKT,GAAOoB,SAAQ,SAASmM,GAClC,IAAIlM,EAAMkM,EACN5K,EAAQ3C,EAAMuN,GACP,UAAPP,GAAyB,UAAPA,GAAyB,eAAPA,EAClCrK,GACFwK,EAAIK,aAAanM,EAAKsB,GAGxBwK,EAAIK,aAAanM,EAAKsB,EAE1B,IACOwK,CACT,EACApE,EAAK0E,kBAAoB,SAASC,GAChC,IAAI1N,EAAQ5B,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC1EuP,EAAYvP,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GACjF,IACE,IAAIwP,EAAMxB,SAASgB,cAAc,OACjCQ,EAAIN,UAAYI,EAChB,IAAIP,EAAMS,EAAIC,SAEd,OADAD,EAAM,KACFT,EAAI9O,OAAS,GACf8O,EAAMA,EAAI,GACVQ,GAAa5E,EAAK+E,SAASX,EAAKQ,GAC5B3N,GACFlC,OAAO2C,KAAKT,GAAOoB,SAAQ,SAASC,GAClC8L,EAAIK,aAAanM,EAAKrB,EAAMqB,GAC9B,IAEK8L,GAEF,IACT,CAAE,MAAOY,GAEP,OADA5G,EAASe,SAAS,yBAA0B6F,GACrC,IACT,CACF,EACAhF,EAAKiF,SAAW,SAAShB,EAAIK,GAC3B,IAAKL,IAAOK,EACV,OAAO,EAET,IACE,OAAOnO,MAAMX,UAAU0P,KAAKxP,KAAKuO,EAAGkB,WAAW,SAASX,GACtD,OAAOA,IAASF,CAClB,GACF,CAAE,MAAOlO,GACP,IAAIgP,EAAenB,EAAGK,WAAuC,WAA1B3L,EAAQsL,EAAGK,WAA0BL,EAAGV,aAAa,SAAWU,EAAGK,UACtG,OAAOc,KAAkBA,EAAaC,MAAM,IAAIC,OAAO,UAAYhB,EAAY,WACjF,CACF,EACAtE,EAAK+E,SAAW,SAASd,EAAIK,GAC3B,GAAKL,GAAOK,EAGZ,IACEA,EAAUiB,QAAQ,eAAgB,IAAIC,MAAM,QAAQnN,SAAQ,SAASmM,GACnEA,GAAQP,EAAGkB,UAAUM,IAAIjB,EAC3B,GACF,CAAE,MAAOpO,GACF4J,EAAKiF,SAAShB,EAAIK,KACjBL,EAAGK,WAAuC,WAA1B3L,EAAQsL,EAAGK,WAC7BL,EAAGQ,aAAa,QAASR,EAAGV,aAAa,SAAW,IAAMe,GAE1DL,EAAGK,WAAa,IAAMA,EAG5B,CACF,EACAtE,EAAK0F,YAAc,SAASzB,EAAIK,GAC9B,GAAKL,GAAOK,EAGZ,IACEA,EAAUiB,QAAQ,eAAgB,IAAIC,MAAM,QAAQnN,SAAQ,SAASmM,GACnEA,GAAQP,EAAGkB,UAAUQ,OAAOnB,EAC9B,GACF,CAAE,MAAOpO,GACH4J,EAAKiF,SAAShB,EAAIK,IACpBA,EAAUkB,MAAM,QAAQnN,SAAQ,SAASmM,GACvC,IAAIoB,EAAM,IAAIN,OAAO,UAAYd,EAAO,WACpCP,EAAGK,WAAuC,WAA1B3L,EAAQsL,EAAGK,WAC7BL,EAAGQ,aAAa,QAASR,EAAGV,aAAa,SAASgC,QAAQK,EAAK,MAE/D3B,EAAGK,UAAYL,EAAGK,UAAUiB,QAAQK,EAAK,IAE7C,GAEJ,CACF,EACA5F,EAAK6F,YAAc,SAAS5B,EAAIK,GACzBL,GAGLK,EAAUkB,MAAM,QAAQnN,SAAQ,SAASmM,GACnCxE,EAAKiF,SAAShB,EAAIO,GACpBxE,EAAK0F,YAAYzB,EAAIO,GAErBxE,EAAK+E,SAASd,EAAIO,EAEtB,GACF,EACAxE,EAAK8F,WAAa,WAchB,IAbA,IAAIC,EAAa1Q,UACbuP,EAAY,GACZoB,EAAQ,SAAgBC,GACU,WAAhCjG,EAAKkG,OAAOH,EAAWE,IACzBrB,EAAU3M,KAAK8N,EAAWE,IACe,WAAhCjG,EAAKkG,OAAOH,EAAWE,KAChClR,OAAO2C,KAAKqO,EAAWE,IAAKE,KAAI,SAAS7N,GACnCyN,EAAWE,GAAI3N,IACjBsM,EAAU3M,KAAKK,EAEnB,GAEJ,EACS7B,EAAI,EAAGA,EAAIpB,UAAUC,OAAQmB,IACpCuP,EAAMvP,GAER,OAAOmO,EAAUwB,KAAK,IACxB,EACApG,EAAKqG,QAAU,WACb,IAEIjC,EAFAH,EAAK5O,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAKgO,SACtEiD,EAAMjR,UAAUC,OAAS,EAAID,UAAU,QAAK,EAEhD,IACE+O,EAAMH,EAAGsC,cAAcD,EACzB,CAAE,MAAOlQ,GACPgI,EAASe,SAAS,eAAgB/I,GACT,IAArBkQ,EAAIpQ,QAAQ,OACdkO,EAAMH,EAAGuC,eAAeF,EAAIzJ,MAAM,IAEtC,CACA,OAAOuH,CACT,EACApE,EAAKyG,OAAS,SAASrC,EAAK9L,GAC1B,OAAO8L,EAAIsC,aAAetC,EAAIsC,aAAapO,GAAO+K,SAASsD,YAAYC,iBAAiBxC,GAAK,GAAO9L,EACtG,EACA0H,EAAK6G,SAAW,SAASC,EAAKxR,EAAQyR,GACpC,IAAIC,EAAUxJ,OAAOuJ,GACjB/J,EAAM1H,GAAU,EAChB2R,EAAS3E,KAAK4E,KAAKlK,EAAMgK,EAAQ1R,QACjC6R,EAAQ,GACRC,EAAI5J,OAAOsJ,GACf,MAAOG,IACLE,EAAMlP,KAAK+O,GAEb,OAAOG,EAAMf,KAAK,IAAIiB,UAAU,EAAGrK,EAAMoK,EAAE9R,QAAU8R,CACvD,EACApH,EAAKsH,OAAS,SAASjG,GACrB,GAAIzD,OAAO2J,MAAMlG,GACf,MAAO,GAETA,EAAOiB,KAAKkF,MAAMnG,GAClB,IAAIoG,EAAOzH,EAAK6G,SAASvE,KAAKoF,MAAMrG,EAAO,MAAO,EAAG,GACjDsG,EAAS3H,EAAK6G,SAASvE,KAAKoF,OAAOrG,EAAc,KAAPoG,GAAe,IAAK,EAAG,GACjEG,EAAS5H,EAAK6G,SAASvE,KAAKoF,MAAMrG,EAAc,KAAPoG,EAAuB,GAATE,GAAc,EAAG,GAC5E,OAAiB,OAATF,EAAgB,CAACE,EAAQC,GAAU,CAACH,EAAME,EAAQC,IAASxB,KAAK,IAC1E,EACApG,EAAK6H,MAAQ,SAASzR,GACpB,GAAIA,EAAE0R,QAAS,CACb,IAAIC,EAAQ3R,EAAE0R,QAAQ,IAAM1R,EAAE4R,eAAe,GAC7C5R,EAAE6R,QAAUF,EAAME,SAAW,EAC7B7R,EAAE8R,QAAUH,EAAMG,SAAW,EAC7B9R,EAAE+R,QAAUJ,EAAMK,MAAQL,EAAM5P,OAAOkQ,WACvCjS,EAAEkS,QAAUP,EAAMQ,MAAQR,EAAM5P,OAAOqQ,SACzC,CACApS,EAAEqS,QAAUrS,EAAE+B,QAAU/B,EAAEsS,UAC5B,EACA1I,EAAKkG,OAAS,SAAStN,GACrB,OAAO7D,OAAOS,UAAUoH,SAASlH,KAAKkD,GAAKyM,MAAM,qBAAqB,EACxE,EACArF,EAAK2I,SAAW,SAASC,EAAKC,GAC5B,GAAyB,WAArB7I,EAAKkG,OAAO2C,IAA0C,WAArB7I,EAAKkG,OAAO0C,GAc/C,OAbA7T,OAAO2C,KAAKmR,GAAKxQ,SAAQ,SAASC,GACF,WAA1B0H,EAAKkG,OAAO2C,EAAIvQ,KAAwBuQ,EAAIvQ,aAAgBwQ,KAM3B,UAA1B9I,EAAKkG,OAAO2C,EAAIvQ,IACzBsQ,EAAItQ,GAAiC,UAA1B0H,EAAKkG,OAAO0C,EAAItQ,IAAoBsQ,EAAItQ,GAAKjC,OAAOwS,EAAIvQ,IAAQuQ,EAAIvQ,GAE/EsQ,EAAItQ,GAAOuQ,EAAIvQ,QARE,IAAbsQ,EAAItQ,SAAgC,IAAbsQ,EAAItQ,GAC7BsQ,EAAItQ,GAAOuQ,EAAIvQ,GAEf0H,EAAK2I,SAASC,EAAItQ,GAAMuQ,EAAIvQ,GAOlC,IACOsQ,CAEX,EACA5I,EAAK+I,UAAY,SAASH,EAAKC,GAa7B,OAZA9T,OAAO2C,KAAKmR,GAAK1C,KAAI,SAAS7N,GAGxB,IAAI0Q,EAFsB,UAA1BhJ,EAAKkG,OAAO2C,EAAIvQ,KAA+C,UAA1B0H,EAAKkG,OAAO0C,EAAItQ,IACzB,UAA1B0H,EAAKkG,OAAO0C,EAAItQ,MAEjB0Q,EAAWJ,EAAItQ,IAAML,KAAKtC,MAAMqT,EAAUhN,EAAmB6M,EAAIvQ,KAE3D0H,EAAKkG,OAAO0C,EAAItQ,MAAU0H,EAAKkG,OAAO2C,EAAIvQ,KAAsB,OAAbsQ,EAAItQ,IAA2C,WAA1B0H,EAAKkG,OAAO0C,EAAItQ,KAAwBuQ,EAAIvQ,aAAgBsF,OAAOkL,KAGvI,OAAbD,EAAIvQ,KAAkBsQ,EAAItQ,GAAOuQ,EAAIvQ,IAFrC0H,EAAK+I,UAAUH,EAAItQ,GAAMuQ,EAAIvQ,GAIjC,IACOsQ,CACT,EACA5I,EAAKiJ,WAAa,SAAShF,GACzB,IAAIiF,GAAOjF,EAAGyC,cAAgB9I,OAAOgJ,iBAAiB3C,EAAI,OAAOkF,gBACjE,IAAKD,GAAe,SAARA,EACV,MAAO,GAET,IAAIhU,EAAImO,SAASgB,cAAc,KAE/B,OADAnP,EAAE4I,KAAOoL,EAAI3D,QAAQ,cAAe,IAC7BrQ,EAAE4I,IACX,EACAkC,EAAKoJ,QAAU,SAAShF,GACtB,GAAIA,GAAwB,IAAjBA,EAAIiF,SAAgB,CAC7B,IAAIC,EAAOjG,SAASgB,cAAcD,EAAIL,SAOtC,OANA5N,MAAMX,UAAU6C,QAAQ3C,KAAK0O,EAAImF,YAAY,SAASC,GACpDF,EAAK7E,aAAa+E,EAAK1M,KAAM0M,EAAK5P,MACpC,IACIwK,EAAIG,YACN+E,EAAK/E,UAAYH,EAAIG,WAEhB+E,CACT,CACE,MAAO,EAEX,EACAtJ,EAAKyJ,YAAc,SAASC,EAASC,EAAWC,EAAcC,GACvDH,EAAQI,UAAUH,KACrBD,EAAQI,UAAUH,GAAa/L,OAAO6L,YAAYG,EAAa3U,KAAKyU,GAAUG,GAElF,EACA7J,EAAK+J,cAAgB,SAASL,EAASC,GACrCI,cAAcL,EAAQI,UAAUH,IAChCD,EAAQI,UAAUH,GAAa,IACjC,EACA3J,EAAK4B,WAAa,SAAS8H,EAASM,EAAK3I,GAClCqI,EAAQO,UACXP,EAAQO,QAAU,IAEpB,IAAInI,EAAKF,YAAW,WAClBoI,IACAhK,EAAK+B,aAAa2H,EAAS5H,EAC7B,GAAGT,GAEH,OADAqI,EAAQO,QAAQhS,KAAK6J,GACdA,CACT,EACA9B,EAAK+B,aAAe,SAAS2H,EAAS5H,GACpC,IAAImI,EAAUP,EAAQO,QACtB,GAA6B,UAAzBjK,EAAKkG,OAAO+D,IACd,IAAK,IAAIxT,EAAI,EAAGA,EAAIwT,EAAQ3U,OAAQmB,IAClC,GAAIwT,EAAQxT,KAAOqL,EAAI,CACrBmI,EAAQC,OAAOzT,EAAG,GAClBsL,aAAaD,GACb,KACF,OAGFC,aAAaD,EAEjB,EACA9B,EAAKmK,eAAiB,SAAST,GAC7B,IAAIO,EAAUP,EAAQO,QACO,UAAzBjK,EAAKkG,OAAO+D,KACdA,EAAQ9D,KAAI,SAAS3B,GACnBzC,aAAayC,EACf,IACAkF,EAAQU,UAAY,GAExB,EACApK,EAAKqK,aAAe,SAASvN,EAAMwN,EAAQC,EAAOC,GAChD,IAGMC,EAAGjU,EAAGkU,EAHRC,EAAM3K,EAAKgE,UAAU,MAAM3N,OAAOyG,GAAO,GAAI,CAAC,EAAG,YAAYzG,OAAOyG,EAAM,UAC9E6N,EAAIC,MAAMzB,gBAAkB,QAAQ9S,OAAOiU,EAAQ,MAC/CC,GAASC,KAEX,CAAC,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAKK,OAAM,SAASrG,GACpE,QAAI+F,EAAMrU,QAAQsO,IAAS,GAAKgG,EAAOtU,QAAQsO,IAAS,KACtDiG,EAAIK,WAAWP,EAAM1N,MAAM,EAAG0N,EAAMrU,QAAQsO,IAAOuG,QACnDvU,EAAIsU,WAAWN,EAAO3N,MAAM,EAAG2N,EAAOtU,QAAQsO,IAAOuG,QACrDL,EAAOlG,GACA,EAIX,IACAmG,EAAIC,MAAML,MAAQ,GAAGlU,OAAOoU,GAAGpU,OAAOqU,GACtCC,EAAIC,MAAMJ,OAAS,GAAGnU,OAAOG,GAAGH,OAAOqU,GACvCC,EAAIC,MAAMI,eAAiB,GAAG3U,OAAOoU,GAAGpU,OAAOqU,EAAM,KAAKrU,OAAOG,GAAGH,OAAOqU,GAEzEC,EAAIC,MAAMK,OADC,UAATnO,EACiB,IAAIzG,OAAOG,EAAI,GAAGH,OAAOqU,EAAM,gBAAgBrU,OAAOoU,EAAI,GAAGpU,OAAOqU,GAEpE,qBAGvB,OAAOC,CACT,EACA3K,EAAKkL,SAAW,SAASC,EAAKC,GAC5B,IAAIC,EAAM,GACV,GAAI,mBAAmBtO,KAAKoO,GAAM,CAChC,IAAIG,EAAS,IACbH,EAAI5F,QAAQ,cAAc,SAASgG,GACjCD,GAAUC,EAAKA,CACjB,IACAJ,EAAMG,CACR,CACA,MAAI,kBAAkBvO,KAAKoO,IACzBA,EAAI5F,QAAQ,iBAAiB,SAASgG,GACpCF,EAAIpT,KAAKuT,SAASD,EAAI,IACxB,IACO,QAAQlV,OAAOgV,EAAIjF,KAAK,KAAM,MAAM/P,OAAO+U,EAAO,MAElD,0BAEX,EACApL,EAAKyL,gBAAkB,WACrB,OAAOpI,SAASqI,mBAAqBrI,SAASsI,yBAA2BtI,SAASuI,sBAAwBvI,SAASwI,mBACrH,EACA7L,EAAK8L,gBAAkB,SAAS9B,GAC9B,OAAOA,GAAsB,oBAARA,CACvB,EACAhK,EAAK+L,cAAgB,SAASnT,GAC5B,OAAe,OAARA,GAAiC,WAAjBD,EAAQC,EACjC,EACAoH,EAAKgM,KAAO,SAAS5H,GACnBA,EAAIwG,MAAMqB,QAAU,MACtB,EACAjM,EAAKkM,KAAO,SAAS9H,EAAK6H,GACxB7H,EAAIwG,MAAMqB,QAAUA,GAAW,OACjC,EACAjM,EAAKmM,YAAc,SAASC,GAC1B,GAAmB,qBAARA,GAA+B,OAARA,EAChC,OAAO,CAEX,EACApM,EAAKqM,UAAY,SAASD,GACxB,aAAiB,IAARA,GAA0B,OAARA,EAC7B,EACApM,EAAKsM,oBAAsB,SAASlI,EAAKmI,GACvC,GAAKA,EAGL,GAA0B,WAAtBvM,EAAKkG,OAAOqG,GAAoB,CAClC,IAAIC,EAAWD,EAAKhH,QAAQ,OAAQ,IAAIC,MAAM,KAC9CgH,EAASrG,KAAI,SAAS3B,GACpB,GAAIA,EAAM,CACR,IAAIvI,EAAMuI,EAAKgB,MAAM,KACjBvJ,EAAI3G,OAAS,IACf8O,EAAIwG,MAAM3O,EAAI,IAAMA,EAAI,GAE5B,CACF,GACF,MACElH,OAAO2C,KAAK6U,GAAMpG,KAAI,SAAS7N,GAC7B8L,EAAIwG,MAAMtS,GAAOiU,EAAKjU,EACxB,GAEJ,EASA0H,EAAKyM,oBAAsB,SAASrI,GAClC,IAAIlE,EAAO7K,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,QAAS,SAAU,MAAO,OAAQ,SAAU,QAAS,WAAY,UAAW,UAAW,SAAU,aAC1KqX,EAAWtI,EAAIwG,MAAM+B,QACzB,IAAKD,EACH,MAAO,CAAC,EAEV,IAAIF,EAAWE,EAASnH,QAAQ,OAAQ,IAAIC,MAAM,KAC9CoH,EAAM,CAAC,EACPC,EAAS,CAAC,EAiBd,OAhBAL,EAASrG,KAAI,SAAS3B,GACpB,GAAIA,EAAM,CACR,IAAIvI,EAAMuI,EAAKgB,MAAM,KACjBvJ,EAAI3G,OAAS,IACX2K,EAAUhE,EAAI,GAAIiE,GACpB0M,EAAI3Q,EAAI,IAAMA,EAAI,GAElB4Q,EAAO5Q,EAAI,IAAMA,EAAI,GAG3B,CACF,IACAmI,EAAIK,aAAa,QAAS,IAC1B1P,OAAO2C,KAAKmV,GAAQ1G,KAAI,SAAS7N,GAC/B8L,EAAIwG,MAAMtS,GAAOuU,EAAOvU,EAC1B,IACOsU,CACT,EACA5M,EAAK8M,oBAAsB,SAAS1I,GAClC,IAAIsI,EAAWtI,EAAIwG,MAAM+B,QACzB,IAAKD,EACH,MAAO,CAAC,EAEV,IAAIF,EAAWE,EAASnH,QAAQ,OAAQ,IAAIC,MAAM,KAC9CoH,EAAM,CAAC,EASX,OARAJ,EAASrG,KAAI,SAAS3B,GACpB,GAAIA,EAAM,CACR,IAAIvI,EAAMuI,EAAKgB,MAAM,KACjBvJ,EAAI3G,OAAS,IACfsX,EAAI3Q,EAAI,IAAMA,EAAI,GAEtB,CACF,IACO2Q,CACT,EACA5M,EAAK+M,WAAa,SAAS7D,GACzB,IAAI8D,EAAS3X,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,WAC9E,EACI4X,EAAU5X,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,WAC/E,EACA,GAAK6T,EAAL,CAGA,IAAIgE,EAAM,IAAItP,OAAOuP,MACrBD,EAAIF,OAAS,SAAS5W,GACpB8W,EAAM,KACNF,GAAUA,EAAO5W,EACnB,EACA8W,EAAID,QAAU,SAAS7W,GACrB8W,EAAM,KACND,GAAWA,EAAQ7W,EACrB,EACA8W,EAAIrE,IAAMK,CAVV,CAWF,EACAlJ,EAAKoN,gBAAkB,SAAShX,GAC1BA,GACFA,EAAEgX,iBAEN,EACApN,EAAKqN,UAAY,WACf,OAAOzP,OAAO0P,aAAejK,SAASC,gBAAgB+J,WAAahK,SAASkK,KAAKF,WAAa,CAChG,EACArN,EAAKwN,WAAa,WAChB,OAAO5P,OAAO6P,aAAepK,SAASC,gBAAgBkK,YAAcnK,SAASkK,KAAKC,YAAc,CAClG,EACAxN,EAAK0N,kBAAoB,WACvB,MAAO,iBAAkB9P,MAC3B,EACAoC,EAAK2N,aAAe,SAASC,GAG3B,IAFA,IAAIC,EAAkBxY,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GACnFyY,EAAW,GACNrX,EAAI,EAAGA,EAAImX,EAAUtY,OAAQmB,IACpCqX,EAAS7V,KAAK,CACZ6H,MAAO8N,EAAU9N,MAAMrJ,GAAK,GAAM,EAAImX,EAAU9N,MAAMrJ,GACtDsJ,IAAK6N,EAAU7N,IAAItJ,KAGvBqX,EAASC,MAAK,SAAS7Y,EAAGC,GACxB,IAAI6Y,EAAO9Y,EAAE4K,MAAQ3K,EAAE2K,MACvB,OAAIkO,GAGK7Y,EAAE4K,IAAM7K,EAAE6K,GAErB,IACA,IAAIkO,EAAY,GAChB,GAAIJ,EACF,IAAK,IAAIK,EAAK,EAAGA,EAAKJ,EAASxY,OAAQ4Y,IAAM,CAC3C,IAAIC,EAAUF,EAAU3Y,OACxB,GAAI6Y,EAAS,CACX,IAAIC,EAAUH,EAAUE,EAAU,GAAGpO,IACjC+N,EAASI,GAAIpO,MAAQsO,EAAUP,EAC7BC,EAASI,GAAInO,IAAMqO,IACrBH,EAAUE,EAAU,GAAGpO,IAAM+N,EAASI,GAAInO,KAG5CkO,EAAUhW,KAAK6V,EAASI,GAE5B,MACED,EAAUhW,KAAK6V,EAASI,GAE5B,MAEAD,EAAYH,EAEd,OAAO,IAAIpO,EAAkBuO,EAC/B,EACAjO,EAAKqO,YAAc,SAASjY,GAC1B,IAAIkY,EAAOjZ,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAI5E,OAHIe,EAAE0R,SAAW1R,EAAE0R,QAAQxS,OAAS,IAClCc,EAAIA,EAAE0R,QAAQ,IAET,CACLyG,EAAGnY,EAAEmY,EAAID,EACTE,EAAGpY,EAAEoY,EAAIF,EACTrG,QAAS7R,EAAE6R,QAAUqG,EACrBpG,QAAS9R,EAAE8R,QAAUoG,EACrBnG,QAAS/R,EAAE+R,QAAUmG,EACrBhG,QAASlS,EAAEkS,QAAUgG,EACrBlG,MAAOhS,EAAEgS,MAAQkG,EACjB/F,MAAOnS,EAAEmS,MAAQ+F,EAErB,EACAtO,EAAKmB,sBAAwB,SAASsN,GACpC,IAAIpP,EAAOzB,OAAOuD,uBAAyBvD,OAAO8Q,6BAA+B9Q,OAAO+Q,0BAA4B/Q,OAAOgR,wBAA0BhR,OAAOiR,wBAC5J,GAAIxP,EACF,OAAOA,EAAKoP,EAEhB,EACAzO,EAAK8O,eAAiB,SAAS5F,GAC7B,GAAyB,WAArBlJ,EAAKkG,OAAOgD,GACd,MAAO,GAET,IAAI6F,EAAU7F,EAAI1D,MAAM,KACpBwJ,EAAS,GAIb,OAHID,EAAQzZ,OAAS,GAAKyZ,EAAQ,KAChCC,EAASD,EAAQ,IAEZC,CACT,EACAhP,EAAK2B,qBAAuB,SAASsN,GACnC,IAAI5P,EAAOzB,OAAO+D,sBAAwB/D,OAAOsR,yBAA2BtR,OAAOuR,4BACnF9P,GAAQA,EAAK4P,EACf,EACAjP,EAAKoP,MAAQ,SAASC,GACpB,SAAKA,GAAWA,aAAiBC,oBAG1B,QAAQvS,KAAKsS,EAAME,aAAe,QAAQxS,KAAKsS,EAAMxG,KAC9D,EACA7I,EAAKwP,OAAS,SAAStG,GACrB,MAAsB,kBAARA,GAAoB,QAAQnM,KAAKmM,EACjD,EACAlJ,EAAKyP,kBAAoB,WACvB,IAAIC,EAAMra,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACvEE,GAAI,IAAIkN,MAAOkN,UACnB,IACED,EAAMlE,SAASkE,EACjB,CAAE,MAAOtZ,GACPsZ,EAAM,CACR,CACAna,GAAKma,EACD9R,OAAOgS,aAAiD,oBAA3BhS,OAAOgS,YAAYlN,MAClDnN,GAAKiW,SAAS5N,OAAOgS,YAAYlN,QAEnC,IAAImN,EAAO,uCAAuCtK,QAAQ,SAAS,SAASnQ,GAC1E,IAAIgS,GAAK7R,EAAoB,GAAhB+M,KAAKwN,UAAiB,GAAK,EAExC,OADAva,EAAI+M,KAAKoF,MAAMnS,EAAI,KACL,MAANH,EAAYgS,EAAQ,EAAJA,EAAQ,GAAGxK,SAAS,GAC9C,IACA,OAAOiT,CACT,EACA7P,EAAK+P,YAAc,SAASpG,GAC1B,IAAI9B,EAOJ,MAN4B,oBAAjBjK,OAAOoS,MAChBnI,EAAQ,IAAImI,MAAMrG,IAElB9B,EAAQxE,SAAS0M,YAAY,SAC7BlI,EAAMoI,UAAUtG,GAAW,GAAM,IAE5B9B,CACT,EACA7H,EAAKkQ,qBAAuB,SAAS7O,EAAM8O,EAAUC,GACnD,OAAKD,GAAa9O,IAGdA,EAAO8O,GAAYC,GAAW/O,EAAO8O,GAChCA,EAHA9O,CAMX,EACArB,EAAKqQ,kBAAoB,SAAS/L,EAAWgM,GAC3C,IAAIlM,EAAMpE,EAAKgE,UAAU,SAAU,GAAI,CACrC,cAAe,GACdM,GAEH,OADAgM,EAAKC,YAAYnM,GACVA,CACT,EACApE,EAAKwQ,kBAAoB,WACvB,IAAIC,EAAMpb,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CACzEkZ,EAAG,EACHC,EAAG,EACHkC,MAAO,EACPC,OAAQ,GAENC,EAAiBvb,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAClFwb,EAAS,CACXH,MAAO,GAAGra,OAAOoa,EAAIC,OAAS,GAC9BI,UAAW,GAAGza,OAAOoa,EAAIlC,GAAK,EAAG,OAAOlY,OAAOoa,EAAIjC,GAAK,EAAG,KAC3DmC,OAAQ,GAAGta,OAAOoa,EAAIE,QAAU,EAAG,QAEjCI,EAAahc,OAAO2C,KAAKmZ,GAW7B,OAVAE,EAAW1Y,SAAQ,SAASC,GAC1B,IAAIsN,EAAM,IAAIN,OAAO,GAAGjP,OAAOiC,EAAK,iBAAkB,KAClD0Y,EAAK,GAAG3a,OAAOiC,EAAK,KAAKjC,OAAOwa,EAAOvY,GAAM,KAC7CsN,EAAI7I,KAAK6T,IACXhL,EAAIqL,WAAa,EACjBL,EAAiBA,EAAerL,QAAQK,EAAKoL,IAE7CJ,GAAkB,GAAGva,OAAO2a,EAAI,IAEpC,IACOJ,CACT,EACA5Q,EAAKkR,WAAa,SAAS9E,GACzB,OAAI9J,KAAK6O,IAAI/E,IAAQ,EACN,IAANA,EAEFA,EAAM,GACf,EACApM,EAAKoR,eAAiB,SAAS/P,EAAMgQ,GACnC,IAAI3S,EAAO2S,EAAS/b,OAChBgc,GAAU,EACd,GAAI5S,EAAO,EACT,OAAO4S,EAET,GAAIjQ,GAAQgQ,EAAS,GAAGtR,KAAOrB,EAAO,EACpC4S,EAAS,OACJ,GAAIjQ,EAAOgQ,EAAS3S,EAAO,GAAGqB,IACnCuR,EAAS5S,EAAO,OAEhB,IAAK,IAAIjI,EAAI,EAAGA,EAAIiI,EAAMjI,IACxB,GAAI4K,EAAOgQ,EAAS5a,EAAI,GAAGsJ,KAAOsB,GAAQgQ,EAAS5a,GAAGsJ,IAAK,CACzDuR,EAAS7a,EACT,KACF,CAGJ,OAAO6a,CACT,EACAtR,EAAKuR,qBAAuB,SAASC,EAAaH,GAChD,IAAIxR,EAAQxK,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,IAAM,EAC1Eic,GAAU,EAMd,GAJEA,EADEzR,GAAS,GAAKA,EAAQwR,EAAS/b,OACxBuK,EAEAG,EAAKoR,eAAeI,EAAaH,GAExCC,EAAS,EACX,OAAQ,EAEV,IAAI5S,EAAO2S,EAAS/b,OAChBmc,EAAmBJ,EAASC,GAASxR,EAAQ2R,EAAiB3R,MAAOC,EAAM0R,EAAiB1R,IAAK2R,EAAQD,EAAiBC,MAAOC,EAASF,EAAiBE,OAC/J,OAAIH,EAAc1R,EACT4R,EACEF,GAAe1R,GAAS0R,GAAezR,EACzCyR,EAAcG,EACZH,EAAczR,GAAOuR,GAAU5S,EAAO,EACxCqB,GAED,CACV,EACAC,EAAK4R,uBAAyB,SAASC,EAAYR,GACjD,IAAIC,GAAU,EACd,IAAKD,GAAYA,EAAS/b,OAAS,EACjC,OAAOuc,EAET,IAAK,IAAIpb,EAAI,EAAGA,EAAI4a,EAAS/b,OAAQmB,IACnC,GAAIob,GAAcR,EAAS5a,GAAG0Z,SAAU,CACtCmB,EAAS7a,EACT,KACF,CAEF,IAAgB,IAAZ6a,EAAe,CACjB,IAAIxR,EAAQuR,EAASC,GAAQxR,MAC7B,OAAIwR,EAAS,EAAI,EACRxR,EAAQ+R,EAER/R,GAAS+R,EAAaR,EAASC,EAAS,GAAGnB,SAEtD,CACA,OAAO0B,CACT,ECtqBA,IAAIC,EAAc,CAChBC,QAAS,sBACTC,IAAK,uBAEHC,EAAiB,CAAC,yBAA0B,yBAA0B,yBAA0B,yBAA0B,cAAe,YAAa,yBAA0B,yBAA0B,yBAA0B,yBAA0B,uBAAwB,0BACtRC,EAAU,CACZ,UAAIC,GACF,IAAI/K,EAAI8K,EAAQE,GAChB,OAAOhL,EAAEiL,KAAO,KAAO,QACzB,EACA,WAAIC,GACF,GAAyB,qBAAd9O,UACT,MAAO,GAET,IAAI+O,EAAK/O,UAAUgP,UAAUC,cACzB7M,EAAM,CACR8M,GAAI,2BACJC,QAAS,oBACTC,OAAQ,mBACRC,MAAO,iBACPC,OAAQ,6BAEV,MAAO,GAAGzc,OAAOtB,OAAO2C,KAAKkO,GAAK/N,QAAO,SAASS,GAChD,OAAOsN,EAAItN,GAAKyE,KAAKwV,EACvB,KAAI,EACN,EACA,MAAIH,GACF,GAAyB,qBAAd5O,UACT,MAAO,CAAC,EAEV,IAAI+O,EAAK/O,UAAUgP,UACfO,EAAiB,oBAAoBhW,KAAKwV,GAC1CS,EAAY,gBAAgBjW,KAAKwV,IAAOQ,EACxCE,EAAY,cAAclW,KAAKwV,GAC/BW,EAAY,cAAcnW,KAAKwV,GAC/BY,EAAS,oBAAoBpW,KAAKwV,IAA8B,aAAvB/O,UAAU4P,UAA2B5P,UAAU6P,eAAiB,EACzGC,EAAWH,GAAUF,IAAc,aAAalW,KAAKwV,IAAOW,GAAa,aAAanW,KAAKwV,GAC3FgB,EAAU,aAAaxW,KAAKwV,KAAQe,EACpCjB,GAAQkB,IAAYN,IAAcD,IAAcM,EACpD,MAAO,CACLA,WACAC,UACAJ,SACAK,MAAOD,GAAWJ,EAClBF,YACAZ,OACAW,YACAD,iBACAG,YAEJ,EACA,aAAIO,GACF,GAAyB,qBAAdjQ,UACT,OAAO,EAET,IAAI+O,EAAK/O,UAAUgP,UACf5M,EAAM,GAERA,EADE,+BAA+B7I,KAAKwV,GAChCT,EAAYE,IAEZF,EAAYC,QAEpB,IAAI2B,EAAS9N,EAAMA,EAAI+N,KAAKpB,GAAM,GAClC,GAAImB,GAAUA,EAAOpe,QAAU,EAAG,CAChC,IAAIse,EAAUF,EAAO,GAAGlO,MAAM,KAC9B,OAAOoO,EAAQte,OAAS,EAAIkW,SAASoI,EAAQ,IAAM,CACrD,CACA,OAAO,CACT,EACA,YAAIC,GACF,GAAyB,qBAAdrQ,UACT,OAAO,EAET,IAAIoC,EAAM,6BACNP,EAAQO,EAAI+N,KAAKnQ,UAAUgP,UAAU9O,qBACzC,QAAI2B,CAIN,EACAyO,aAAc,WACZ,IAAIxY,EAAS,CACXyY,WAAW,EACXC,KAAM,IAER,GAAwB,qBAAb3Q,SACT,OAAO/H,EAET,GAAI1F,KAAKqe,cACP,OAAOre,KAAKqe,cAEd,IAAI/e,EAAImO,SAASgB,cAAc,SAW/B,MAV6B,oBAAlBnP,EAAEgf,aACXjC,EAAe9L,KAAI,SAAS7N,GACoC,aAA1DpD,EAAEgf,YAAY,sBAAsB7d,OAAOiC,EAAK,QAClDgD,EAAOyY,WAAY,EACnBzY,EAAO0Y,MAAQ,KAAK3d,OAAOiC,GAE/B,IAEF1C,KAAKqe,cAAgB3Y,EACrBpG,EAAI,KACGoG,CACT,EACA6Y,aAAc,WACZ,IAAIH,EAAO3e,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,4CAC5E,GAA2B,qBAAhB+e,cAAgCA,YACzC,OAAO,EACT,IACE,OAAOA,YAAYC,gBAAgBL,EACrC,CAAE,MAAO/V,GAEP,OADArI,KAAK0e,QAAQrW,MAAM+V,EAAM/V,IAClB,CACT,CACF,EACAsW,gBAAiB,WACf,QAA2B,qBAAhBH,cAAgCA,YAAYC,mBAGhDD,YAAYC,gBAAgB,wCAA0CD,YAAYC,gBAAgB,wCAA0CD,YAAYC,gBAAgB,wCAA0CD,YAAYC,gBAAgB,wCACvP,EACAG,qBAAsB,SAA8BxW,GAClD,IAAIyW,EAAW,CACbC,WAAW,EACXC,QAAQ,EACRC,gBAAgB,GAElB,IAAK5W,GAA6B,qBAAdwF,UAClB,OAAOqR,QAAQC,QAAQL,GAEzB,GAAIjR,UAAUuR,mBAAqBvR,UAAUuR,kBAAkBC,aAC7D,OAAOxR,UAAUuR,kBAAkBC,aAAahX,GAEhD,IAAIiX,EAAcjX,EAAKqR,OAAS,CAAC,EAC7B6F,EAAclX,EAAKmX,OAAS,CAAC,EACjC,IACE,IAAIC,EAAiBhB,YAAYC,gBAAgBY,EAAYI,aACzDC,EAAiBlB,YAAYC,gBAAgBa,EAAYG,aAC7D,OAAOR,QAAQC,QAAQ,CACrBJ,UAAWU,GAAkBE,EAC7BX,QAAQ,EACRC,gBAAgB,GAEpB,CAAE,MAAOxe,GACP,OAAOye,QAAQC,QAAQL,EACzB,CAEJ,GCnJEb,EAAU,SCGV2B,EAAiB,CACnB,EAAG,QACH,EAAG,QACH,EAAG,QACH,EAAG,QACH,EAAG,QACH,EAAG,SAEDC,EAAY,CACd,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,MAEDC,EAAyB,GAC3B,SAASC,EAAQjW,GACf,IAAIkW,EAAYtgB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC/EugB,UAAW,GACXC,UAAW,EACXC,aAAc,GACdC,YAAa,GACbC,IAAK,CAAC,EACNC,WAAY,MAEd,EAAgBrgB,KAAM8f,GACtB,IAAIQ,EAAczW,GAAUA,EAAO0W,KAAO1W,EAAO0W,KAAKD,YAAc,KACpE,GAAIzW,EAAO2W,MAAO,CAChB,IAAIH,EAAaN,EAAUM,WAAaN,EAAUM,WAAaxW,EAAO2W,MAAMnY,OAAS,CAAC,EAClFkS,EAAW1Q,EAAO0Q,SAAUqB,EAAc/R,EAAO+R,YAAa6E,EAAQ5W,EAAO4W,MAAOxN,EAAMpJ,EAAOoJ,IAAK0G,EAAa9P,EAAO8P,WAC1H+G,EAAgB7W,EAAO2W,MAAOG,EAAaD,EAAcC,WAAYC,EAAeF,EAAcE,aAClGC,EAAQd,EAAUE,WAAaI,EAAWS,KAC1ClB,EAAUiB,KACZA,EAAQjB,EAAUiB,IAEpB,IAAIrP,EAAI,CACNuP,cAAe/C,EACfpC,cACArB,WACAkG,QACAE,aACAC,eACA3N,IAAKA,GAAO0G,EACZqG,UAAWD,EAAUC,UACrBC,UAAWY,EACXjY,QAASmX,EAAUG,cAAgBG,EAAWzX,QAC9CyX,aACAF,YAAaJ,EAAUI,YAAcJ,EAAUI,YAAYa,MAAQ,GACnEC,KAAM7W,EAAK8O,eAAejG,GAAO0G,IAKnC,OAHAoG,EAAUK,KAAOjhB,OAAO2C,KAAKie,EAAUK,KAAK7P,KAAI,SAAS7N,GACvD8O,EAAE9O,GAAOqd,EAAUK,IAAI1d,EACzB,IACO8O,CACT,CACE,GAAI/R,UAAUC,OAAS,EAAG,CAMxB,IALA,IAAIwhB,EAAK,CACPH,cAAe/C,EACf5E,OAAQ3L,SAAS2L,QAEf/S,EAAM,CAAC,YAAa,cAAe,WAAY,eAAgB,aAAc,MAAO,aAAc,QAAS,OAAQ,YAAa,cAC3HxF,EAAI,EAAGA,EAAIpB,UAAUC,OAAQmB,IACpCqgB,EAAG7a,EAAIxF,IAAMpB,UAAUoB,GAGzB,OADAqgB,EAAGC,GAAKb,GAAeA,EAAY7gB,UAAU,KAAO,CAAC,GAAG2hB,IAAM,GACvDF,CACT,CAEJ,ICxEEG,GAAO,OACPC,GAAU,UACVC,GAAQ,QACRC,GAAQ,QACRC,GAAQ,QACRC,GAAU,UACVC,GAAS,SACTC,GAAc,aACdC,GAAU,UACVC,GAAU,UACVC,GAAkB,iBAClBC,GAAkB,iBAClBC,GAAgB,eAChBC,GAAc,aACdC,GAAkB,iBAClBC,GAAc,aACdC,GAAW,WACXC,GAAa,YACbC,GAAU,UACVC,GAAU,UACVC,GAAU,UACVC,GAAQ,QACRC,GAAgB,iBAChBC,GAAe,QACfC,GAAc,OACdC,GAAQ,QACRC,GAAW,UACXC,GAAmB,mBACnBC,GAAqB,yBACrBC,GAAW,WACXC,GAAS,SACTC,GAAU,UACVC,GAAa,YACbC,GAAwB,wBACxBC,GAAoB,oBACpBC,GAAwB,uBACxBC,GAAoB,oBACpBC,GAAoB,oBACpBC,GAA2B,2BAC3BC,GAA0B,0BAC1BC,GAAa,aACbC,GAAQ,QACRC,GAAe,eACfC,GAAa,aACbC,GAAS,SACTC,GAAc,aACdC,GAAW,WACXC,GAAW,WACXC,GAAQ,QACRC,GAAc,cACdC,GAAQ,QACRC,GAAe,eACfC,GAAiB,iBACjBC,GAAkB,kBAClBC,GAAe,CAAC,OAAQ,UAAW,QAAS,QAAS,QAAS,UAAW,SAAU,aAAc,UAAW,UAAW,iBAAkB,iBAAkB,eAAgB,aAAc,iBAAkB,aAAc,WAAY,YAAa,UAAW,UAAW,UAAW,QAAS,aAC5RC,GAAe,CACjBC,WAAY,aACZC,eAAgB,iBAChBC,YAAa,eAEXC,GAAY,YCtDhB,SAASC,GAAeC,EAAU1kB,GAC3BR,MAASA,KAAKmlB,OAGF,UAAbD,EACFllB,KAAKolB,aAAaF,EAAU1kB,EAAE6H,OAE9BrI,KAAKmlB,KAAKD,EAAU1kB,GAExB,CACA,SAAS6kB,GAAqBH,EAAUrb,GACtC,OAAO,SAASrJ,EAAG8kB,GACjB,IAAIC,EAAQ,CACV1b,SACAkK,UAAWmR,EACXM,cAAehlB,EACfc,OAAQd,EAAEc,QAAU,CAAC,EACrBmkB,UAAWjlB,EAAEilB,UACb7J,YAAa/R,EAAO+R,YACpBrB,SAAU1Q,EAAO0Q,SACjBmL,OAAQ7b,EAAO6b,OACfjF,MAAO5W,EAAO4W,MACdkF,eAAgB9b,EAAO+b,YAAYplB,EAAEgK,MACrCqb,MAAOhc,EAAOgc,MACdC,OAAQjc,EAAOic,OACf7E,KAAM7W,EAAK8O,eAAerP,EAAO8P,YACjCoM,MAAOlc,EAAOkc,OAMhB,GAJAlc,EAAOmc,cAAcxlB,EAAEgK,MACN,eAAb0a,IACFrb,EAAOoc,aAAepc,EAAO2W,OAAS3W,EAAO2W,MAAM5E,aAEpC,eAAbsJ,EAA2B,CAC7B,IAAIgB,EAAQrc,EAAO2W,MAAQ3W,EAAO2W,MAAM2F,aAAe,EACvD,GAAID,GAASrc,EAAOqc,QAAUA,EAC5B,OAEFrc,EAAOqc,MAAQrc,EAAO2W,OAAS3W,EAAO2W,MAAM2F,YAC9C,CAWA,GAViB,mBAAbjB,IACFrb,EAAOuc,UAAYvc,EAAO2W,MAAMjG,UAEjB,iBAAb2K,IACFK,EAAMc,cAAgBxc,EAAOyc,aAAezc,EAAOgc,MACnDhc,EAAOyc,WAAazc,EAAOgc,OAEZ,UAAbX,IACFK,EAAMld,MAAQid,GAAQzb,EAAO4P,MAAMpR,OAEjCwB,EAAO0c,qBAAqBrB,GAAW,CACzC,IAAIrM,EAAWoM,GAAe5lB,KAAKwK,EAAQqb,EAAUK,GACrD,IACE1b,EAAO0c,qBAAqBrB,GAAUplB,KAAK+J,EAAQ0b,EAAO1M,EAC5D,CAAE,MAAOzJ,GAEP,MADA6V,GAAenlB,KAAK+J,EAAQqb,EAAUK,GAChCnW,CACR,CACF,MACE6V,GAAenlB,KAAK+J,EAAQqb,EAAUK,EAE1C,CACF,CACA,IAAIiB,GAA6B,SAASC,GACxC,EAAUC,EAAaD,GACvB,IAAIE,EAAS,EAAaD,GAC1B,SAASA,EAAY9b,GACnB,IAAIgc,EACJ,EAAgB5mB,KAAM0mB,GACtBE,EAAQD,EAAO7mB,KAAKE,KAAM4K,GAC1Bgc,EAAMC,WAAY,EAClBD,EAAMX,aAAe,EACrBW,EAAMR,UAAY,EAClBQ,EAAMhB,YAAc,CAAC,EACrBgB,EAAMN,YAAa,EACnBM,EAAMb,MAAQ,MACda,EAAMV,OAAS,EACfU,EAAME,YAAc3nB,OAAOC,OAAO,CAAC,EAAG,CACpC2nB,UAAU,EACVC,SAAUpc,EAAQoc,SAClBC,YAAarc,EAAQqc,YACrB,iBAAkBrc,EAAQqc,YAC1B,qBAAsBrc,EAAQqc,YAC9B,6BAA8Brc,EAAQ,+BAAiCA,EAAQsc,wBAC/E,uBAAwBtc,EAAQ,yBAA2BA,EAAQuc,mBACnEC,QAASxc,EAAQwc,QACjB,iBAAkBxc,EAAQwc,QAC1BC,SAA6B,EAAnBzc,EAAQyc,SAClBC,UAAW1c,EAAQ0c,WAAa,QAChC,cAAe,GACd1c,EAAQyU,YAAazU,EAAQ2c,iBAChC,IAAIC,EAAa5c,EAAQ,yBAA2BA,EAAQ6c,kBA8B5D,OA7BInL,EAAQ2B,UAAY3B,EAAQE,GAAGa,WAAamK,IAC9CZ,EAAME,YAAY,wBAA0BU,SACrCZ,EAAME,YAAYG,mBAClBL,EAAME,YAAY,6BAClBF,EAAME,YAAY,mBAEvBlc,EAAQ8c,OACVd,EAAME,YAAYY,KAAO,QAEvB9c,EAAQ+c,gBAAkBxoB,OAAOS,UAAUC,eAAeC,KAAK8mB,EAAME,YAAa,WACpFF,EAAME,YAAYjB,OAAQ,GAE5Be,EAAMpG,MAAQpW,EAAKgE,UAAUwY,EAAME,YAAYQ,UAAW,GAAIV,EAAME,YAAa,IAC7Elc,EAAQgd,sBACVhB,EAAMpG,MAAMoH,oBAAsBhB,EAAMpG,MAAM2F,aAAevb,EAAQgd,qBAEnC,WAAhCxd,EAAKkG,OAAO1F,EAAQkb,UACtBc,EAAMd,OAASlb,EAAQkb,QAErBlb,EAAQ+c,gBACVf,EAAMpG,MAAMqF,OAAQ,EACpBe,EAAMN,YAAa,GAEjB1b,EAAQoc,WACVJ,EAAMpG,MAAMwG,UAAW,GAEzBJ,EAAM1S,UAAY,CAAC,EACnB0S,EAAML,qBAAuB,CAAC,EAC9BK,EAAMiB,oBACCjB,CACT,CA6eA,OA5eA,EAAaF,EAAa,CAAC,CACzBhkB,IAAK,sBACLsB,MAAO,SAA6B8jB,GAClC,IAAIC,EAAS/nB,KACbb,OAAO2C,KAAKgmB,GAAavX,KAAI,SAAS7N,GACpCqlB,EAAOxB,qBAAqB7jB,GAAOolB,EAAYplB,EACjD,GACF,GACC,CACDA,IAAK,yBACLsB,MAAO,SAAgC8jB,GACrC,IAAIE,EAAShoB,KACbb,OAAO2C,KAAKgmB,GAAavX,KAAI,SAAS7N,UAC7BslB,EAAOzB,qBAAqB7jB,EACrC,GACF,GACC,CACDA,IAAK,oBACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACTwgB,EAAQ/gB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAKO,KAAKwgB,MAC7ExgB,KAAKkoB,cACRloB,KAAKkoB,YAAcvD,GAAapU,KAAI,SAAS2U,GAC3C,IAAIiD,EAAU,KAAK1nB,OAAOykB,EAASkD,OAAO,GAAGC,eAAe5nB,OAAOykB,EAASje,MAAM,IAIlF,MAH+B,oBAApBghB,EAAOE,IAChBF,EAAOK,GAAGpD,EAAU+C,EAAOE,IAEtBxlB,EAAgB,CAAC,EAAGuiB,EAAUG,GAAqBH,EAAU+C,GACtE,KAEFjoB,KAAKkoB,YAAYzlB,SAAQ,SAASmM,GAChC,IAAIsW,EAAW/lB,OAAO2C,KAAK8M,GAAM,GACjC4R,EAAM+H,iBAAiBrD,EAAUtW,EAAKsW,IAAW,EACnD,GACF,GACC,CACDxiB,IAAK,oBACLsB,MAAO,WACL,IAAIwkB,EAASxoB,KACTwgB,EAAQ/gB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAKO,KAAKwgB,MAClFxgB,KAAKkoB,YAAYzlB,SAAQ,SAASmM,GAChC,IAAIsW,EAAW/lB,OAAO2C,KAAK8M,GAAM,GACjC4R,EAAMiI,oBAAoBvD,EAAUtW,EAAKsW,IAAW,EACtD,IACAllB,KAAKkoB,YAAYzlB,SAAQ,SAASmM,GAChC,IAAIsW,EAAW/lB,OAAO2C,KAAK8M,GAAM,GAC7BuZ,EAAU,KAAK1nB,OAAOykB,EAASkD,OAAO,GAAGC,eAAe5nB,OAAOykB,EAASje,MAAM,IACnD,oBAApBuhB,EAAOL,IAChBK,EAAOE,IAAIxD,EAAUsD,EAAOL,GAEhC,IACAnoB,KAAKkoB,YAAc,IACrB,GACC,CACDxlB,IAAK,sBACLsB,MAAO,SAA6ByV,EAAOkP,GACzC,IAAIC,EAAS5oB,KACbyZ,EAAMoP,gBAAgB,OACtBpP,EAAMqP,OACNH,EAAKlmB,SAAQ,SAASmM,EAAM3E,GAC1B2e,EAAOpI,MAAM7F,YAAYvQ,EAAKgE,UAAU,SAAU,GAAI,CACpD6E,IAAK,GAAGxS,OAAOmO,EAAKqE,KACpBzI,KAAM,GAAG/J,OAAOmO,EAAKpE,MAAQ,IAC7B,aAAcP,EAAQ,IAE1B,IACA,IAAI9I,EAAKsY,EAAMvK,SACf,GAAK/N,EAAL,CAGAnB,KAAK+oB,kBAAoB5nB,EAAGzB,OAC5BM,KAAKgpB,kBAAoB7nB,EAAGzB,OAC5BM,KAAKipB,aAAe,SAASzoB,GAC3BooB,EAAOzD,KAAKV,GAAgB,CAC1BxR,IAAKzS,EAAE+B,OAAOoX,WACdsH,KAAM7W,EAAK8O,eAAe1Y,EAAE+B,OAAOoX,aAEvC,EAEA,IADA,IAAIuP,EAAY,KACProB,EAAI,EAAGA,EAAIb,KAAKkoB,YAAYxoB,OAAQmB,IAC3C,GAA4C,UAAxC1B,OAAO2C,KAAK9B,KAAKkoB,YAAYrnB,IAAI,GAAgB,CACnDqoB,EAAYlpB,KAAKkoB,YAAYrnB,GAC7B,KACF,EAEDb,KAAKmpB,eAAiBnpB,KAAKmpB,aAAe,SAAS3oB,GAClD,IAAI4oB,EAAUxT,SAASpV,EAAE+B,OAAOoL,aAAa,cAAe,IAE5D,GADAib,EAAOI,oBAC0B,IAA7BJ,EAAOI,mBAA2BI,GAAWR,EAAOG,kBAAmB,CACzE,IAAIzD,EAAO,CACTxE,KAAM,EACNlY,QAAS,sBAEXsgB,EAAYA,EAAU7gB,MAAM7H,EAAG8kB,GAAQsD,EAAOxD,aAAa,QAASE,EACtE,CACA,IAAI9a,EAAOmV,EAAe,GAC1BiJ,EAAOzD,KAAKX,GAAc,IAAI3E,EAAO+I,EAAQ,CAC3C5I,UAAWxV,EACXyV,UAAW,EACXC,aAAc,qBACdG,WAAY,CACVS,KAAM,EACNlY,QAAS,sBAEXqK,IAAKzS,EAAE+B,OAAO0Q,MAElB,GACA,IAAK,IAAIqF,EAAK,EAAGA,EAAKnX,EAAGzB,OAAQ4Y,IAC/BnX,EAAGmX,GAAIiQ,iBAAiB,QAASvoB,KAAKmpB,cAExC1P,EAAM8O,iBAAiB,aAAcvoB,KAAKipB,aAzC1C,CA0CF,GACC,CACDvmB,IAAK,sBACLsB,MAAO,SAA6ByV,GAClC,IAAItY,EAAKsY,EAAMvK,SACf,GAAK/N,GAAoB,IAAdA,EAAGzB,QAAiBM,KAAKmpB,aAApC,CAGA,IAAK,IAAItoB,EAAI,EAAGA,EAAIM,EAAGzB,OAAQmB,IAC7BM,EAAGN,GAAG4nB,oBAAoB,QAASzoB,KAAKmpB,cAE1C,MAAOhoB,EAAGzB,OAAS,EACjB+Z,EAAM4P,YAAYloB,EAAG,IAEvBnB,KAAKipB,cAAgBxP,EAAMgP,oBAAoB,aAAczoB,KAAKipB,aAPlE,CAQF,GACC,CACDvmB,IAAK,eACLsB,MAAO,SAAsBkD,GAC3B,IAAImB,EAAQ5I,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,KAC7E,GAAIO,KAAKwgB,QAAUxgB,KAAKwgB,MAAMnY,OAASA,GAAQ,CAC7C,IAAIihB,EAAKtpB,KAAKwgB,MAAMnY,OAASA,EACzBmC,EAAO8e,EAAGxI,KAAOnB,EAAe2J,EAAGxI,MAAQ,QAC3ClY,EAAU0gB,EAAG1gB,QACZ5I,KAAKwgB,MAAM7G,aACd/Q,EAAU,YACV0gB,EAAK,CACHxI,KAAM,EACNlY,YAGJ5I,KAAKmlB,KAAKje,EAAM,IAAI2Y,EAAO7f,KAAM,CAC/BggB,UAAWxV,EACXyV,UAAWqJ,EAAGxI,KACdZ,aAAcoJ,EAAG1gB,SAAW,GAC5ByX,WAAYiJ,IAEhB,CACF,GACC,CACD5mB,IAAK,UACLsB,MAAO,WAYL,IAAK,IAAIulB,KAXLvpB,KAAKwgB,QACHxgB,KAAKwgB,MAAMgJ,QACbxpB,KAAKwgB,MAAMgJ,QACXxpB,KAAKwgB,MAAMqF,OAAQ,GAErB7lB,KAAKwgB,MAAMqI,gBAAgB,OAC3B7oB,KAAKwgB,MAAMsI,QAEb9oB,KAAKimB,aAAe,EACpBjmB,KAAKomB,UAAY,EACjBpmB,KAAK8mB,YAAc,KACL9mB,KAAKkU,UACb/U,OAAOS,UAAUC,eAAeC,KAAKE,KAAKkU,UAAWqV,KACvDpV,cAAcnU,KAAKkU,UAAUqV,IAC7BvpB,KAAKkU,UAAUqV,GAAK,MAGxBvpB,KAAKypB,oBACLzpB,KAAKwgB,MAAQ,KACbxgB,KAAKumB,qBAAuB,CAAC,EAC7BvmB,KAAK0pB,oBACP,GACC,CACDhnB,IAAK,QACLsD,IAAK,WACH,OAAOhG,KAAKwgB,KACd,EACAmJ,IAAK,SAAanJ,GAChBxgB,KAAKwgB,MAAQA,CACf,GACC,CACD9d,IAAK,OACLsB,MAAO,WACL,IAAIgT,EAAMhX,KAAKwgB,MAAQxgB,KAAKwgB,MAAMoJ,OAAS,KAC3C,OAAO5S,CACT,GACC,CACDtU,IAAK,QACLsB,MAAO,WACLhE,KAAKwgB,OAASxgB,KAAKwgB,MAAMgJ,OAC3B,GACC,CACD9mB,IAAK,OACLsB,MAAO,WACLhE,KAAKwgB,OAASxgB,KAAKwgB,MAAMsI,MAC3B,GACC,CACDpmB,IAAK,cACLsB,MAAO,SAAqBwG,GAC1B,QAAOxK,KAAKwgB,OAAQxgB,KAAKwgB,MAAMlC,YAAY9T,EAC7C,GACC,CACD9H,IAAK,mBACLsB,MAAO,SAA0BkU,GAC/B,IAAI2R,EAAQ,CAAC,EAAG,GAChB,IAAK7pB,KAAKwgB,MACR,OAAOqJ,EAEJ3R,IACHA,EAAWlY,KAAKwgB,MAAMtI,UAExB,IAAI0D,EAAc5b,KAAKwgB,MAAM5E,YAC7B,GAAI1D,EACF,IAAK,IAAIrX,EAAI,EAAGuG,EAAM8Q,EAASxY,OAAQmB,EAAIuG,EAAKvG,IAG9C,GAFAgpB,EAAM,GAAK3R,EAAShO,MAAMrJ,GAC1BgpB,EAAM,GAAK3R,EAAS/N,IAAItJ,GACpBgpB,EAAM,IAAMjO,GAAeA,GAAeiO,EAAM,GAClD,MAIN,OAAIA,EAAM,GAAKjO,GAAe,GAAKA,EAAciO,EAAM,IAAM,EACpDA,EAEA,CAAC,EAAG,EAEf,GACC,CACDnnB,IAAK,WACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAMwG,QACjC,EACA2C,IAAK,SAAaG,GAChB9pB,KAAKwgB,QAAUxgB,KAAKwgB,MAAMwG,SAAW8C,EACvC,GACC,CACDpnB,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAQxgB,KAAKwgB,MAAMtI,SAAW,IAC5C,GACC,CACDxV,IAAK,YACLsD,IAAK,WACH,OAAOhG,KAAKwgB,OAASxgB,KAAKwgB,MAAMtI,SAAW9N,EAAK2N,aAAa/X,KAAKwgB,MAAMtI,UAAY,IACtF,GACC,CACDxV,IAAK,gBACLsD,IAAK,WACH,IAAIgR,EAAM,CACR9M,MAAO,EACPC,IAAK,GAEP,IAAKnK,KAAKwgB,MACR,OAAOxJ,EAET,IAAI+S,EAAY/pB,KAAKwgB,MAAMtI,SAC3B,IAAK6R,GAAkC,IAArBA,EAAUrqB,OAC1B,OAAOsX,EAET,IAAK,IAAInW,EAAI,EAAGA,EAAIkpB,EAAUrqB,OAAQmB,IACpC,IAAKkpB,EAAU7f,MAAMrJ,IAAMb,KAAK4b,aAAemO,EAAU7f,MAAMrJ,GAAK,KAAQkpB,EAAU5f,IAAItJ,IAAMb,KAAK4b,YACnG,MAAO,CACL1R,MAAO6f,EAAU7f,MAAMrJ,GACvBsJ,IAAK4f,EAAU5f,IAAItJ,IAIzB,OAAOmW,CACT,GACC,CACDtU,IAAK,cACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAQxgB,KAAKwgB,MAAMwJ,YAAc,EAC/C,EACAL,IAAK,SAAaG,GAChB9pB,KAAKwgB,QAAUxgB,KAAKwgB,MAAMwJ,YAAcF,EAC1C,GACC,CACDpnB,IAAK,aACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAQxgB,KAAKwgB,MAAM7G,WAAa,EAC9C,EACAgQ,IAAK,SAAa1W,GAChBjT,KAAKwgB,QAAUxgB,KAAKwgB,MAAM7G,WAAa1G,EACzC,GACC,CACDvQ,IAAK,cACLsD,IAAK,WACH,OAAKhG,KAAKwgB,WAGwB,IAA3BxgB,KAAKwgB,MAAM5E,YAAyB5b,KAAKwgB,MAAM5E,YAAc5b,KAAKimB,aAFhE,CAGX,EACA0D,IAAK,SAAale,GAChBzL,KAAKwgB,QAAUxgB,KAAKwgB,MAAM5E,YAAcnQ,EAC1C,GACC,CACD/I,IAAK,eACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAMyJ,YACjC,EACAN,IAAK,SAAaG,GAChB9pB,KAAKwgB,QAAUxgB,KAAKwgB,MAAMyJ,aAAeH,EAC3C,GACC,CACDpnB,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAKomB,SACd,GACC,CACD1jB,IAAK,QACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAMC,KACjC,GACC,CACD/d,IAAK,QACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAMnY,KACpB,GACC,CACD3F,IAAK,YACLsD,IAAK,WACH,IAAIoJ,EAAMpP,KAAKwgB,MAAMnY,MACrB,IAAK+G,EACH,MAAO,GAET,IAAI8a,EAAS,CAAC,oBAAqB,oBAAqB,mBAAoB,+BAC5E,OAAOA,EAAOlqB,KAAKwgB,MAAMnY,MAAMyY,KAAO,EACxC,GACC,CACDpe,IAAK,OACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAMkH,IACjC,EACAiC,IAAK,SAAaG,GAChB9pB,KAAKwgB,QAAUxgB,KAAKwgB,MAAMkH,KAAOoC,EACnC,GACC,CACDpnB,IAAK,QACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAMqF,KACjC,EACA8D,IAAK,SAAaG,GACX9pB,KAAKwgB,OAASxgB,KAAKwgB,MAAMqF,QAAUiE,IAGxC9pB,KAAKsmB,WAAatmB,KAAKwgB,MAAMqF,MAC7B7lB,KAAKwgB,MAAMqF,MAAQiE,EACrB,GACC,CACDpnB,IAAK,eACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAMI,YACpB,GACC,CACDle,IAAK,SACLsD,IAAK,WACH,OAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAMkF,MACjC,GACC,CACDhjB,IAAK,eACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAQxgB,KAAKwgB,MAAM2F,aAAe,CAChD,EACAwD,IAAK,SAAaQ,GACXnqB,KAAKwgB,OAAS2J,IAASC,MAG5BpqB,KAAKwgB,MAAMoH,oBAAsBuC,EACjCnqB,KAAKwgB,MAAM2F,aAAegE,EAC5B,GACC,CACDznB,IAAK,SACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAQxgB,KAAKwgB,MAAM6J,OAAS,IAC1C,GACC,CACD3nB,IAAK,UACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAM8J,OACjC,EACAX,IAAK,SAAaG,GAChB9pB,KAAKwgB,QAAUxgB,KAAKwgB,MAAM8J,QAAUR,EACtC,GACC,CACDpnB,IAAK,aACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAMG,UACpB,GACC,CACDje,IAAK,WACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAM+J,QACjC,GACC,CACD7nB,IAAK,UACLsD,IAAK,WACH,QAAOhG,KAAKwgB,OAAQxgB,KAAKwgB,MAAMgK,OACjC,GACC,CACD9nB,IAAK,MACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAQxgB,KAAKwgB,MAAMvN,IAAM,EACvC,EACA0W,IAAK,SAAarW,GACXtT,KAAKwgB,QAGVxgB,KAAKmlB,KAAK9B,GAAY/P,GACtBtT,KAAKmlB,KAAKtD,IACV7hB,KAAKimB,aAAe,EACpBjmB,KAAKomB,UAAY,EACbhc,EAAKoP,MAAMxZ,KAAKwgB,OAClBxgB,KAAKyqB,aAGPzqB,KAAK0qB,oBAAoB1qB,KAAKwgB,OACL,UAArBpW,EAAKkG,OAAOgD,GACdtT,KAAK2qB,oBAAoB3qB,KAAKwgB,MAAOlN,GAC5BA,EACTtT,KAAKwgB,MAAMvN,IAAMK,EAEjBtT,KAAKwgB,MAAMqI,gBAAgB,OAE7B7oB,KAAK8oB,QACP,GACC,CACDpmB,IAAK,SACLsD,IAAK,WACH,OAAOhG,KAAKwgB,MAAQxgB,KAAKwgB,MAAMsF,OAAS,CAC1C,EACA6D,IAAK,SAAaiB,GACZA,IAAQR,KAAapqB,KAAKwgB,QAG9BxgB,KAAKwgB,MAAMsF,OAAS8E,EACtB,GACC,CACDloB,IAAK,aACLsB,MAAO,SAAoBiO,GACzBjS,KAAK4lB,YAAY3T,IAAS,CAC5B,GACC,CACDvP,IAAK,gBACLsB,MAAO,SAAuBiO,UACrBjS,KAAK4lB,YAAY3T,EAC1B,GACC,CACDvP,IAAK,OACLsB,MAAO,SAAciO,EAAO4Y,GAE1B,IADA,IAAIC,EACKhiB,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAClG0C,EAAK1C,EAAO,GAAKvJ,UAAUuJ,IAE5B8hB,EAAQ/kB,EAAK1B,EAAgBqiB,EAAY9mB,WAAY,OAAQI,OAAOF,KAAKC,MAAM+qB,EAAO,CAAC9qB,KAAMiS,EAAO4Y,GAAMpqB,OAAOiL,GACpH,GACC,CACDhJ,IAAK,KACLsB,MAAO,SAAYiO,EAAO4G,GAExB,IADA,IAAIkS,EACK1hB,EAAQ5J,UAAUC,OAAQgM,EAAO,IAAInL,MAAM8I,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGoC,EAAKpC,EAAQ,GAAK7J,UAAU6J,IAE7ByhB,EAAQhlB,EAAK1B,EAAgBqiB,EAAY9mB,WAAY,KAAMI,OAAOF,KAAKC,MAAMgrB,EAAO,CAAC/qB,KAAMiS,EAAO4G,GAAUpY,OAAOiL,GACtH,GACC,CACDhJ,IAAK,OACLsB,MAAO,SAAciO,EAAO4G,GAE1B,IADA,IAAImS,EACKthB,EAAQjK,UAAUC,OAAQgM,EAAO,IAAInL,MAAMmJ,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxG+B,EAAK/B,EAAQ,GAAKlK,UAAUkK,IAE7BqhB,EAAQjlB,EAAK1B,EAAgBqiB,EAAY9mB,WAAY,OAAQI,OAAOF,KAAKC,MAAMirB,EAAO,CAAChrB,KAAMiS,EAAO4G,GAAUpY,OAAOiL,GACxH,GACC,CACDhJ,IAAK,MACLsB,MAAO,SAAaiO,EAAO4G,GAEzB,IADA,IAAIoS,EACKC,EAAQzrB,UAAUC,OAAQgM,EAAO,IAAInL,MAAM2qB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGzf,EAAKyf,EAAQ,GAAK1rB,UAAU0rB,IAE7BF,EAAQllB,EAAK1B,EAAgBqiB,EAAY9mB,WAAY,MAAOI,OAAOF,KAAKC,MAAMkrB,EAAO,CAACjrB,KAAMiS,EAAO4G,GAAUpY,OAAOiL,GACvH,GACC,CACDhJ,IAAK,SACLsB,MAAO,WACL+B,EAAK1B,EAAgBqiB,EAAY9mB,WAAY,qBAAsBI,MAAMF,KAAKE,KAChF,KAEK0mB,CACT,CAziBiC,CAyiB/B,KC5mBE0E,GAA0B,WAC5B,SAASC,IACP,IAAIC,EAAO7rB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC1EyH,KAAM,WACN8W,QAAS,EACTuN,GAAI,KACJC,QAAS,CACPtkB,KAAM,SACNukB,QAAS,QAGb,EAAgBzrB,KAAMqrB,GACtBrrB,KAAK0rB,UAAY1jB,OAAO0jB,WAAa1jB,OAAO2jB,gBAC5C3rB,KAAK4rB,YAAc5jB,OAAO4jB,aAAe5jB,OAAO6jB,kBAChD7rB,KAAK8rB,KAAOR,CACd,CAwFA,OAvFA,EAAaD,EAAU,CAAC,CACtB3oB,IAAK,SACLsB,MAAO,SAAgB6U,GACrB,IAAI+N,EAAQ5mB,KACRqF,EAAOrF,KACPge,EAAUhe,KAAK8rB,KAAK9N,SAAW,EAC/B+N,EAAU1mB,EAAKqmB,UAAUM,KAAK3mB,EAAKymB,KAAK5kB,KAAM8W,GAClD+N,EAAQ1U,QAAU,SAAS7W,GAC3B,EACAurB,EAAQE,UAAY,SAASzrB,GAC3BomB,EAAMkF,KAAKP,GAAK/qB,EAAE+B,OAAOmD,OACzBmT,EAAS/Y,KAAKuF,EAChB,EACA0mB,EAAQG,gBAAkB,SAAS1rB,GACjC,IAAI+qB,EAAK/qB,EAAE+B,OAAOmD,OAClBlF,EAAE+B,OAAO4pB,YACJZ,EAAGa,iBAAiBC,SAAShnB,EAAKymB,KAAKN,QAAQtkB,OAClDqkB,EAAGe,kBAAkBjnB,EAAKymB,KAAKN,QAAQtkB,KAAM,CAC3CqlB,QAASlnB,EAAKymB,KAAKN,QAAQC,SAGjC,CACF,GACC,CACD/oB,IAAK,WACLsB,MAAO,WACL,IAAIqB,EAAOrF,KACXqF,EAAKqmB,UAAUc,eAAexsB,KAAK8rB,KAAK5kB,KAC1C,GACC,CACDxE,IAAK,UACLsB,MAAO,WACLhE,KAAK8rB,KAAKP,GAAGkB,OACf,GACC,CACD/pB,IAAK,UACLsB,MAAO,SAAiB0oB,EAAW7B,GAGjC,IAFA,IACIkB,EADAY,EAAQ3sB,KAAK8rB,KAAKP,GAAGY,YAAYO,EAAW,aAAaE,YAAYF,GAEhE7rB,EAAI,EAAGA,EAAIgqB,EAAKnrB,OAAQmB,IAC/BkrB,EAAUY,EAAM9c,IAAIgb,EAAKhqB,IACzBkrB,EAAQ1U,QAAU,WAClB,EACA0U,EAAQE,UAAY,WACpB,CAEJ,GACC,CACDvpB,IAAK,UACLsB,MAAO,SAAiB0oB,EAAW7B,GAGjC,IAFA,IACIkB,EADAY,EAAQ3sB,KAAK8rB,KAAKP,GAAGY,YAAYO,EAAW,aAAaE,YAAYF,GAEhE7rB,EAAI,EAAGA,EAAIgqB,EAAKnrB,OAAQmB,IAC/BkrB,EAAUY,EAAME,IAAIhC,EAAKhqB,IACzBkrB,EAAQ1U,QAAU,WAClB,EACA0U,EAAQE,UAAY,WACpB,CAEJ,GACC,CACDvpB,IAAK,eACLsB,MAAO,SAAsB0oB,EAAWhqB,EAAKmW,GAC3C,IAAIxT,EAAOrF,KACP2sB,EAAQ3sB,KAAK8rB,KAAKP,GAAGY,YAAYO,EAAW,aAAaE,YAAYF,GACrEX,EAAUY,EAAM3mB,IAAItD,GACxBqpB,EAAQ1U,QAAU,WAChBwB,EAAS/Y,KAAKuF,EAAM,KACtB,EACA0mB,EAAQE,UAAY,SAASzrB,GAC3B,IAAIkF,EAASlF,EAAE+B,OAAOmD,OACtBmT,EAAS/Y,KAAKuF,EAAMK,EACtB,CACF,GACC,CACDhD,IAAK,aACLsB,MAAO,SAAoB0oB,EAAWhqB,GACpC,IAAIiqB,EAAQ3sB,KAAK8rB,KAAKP,GAAGY,YAAYO,EAAW,aAAaE,YAAYF,GACzEC,EAAMG,OAAOpqB,EACf,GACC,CACDA,IAAK,YACLsB,MAAO,SAAmB0oB,GACxB,IAAIC,EAAQ3sB,KAAK8rB,KAAKP,GAAGY,YAAYO,EAAW,aAAaE,YAAYF,GACzEC,EAAMI,OACR,KAEK1B,CACT,CAxG8B,GCD1B2B,GAAoB,CAAC,mBAAoB,yBAA0B,sBAAuB,sBAC1FC,GAAqB,CAAC,oBAAqB,0BAA2B,uBAAwB,uBAC9FC,GAAsB,CAAC,iBAAkB,uBAAwB,sBAAuB,oBACxFC,GAAY,kBCFhB,SAASC,GAAYpqB,EAAKqqB,EAASC,GACjC,IAAK,IAAIxkB,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAClG0C,EAAK1C,EAAO,GAAKvJ,UAAUuJ,GAE7B,IAAIgO,EAAMqW,EAAQvtB,KAAKC,MAAMstB,EAAS,CAACrqB,GAAKvC,OAAOiL,IAC9C4hB,GAAwB,oBAATA,IAGhBtW,GAAOA,EAAIuW,KACbvW,EAAIuW,MAAK,WACP,IAAK,IAAIlkB,EAAQ5J,UAAUC,OAAQ8tB,EAAQ,IAAIjtB,MAAM8I,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACrFkkB,EAAMlkB,GAAS7J,UAAU6J,GAE3BgkB,EAAKxtB,KAAKC,MAAMutB,EAAM,CAACtqB,GAAKvC,OAAO+sB,GACrC,IAEAF,EAAKxtB,KAAKC,MAAMutB,EAAM,CAACtqB,GAAKvC,OAAOiL,IAEvC,CACA,SAAS+hB,GAAKC,EAAUL,GACtB,IAAIM,EAASluB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC5EmuB,IAAK,KACLN,KAAM,MAMR,OAJKttB,KAAK6tB,UACR7tB,KAAK6tB,QAAU,CAAC,IAEjB7tB,KAAK6tB,QAAQH,KAAc1tB,KAAK6tB,QAAQH,GAAY,MAC9C,WACL,IAAIvd,EAAa1Q,UAAWmnB,EAAQ5mB,KACpC,GAAI2tB,EAAOC,IACT,IACE,IAAIE,GACHA,EAAcH,EAAOC,KAAK9tB,KAAKC,MAAM+tB,EAAa,CAAC9tB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YAC9F,CAAE,MAAOe,GAEP,MADAA,EAAEoI,QAAU,gBAAgBnI,OAAOT,KAAK+tB,WAAY,KAAKttB,OAAOitB,EAAU,mBAAmBjtB,OAAOD,EAAEoI,SAChGpI,CACR,CAEF,GAAIR,KAAK6tB,SAAW7tB,KAAK6tB,QAAQH,GAC/B,IACE,IAAIM,EACAC,GAAUD,EAAwBhuB,KAAK6tB,QAAQH,IAAW5tB,KAAKC,MAAMiuB,EAAuB,CAAChuB,KAAMA,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,aAC3IwuB,EACEA,EAAOV,KACTU,EAAOV,MAAK,SAASW,IACA,IAAfA,GACFd,GAAYrtB,WAAM,EAAQ,CAAC6mB,EAAOyG,EAASM,EAAOL,MAAM7sB,OAAO2F,EAAmB+J,IAEtF,IAAGge,OAAM,SAAS3tB,GAChB,MAAMA,CACR,IAEA4sB,GAAYrtB,WAAM,EAAQ,CAACC,KAAMqtB,EAASM,EAAOL,MAAM7sB,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,kBAEvE,IAAXwuB,GACTb,GAAYrtB,WAAM,EAAQ,CAACC,KAAMqtB,EAASM,EAAOL,MAAM7sB,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YAE7F,CAAE,MAAOe,GAEP,MADAA,EAAEoI,QAAU,gBAAgBnI,OAAOT,KAAK+tB,WAAY,KAAKttB,OAAOitB,EAAU,SAASjtB,OAAOD,EAAEoI,SACtFpI,CACR,MAEA4sB,GAAYrtB,WAAM,EAAQ,CAACC,KAAMqtB,EAASM,EAAOL,MAAM7sB,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YAE7F,EAAEJ,KAAKW,KACT,CACA,SAASouB,GAASV,EAAUL,GAC1B,IAAIQ,EAAU7tB,KAAK6tB,QACnB,GAAKA,EAGL,OAAKA,EAAQhuB,eAAe6tB,IAI5BG,IAAYA,EAAQH,GAAYL,IACzB,IAJLpkB,QAAQX,KAAK,qCAAqC7H,OAAOitB,EAAU,OAC5D,EAIX,CACA,SAASW,GAAYX,EAAUL,GAC7B,IAAIQ,EAAU7tB,KAAK6tB,QACdA,UAGEA,EAAQH,EACjB,CACA,SAASY,GAAeP,GACtB,GAAK/tB,KAAKuuB,SAAYvuB,KAAKuuB,QAAQR,EAAWlR,eAA9C,CAIA,IADA,IAAI2R,EAASxuB,KAAKuuB,QAAQR,EAAWlR,eAC5BnT,EAAQjK,UAAUC,OAAQgM,EAAO,IAAInL,MAAMmJ,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxG+B,EAAK/B,EAAQ,GAAKlK,UAAUkK,GAE9B,OAAO6kB,EAAOJ,UAAYI,EAAOJ,SAASruB,MAAMyuB,EAAQ9iB,EALxD,CAMF,CACA,SAAS+iB,GAAkBV,GACzB,GAAK/tB,KAAKuuB,SAAYvuB,KAAKuuB,QAAQR,EAAWlR,eAA9C,CAGA,IAAI2R,EAASxuB,KAAKuuB,QAAQR,EAAWlR,eACrC,GAAI2R,EAAQ,CACV,IAAK,IAAItD,EAAQzrB,UAAUC,OAAQgM,EAAO,IAAInL,MAAM2qB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGzf,EAAKyf,EAAQ,GAAK1rB,UAAU0rB,GAE9B,OAAOqD,EAAOH,aAAeG,EAAOH,YAAYtuB,MAAMyuB,EAAQ9iB,EAChE,CAPA,CAQF,CACA,SAASgjB,GAAgBrrB,GACvB,IAAIsrB,EAAclvB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GACnF4D,EAASwqB,QAAU,CAAC,EACpBc,GAAeA,EAAYpe,KAAI,SAAS3B,GACtCvL,EAASwqB,QAAQjf,GAAQ,IAC3B,IACAzP,OAAO2D,eAAeO,EAAU,QAAS,CACvC2C,IAAK,WACH,OAAO3C,EAASwqB,SAAW1uB,OAAO2C,KAAKuB,EAASwqB,SAAStd,KAAI,SAAS7N,GACpE,GAAIW,EAASwqB,QAAQnrB,GACnB,OAAOA,CAEX,GACF,GAEJ,CACA,SAASksB,GAAmBvrB,GAC1BA,EAASwqB,QAAU,IACrB,CACA,SAASgB,GAAS7rB,EAAK0qB,EAAUL,GAC/B,IAAK,IAAIyB,EAAQrvB,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuuB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGrjB,EAAKqjB,EAAQ,GAAKtvB,UAAUsvB,GAE9B,IAAI/rB,EAAI6qB,UAAW7qB,EAAI6qB,QAAQH,GAa7B,OAAOL,EAAQvtB,KAAKC,MAAMstB,EAAS,CAACrqB,EAAKA,GAAKvC,OAAOiL,IAZrD,IAAIsjB,EACAhY,GAAOgY,EAAwBhsB,EAAI6qB,QAAQH,IAAW5tB,KAAKC,MAAMivB,EAAuB,CAAChsB,EAAKA,GAAKvC,OAAOiL,IAC9G,GAAIsL,GAAOA,EAAIuW,KACbvW,EAAIuW,MAAK,SAAS1C,GAChB,OAAgB,IAATA,EAAiB,KAAOwC,EAAQvtB,KAAKC,MAAMstB,EAAS,CAACrqB,EAAKA,GAAKvC,OAAOiL,GAC/E,IAAGyiB,OAAM,SAAS3tB,GAChByI,QAAQX,KAAK,aAAa7H,OAAOitB,EAAU,WAAYltB,EAAEoI,QAC3D,SACK,IAAY,IAARoO,EACT,OAAOqW,EAAQvtB,KAAKC,MAAMstB,EAAS,CAACrqB,EAAKA,GAAKvC,OAAOiL,GAK3D,CC7IA,SAASujB,GAAalB,EAAY3M,GAChC5Y,EAASe,SAAS,IAAI9I,OAAOstB,EAAY,4DAA4DttB,OAAO2gB,GAC9G,CACA,IAAI8N,GAA6B,WAC/B,SAASC,EAAYzjB,GACnB,EAAgB1L,KAAMmvB,GAClB/kB,EAAK8L,gBAAgBlW,KAAKovB,eAC5BpvB,KAAKovB,aAAa1jB,GAEpBgjB,GAAgB1uB,MAChBA,KAAKqvB,OAAS3jB,EACd1L,KAAKsvB,SAAW,CAAC,EACjBtvB,KAAKuvB,aAAe,CAAC,EACrBvvB,KAAKyI,OAASiD,EAAKjD,QAAU,CAAC,EAC9BzI,KAAK6J,OAAS,KACd7J,KAAKwvB,aAAe,CAAC,EACrBxvB,KAAK+tB,WAAa,GAClB/tB,KAAKyvB,OAAO/jB,EACd,CAwOA,OAvOA,EAAayjB,EAAa,CAAC,CACzBzsB,IAAK,eACLsB,MAAO,SAAsB0H,GAC7B,GACC,CACDhJ,IAAK,cACLsB,MAAO,WACP,GACC,CACDtB,IAAK,mBACLsB,MAAO,WACP,GACC,CACDtB,IAAK,iBACLsB,MAAO,WACP,GACC,CACDtB,IAAK,kBACLsB,MAAO,WACP,GACC,CACDtB,IAAK,UACLsB,MAAO,WACP,GACC,CACDtB,IAAK,SACLsB,MAAO,SAAgB0H,GACrB1L,KAAK6J,OAAS6B,EAAK7B,OACnB7J,KAAKwvB,aAAe9jB,EAAK7B,QAAU6B,EAAK7B,OAAOpB,OAC/CzI,KAAK+tB,WAAariB,EAAKqiB,WAAariB,EAAKqiB,WAAWlR,cAAgB7c,KAAKoD,YAAY2qB,WAAWlR,cAChG7c,KAAK0vB,OAAShkB,EAAK7B,QAAU6B,EAAK7B,OAAO6lB,MAC3C,GACC,CACDhtB,IAAK,aACLsB,MAAO,SAAoBwJ,GACpBA,IACHA,EAAOxN,KAAKwN,KAEhB,GACC,CACD9K,IAAK,OACLsD,IAAK,WACH,OAAOhG,KAAK6J,OAAO2D,IACrB,GACC,CACD9K,IAAK,OACLsD,IAAK,WACH,OAAOhG,KAAK6J,OAAO0W,IACrB,GACC,CACD7d,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAK6J,OAAO8lB,QACrB,GACC,CACDjtB,IAAK,eACLsD,IAAK,WACH,IAAIsjB,EAAKlf,EAAK0N,oBAAsB,QAAU,QAI9C,OAHI9X,KAAKwvB,cAAoD,UAAnCxvB,KAAKwvB,aAAaI,cAA+D,UAAnC5vB,KAAKwvB,aAAaI,eACxFtG,EAAKtpB,KAAKwvB,aAAaI,cAElBtG,CACT,GACC,CACD5mB,IAAK,KACLsB,MAAO,SAAYiO,EAAO4G,GACxB,IAAI+N,EAAQ5mB,KACPiS,GAAU4G,GAAa7Y,KAAK6J,OAIZ,kBAAVoI,GACTjS,KAAKsvB,SAASrd,GAAS4G,EACvB7Y,KAAK6J,OAAOye,GAAGrW,EAAO4G,IACbtY,MAAMmG,QAAQuL,IACvBA,EAAMxP,SAAQ,SAASmM,GACrBgY,EAAM0I,SAAS1gB,GAAQiK,EACvB+N,EAAM/c,OAAOye,GAAG1Z,EAAMiK,EACxB,IAVAoW,GAAajvB,KAAK+tB,WAAY,6BAYlC,GACC,CACDrrB,IAAK,OACLsB,MAAO,SAAciO,EAAO4G,GAC1B,IAAIkP,EAAS/nB,KACRiS,GAAU4G,GAAa7Y,KAAK6J,OAIZ,kBAAVoI,GACTjS,KAAKuvB,aAAatd,GAAS4G,EAC3B7Y,KAAK6J,OAAOgmB,KAAK5d,EAAO4G,IACftY,MAAMmG,QAAQuL,IACvBA,EAAMxP,SAAQ,SAASmM,GACrBmZ,EAAOwH,aAAa3gB,GAAQiK,EAC5BkP,EAAOle,OAAOgmB,KAAK5d,EAAO4G,EAC5B,IAVAoW,GAAajvB,KAAK+tB,WAAY,+BAYlC,GACC,CACDrrB,IAAK,MACLsB,MAAO,SAAaiO,EAAO4G,GACzB,IAAImP,EAAShoB,KACRiS,GAAU4G,GAAa7Y,KAAK6J,OAIZ,kBAAVoI,UACFjS,KAAKsvB,SAASrd,GACrBjS,KAAK6J,OAAO6e,IAAIzW,EAAO4G,IACdtY,MAAMmG,QAAQuL,IACvBA,EAAMxP,SAAQ,SAASmM,UACdoZ,EAAOsH,SAASrd,GACvB+V,EAAOne,OAAO6e,IAAI9Z,EAAMiK,EAC1B,IAVAoW,GAAajvB,KAAK+tB,WAAY,8BAYlC,GACC,CACDrrB,IAAK,SACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACb,CAAC,WAAY,gBAAgByC,SAAQ,SAASC,GAC5CvD,OAAO2C,KAAKmmB,EAAOvlB,IAAMD,SAAQ,SAASmM,GACxCqZ,EAAOvlB,GAAKkM,IAASqZ,EAAOS,IAAI9Z,EAAMqZ,EAAOvlB,GAAKkM,IAClDA,UAAeqZ,EAAOvlB,GAAKkM,EAC7B,GACF,IACA5O,KAAKsvB,SAAW,CAAC,EACjBtvB,KAAKuvB,aAAe,CAAC,CACvB,GACC,CACD7sB,IAAK,OACLsB,MAAO,SAAciO,GACnB,IAAI6d,EACJ,GAAK9vB,KAAK6J,OAAV,CAGA,IAAK,IAAIf,EAAOrJ,UAAUC,OAAQiI,EAAM,IAAIpH,MAAMuI,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IACjGrB,EAAIqB,EAAO,GAAKvJ,UAAUuJ,IAE3B8mB,EAAe9vB,KAAK6J,QAAQsb,KAAKplB,MAAM+vB,EAAc,CAAC7d,GAAOxR,OAAOkH,GAJrE,CAKF,GACC,CACDjF,IAAK,iBACLsB,MAAO,SAAwBiO,EAAO8d,GACpC,IAAIC,EAASvwB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC/E,GAAKO,KAAK6J,OAAV,CAGA,IAAIomB,EAAU3tB,EAAeA,EAAe,CAAC,EAAG0tB,GAAS,CAAC,EAAG,CAC3DjC,WAAY/tB,KAAK+tB,aAEnB/tB,KAAK6J,OAAOqmB,eAAeje,EAAO8d,EAAQE,EAJ1C,CAKF,GACC,CACDvtB,IAAK,OACLsB,MAAO,SAAgB0pB,EAAUL,GAC/B,OAAOI,GAAK3tB,KAAKC,MAAM0tB,GAAM,CAACztB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YACxE,GACC,CACDiD,IAAK,WACLsB,MAAO,SAAoB0pB,EAAUL,GACnC,IAAK,IAAIhkB,EAAQ5J,UAAUC,OAAQgM,EAAO,IAAInL,MAAM8I,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGoC,EAAKpC,EAAQ,GAAK7J,UAAU6J,GAE9B,OAAO8kB,GAAStuB,KAAKC,MAAMquB,GAAU,CAACpuB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YAChF,GACC,CACDiD,IAAK,cACLsB,MAAO,SAAuB0pB,EAAUL,GACtC,IAAK,IAAI3jB,EAAQjK,UAAUC,OAAQgM,EAAO,IAAInL,MAAMmJ,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxG+B,EAAK/B,EAAQ,GAAKlK,UAAUkK,GAE9B,OAAO0kB,GAAYvuB,KAAKC,MAAMsuB,GAAa,CAACruB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YACtF,GACC,CACDiD,IAAK,iBACLsB,MAAO,SAAwBwqB,GAC7B,IAAI5jB,EAAUnL,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC5EyH,EAAOzH,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC5E,GAAKO,KAAK6J,OAIV,OADA3C,IAAS0D,EAAQmjB,WAAa7mB,GACvBlH,KAAK6J,OAAOsmB,eAAe,CAChC3B,SACA5jB,WAEJ,GACC,CACDlI,IAAK,YACLsB,MAAO,SAAmBkD,GACxB,OAAOlH,KAAK6J,OAAS7J,KAAK6J,OAAOumB,UAAUlpB,GAAQ,IACrD,GACC,CACDxE,IAAK,YACLsB,MAAO,WACL,IAAIwkB,EAASxoB,KACT6J,EAAS7J,KAAK6J,OACdkkB,EAAa/tB,KAAK+tB,WACtB/tB,KAAKqwB,SACLjmB,EAAKmK,eAAevU,MAChBoK,EAAK8L,gBAAgBlW,KAAKswB,UAC5BtwB,KAAKswB,UAEP,CAAC,SAAU,eAAgB,aAAc,SAAU,SAAU,WAAW/f,KAAI,SAAS3B,GACnF4Z,EAAO5Z,GAAQ,IACjB,IACA/E,EAAO0mB,iBAAiBxC,GACxBa,GAAmB5uB,KACrB,IACE,CAAC,CACH0C,IAAK,uBACLsB,MAAO,SAA8BwsB,EAAKjgB,GACxC,IAAK,IAAI7N,KAAO6N,EACVpR,OAAOS,UAAUC,eAAeC,KAAKyQ,EAAK7N,IAC5CvD,OAAO2D,eAAe0tB,EAAK9tB,EAAK6N,EAAI7N,GAG1C,GACC,CACDA,IAAK,gBACLsD,IAAK,WACH,MAAO,CAAC,CACV,GACC,CACDtD,IAAK,aACLsD,IAAK,WACH,MAAO,YACT,KAEKmpB,CACT,CAxPiC,G,sBCJ7BsB,GAAa,CACfC,SAAU,WACVC,KAAM,QAEJC,GAAY,CACdD,KAAM,OACNE,UAAW,WACXC,WAAY,YACZC,SAAU,UACVC,cAAe,eACfC,eAAgB,gBAChBC,eAAgB,gBAChBC,gBAAiB,iBACjBT,SAAU,YAEZ,SAASU,GAAMlgB,GACb,QAAKA,IAGEA,EAAI5Q,SAAW,qBAAqB6G,KAAK+J,GAClD,CACA,SAASmgB,GAAeC,EAAMtiB,GAC5B,MAAsB,WAAlBjM,EAAQuuB,IAAsBA,EAAKC,OAA+B,kBAAfD,EAAKC,MACnD,GAAG9wB,OAAOuO,EAAW,KAAKvO,OAAO6wB,EAAKC,OAExCviB,CACT,CACA,SAASwiB,GAAcF,EAAMG,GAM3B,MALsB,WAAlB1uB,EAAQuuB,IAAsBA,EAAKG,MAA+B,WAAvB1uB,EAAQuuB,EAAKG,OAC1DtyB,OAAO2C,KAAKwvB,EAAKG,MAAMlhB,KAAI,SAAS7N,GAClC+uB,EAAK/uB,GAAO4uB,EAAKG,KAAK/uB,EACxB,IAEK+uB,CACT,CACA,SAASC,GAAWJ,EAAM5uB,GACxB,IAAIsM,EAAYvP,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC7EgyB,EAAOhyB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EACzEsuB,EAAatuB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC9EkyB,EAAU,KACd,GAAIL,aAAgBtpB,OAAO4pB,QAKzB,OAJAxnB,EAAK+E,SAASmiB,EAAMtiB,GACpB7P,OAAO2C,KAAK2vB,GAAMlhB,KAAI,SAASshB,GAC7BP,EAAKziB,aAAagjB,EAAMJ,EAAKI,GAC/B,IACOP,EAET,GAAIF,GAAME,IAASF,GAAME,EAAKhe,KAG5B,OAFAme,EAAKxe,IAAMme,GAAME,GAAQA,EAAOA,EAAKhe,KAAO,GAC5Cqe,EAAUvnB,EAAKgE,UAAUkjB,EAAKQ,KAAO,MAAO,GAAIL,EAAM,UAAUhxB,OAAOuO,IAChE2iB,EAET,GAAoB,oBAATL,EACT,IAEE,OADAK,EAAUL,IACNK,aAAmB3pB,OAAO4pB,SAC5BxnB,EAAK+E,SAASwiB,EAAS3iB,GACvB7P,OAAO2C,KAAK2vB,GAAMlhB,KAAI,SAASshB,GAC7BF,EAAQ9iB,aAAagjB,EAAMJ,EAAKI,GAClC,IACOF,IAEPnpB,EAASW,QAAQ,eAAe1I,OAAOiC,EAAK,gCAAgCjC,OAAOstB,EAAY,kDAE1F,KACT,CAAE,MAAOvtB,GAEP,OADAgI,EAASe,SAAS,iBAAiB9I,OAAOstB,EAAY,gBAAiBvtB,GAChE,IACT,CAEF,MAAoB,kBAAT8wB,EACFlnB,EAAK0E,kBAAkBwiB,EAAMG,EAAMziB,IAE5CxG,EAASW,QAAQ,eAAe1I,OAAOiC,EAAK,gCAAgCjC,OAAOstB,EAAY,iBACxF,KACT,CACA,SAASgE,GAAiBC,EAAaxD,GACrC,IAAIyD,EAASzD,EAAO/lB,OAAOypB,OAAS1D,EAAOgB,aAAa0C,MACxD/yB,OAAO2C,KAAKkwB,GAAazhB,KAAI,SAAS7N,GACpC,IAAIyvB,EAAUH,EAAYtvB,GACtBsM,EAAYmjB,GAAWA,EAAQZ,MAAQY,EAAQZ,MAAQ,GACvDE,EAAOU,GAAWA,EAAQV,KAAOU,EAAQV,KAAO,CAAC,EACjDE,EAAU,KACVM,GAAUA,EAAOvvB,KACnBsM,EAAYqiB,GAAeY,EAAOvvB,GAAMsM,GACxCyiB,EAAOD,GAAcS,EAAOvvB,GAAM+uB,GAClCE,EAAUD,GAAWO,EAAOvvB,GAAMA,EAAKsM,EAAWyiB,EAAMjD,EAAOT,cAE5D4D,GAAWQ,IACdR,EAAUD,GAAWS,EAAQb,KAAOa,EAAQb,KAAOa,EAASV,EAAMziB,EAAW,CAAC,EAAGwf,EAAOT,aAE1FS,EAAO0D,MAAMxvB,GAAOivB,CACtB,GACF,CACA,SAASS,GAAgBC,EAAY7D,GACnCrvB,OAAO2C,KAAKuwB,GAAY9hB,KAAI,SAAS7N,GACnCvD,OAAO2D,eAAe0rB,EAAO8D,SAAU5vB,EAAK,CAC1CsD,IAAK,WACH,IAAIwH,EAAOghB,EAAOhhB,KAAM+S,EAAOiO,EAAOjO,KACtC,OAAIA,EAAK7d,GACA6d,EAAK7d,GAEL2vB,EAAW3vB,IAAO2vB,EAAW3vB,GAAK8K,IAAc,EAE3D,GAEJ,GACF,CACA,IAAI+kB,GAAyB,SAASC,GACpC,EAAUC,EAASD,GACnB,IAAI7L,EAAS,EAAa8L,GAC1B,SAASA,IACP,IAAI7L,EACAlb,EAAOjM,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAI7E,OAHA,EAAgBO,KAAMyyB,GACtB7L,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1Bkb,EAAM8L,YAAc,GACb9L,CACT,CAgaA,OA/ZA,EAAa6L,EAAS,CAAC,CACrB/vB,IAAK,SACLsB,MAAO,SAAgB0H,GAErB,GADA3F,EAAK1B,EAAgBouB,EAAQ7yB,WAAY,SAAUI,MAAMF,KAAKE,KAAM0L,GAC/DA,EAAKgP,KAAV,CAGA,IAAIiY,EAAUjnB,EAAKgP,KACfkY,EAAM,KACV5yB,KAAKkyB,MAAQ,CAAC,EACdlyB,KAAK0a,KAAO,KACZ1a,KAAK6yB,OAAS,KACd,IAAIC,EAAY9yB,KAAK+yB,iBAAmB,CAAC,EACzChB,GAAiBe,EAAW9yB,MAC5BA,KAAKsyB,SAAW,CAAC,EACjB,IAAIU,EAAmBhzB,KAAKizB,yBAA2B,CAAC,EACxDb,GAAgBY,EAAkBhzB,MAClC,IAAIkzB,EAAY,GAChB,IACEA,EAAYlzB,KAAKiB,QACnB,CAAE,MAAOT,GAEP,MADAgI,EAASe,SAAS,UAAU9I,OAAOT,KAAK+tB,WAAY,WAAYvtB,GAC1D,IAAI2yB,MAAM,UAAU1yB,OAAOT,KAAK+tB,WAAY,YAAYttB,OAAOD,EAAEoI,SACzE,CACA,GAAIsqB,EACFN,EAAMH,EAAQW,OAAOF,EAAWP,EAASjnB,EAAKzB,OAC9C2oB,EAAI/jB,aAAa,aAAcnD,EAAKzB,WAC/B,KAAIyB,EAAKomB,IAKd,OAJAc,EAAMxoB,EAAKgE,UAAU1C,EAAKomB,IAAK,GAAIpmB,EAAK+lB,KAAM/lB,EAAKxE,MACnD0rB,EAAI/jB,aAAa,aAAcnD,EAAKzB,OACpC0oB,EAAQhY,YAAYiY,EAGtB,CACA5yB,KAAK0a,KAAOkY,EACZ5yB,KAAK6yB,OAASF,EACd,IAAIlB,EAAOzxB,KAAKyI,OAAOgpB,MAAQ,CAAC,EAC5Bzc,EAAQhV,KAAKyI,OAAOuM,OAAS,CAAC,EAClChV,KAAKqzB,QAAQ5B,GACbzxB,KAAKszB,SAASte,GACVhV,KAAKyI,OAAOwB,OACdjK,KAAK0a,KAAK7L,aAAa,aAAc7O,KAAKyI,OAAOwB,OAEnDjK,KAAKuzB,oBArCL,CAsCF,GACC,CACD7wB,IAAK,qBACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACb,GAAKA,KAAK0a,KAAV,CAGA1a,KAAKwzB,UAAY,GACjB,IAAItkB,EAAWlP,KAAKkP,WAChBA,GAAkC,WAAtBnM,EAAQmM,IAClB/P,OAAO2C,KAAKoN,GAAUxP,OAAS,GACjCP,OAAO2C,KAAKoN,GAAUqB,KAAI,SAAS3B,GACjC,IAKInG,EAAQgrB,EALRvsB,EAAO0H,EACP8kB,EAAUxkB,EAAShI,GACnB0D,EAAU,CACZ8P,KAAMqN,EAAOrN,MAGQ,oBAAZgZ,GACTjrB,EAASsf,EAAOtf,OAAOvB,IAAS,CAAC,EACjCusB,EAAUC,GACoB,WAArB3wB,EAAQ2wB,IAAmD,oBAAnBA,EAAQlF,SACzD/lB,EAASirB,EAAQ9oB,QAAUR,EAAK2I,SAASgV,EAAOtf,OAAOvB,IAAS,CAAC,EAAGwsB,EAAQ9oB,SAAWmd,EAAOtf,OAAOvB,IAAS,CAAC,EAC/GusB,EAAUC,EAAQlF,QAEpB5jB,EAAQnC,OAASA,OACA,IAAjBA,EAAOwB,QAAqBW,EAAQX,MAAQxB,EAAOwB,OACnDxB,EAAOiS,OAAS9P,EAAQ8P,KAAOjS,EAAOiS,MACtCqN,EAAOoI,eAAesD,EAAS7oB,EAAS1D,EAC1C,GAvBJ,CA0BF,GACC,CACDxE,IAAK,aACLsB,MAAO,SAAoBwJ,GAIzB,SAASmmB,EAAc/f,EAAMiF,GAC3B,IAAK,IAAIhY,EAAI,EAAGA,EAAI+S,EAAK1E,SAASxP,OAAQmB,IACpC+S,EAAK1E,SAASrO,GAAGqO,SAASxP,OAAS,EACrCi0B,EAAc/f,EAAK1E,SAASrO,GAAIgY,GAEhCA,EAASjF,EAAK1E,SAASrO,GAG7B,CAXK2M,IACHA,EAAOxN,KAAKwN,MAWd,IAAIkN,EAAO1a,KAAK0a,KAAM6F,EAAOvgB,KAAKugB,KAAM+R,EAAWtyB,KAAKsyB,SACpD5X,GACFiZ,EAAcjZ,GAAM,SAAS9G,GAC3B,IAAIggB,EAAUhgB,EAAKjG,cAAgBiG,EAAKjG,aAAa,YACrD,GAAKimB,EAAL,CAGA,IAAIC,EAAetT,EAAKqT,EAAQvL,gBAAkBiK,EAASsB,GACvDC,IACFjgB,EAAKjF,UAAoC,oBAAjBklB,EAA8BA,EAAarmB,GAAQqmB,EAH7E,CAKF,GAEJ,GACC,CACDnxB,IAAK,OACLsD,IAAK,WACH,OAAOhG,KAAK6J,OAAO2D,IACrB,GACC,CACD9K,IAAK,oBACLsB,MAAO,SAA2BwK,GAChC,IAAI9L,EAAMjD,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GACvE8gB,EAAOvgB,KAAKugB,MAAQ,CAAC,EACrB+R,EAAWtyB,KAAKsyB,SACpB9jB,EAAIK,cAAgBL,EAAIK,aAAa,WAAYnM,GACjD,IAAIiU,EAAO4J,EAAK7d,IAAQ4vB,EAAS5vB,IAAQ,GACrCiU,IACFnI,EAAIG,UAAYgI,EAEpB,GACC,CACDjU,IAAK,UACLsB,MAAO,WACL,OAAOhE,KAAKwzB,SACd,GACC,CACD9wB,IAAK,WACLsB,MAAO,WACL,MAAO,CAAC,CACV,GACC,CACDtB,IAAK,iBACLsB,MAAO,SAAwBwqB,GAC7B,IAAI5jB,EAAUnL,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC5EyH,EAAOzH,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC5EmL,EAAQ8P,KAAO9P,EAAQ8P,MAAQ1a,KAAK0a,KACpC,IAAIvZ,EAAK4E,EAAK1B,EAAgBouB,EAAQ7yB,WAAY,iBAAkBI,MAAMF,KAAKE,KAAMwuB,EAAQ5jB,EAAS1D,GAEtG,OADAlH,KAAKwzB,UAAUnxB,KAAKlB,GACbA,CACT,GACC,CACDuB,IAAK,gBACLsB,MAAO,WACL,MAAO,CAAC,CACV,GACC,CACDtB,IAAK,wBACLsB,MAAO,WACL,MAAO,CAAC,CACV,GACC,CACDtB,IAAK,OACLsB,MAAO,SAAc8vB,GACnB,GAAK9zB,KAAK0a,KAGV,OAAO1a,KAAK0a,KAAK/J,cAAcmjB,EACjC,GACC,CACDpxB,IAAK,OACLsB,MAAO,SAAc2M,EAAeojB,EAAWlb,GAC7C,IAAImP,EAAShoB,KACb,GAAIP,UAAUC,OAAS,GAA0B,oBAAdq0B,EAC7BxzB,MAAMmG,QAAQiK,GAChBA,EAAclO,SAAQ,SAASmM,GAC7BoZ,EAAOgM,OAAOplB,EAAMmlB,EACtB,IAEA/zB,KAAKg0B,OAAOrjB,EAAeojB,OAExB,CACL,IAAI/c,EAAMyb,EAAQwB,SAASn0B,KAAKE,KAAMA,KAAK0a,KAAM/J,EAAeojB,EAAWlb,GAC3E7Y,KAAK0yB,YAAc1yB,KAAK0yB,YAAYjyB,OAAOuW,EAC7C,CACF,GACC,CACDtU,IAAK,SACLsB,MAAO,SAAgB2M,EAAeojB,GACpC,IAAI9L,EAASjoB,KACb,GAAIP,UAAUC,OAAS,GAA0B,oBAAdq0B,EAC7BxzB,MAAMmG,QAAQiK,GAChBA,EAAclO,SAAQ,SAASmM,GAC7BqZ,EAAOiM,SAAStlB,EAAMmlB,EACxB,IAEA/zB,KAAKk0B,SAASvjB,EAAeojB,QAI/B,IADA,IAAIrxB,EAAM,GAAGjC,OAAOkQ,EAAe,KAAKlQ,OAAOszB,GACtClzB,EAAI,EAAGA,EAAIb,KAAK0yB,YAAYhzB,OAAQmB,IAC3C,GAAIb,KAAK0yB,YAAY7xB,GAAG6B,MAAQA,EAAK,CACnC1C,KAAK0yB,YAAY7xB,GAAGyvB,UACpBtwB,KAAK0yB,YAAYpe,OAAOzT,EAAG,GAC3B,KACF,CAGN,GACC,CACD6B,IAAK,WACLsB,MAAO,SAAkBkD,EAAMlD,GAC7B,IAAIwkB,EAASxoB,KACb,GAAKA,KAAK0a,KAGV,MAA0B,WAAtBtQ,EAAKkG,OAAOpJ,GACPlH,KAAK0a,KAAK1F,MAAM9N,GAAQlD,OACA,WAAtBoG,EAAKkG,OAAOpJ,IACrB/H,OAAO2C,KAAKoF,GAAMqJ,KAAI,SAAS7N,GAC7B8lB,EAAO9N,KAAK1F,MAAMtS,GAAOwE,EAAKxE,EAChC,IAEJ,GACC,CACDA,IAAK,UACLsB,MAAO,SAAiBkD,EAAMlD,GAC5B,IAAI4kB,EAAS5oB,KACb,GAAKA,KAAK0a,KAGV,MAA0B,WAAtBtQ,EAAKkG,OAAOpJ,GACPlH,KAAK0a,KAAK7L,aAAa3H,EAAMlD,QACL,WAAtBoG,EAAKkG,OAAOpJ,IACrB/H,OAAO2C,KAAKoF,GAAMqJ,KAAI,SAAS7N,GAC7BkmB,EAAOlO,KAAK7L,aAAanM,EAAKwE,EAAKxE,GACrC,IAEJ,GACC,CACDA,IAAK,UACLsB,MAAO,SAAiBmwB,EAAStb,GAC1B7Y,KAAK0a,OAGV1a,KAAK0a,KAAK/L,UAAYwlB,EACE,oBAAbtb,GACTA,IAEJ,GACC,CACDnW,IAAK,SACLsB,MAAO,SAAgBiO,EAAOmiB,GAC5B,IAAIC,EAAW50B,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GACtEO,KAAK0a,MAGN,KAAKja,OAAOwR,KAAUjS,KAAK0a,MAA+B,oBAAhB0Z,GAC5Cp0B,KAAK0a,KAAK6N,iBAAiBtW,EAAOmiB,EAAaC,EAEnD,GACC,CACD3xB,IAAK,WACLsB,MAAO,SAAkBiO,EAAOmiB,GAC9B,IAAIC,EAAW50B,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GACtEO,KAAK0a,MAGN,KAAKja,OAAOwR,KAAUjS,KAAK0a,MAA+B,oBAAhB0Z,GAC5Cp0B,KAAK0a,KAAK+N,oBAAoBxW,EAAOmiB,EAAaC,EAEtD,GACC,CACD3xB,IAAK,OACLsB,MAAO,SAAcA,GACnB,GAAKhE,KAAK0a,KAAV,CAGA1a,KAAK0a,KAAK1F,MAAMqB,aAAoB,IAAVrS,EAAmBA,EAAQ,QACrD,IAAIswB,EAAKtsB,OAAOgJ,iBAAiBhR,KAAK0a,KAAM,MACxC6Z,EAAkBD,EAAGE,iBAAiB,WAC1C,MAAwB,SAApBD,EACKv0B,KAAK0a,KAAK1F,MAAMqB,QAAU,aADnC,CAJA,CAOF,GACC,CACD3T,IAAK,OACLsB,MAAO,WACLhE,KAAK0a,OAAS1a,KAAK0a,KAAK1F,MAAMqB,QAAU,OAC1C,GACC,CACD3T,IAAK,cACLsB,MAAO,SAAqBywB,EAAMC,GAChC,IAAK10B,KAAK0a,KACR,OAAO,KAET,GAAIjb,UAAUC,OAAS,GAAKD,UAAU,aAAcuI,OAAO4pB,QACzD,OAAO5xB,KAAK0a,KAAKC,YAAYlb,UAAU,IAEzC,IAAKi1B,KAAWA,aAAiB1sB,OAAO4pB,SACtC,OAAO,KAET,IACE,MAAoB,kBAAT6C,EACFz0B,KAAK20B,KAAKF,GAAM9Z,YAAY+Z,GAE5BD,EAAK9Z,YAAY+Z,EAE5B,CAAE,MAAOtlB,GAEP,OADA5G,EAASe,SAAS,qBAAsB6F,GACjC,IACT,CACF,GACC,CACD1M,IAAK,SACLsB,MAAO,WACL,MAAO,EACT,GACC,CACDtB,IAAK,UACLsB,MAAO,WACP,GACC,CACDtB,IAAK,YACLsB,MAAO,WACL,IAAI4wB,EAAS50B,KACT6J,EAAS7J,KAAK6J,OAClB7J,KAAK0yB,YAAYniB,KAAI,SAAS3B,GAC5BA,EAAK0hB,SACP,IACAtwB,KAAK0yB,YAAc,GACf1yB,KAAKwzB,qBAAqBjzB,QAC5BP,KAAKwzB,UAAUjjB,KAAI,SAAS3B,GAC1B/E,EAAO0mB,iBAAiB3hB,EAAKmf,WAC/B,IACA/tB,KAAKwzB,UAAY,MAEfxzB,KAAK0a,OACH1a,KAAK0a,KAAK7a,eAAe,UAC3BG,KAAK0a,KAAK3K,SACD/P,KAAK0a,KAAKma,YACnB70B,KAAK0a,KAAKma,WAAWxL,YAAYrpB,KAAK0a,OAG1C3U,EAAK1B,EAAgBouB,EAAQ7yB,WAAY,YAAaI,MAAMF,KAAKE,MACjEA,KAAKkyB,MAAQ,CAAC,EACd,CAAC,OAAQ,UAAU3hB,KAAI,SAAS3B,GAC9BgmB,EAAOhmB,GAAQ,IACjB,GACF,IACE,CAAC,CACHlM,IAAK,SACLsB,MAAO,SAAgB+K,EAAM8jB,GAC3B,IAAI5oB,EAAQxK,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzE2H,EAAMyrB,EAAO3jB,SAASxP,OACtBo1B,EAAYjtB,OAAOoC,GACnB8qB,EAAehmB,aAAgB/G,OAAOkL,KAC1C,GAAI9L,EAAK,CAIP,IAHA,IAAIvG,EAAI,EACJm0B,EAAa,KACbC,EAAO,GACJp0B,EAAIuG,EAAKvG,IAAK,CACnBm0B,EAAanC,EAAO3jB,SAASrO,GAC7B,IAAIq0B,EAASrtB,OAAOmtB,EAAWrnB,aAAa,eAC5C,GAAIunB,GAAUJ,EAAW,CACvBG,EAAO,cACP,KACF,CAAWC,EAASJ,IAClBG,EAAO,WAEX,CAUA,OATIF,EACW,aAATE,EACFpC,EAAOlY,YAAY5L,GAEnB8jB,EAAOsC,aAAapmB,EAAMimB,GAG5BA,EAAWI,mBAAmBH,EAAMlmB,GAEtB,aAATkmB,EAAsBpC,EAAO3jB,SAAS2jB,EAAO3jB,SAASxP,OAAS,GAAKmzB,EAAO3jB,SAASrO,EAC7F,CAEE,OADAk0B,EAAelC,EAAOlY,YAAY5L,GAAQ8jB,EAAOuC,mBAAmB,YAAarmB,GAC1E8jB,EAAO3jB,SAAS2jB,EAAO3jB,SAASxP,OAAS,EAEpD,GACC,CACDgD,IAAK,gBACLsD,IAAK,WACH,MAAO,CAAC,CACV,GACC,CACDtD,IAAK,WACLsB,MAAO,SAAkB0W,EAAM/J,EAAeojB,EAAWlb,GACvD,IAAIwc,EAAU51B,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GACtE61B,EAAO,GACX,GAAI5a,aAAgB1S,OAAOkL,MAA4B,oBAAb2F,EACxC,GAAItY,MAAMmG,QAAQqtB,GAChBA,EAAUtxB,SAAQ,SAASmM,GACzB,IAAI2mB,EAAO,KAAU7a,EAAM/J,EAAe/B,EAAMiK,EAAUwc,GAC1DE,EAAK7yB,IAAM,GAAGjC,OAAOkQ,EAAe,KAAKlQ,OAAOmO,GAChD0mB,EAAKjzB,KAAKkzB,EACZ,QACK,CACL,IAAIve,EAAM,KAAU0D,EAAM/J,EAAeojB,EAAWlb,EAAUwc,GAC9Dre,EAAItU,IAAM,GAAGjC,OAAOkQ,EAAe,KAAKlQ,OAAOszB,GAC/CuB,EAAKjzB,KAAK2U,EACZ,CAEF,OAAOse,CACT,GACC,CACD5yB,IAAK,aACLsD,IAAK,WACH,OAAOyqB,EACT,GACC,CACD/tB,IAAK,YACLsD,IAAK,WACH,OAAO4qB,EACT,KAEK6B,CACT,CA3a6B,CA2a3BvD,ICzhBEsG,GAAiC,WACnC,SAASC,IACP,IAAI7O,EAAQ5mB,KAYZ,GAXA,EAAgBA,KAAMy1B,GACtB9yB,EAAgB3C,KAAM,aAAa,SAAS01B,GAC1C,IAAIC,GAAI,IAAI9oB,MAAOkN,UACnB6M,EAAMnB,UAAYkQ,EAClB,IAAK,IAAI90B,EAAI,EAAGA,EAAI60B,EAAQh2B,OAAQmB,IAClC+lB,EAAMgP,aAAaF,EAAQ70B,GAAG0B,OAElC,IACAvC,KAAK61B,WAAa,GAClB71B,KAAKylB,UAAY,EACjBzlB,KAAK81B,SAAW,KACX9tB,OAAOwtB,eAGZ,IACEx1B,KAAK81B,SAAW,IAAI9tB,OAAOwtB,eAAeloB,EAAStN,KAAK+1B,UAAW,IAAK,CACtE1qB,UAAU,KAEZrL,KAAKylB,WAAY,IAAI5Y,MAAOkN,SAC9B,CAAE,MAAOvZ,GACPyI,QAAQZ,MAAM7H,EAChB,CACF,CAkEA,OAjEA,EAAai1B,EAAiB,CAAC,CAC7B/yB,IAAK,cACLsB,MAAO,SAAsBzB,EAAQ8qB,GACnC,GAAKrtB,KAAK81B,SAAV,CAGA91B,KAAK81B,UAAY91B,KAAK81B,SAASE,QAAQzzB,GAIvC,IAHA,IAAI0zB,EAAO1zB,EAAOoL,aAAawf,IAC3B0I,EAAa71B,KAAK61B,WAClB5rB,GAAS,EACJpJ,EAAI,EAAGA,EAAIg1B,EAAWn2B,OAAQmB,IACjCg1B,EAAWh1B,IAAM0B,IAAWszB,EAAWh1B,GAAG0B,SAC5C0H,EAAQpJ,GAGRoJ,GAAS,EACXjK,KAAK61B,WAAW5rB,GAAOojB,QAAUA,EAEjCrtB,KAAK61B,WAAWxzB,KAAK,CACnBE,SACA8qB,UACApf,SAAUgoB,GAhBd,CAmBF,GACC,CACDvzB,IAAK,aACLsB,MAAO,SAAqBzB,GAC1B,IAAI1B,GAAK,EACTb,KAAK61B,WAAWtlB,KAAI,SAAS3B,EAAM3E,GAC7B1H,IAAWqM,EAAKrM,SAClB1B,EAAIoJ,EAER,IACA,IACEjK,KAAK81B,UAAY91B,KAAK81B,SAASI,UAAU3zB,EAC3C,CAAE,MAAO/B,GACT,CACAR,KAAK81B,UAAY91B,KAAK81B,SAASI,UAAU3zB,GACzC1B,GAAK,GAAKb,KAAK61B,WAAWvhB,OAAOzT,EAAG,EACtC,GACC,CACD6B,IAAK,kBACLsB,MAAO,WACLhE,KAAK81B,UAAY91B,KAAK81B,SAASK,aAC/Bn2B,KAAK81B,SAAW,KAChB91B,KAAK61B,WAAa,IACpB,GACC,CACDnzB,IAAK,eACLsB,MAAO,SAAsBzB,GAE3B,IADA,IAAIszB,EAAa71B,KAAK61B,WACbh1B,EAAI,EAAGA,EAAIg1B,EAAWn2B,OAAQmB,IACrC,GAAIg1B,EAAWh1B,IAAM0B,IAAWszB,EAAWh1B,GAAG0B,OAAQ,CACpD,IACEszB,EAAWh1B,GAAGwsB,QAAQ9qB,EACxB,CAAE,MAAO8F,GACPY,QAAQZ,MAAMA,EAChB,CACA,OAAO,CACT,CAEF,OAAO,CACT,KAEKotB,CACT,CA5FqC,GA6FjCW,GAAiB,KACrB,SAASC,GAAY9zB,EAAQ8qB,GAK3B,OAJK+I,KACHA,GAAiB,IAAIZ,IAEvBY,GAAeC,YAAY9zB,EAAQ8qB,GAC5B+I,EACT,CACA,SAASE,GAAW/zB,EAAQ8qB,GAC1B+I,GAAeE,WAAW/zB,EAAQ8qB,EACpC,CCxGA,IAAIkJ,GAAiB,CACnBC,YAAa,CAAC,EACdC,KAAM,SAAc5sB,GAClB,IAAI6sB,EAAO7sB,EAAO8sB,cACbD,IACHA,GAAO,IAAI7pB,MAAOkN,UAClBlQ,EAAO8sB,cAAgBD,IAExB7sB,EAAOpB,OAAOmuB,qBAAuBP,GAAYxsB,EAAO6Q,MAAM,WAC7D7Q,EAAOgtB,QACT,IAC6C,IAAzC13B,OAAO2C,KAAK9B,KAAKw2B,aAAa92B,SAChCmK,EAAOitB,cAAe,GAExB92B,KAAKw2B,YAAYE,GAAQ,CACvBK,QAASltB,EACTmtB,iBAAkBntB,EAAOpB,QAAU,CAAC,EACpCwuB,SAAU,CAAC,EAEf,EACAC,gBAAiB,SAAyBxc,GACxC,GAAI1a,KAAKw2B,YAAa,CAEpB,IADA,IAAIW,EAAQh4B,OAAO2C,KAAK9B,KAAKw2B,aACpB31B,EAAI,EAAGA,EAAIs2B,EAAMz3B,OAAQmB,IAAK,CACrC,IAAIu2B,EAAKp3B,KAAKw2B,YAAYW,EAAMt2B,IAAIk2B,QACpC,GAAIK,EAAG1c,OAASA,EACd,OAAO0c,CAEX,CACA,OAAO,IACT,CACA,OAAO,IACT,EACAC,iBAAkB,SAA0B7I,EAAQ/lB,GAClD,IAAI6uB,EAAU,KACV1sB,EAAU,KAWd,OAVI4jB,EAAOA,QAAmC,oBAAlBA,EAAOA,QACjC8I,EAAU9I,EAAOA,OACjB5jB,EAAU4jB,EAAO5jB,UAEjB0sB,EAAU9I,EACV5jB,EAAU,CAAC,GAETnC,IACFmC,EAAQnC,OAASA,GAAU,CAAC,GAEvB,CACL6uB,UACA1sB,UAEJ,EACA2sB,mBAAoB,SAA4BxJ,EAAYQ,GAC1D,IAAK,IAAI1tB,EAAI,EAAGA,EAAI0tB,EAAQ7uB,OAAQmB,IAClC,GAAIktB,EAAWlR,gBAAkB0R,EAAQ1tB,GAAGktB,WAAWlR,cACrD,OAAO,EAGX,OAAO,CACT,EACA2a,gBAAiB,SAAyBzJ,EAAYyB,GAGpD,IAFA,IAAI1tB,EAAO3C,OAAO2C,KAAK0tB,GACnBiI,EAAW,KACN52B,EAAI,EAAGA,EAAIiB,EAAKpC,OAAQmB,IAC/B,GAAIktB,EAAWlR,gBAAkB/a,EAAKjB,GAAGgc,cAAe,CACtD4a,EAAWjI,EAAa1tB,EAAKjB,IAC7B,KACF,CAEF,MAA8B,WAA1BuJ,EAAKkG,OAAOmnB,GACP,CACL/c,KAAM+c,EAAS/c,KACfgd,SAAUD,EAASC,UAGhB,CAAC,CACV,EACAC,aAAc,SAAsB9tB,EAAQ+tB,GAC1C,IAAIhR,EAAQ5mB,KACR63B,EAAUD,EAAWC,SAAW,KACpC,OAAO5Y,QAAQ6Y,KAAK,CAACF,EAAWG,SAASxK,MAAK,SAASiB,GACrD,IAAI9oB,EAEFA,EADE8oB,GAAUA,EAAOwJ,WACVxJ,EAAOyJ,QAEPzJ,EAEX5H,EAAMsR,SAASruB,EAAQnE,EAAQ8oB,EAAO5jB,QACxC,IAAI,IAAIqU,SAAQ,SAASC,EAASiZ,GAChCnsB,YAAW,WACTmsB,EAAO,IAAIhF,MAAM,WACnB,GAAG0E,EACL,KACF,EACAK,SAAU,SAAkBruB,EAAQ2kB,GAClC,IAAI5jB,EAAUnL,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAChF,GAAKoK,GAAW2kB,GAA4B,oBAAXA,QAA8C,IAArBA,EAAO5uB,UAAjE,CAGA,IAAI82B,EAAO7sB,EAAO8sB,cAClB,GAAKD,GAAS12B,KAAKw2B,YAAYE,GAA/B,CAGK12B,KAAKw2B,YAAYE,GAAMO,WAC1Bj3B,KAAKw2B,YAAYE,GAAMO,SAAW,CAAC,GAErC,IAAI1I,EAAUvuB,KAAKw2B,YAAYE,GAAMO,SACjCmB,EAAkBp4B,KAAKw2B,YAAYE,GAAMM,iBAC7CpsB,EAAQf,OAAS7J,KAAKw2B,YAAYE,GAAMK,QACxC,IAAIhJ,EAAanjB,EAAQmjB,YAAcS,EAAOT,WAC9C,IAAKA,EACH,MAAM,IAAIoF,MAAM,wCAElB,IAAI3E,EAAO6J,aAAgB7J,EAAO6J,YAAYxuB,EAAOpB,OAAO6e,UAAWzd,EAAOpB,OAAO6vB,WAArF,CAIK1tB,EAAQnC,SACXmC,EAAQnC,OAAS,CAAC,GAGpB,IADA,IAAI3G,EAAO3C,OAAO2C,KAAKs2B,GACdv3B,EAAI,EAAGA,EAAIiB,EAAKpC,OAAQmB,IAC/B,GAAIktB,EAAWlR,gBAAkB/a,EAAKjB,GAAGgc,cAAe,CACtD,IAAIpU,EAAS2vB,EAAgBt2B,EAAKjB,IACN,WAAxBuJ,EAAKkG,OAAO7H,GACdmC,EAAQnC,OAAStJ,OAAOC,OAAO,CAAC,EAAGwL,EAAQnC,OAAQ2vB,EAAgBt2B,EAAKjB,KACvC,YAAxBuJ,EAAKkG,OAAO7H,KACrBmC,EAAQnC,OAAO8vB,SAAW9vB,GAE5B,KACF,CAEE+lB,EAAOgK,eACTr5B,OAAO2C,KAAK0sB,EAAOgK,eAAe/1B,SAAQ,SAASC,GACd,qBAAxBkI,EAAQnC,OAAO/F,KACxBkI,EAAQnC,OAAO/F,GAAO8rB,EAAOgK,cAAc91B,GAE/C,IAEGkI,EAAQ8P,KAEsB,kBAAjB9P,EAAQ8P,OACxB9P,EAAQ8P,KAAO7Q,EAAOe,EAAQ8P,OAF9B9P,EAAQ8P,KAAO7Q,EAAO6Q,KAIxB9P,EAAQX,MAAQW,EAAQnC,OAAOwB,OAAS,EACxC,IACMskB,EAAQR,EAAWlR,iBACrB7c,KAAKy4B,WAAW/B,EAAM3I,EAAWlR,eACjC5T,QAAQX,KAAK,2CAA2C7H,OAAOstB,EAAY,uCAE7E,IAAI2K,EAAY,IAAIlK,EAAO5jB,GAM3B,OALA2jB,EAAQR,EAAWlR,eAAiB6b,EACpCnK,EAAQR,EAAWlR,eAAenS,KAAO8jB,EACrCkK,GAA8C,oBAA1BA,EAAUC,aAChCD,EAAUC,cAELD,CACT,CAAE,MAAOtpB,GAEP,MADAnG,QAAQZ,MAAM+G,GACRA,CACR,CA5CA,MAFEnG,QAAQX,KAAK,yBAAyB7H,OAAOstB,EAAY,KAZ3D,CAJA,CA+DF,EACA0K,WAAY,SAAoB/B,EAAMxvB,GAChCwvB,EAAKC,gBACPD,EAAOA,EAAKC,eAEdzvB,EAAOA,EAAK2V,cACZ,IACE,IAAI2R,EAASxuB,KAAKw2B,YAAYE,GAAMO,SAAS/vB,GACzCsnB,IACFA,EAAOT,YAAcS,EAAOoK,mBACrB54B,KAAKw2B,YAAYE,GAAMO,SAAS/vB,GAE3C,CAAE,MAAO1G,GACPyI,QAAQZ,MAAM,eAAe5H,OAAOyG,EAAM,YAAYzG,OAAOi2B,EAAM,WAAYl2B,EACjF,CACF,EACAq4B,aAAc,SAAsBhvB,EAAQ3C,GAC1C,IAAIwvB,EAAO7sB,EAAO8sB,cACdD,GAAQ12B,KAAKw2B,YAAYE,IAAS12B,KAAKw2B,YAAYE,GAAMO,iBACpDj3B,KAAKw2B,YAAYE,GAAMO,SAAS/vB,EAE3C,EACA4xB,WAAY,SAAoBjvB,GAC9B,IAAI6sB,EAAO7sB,EAAO8sB,cAClB,OAAOD,GAAQ12B,KAAKw2B,YAAYE,GAAQ12B,KAAKw2B,YAAYE,GAAMO,SAAW,CAAC,CAC7E,EACA8B,WAAY,SAAoBlvB,EAAQ3C,GACtC,IAAIwvB,EAAO7sB,EAAO8sB,cAClB,IAAKD,IAAS12B,KAAKw2B,YAAYE,GAC7B,OAAO,KAET,IAAIsC,EAAQ9xB,EAAK2V,cACjB,OAAO7c,KAAKw2B,YAAYE,GAAMO,SAAS+B,EACzC,EACAC,WAAY,SAAoBpvB,GAC9B,IAAIke,EAAS/nB,KACb,SAASk5B,EAAW9kB,GAClB,OAAKA,GAAQA,EAAImZ,KAKRnZ,EAJA,IAAI6K,SAAQ,SAASC,GAC1BA,GACF,GAIJ,CACA,OAAO,IAAID,SAAQ,SAASC,GAI1B,IAAIia,EAHJ,GAAKpR,EAAOyO,YASZ,OAJE2C,EADEtvB,EAAOuvB,iBAAmBvvB,EAAOuvB,gBAAgB15B,OACxCuf,QAAQoa,IAAIxvB,EAAOuvB,iBAEnBna,QAAQC,UAEdia,EAAS5L,MAAK,WACnB,IAAImJ,EAAO7sB,EAAO8sB,cAClB,GAAK5O,EAAOyO,YAAYE,GAAxB,CAIA,IAAInI,EAAUxG,EAAOyO,YAAYE,GAAMO,SACnCqC,EAAa,GACjBn6B,OAAO2C,KAAKysB,GAAS9rB,SAAQ,SAAS82B,GACpC,GAAIhL,EAAQgL,IAAUhL,EAAQgL,GAAOC,iBACnC,IACE,IAAIxiB,EAAMuX,EAAQgL,GAAOC,mBACzBF,EAAWj3B,KAAK62B,EAAWliB,GAC7B,CAAE,MAAOxW,GAEP,MADA84B,EAAWj3B,KAAK62B,EAAW,OACrB14B,CACR,CAEJ,IACAye,QAAQoa,IAAI,GAAG54B,OAAO64B,IAAa/L,MAAK,WACtCrO,GACF,IAAGiP,OAAM,SAAS3tB,GAChByI,QAAQZ,MAAM7H,GACd0e,GACF,GAnBA,MAFEA,GAsBJ,GACF,GACF,EACAua,UAAW,SAAmB5vB,GAC5B,IAAI6sB,EAAO7sB,EAAO8sB,cAClB,GAAKD,GAAS12B,KAAKw2B,YAAYE,GAA/B,CAGA,IAAInI,EAAUvuB,KAAKw2B,YAAYE,GAAMO,SACrC93B,OAAO2C,KAAKysB,GAAS9rB,SAAQ,SAAS82B,GAChChL,EAAQgL,IAAUhL,EAAQgL,GAAOG,iBACnCnL,EAAQgL,GAAOG,iBAEnB,GANA,CAOF,EACAC,QAAS,SAAiBnsB,EAAM3D,GAC9B,IAAI6sB,EAAO7sB,EAAO8sB,cAClB,GAAKD,GAAS12B,KAAKw2B,YAAYE,GAA/B,CAGA,IAAInI,EAAUvuB,KAAKw2B,YAAYE,GAAMO,SACrC93B,OAAO2C,KAAKysB,GAAS9rB,SAAQ,SAASmM,GACpC,GAAI2f,EAAQ3f,GAAMgrB,WAChBrL,EAAQ3f,GAAMgrB,WAAWpsB,QAEzB,IACE+gB,EAAQ3f,GAAMpB,KAAOA,CACvB,CAAE,MAAOnF,GACPY,QAAQX,KAAK,GAAG7H,OAAOmO,EAAM,YAC/B,CAEJ,GAZA,CAaF,EACAirB,SAAU,SAAkBhwB,GAC1B,IAAIme,EAAShoB,KACT02B,EAAO7sB,EAAO8sB,cAClB,GAAKD,GAAS12B,KAAKw2B,YAAYE,GAA/B,CAGA,IAAIoD,EAAS,GACTvL,EAAUvuB,KAAKw2B,YAAYE,GAAMO,SACrC93B,OAAO2C,KAAKysB,GAAS9rB,SAAQ,SAAS82B,GACtB,aAAVA,GAAwBhL,EAAQgL,KAClCO,EAAOz3B,KAAK,CACVmsB,OAAQD,EAAQgL,GAAO7uB,KACvBE,QAAS2jB,EAAQgL,GAAOlK,SAE1BrH,EAAOyQ,WAAW/B,EAAM6C,GAE5B,IACAO,EAAOr3B,SAAQ,SAASmM,GACtBoZ,EAAOkQ,SAASruB,EAAQ+E,EAAK4f,OAAQ5f,EAAKhE,QAC5C,GAdA,CAeF,EACAmvB,eAAgB,SAAwBlwB,GACtC,IAAI6sB,EAAO7sB,EAAO8sB,cAClB,GAAKD,GAAS12B,KAAKw2B,YAAYE,GAA/B,CAGA,IAAInI,EAAUvuB,KAAKw2B,YAAYE,GAAMO,UAAY,CAAC,EAClD93B,OAAO2C,KAAKysB,GAAS9rB,SAAQ,SAASC,GAChC6rB,EAAQ7rB,GAAKq3B,gBAAyD,oBAAhCxL,EAAQ7rB,GAAKq3B,gBACrDxL,EAAQ7rB,GAAKq3B,gBAEjB,GANA,CAOF,EACAC,qBAAsB,SAA8B/rB,EAAUgsB,GAC5D,GAAKj6B,KAAKw2B,YAAYvoB,GAAtB,CAGA,IAAKgsB,EAEH,OADAj6B,KAAKw2B,YAAYvoB,GAAU8oB,QAAQD,aAAemD,EAC3ChsB,EAGT,IADA,IAAInM,EAAO3C,OAAO2C,KAAK9B,KAAKw2B,aACnB31B,EAAI,EAAGA,EAAIiB,EAAKpC,OAAQmB,IAAK,CACpC,IAAIrB,EAAIQ,KAAKw2B,YAAY10B,EAAKjB,IAC1BrB,GAAKA,EAAEu3B,UACT/2B,KAAKw2B,YAAY10B,EAAKjB,IAAIk2B,QAAQD,cAAe,EAErD,CAEA,OADA92B,KAAKw2B,YAAYvoB,GAAU8oB,QAAQD,aAAemD,EAC3ChsB,CAbP,CAcF,EACAisB,sBAAuB,WACrB,GAAKl6B,KAAKw2B,YAAV,CAIA,IADA,IAAI10B,EAAO3C,OAAO2C,KAAK9B,KAAKw2B,aACnB31B,EAAI,EAAGA,EAAIiB,EAAKpC,OAAQmB,IAAK,CACpC,IAAIrB,EAAIQ,KAAKw2B,YAAY10B,EAAKjB,IAC9B,GAAIrB,GAAKA,EAAEu3B,SAAWv3B,EAAEu3B,QAAQD,aAC9B,OAAOh1B,EAAKjB,EAEhB,CACA,OAAO,IARP,CASF,EACAyvB,QAAS,SAAiBzmB,GACxB,IAAI6sB,EAAO7sB,EAAO8sB,cAClB,GAAK32B,KAAKw2B,YAAYE,GAAtB,CAGAJ,GAAWzsB,EAAO6Q,MAElB,IADA,IAAI6T,EAAUvuB,KAAKw2B,YAAYE,GAAMO,SAC5B3e,EAAK,EAAG6hB,EAAeh7B,OAAO2C,KAAKysB,GAAUjW,EAAK6hB,EAAaz6B,OAAQ4Y,IAAM,CACpF,IAAI1J,EAAOurB,EAAa7hB,GACxBtY,KAAKy4B,WAAW/B,EAAM9nB,EACxB,CACA,IAAIwrB,EAAevwB,EAAOwwB,YAG1B,UAFOr6B,KAAKw2B,YAAYE,UACjB7sB,EAAO8sB,cACVyD,EAAc,CAChB,IAAIt4B,EAAO3C,OAAO2C,KAAK9B,KAAKw2B,aACxB10B,EAAKpC,OAAS,GAChBM,KAAKg6B,qBAAqBl4B,EAAKA,EAAKpC,OAAS,IAAI,EAErD,CAfA,CAgBF,GCvWE46B,GAAc,CAChBC,QAAS,WACTC,aAAc,wBACdC,MAAO,oBACPC,OAAQ,iBACRpZ,QAAS,mBACTC,MAAO,iBACPO,QAAS,mBACT6Y,QAAS,qBACTlZ,MAAO,oBACP0B,OAAQ,kBACRyX,SAAU,mBACVC,OAAQ,kBACRC,SAAU,oBACVC,WAAY,yBACZC,eAAgB,4BAChBC,kBAAmB,6BACnBC,yBAA0B,yBAC1BC,kBAAmB,6BACnBC,iBAAkB,4BAClBC,YAAa,cACbC,cAAe,gBACfC,gBAAiB,kBACjBC,kBAAmB,oBACnBC,iBAAkB,mBAClBC,mBAAoB,qBACpBha,QAAS,UACTia,GAAI,cACJC,OAAQ,kBACRC,KAAM,iBC5BR,SAASC,KACP,MAAO,CACL5vB,GAAI,GACJmC,GAAI,KACJiF,IAAK,GACLsc,aAAc,UACdmM,cAAc,EACdpnB,MAAO,IACPC,OAAQ,MACRonB,OAAO,EACPC,aAAc,QACdC,cAAe,OACfpW,OAAQ,GACRkB,UAAU,EACVW,eAAe,EACfD,MAAM,EACNyU,QAAQ,EACRzjB,KAAM,EACN0jB,WAAW,EACXC,OAAQ,GACRC,sBAAsB,EACtB1U,oBAAqB,EACrB2U,sBAAuB,KACvBC,qBAAqB,EACrBC,mBAAmB,EACnBC,iBAAiB,EACjBC,oBAAoB,EACpBC,iBAAiB,EACjBC,gBAAgB,EAChBC,gBAAiB,IACjBC,qBAAqB,EACrBC,sBAAsB,EACtBC,sBAAsB,EACtBC,mBAAmB,EACnBC,gBAAgB,EAChB5V,gBAAiB,CAAC,EAClB6V,UAAW,EACXC,aAAc,OACdC,cAAc,EACdC,oBAAqB,WACrB,EACAC,mBAAoB,WACpB,EACAC,cAAe,KACfC,QAAS,GACTC,UAAW,GACXC,SAAU,IACVpwB,KAAMD,IACNwZ,UAAU,EACV8W,gBAAgB,EAChBC,iBAAkB,KAClBC,YAAY,EACZhjB,QAAQ,EACRijB,KAAK,EACLC,UAAU,EACVC,MAAM,EACNC,eAAe,EACfC,aAAa,EACbC,QAAS,GACT9P,QAAS,GACTpI,aAAc,EACdmY,WAAY,CACVh0B,KAAM,IAER2c,aAAa,EACbsX,eAAgB,EAChBC,WAAY,EACZtM,MAAO,CAAC,EACR3R,KAAM,GACN8G,SAAU,EACVoX,UAAW,KACXpf,YAAa,CAAC,EACdqf,YAAY,EACZC,aAAc,IACdC,YAAa,CACXC,cAAe,GACfC,YAAa,GACbC,YAAa,GACbC,eAAgB,CAAC,EACjBC,YAAa,IAGnB,CClFA,IAAIC,GAAY,SAAoBr1B,EAAQs1B,GAC1C,IAAIC,EAAuBC,EACvBC,EAEFA,EADEH,EAAOxR,QAAUwR,EAAOv0B,QACb,IAAIu0B,EAAOxR,OAAOwR,EAAOv0B,QAASf,EAAOpB,QAEzC,IAAI02B,EAAO,CAAC,EAAGt1B,EAAOpB,QAErC,IAAI82B,EAAcD,EAAYE,EAAsBD,EAAYhR,QAASA,OAAkC,IAAxBiR,EAAiC,GAAKA,EAAqBC,EAAsBF,EAAY7B,QAASA,OAAkC,IAAxB+B,EAAiC,GAAKA,EAAqBC,EAAoBH,EAAYrN,MAAOA,OAA8B,IAAtBwN,EAA+B,CAAC,EAAIA,EAAmBC,EAAmBJ,EAAYhf,KAAMA,OAA4B,IAArBof,EAA8B,GAAKA,EAC9a91B,EAAOpB,OAAO8lB,UACjB1kB,EAAOpB,OAAO8lB,QAAU,IAErB1kB,EAAOpB,OAAOi1B,UACjB7zB,EAAOpB,OAAOi1B,QAAU,KAEzB0B,EAAwBv1B,EAAOpB,OAAO8lB,SAASlsB,KAAKtC,MAAMq/B,EAAuBh5B,EAAmBmoB,KACpG8Q,EAAwBx1B,EAAOpB,OAAOi1B,SAASr7B,KAAKtC,MAAMs/B,EAAuBj5B,EAAmBs3B,IACrGv+B,OAAO2C,KAAKowB,GAAO3hB,KAAI,SAAS7N,GACzBmH,EAAOpB,OAAOypB,MAAMxvB,KACvBmH,EAAOpB,OAAOypB,MAAMxvB,GAAOwvB,EAAMxvB,GAErC,IACA,IAAIk9B,EAAS/1B,EAAOpB,OAAO8X,MAAQ,GACnCA,EAAKle,KAAKtC,MAAMwgB,EAAMna,EAAmBw5B,IACzC/1B,EAAOpB,OAAO8X,KAAOA,CACvB,ECnBIsf,GAA2B,SAASpM,GACtC,EAAUqM,EAAWrM,GACrB,IAAI9M,EAAS,EAAamZ,GAC1B,SAASA,IACP,IAAIlZ,EACJ,EAAgB5mB,KAAM8/B,GACtB,IAAK,IAAIh3B,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAazB,OAXA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE,IAAIu/B,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OAAQ2lB,EAAeuQ,EAAsBvQ,aACvIA,EAAa0N,mBAAqBrzB,EAAOm2B,MAAM,CAC7CC,UAAU,GAEd,IACAt9B,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE,IAAI0/B,EAAyB96B,EAAuBwhB,GAAQ/c,EAASq2B,EAAuBr2B,OAC5FA,EAAOm2B,OACT,IACOpZ,CACT,CA8JA,OA7JA,EAAakZ,EAAW,CAAC,CACvBp9B,IAAK,eACLsB,MAAO,SAAsB0H,GACtBA,EAAKjD,OAAOwsB,MAA2B,WAAnB3Y,EAAQC,SAC/B7Q,EAAKjD,OAAOwsB,KAAO,QAEjBvpB,EAAK7B,OAAOpB,OAAOo1B,iBACrBnyB,EAAKjD,OAAOw3B,UAAW,EAE3B,GACC,CACDv9B,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACTmgC,EAAengC,KAAKyI,OAAQ8vB,EAAU4H,EAAa5H,QAAS3jB,EAASurB,EAAavrB,OAAQqgB,EAAOkL,EAAalL,KAClH,IAAIsD,EAAJ,CAGS,SAATtD,GAAmBj1B,KAAK6J,OAAOsF,SAASmrB,GAAYgB,eACpD,IAAItmB,EAAQ,CACVJ,OAAQ,GAAGnU,OAAOmU,EAAQ,OAE5BzV,OAAO2C,KAAKkT,GAAOzE,KAAI,SAAS7N,GAC9BqlB,EAAOrN,KAAK1F,MAAMtS,GAAOsS,EAAMtS,EACjC,IACA1C,KAAKogC,KAAOpgC,KAAK20B,KAAK,gBACtB30B,KAAKqgC,OAASrgC,KAAK20B,KAAK,kBACxB30B,KAAKsgC,MAAQtgC,KAAK20B,KAAK,iBACvB30B,KAAKugC,UAAYvgC,KAAK20B,KAAK,qBAC3B30B,KAAKsoB,GAAG7E,IAAmB,SAAS+c,GAClCA,EAASp2B,EAAK+E,SAAS4Y,EAAOrN,KAAM,iBAAmBtQ,EAAK0F,YAAYiY,EAAOrN,KAAM,gBACvF,IACA,IAAI4hB,EAAuBt8B,KAAKwvB,aAAa8M,qBACtB,WAAnBhgB,EAAQC,QAAgD,WAAzB+f,IACjCt8B,KAAKX,KAAK,aAAcW,KAAKygC,cAC7BzgC,KAAKX,KAAK,aAAcW,KAAK0gC,cAlB/B,CAoBF,GACC,CACDh+B,IAAK,QACLsB,MAAO,WACLhE,KAAK6J,OAAOm2B,MAAM,CAChBC,UAAU,GAEd,GACC,CACDv9B,IAAK,cACLsB,MAAO,WACLhE,KAAK6J,OAAOm2B,MAAM,CAChBC,UAAU,GAEd,GACC,CACDv9B,IAAK,OACLsB,MAAO,WACLhE,KAAK6J,OAAO82B,KAAK,CACfC,cAAc,GAElB,GACC,CACDl+B,IAAK,kBACLsB,MAAO,WACLhE,KAAKyI,OAAOw3B,UAAY71B,EAAK+E,SAASnP,KAAK0a,KAAM4f,GAAYkB,kBAC/D,GACC,CACD94B,IAAK,gBACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM4f,GAAYkB,kBAC1C,GACC,CACD94B,IAAK,OACLsB,MAAO,WACLhE,KAAK0a,KAAK1F,MAAMqB,QAAU,GAC1BrW,KAAK6J,OAAOm2B,OACd,GACC,CACDt9B,IAAK,OACLsB,MAAO,WACLhE,KAAK0a,KAAK1F,MAAMqB,QAAU,MAC5B,GACC,CACD3T,IAAK,OACLsD,IAAK,WACH,OAAOhG,KAAKyI,OAAOwsB,IACrB,GACC,CACDvyB,IAAK,iBACLsB,MAAO,SAAwBwqB,GAC7B,IAAI5jB,EAAUnL,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC5EyH,EAAOzH,UAAUC,OAAS,EAAID,UAAU,QAAK,EACjD,GAAKO,KAAK0a,KAAV,CAGA,IAAI8d,EAAgBhK,EAAOgK,eAAiB,CAAC,EAC7C,IAAK5tB,EAAQ8P,KAAM,CACjB,IAAIgd,EAAW9sB,EAAQ8sB,SAAW9sB,EAAQ8sB,SAAW9sB,EAAQnC,QAAUmC,EAAQnC,OAAOivB,SAAW9sB,EAAQnC,OAAOivB,SAAWc,EAAcd,SACzI,OAAQA,GACN,KAAK9G,GAAUI,cACbpmB,EAAQ8P,KAAO1a,KAAKogC,KACpB,MACF,KAAKxP,GAAUM,eACbtmB,EAAQ8P,KAAO1a,KAAKsgC,MACpB,MACF,KAAK1P,GAAUO,gBACbvmB,EAAQ8P,KAAO1a,KAAKqgC,OACpB,MACF,KAAKzP,GAAUF,SACb9lB,EAAQ8P,KAAO1a,KAAK0a,KACpB,MACF,QACE9P,EAAQ8P,KAAO1a,KAAKogC,KAExB,OAAOr6B,EAAK1B,EAAgBy7B,EAAUlgC,WAAY,iBAAkBI,MAAMF,KAAKE,KAAMwuB,EAAQ5jB,EAAS1D,EACxG,CArBA,CAsBF,GACC,CACDxE,IAAK,UACLsB,MAAO,WACkB,WAAnBsY,EAAQC,SACVvc,KAAK6gC,OAAO,aAAc7gC,KAAKygC,cAC/BzgC,KAAK6gC,OAAO,aAAc7gC,KAAK0gC,cAEnC,GACC,CACDh+B,IAAK,SACLsB,MAAO,WACL,IAAI88B,EAAgB9gC,KAAKyI,OAAQwsB,EAAO6L,EAAc7L,KAAMgL,EAAWa,EAAcb,SAAUc,EAAWD,EAAcC,SAAUxI,EAAUuI,EAAcvI,QAC1J,IAAIA,EAAJ,CAGA,IAAI7pB,EAAYtE,EAAK8F,WAAW,CAC9B,qBAAqB,GACpB,CACD,gBAA0B,SAAT+kB,GAChB,CACD,kBAA4B,WAATA,GAClBtyB,EAAgB,CAAC,EAAG23B,GAAYkB,kBAAmByE,GAAW,CAC/D,6BAA8Bc,IAAad,IAE7C,MAAO,uBAAuBx/B,OAAOiO,EAAW,sUAVhD,CAWF,IACE,CAAC,CACHhM,IAAK,aACLsD,IAAK,WACH,MAAO,UACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLuyB,SAAS,EACT0H,UAAU,EACVhL,KAAM,GACN8L,UAAU,EAEd,KAEKjB,CACT,CApL+B,CAoL7BvN,IC3LEyO,GAAK,CACPC,KAAM,KACNC,KAAM,CACJ5gB,YAAa,CACX6gB,QAAS,CACPrgB,KAAM,EACNM,IAAK,wBAEPggB,IAAK,CACHtgB,KAAM,EACNM,IAAK,uBAEPigB,MAAO,CACLvgB,KAAM,EACNM,IAAK,iBAEP1P,OAAQ,CACNoP,KAAM,EACNM,IAAK,gBAEPkgB,QAAS,CACPxgB,KAAM,EACNM,IAAK,kBAEPmgB,QAAS,CACPzgB,KAAM,EACNM,IAAK,sBAEPyW,QAAS,CACP/W,KAAM,EACNM,IAAK,gBAEPogB,MAAO,CACL1gB,KAAM,EACNM,IAAK,iBAGTqgB,aAAc,0DACdC,cAAe,iCACfC,kBAAmB,qHACnBC,iBAAkB,sDAClBC,iBAAkB,oDAClBC,cAAe,uCACfC,aAAc,oFACdC,gBAAiB,sCACjBC,kBAAmB,kCACnBC,kBAAmB,2CACnBC,kBAAmB,sCACnBC,iBAAkB,mCAClBC,4BAA6B,+BAC7Blf,OAAQ,SACR1B,MAAO,qBACP6gB,UAAW,OACXC,WAAY,QACZC,cAAe,YACfC,cAAe,WACfC,YAAa,SACbC,YAAa,SACbC,gBAAiB,aACjBC,oBAAqB,kBACrBC,mBAAoB,gBACpBC,uBAAwB,qBACxBC,UAAW,UACXC,IAAK,MACLC,WAAY,aACZC,KAAM,OACNC,IAAK,MACLC,KAAM,OACNC,UAAW,yBACXC,WAAY,aACZC,aAAc,aACdC,QAAS,UACTC,QAAS,UACTC,SAAU,SCtEVC,GAAa,CACfp2B,KAAM,CAAC,EACPq2B,SAAU,GACVC,SAAU,IAEZ,SAAS3wB,GAAUH,EAAKC,GAmBtB,OAlBA9T,OAAO2C,KAAKmR,GAAKxQ,SAAQ,SAASC,GAChC,IAGM0Q,EAHF2wB,EAAK35B,EAAKkG,OAAO2C,EAAIvQ,IACrBshC,EAAK55B,EAAKkG,OAAO0C,EAAItQ,IACd,UAAPqhC,GAES,UAAPC,IACFhxB,EAAItQ,GAAO,KAEZ0Q,EAAWJ,EAAItQ,IAAML,KAAKtC,MAAMqT,EAAUhN,EAAmB6M,EAAIvQ,MAClD,WAAPqhC,GACE,WAAPC,IACFhxB,EAAItQ,GAAO,CAAC,GAEdyQ,GAAUH,EAAItQ,GAAMuQ,EAAIvQ,KAExBsQ,EAAItQ,GAAOuQ,EAAIvQ,EAEnB,IACOsQ,CACT,CACA,SAASixB,KACP9kC,OAAO2C,KAAK8hC,GAAWp2B,KAAK02B,IAAI3zB,KAAI,SAAS7N,GAC3CkhC,GAAWE,SAASphC,GAAOA,CAC7B,GACF,CACA,SAASyhC,GAAOC,EAAcC,GAC5B,IAAIjkB,EAAM,GAIV,GAHKikB,IACHA,EAAYT,IAETS,EAAU72B,KAAf,CAIE4S,EADgC,UAA9BhW,EAAKkG,OAAO8zB,GACRjlC,OAAO2C,KAAKsiC,GAAc7zB,KAAI,SAAS+zB,GAC3C,IAAIC,EAAoB,OAAVD,EAAiB,QAAUA,EACzC,MAAO,CACLrD,KAAMsD,EACNrD,KAAMkD,EAAaE,GAEvB,IAEMF,EAER,IAAII,EAAaH,EAAW72B,EAAOg3B,EAAWh3B,KAC9C4S,EAAI7P,KAAI,SAAS3B,GACG,OAAdA,EAAKqyB,OACPryB,EAAKqyB,KAAO,SAETzzB,EAAKoB,EAAKqyB,MAGb9tB,GAAU3F,EAAKoB,EAAKqyB,OAAS,CAAC,EAAGryB,EAAKsyB,MAAQ,CAAC,GAF/CuD,GAAI71B,EAAMy1B,EAId,IACAJ,IAvBA,CAwBF,CACA,SAASQ,GAAIC,EAAUL,GACrB,IAAIM,EAASD,EAASzD,KAItB,GAHKoD,IACHA,EAAYT,IAETS,EAAU72B,KAAf,CAGA,IAAIo3B,EAAQF,EAASxD,MAAQ,CAAC,EACf,OAAXyD,IACFA,EAAS,SAENN,EAAU72B,KAAKm3B,GAIlBxxB,GAAUkxB,EAAU72B,KAAKm3B,GAASC,IAHlCP,EAAUR,SAASxhC,KAAKsiC,GACxBN,EAAU72B,KAAKm3B,GAAUC,GAI3BX,IAXA,CAYF,CACA,SAASxN,GAAKvqB,GACZ,IAAI24B,EACA7tB,EAAM,CACRxJ,KAAM,CAAC,EACPq2B,SAAU,GACVC,SAAU,CAAC,EACXgB,IAAK54B,GAKP,OAHAiH,GAAU6D,EAAIxJ,KAAMo2B,GAAWp2B,OAC9Bq3B,EAAgB7tB,EAAI6sB,UAAUxhC,KAAKtC,MAAM8kC,EAAez+B,EAAmBw9B,GAAWC,WACvF1wB,GAAU6D,EAAI8sB,SAAUF,GAAWE,UAC5B9sB,CACT,CACAytB,GAAIzD,IACJ,IAAI+D,GAAO,CACT,YAAIjB,GACF,OAAOF,GAAWE,QACpB,EACA,YAAID,GACF,OAAOD,GAAWC,QACpB,EACA,QAAIr2B,GACF,IAAIwJ,EAAM,CAAC,EAOX,OANA4sB,GAAWC,SAAStzB,KAAI,SAAS7N,GAC/BsU,EAAItU,GAAOkhC,GAAWp2B,KAAK9K,EAC7B,IACIkhC,GAAWp2B,KAAK,WAClBwJ,EAAIguB,GAAKpB,GAAWp2B,KAAK,UAAY,CAAC,GAEjCwJ,CACT,EACAmtB,UACAM,OACAhO,SCvHEwO,GAAS,CACXC,QAAS,EACTpiB,MAAO,EACPqiB,UAAW,EACXC,SAAU,EACVC,SAAU,EACVC,QAAS,EACT/jB,MAAO,EACPgkB,UAAW,GAETC,GAAc,CAAC,QAAS,UAAW,QAAS,YAAa,WAAY,WAAY,UAAW,QAAS,aCmBrGC,GAAe,CAAC,OAAQ,QAAS,SAAU,SAC3CC,GAAkB,EAClBC,GAAY,EACZC,GAAyB,SAASC,GACpC,EAAUC,EAASD,GACnB,IAAIlf,EAAS,EAAamf,GAC1B,SAASA,EAAQl7B,GACf,IAAIgc,EACJ,EAAgB5mB,KAAM8lC,GACtB,IAAIC,EAAU37B,EAAK+I,UAAU2oB,KAAoBlxB,GACjDgc,EAAQD,EAAO7mB,KAAKE,KAAM+lC,GAC1BpjC,EAAgByC,EAAuBwhB,GAAQ,eAAe,WAC5D,GAAKA,EAAMne,OAAX,CAGA,IAAI03B,EAAevZ,EAAMne,OAAQue,EAAWmZ,EAAanZ,SAAUY,EAAsBuY,EAAavY,oBACtGpf,EAASG,QAAQ,SAAU,yBAA0Bie,EAAMof,aACvDpf,EAAMof,YAAc,GAAKpf,EAAMrM,SAAW,IAC5CqM,EAAMhL,YAAcgL,EAAMof,YAAcpf,EAAMrM,SAAWqM,EAAMrM,SAAWqM,EAAMof,YAChFpf,EAAMof,aAAe,GAEvBpf,EAAMT,aAAeyB,GACpBZ,GAAYJ,EAAMqf,eAAiBrf,EAAMsf,YAC1Ctf,EAAM8B,IAAI5G,GAAS8E,EAAMuf,aACzBvf,EAAM9W,YAAYwqB,GAAYG,MAV9B,CAWF,IACA93B,EAAgByC,EAAuBwhB,GAAQ,sBAAsB,SAAS3U,EAAOm0B,GACnF,IAAIC,EAAc,WAChBj8B,EAAK4B,WAAW5G,EAAuBwhB,IAAQ,WAC7CA,EAAMiQ,QACR,GAAG,IACL,EACIyP,EAASl8B,EAAKyL,kBACd+Q,EAAM2f,gBACR3f,EAAM2f,gBAAkB,GAExB3f,EAAMzB,KAAKb,GAAa,CACtByP,UAAW,SACXhE,OAAQ,oBACRhC,WAAY,SACZnS,YAAagL,EAAMhL,YACnBrB,SAAUqM,EAAMrM,SAChB9W,MAAO,CAAC,CACN+iC,KAAM,aACN3/B,MAAM,EACN4/B,IAAI,MAIV,IAAIC,EAAU34B,EAAoBu4B,EAAQ1f,EAAM3Y,SAAUkf,IAC1D,GAAIiZ,GAAgBE,IAAWA,IAAW1f,EAAM+f,eAAiBD,GAC/DL,KACCzf,EAAMne,OAAOw0B,sBAAwBrW,EAAMpG,MAAMwf,QAClDpZ,EAAMggB,YAAa,EACnBhgB,EAAMigB,gBAAgBjgB,EAAMlM,KAAM4rB,EAAQhM,GAAYS,YACtDnU,EAAMzB,KAAK5B,IAAmB,EAAMqD,EAAMkgB,mBACtClgB,EAAMmgB,eACRngB,EAAMogB,yBAEH,GAAIpgB,EAAMggB,WAAY,CAC3BP,IACA,IAAItG,EAAwB36B,EAAuBwhB,GAAQkgB,EAAoB/G,EAAsB+G,kBAAmBr+B,EAASs3B,EAAsBt3B,OACnJA,EAAOw+B,sBACTj/B,OAAOk/B,SAASJ,EAAkB1G,KAAM0G,EAAkBK,KAC1D/8B,EAAK4B,WAAW5G,EAAuBwhB,IAAQ,WAC7CA,EAAMggB,YAAa,EACnBhgB,EAAMkgB,kBAAoB,IAC5B,GAAG,QAEFlgB,EAAMne,OAAOw0B,sBAAwBrW,EAAMpG,MAAMwf,QAClDpZ,EAAMggB,YAAa,EACnBhgB,EAAMkgB,kBAAoB,MAEvBlgB,EAAMmgB,cAGTngB,EAAM9W,YAAYwqB,GAAYS,YAF9BnU,EAAMwgB,iBAAiBxgB,EAAMlM,KAAMkM,EAAM+f,cAAerM,GAAYS,YAItEnU,EAAM+f,cAAgB,KACtB/f,EAAMzB,KAAK5B,IAAmB,EAChC,CACF,IACA5gB,EAAgByC,EAAuBwhB,GAAQ,4BAA4B,SAASpmB,GAClFomB,EAAM+f,cAAgB/f,EAAMpG,MAC5BoG,EAAMygB,mBAAmB7mC,GAAG,EAC9B,IACAmC,EAAgByC,EAAuBwhB,GAAQ,0BAA0B,SAASpmB,GAChFomB,EAAMygB,mBAAmB7mC,GAAG,EAC9B,IACAkuB,GAAgBtpB,EAAuBwhB,GAAQ6e,IAC/C7e,EAAMne,OAASs9B,EACfnf,EAAM+P,cAAgBvsB,EAAKyP,oBAC3BjQ,EAAUxE,EAAuBwhB,IACjC,IAAI0gB,EAAgB1gB,EAAMxjB,YAAYkkC,cACtC,GAAI1gB,EAAMne,OAAO41B,QAAQ3+B,OAAQ,CAC/B,IAAI6nC,EAAa3gB,EAAMne,OAAO41B,QAAQ/9B,QAAQ,WAC1CinC,GAAc,GAAKD,IACrB1gB,EAAMne,OAAO41B,QAAQkJ,GAAcD,EAEvC,MAAWA,GACT1gB,EAAMne,OAAO41B,QAAQh8B,KAAKilC,GAE5B1gB,EAAM4gB,UAAY,KAClB5gB,EAAM6gB,UAAY,KAClB7gB,EAAM8gB,OAASzC,GAAOC,QACtBte,EAAM+gB,SAAU,EAChB/gB,EAAMC,WAAY,EAClBD,EAAMghB,WAAY,EAClBhhB,EAAMihB,WAAY,EAClBjhB,EAAMqf,cAAe,EACrBrf,EAAMof,aAAe,EACrBpf,EAAMkhB,UAAY,EAClBlhB,EAAMqT,UAAW,EACjBrT,EAAMggB,YAAa,EACnBhgB,EAAMmgB,eAAgB,EACtBngB,EAAMmhB,oBAAqB,EAC3BnhB,EAAM+f,cAAgB,KACtB/f,EAAMohB,aAAe,GACrBphB,EAAMqhB,iBAAmB,KACzBrhB,EAAMshB,cAAgB,KACtBthB,EAAMuhB,QAAU,GAChBvhB,EAAMkgB,kBAAoB,KAC1BlgB,EAAMwhB,aAAe,EACrBxhB,EAAMyhB,YAAc,EACpBzhB,EAAM0hB,SAAW,CACfC,GAAI,EACJztB,MAAO,EACPC,QAAS,EACTpC,EAAG,EACHC,EAAG,EACHhY,GAAI,EACJiU,GAAI,EACJ2zB,GAAI,EACJC,GAAI,GAEN7hB,EAAM8hB,SAAW,CACf/zB,MAAO,EACPC,OAAQ,EACRwrB,KAAM,EACN+G,IAAK,GAEPvgB,EAAM+hB,WAAa,CACjBhT,EAAG,EACHiT,IAAK,EACLC,QAAS,GAEXjiB,EAAMkiB,YAAc,CAClBltB,aAAc,EACdrB,SAAU,GAEZqM,EAAMmiB,eAAiB,KACvBniB,EAAMG,SAAW,KACjBH,EAAMoiB,OAAS,KACfpiB,EAAMlM,KAAO,KACbkM,EAAMqiB,OAASlE,GAAKtO,KAAK7P,EAAM+P,eAC3Bra,EAAQE,GAAGa,WAAaf,EAAQuB,UAAY,GAAKvB,EAAQuB,UAAY,IACvE+I,EAAMne,OAAOue,UAAW,GAE1BJ,EAAMsiB,SAAW,IAAI9d,GACrBxE,EAAMkQ,cAAe,EACrBlQ,EAAMuiB,iBAAmB,KACzBviB,EAAMwiB,mBAAqB,EAC3BxiB,EAAMyiB,YAAc,CAClBC,gBAAgB,GAElB,IAAIC,EAAW3iB,EAAM4iB,WACrB,IAAKD,EAEH,OADAtgC,QAAQZ,MAAM,IAAI8qB,MAAM,kCAAkC1yB,OAAOmmB,EAAMne,OAAOyD,GAAI,uCAC3E3G,EAA2BqhB,GAEpC,IAAIka,EAAgBla,EAAMne,OAAQghC,EAAwB3I,EAAcxC,WAAYA,OAAuC,IAA1BmL,EAAmC,CAAC,EAAIA,EAAuBn2B,EAAMwtB,EAAcxtB,IACpL,IAAKA,GAAOgrB,EAAWh0B,MAAQg0B,EAAWh0B,KAAK5K,OAAS,EAAG,CACzD,IAAIgqC,EAAuBpL,EAAWh0B,KAAKqqB,MAAK,SAASn0B,GACvD,OAAOA,EAAE89B,YAAc99B,EAAE89B,aAAeA,EAAWqL,iBACrD,IACKD,IACHpL,EAAWqL,kBAAoBrL,EAAWh0B,KAAK,GAAGg0B,WAClDoL,EAAuBpL,EAAWh0B,KAAK,IAEzCsc,EAAMne,OAAO6K,IAAMo2B,EAAqBp2B,IACxCsT,EAAMshB,cAAgBwB,CACxB,CAgBA,OAfA9iB,EAAMgjB,cACNhjB,EAAMijB,mBACNjjB,EAAMkjB,mBACNvT,GAAewD,eAAe30B,EAAuBwhB,IACrDA,EAAMmjB,oBACNnjB,EAAMojB,SAAS/E,GAAOniB,OACtB1Y,EAAK4B,WAAW5G,EAAuBwhB,IAAQ,WAC7CA,EAAMzB,KAAKrC,GACb,GAAG,GACH8D,EAAMqjB,SAAWrjB,EAAMqjB,WACnBrjB,EAAMne,OAAO2zB,WAAaxV,EAAMne,OAAOue,aACpCJ,EAAMsjB,UAAYtjB,EAAMujB,MAAQlF,GAAOG,WAC1Cxe,EAAM1c,QAGH0c,CACT,CAosDA,OAnsDA,EAAakf,EAAS,CAAC,CACrBpjC,IAAK,WACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KAEb,GADAA,KAAK0a,KAAO1a,KAAKyI,OAAOyD,GAAKuB,SAASmD,eAAe5Q,KAAKyI,OAAOyD,IAAM,MAClElM,KAAK0a,KAAM,CACd,IAAIrM,EAAKrO,KAAKyI,OAAO4F,GACrB,IAAIA,GAAsB,IAAhBA,EAAGoF,SASX,OANAzT,KAAKmlB,KAAK1D,GAAO,IAAI5B,EAAO,MAAO7f,KAAKyI,OAAO2hC,IAAK,CAClDC,KAAM,GACNC,OAAQ,cACRlpB,IAAK,iCAEPnY,QAAQZ,MAAM,mDACP,EARPrI,KAAK0a,KAAOrM,CAUhB,CACA,IAAI2I,EAAMuf,GAAeW,gBAAgBl3B,KAAK0a,MAC1C1D,IACFxO,EAASW,QAAQ,sFACjB6N,EAAIsZ,WAENtwB,KAAK0a,KAAK7L,aAAase,GAAWntB,KAAKiO,UACvCsoB,GAAeE,KAAKz2B,MACpBA,KAAKuqC,gBACL,IAAIC,EAAexqC,KAAKoD,YAAYonC,aACpC,GAAIA,GAAgBxqC,KAAK8mB,YAAYQ,YAAckjB,EAAaljB,UAAW,CACzE,IAAIsL,EAAM5yB,KAAK+oC,gBAAkB/oC,KAAK0a,KACtC1a,KAAKypB,kBAAkBzpB,KAAKwgB,OAC5B,IAAIiqB,EAAU,IAAID,EAAa5X,EAAK5yB,KAAKyI,OAAQzI,KAAK8mB,aACtD9mB,KAAK6nB,kBAAkB4iB,GACvBzqC,KAAKwgB,MAAQiqB,CACf,CAEA,GADAzqC,KAAKwgB,MAAM3R,aAAase,GAAWntB,KAAKiO,UACpCjO,KAAKyI,OAAOse,SAAU,CACxB,IAAI2jB,EAAQ1qC,KAAKyI,OAAOse,SAASrM,MAAQ,KACrCqM,EAAWwP,GAAe2B,SAASl4B,KAAM6/B,GAAU,CACrDnlB,KAAMgwB,IAER1qC,KAAK+mB,SAAWA,CAClB,CACA,IAAIxK,EAA8C,WAArCvc,KAAKyI,OAAO6zB,qBAAoC,SAAWhgB,EAAQC,OAOhF,GANAvc,KAAKmP,SAAS,GAAG1O,OAAO65B,GAAYC,QAAS,KAAK95B,OAAO65B,GAAYQ,SAAU,cAAcr6B,OAAO8b,EAAQ,KAAK9b,OAAOT,KAAKyI,OAAOse,SAAW,GAAKuT,GAAYe,cAC5Jr7B,KAAKyI,OAAOue,SACdhnB,KAAKmP,SAASmrB,GAAYG,OAE1Bz6B,KAAKmP,SAASmrB,GAAYM,UAExB56B,KAAKyI,OAAOuzB,MAAO,CACrB,IAAI2O,EAAgB3qC,KAAKyI,OAAQmiC,EAASD,EAAch2B,MAAOk2B,EAAUF,EAAc/1B,OACjE,kBAAXg2B,GAA0C,kBAAZC,IACvCD,EAAS,IACTC,EAAU,OAEZ,IAAI71B,EAAQ,CACVL,MAAO,OACPC,OAAQ,IACR,YAAa,OACb,cAAe,GAAGnU,OAAiB,IAAVoqC,EAAgBD,EAAQ,MAEnDzrC,OAAO2C,KAAKkT,GAAOvS,SAAQ,SAASC,GAClCqlB,EAAOrN,KAAK1F,MAAMtS,GAAOsS,EAAMtS,EACjC,GACF,KACE,CAAC,QAAS,UAAUD,SAAQ,SAASC,GAC/BqlB,EAAOtf,OAAO/F,KACkB,kBAAvBqlB,EAAOtf,OAAO/F,GACvBqlB,EAAOrN,KAAK1F,MAAMtS,GAAOqlB,EAAOtf,OAAO/F,GAEvCqlB,EAAOrN,KAAK1F,MAAMtS,GAAO,GAAGjC,OAAOsnB,EAAOtf,OAAO/F,GAAM,MAG7D,IAEF,IAAIooC,EAAwB9qC,KAAK0a,KAAKqwB,wBAAyBp2B,EAAQm2B,EAAsBn2B,MAAOC,EAASk2B,EAAsBl2B,OAAQwrB,EAAO0K,EAAsB1K,KAAM+G,EAAM2D,EAAsB3D,IAK1M,OAJAnnC,KAAK0oC,SAAS/zB,MAAQA,EACtB3U,KAAK0oC,SAAS9zB,OAASA,EACvB5U,KAAK0oC,SAAStI,KAAOA,EACrBpgC,KAAK0oC,SAASvB,IAAMA,GACb,CACT,GACC,CACDzkC,IAAK,gBACLsB,MAAO,WACLhE,KAAKgpC,OAAS,KACdhpC,KAAKgrC,QAAU,KACfhrC,KAAKirC,SAAW,KACZjrC,KAAKyI,OAAOo1B,iBACd79B,KAAK+oC,eAAiB3+B,EAAKgE,UAAU,qBAAsB,GAAI,CAC7D,cAAe,GACd,sBACHpO,KAAK0a,KAAKC,YAAY3a,KAAK+oC,gBAE/B,GACC,CACDrmC,IAAK,cACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACb,CAAC,QAAS,QAAQyC,SAAQ,SAASmM,GACjCoZ,EAAOM,GAAG1Z,EAAMoZ,EAAO,KAAOpZ,EAAKwZ,OAAO,GAAGC,cAAgBzZ,EAAK3H,MAAM,IAC1E,IACA+lB,GAAkBvqB,SAAQ,SAASmM,GACjCnB,UAAYA,SAAS8a,iBAAiB3Z,EAAMoZ,EAAOqf,mBACrD,IACI/qB,EAAQE,GAAGoB,QACb5d,KAAKwgB,MAAM+H,iBAAiB,wBAAyBvoB,KAAKkrC,0BAC1DlrC,KAAKwgB,MAAM+H,iBAAiB,sBAAuBvoB,KAAKmrC,yBAE1DnrC,KAAK6vB,KAAK3N,GAAaliB,KAAK62B,QAC5B72B,KAAKorC,SAAW,WACTpjB,EAAOvf,OAAOw0B,sBACjBjV,EAAOxH,MAAMwf,OAEjB,EACAhgC,KAAK6vB,KAAKxO,GAAMrhB,KAAKorC,SACvB,GACC,CACD1oC,IAAK,gBACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACbA,KAAK0a,KAAK+N,oBAAoB,YAAazoB,KAAKqrC,eAChDre,GAAkBvqB,SAAQ,SAASmM,GACjCnB,SAASgb,oBAAoB7Z,EAAMqZ,EAAOof,mBAC5C,IACArnC,KAAKorC,UAAYprC,KAAK0oB,IAAIrH,GAAMrhB,KAAKorC,UACrCprC,KAAK0oB,IAAI5G,GAAS9hB,KAAKmmC,aACvBnmC,KAAKwgB,MAAMiI,oBAAoB,wBAAyBzoB,KAAKkrC,0BAC7DlrC,KAAKwgB,MAAMiI,oBAAoB,sBAAuBzoB,KAAKmrC,uBAC7D,GACC,CACDzoC,IAAK,aACLsB,MAAO,SAAoBsP,GACzB,IAAIkV,EAASxoB,KACb,GAAKA,KAAKwgB,QAGLlN,GAAe,KAARA,IAAmC,UAArBlJ,EAAKkG,OAAOgD,IAAmC,IAAfA,EAAI5T,UAC5D4T,EAAM,GACNtT,KAAKmlB,KAAKpC,IACVva,EAASW,QAAQ,sEACbnJ,KAAKyI,OAAOszB,eAJlB,CAQA/7B,KAAK0qB,oBAAoB1qB,KAAKwgB,OACL,UAArBpW,EAAKkG,OAAOgD,IAAoBA,EAAI5T,OAAS,EAC/CM,KAAK2qB,oBAAoB3qB,KAAKwgB,MAAOlN,GAC3BtT,KAAKwgB,MAAMvN,KAAOjT,KAAKwgB,MAAMvN,MAAQK,EAErCA,GACVtT,KAAKwgB,MAAMqI,gBAAgB,OAF3B7oB,KAAKwgB,MAAMvN,IAAMK,EAIqB,WAApClJ,EAAKkG,OAAOtQ,KAAKyI,OAAOqd,UAC1B9lB,KAAK8lB,OAAS9lB,KAAKyI,OAAOqd,QAE5B,IAAI4kB,EAAQ1qC,KAAK+oC,eAAiB/oC,KAAK+oC,eAAiB/oC,KAAK0a,KACzD1a,KAAKwgB,iBAAiBxY,OAAO4pB,UAAY8Y,EAAMre,SAASrsB,KAAKwgB,QAC/DkqB,EAAMvV,aAAan1B,KAAKwgB,MAAOkqB,EAAMY,YAEvC,IAAI3qB,EAAa3gB,KAAKwgB,MAAMG,WAC5BnY,EAASG,QAAQ,wBAAyBgY,GACtC3gB,KAAKyI,OAAOue,YACb5c,EAAKoP,MAAMxZ,KAAKwgB,QAAUxgB,KAAK8oB,QAC/BxM,EAAQE,GAAGe,QAAUjB,EAAQE,GAAGmB,UAAY3d,KAAKkmC,aAEpD,IAAI9I,EAAYp9B,KAAKyI,OAAO20B,UAC5Bp9B,KAAKgmC,YAAc5I,EAAY,EAAIA,GAAa,EAChDp9B,KAAKyI,OAAO20B,UAAY,EACpBzc,GAAc,GAAK3gB,KAAKua,SAAW,EACrCva,KAAKmmC,cAELnmC,KAAKsoB,GAAGxG,GAAS9hB,KAAKmmC,eAEnBnmC,KAAKkqC,UAAYlqC,KAAKmqC,MAAQlF,GAAOG,WACxC7O,GAAekD,UAAUz5B,MAE3BA,KAAKkqC,UAAW,EAChBlqC,KAAKgqC,SAAS/E,GAAOG,UACrBh7B,EAAK4B,WAAWhM,MAAM,WACpBwoB,EAAOrD,KAAKjC,GACd,GAAG,EArCH,CAsCF,GACC,CACDxgB,IAAK,mBACLsB,MAAO,WACL,IAAI4kB,EAAS5oB,KACTurC,IAAS9rC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GACzEO,KAAKo5B,gBAAkB,GACvB,IAAIsE,EAAU19B,KAAKyI,OAAOi1B,SAAW,GACjCnP,EAAUvuB,KAAKyI,OAAO8lB,SAAW,GACjChO,EAAOvgB,KAAKyI,OAAO8X,MAAQ,GAC/BgrB,GAAUxG,GAAKZ,OAAO5jB,EAAMvgB,KAAKipC,QACjC,IAAIuC,EAAa9N,EAAQltB,KAAK,MAAMqM,cAAcjN,MAAM,MACpD67B,EAAYzrC,KAAKuuB,QACrBA,EAAQ9rB,SAAQ,SAAS+rB,GACvB,IACE,IAAIT,EAAaS,EAAOA,OAASA,EAAOA,OAAOT,WAAaS,EAAOT,WACnE,GAAIA,GAAcyd,EAAWlrC,QAAQytB,EAAWlR,gBAAkB,EAChE,OAAO,KAET,IAAK0uB,GAAUE,EAAU1d,EAAWlR,eAClC,OAEF,GAAI2R,EAAOkd,MAAQld,EAAOuJ,OAAQ,CAChC,IAAI4T,EAAgBpV,GAAeoB,aAAa/O,EAAQ4F,GAUxD,YATIA,EAAOod,kBACTD,EAAcpe,MAAK,WACjB3E,EAAOwQ,gBAAgB9kB,OAAOsU,EAAOwQ,gBAAgB94B,QAAQqrC,GAAgB,EAC/E,IAAGxd,OAAM,SAAS3tB,GAChBgI,EAASe,SAAS,iCAAkC/I,GACpDooB,EAAOwQ,gBAAgB9kB,OAAOsU,EAAOwQ,gBAAgB94B,QAAQqrC,GAAgB,EAC/E,IACA/iB,EAAOwQ,gBAAgB/2B,KAAKspC,IAGhC,CACA,OAAO/iB,EAAOuH,eAAe3B,EAC/B,CAAE,MAAOpf,GACP5G,EAASe,SAAS,oBAAqB6F,EACzC,CACF,GACF,GACC,CACD1M,IAAK,mBACLsB,MAAO,WACL,IAAI4wB,EAAS50B,KACbA,KAAKyI,OAAO41B,QAAQ57B,SAAQ,SAASkrB,GACnCuR,GAAUtK,EAAQjH,EACpB,GACF,GACC,CACDjrB,IAAK,qBACLsB,MAAO,SAA4B0zB,GACjC,IAAIgT,EAAQ,KACZ,OAAQhT,GACN,KAAK9G,GAAUE,WACR9wB,KAAKirC,WACRjrC,KAAKirC,SAAW7gC,EAAKqQ,kBAAkB,eAAgBza,KAAK0a,OAE9DgwB,EAAQ1qC,KAAKirC,SACb,MACF,KAAKra,GAAUC,UACR7wB,KAAKgrC,UACRhrC,KAAKgrC,QAAU5gC,EAAKqQ,kBAAkB,cAAeza,KAAK0a,OAE5DgwB,EAAQ1qC,KAAKgrC,QACb,MACF,KAAKpa,GAAUG,SACR/wB,KAAKgpC,SACRhpC,KAAKgpC,OAAS5+B,EAAKqQ,kBAAkB,aAAcza,KAAK0a,MACpD1a,KAAKyI,OAAO00B,gBACd/yB,EAAK+E,SAASnP,KAAKgpC,OAAQ1O,GAAYmB,mBAG3CiP,EAAQ1qC,KAAKgpC,OACb,MACF,QACE0B,EAAQ1qC,KAAK+oC,gBAAkB/oC,KAAK0a,KACpC,MAEJ,OAAOgwB,CACT,GACC,CACDhoC,IAAK,iBACLsB,MAAO,SAAwBwqB,EAAQ/lB,GACrC,IAAIojC,EAAatV,GAAec,iBAAiB7I,EAAQ/lB,GACrD6uB,EAAUuU,EAAWvU,QAAS1sB,EAAUihC,EAAWjhC,QACnD2jB,EAAUvuB,KAAKyI,OAAO8lB,QACtBud,EAAQvV,GAAegB,mBAAmBD,EAAQvJ,WAAYQ,IACjEud,GAASvd,EAAQlsB,KAAKi1B,GACvB,IAAIG,EAAWlB,GAAeiB,gBAAgBF,EAAQvJ,WAAY/tB,KAAKyI,QACvEgvB,EAAS/c,OAAS9P,EAAQ8P,KAAO+c,EAAS/c,MAC1C+c,EAASC,WAAa9sB,EAAQ8sB,SAAWD,EAASC,UAClD,IAAIA,EAAW9sB,EAAQ8sB,SAAW9sB,EAAQ8sB,SAAW9sB,EAAQnC,QAAUmC,EAAQnC,OAAOivB,UAAYJ,EAAQkB,eAAiBlB,EAAQkB,cAAcd,SACjJ,OAAK9sB,EAAQ8P,MAA4B,kBAAbgd,GAAyBA,EAASp3B,QAAQ,aAAe,EAC5EN,KAAK+mB,UAAY/mB,KAAK+mB,SAASoJ,eAAemH,EAAS1sB,EAAS0sB,EAAQvJ,aAE5EnjB,EAAQ8P,OACX9P,EAAQ8P,KAAO1a,KAAK+rC,mBAAmBrU,IAElCnB,GAAe2B,SAASl4B,KAAMs3B,EAAS1sB,GAChD,GACC,CACDlI,IAAK,aACLsB,MAAO,SAAoBwqB,GACH,kBAAXA,EACT+H,GAAekC,WAAWz4B,KAAMwuB,GACvBA,aAAkBU,IAC3BqH,GAAekC,WAAWz4B,KAAMwuB,EAAOT,WAE3C,GACC,CACDrrB,IAAK,mBACLsB,MAAO,SAA0BwqB,GAC/B,IAAIwd,EAAoBvsC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GACpFO,KAAKisC,WAAWzd,GACZwd,GACFhsC,KAAKksC,uBAAuB1d,EAEhC,GACC,CACD9rB,IAAK,yBACLsB,MAAO,SAAgCwqB,GACrC,IAAIT,EAMJ,GALsB,kBAAXS,EACTT,EAAaS,EACJA,aAAkBU,KAC3BnB,EAAaS,EAAOT,YAEjBA,EAGL,IAAK,IAAIltB,EAAIb,KAAKyI,OAAO8lB,QAAQ7uB,OAAS,EAAGmB,GAAK,EAAGA,IAAK,CACxD,IAAI6yB,EAAU1zB,KAAKyI,OAAO8lB,QAAQ1tB,GAClC,GAAI6yB,EAAQ3F,WAAWlR,gBAAkBkR,EAAWlR,cAAe,CACjE7c,KAAKyI,OAAO8lB,QAAQja,OAAOzT,EAAG,GAC9B,KACF,CACF,CACF,GACC,CACD6B,IAAK,UACLsD,IAAK,WACH,OAAOuwB,GAAeuC,WAAW94B,KACnC,GACC,CACD0C,IAAK,YACLsB,MAAO,SAAmB+pB,GACxB,IAAIS,EAAS+H,GAAewC,WAAW/4B,KAAM+tB,GAC7C,OAAOS,GAAUA,EAAOT,WAAaS,EAAS,IAChD,GACC,CACD9rB,IAAK,WACLsB,MAAO,SAAkB0K,GAClB1O,KAAK0a,OAGLtQ,EAAKiF,SAASrP,KAAK0a,KAAMhM,IAC5BtE,EAAK+E,SAASnP,KAAK0a,KAAMhM,GAE7B,GACC,CACDhM,IAAK,cACLsB,MAAO,SAAqB0K,GACrB1O,KAAK0a,MAGVtQ,EAAK0F,YAAY9P,KAAK0a,KAAMhM,EAC9B,GACC,CACDhM,IAAK,WACLsB,MAAO,SAAkB0K,GACvB,GAAK1O,KAAK0a,KAGV,OAAOtQ,EAAKiF,SAASrP,KAAK0a,KAAMhM,EAClC,GACC,CACDhM,IAAK,eACLsB,MAAO,SAAsBtB,EAAKsB,GAC3BhE,KAAK0a,MAGV1a,KAAK0a,KAAK7L,aAAanM,EAAKsB,EAC9B,GACC,CACDtB,IAAK,kBACLsB,MAAO,SAAyBtB,EAAKsB,GAC9BhE,KAAK0a,MAGV1a,KAAK0a,KAAKmO,gBAAgBnmB,EAAKsB,EACjC,GACC,CACDtB,IAAK,QACLsB,MAAO,SAAesP,GACpB,IAAI64B,EAASnsC,KACb,KAAIA,KAAKmqC,MAAQlF,GAAOE,WASxB,OANK7xB,GAAQtT,KAAKyI,OAAO6K,KACvBtT,KAAK+pC,oBAEP/pC,KAAKkqC,UAAW,EAChBlqC,KAAKgqC,SAAS/E,GAAOE,WACrBnlC,KAAK8pC,kBAAiB,GACfvT,GAAe0C,WAAWj5B,MAAMutB,MAAK,WAC1C,GAAK4e,EAAO1jC,OAAZ,CAGK6K,IACHA,EAAM64B,EAAO74B,KAAO64B,EAAO1jC,OAAO6K,KAEpC,IAAI84B,EAAQD,EAAO1O,cAAcnqB,GAC7B0D,EAAMm1B,EAAOE,WAAWD,EAAM94B,KAClC,OAAO0D,CANP,CAOF,IAAGmX,OAAM,SAAS3tB,GAIhB,MAHAA,EAAE8rC,SAAW,SACb9rC,EAAE+rC,WAAa,MACf/jC,EAASe,SAAS,oBAAqB/I,GACjCA,CACR,GACF,GACC,CACDkC,IAAK,YACLsB,MAAO,SAAmBsP,EAAK1I,GAC7B,IAAI4hC,EAASxsC,KACTysC,EAAOn5B,EACc,WAArBlJ,EAAKkG,OAAOgD,KACdm5B,EAAOn5B,EAAIA,KAEbm5B,EAAOzsC,KAAKy9B,cAAcgP,GAAMn5B,IAChC,IAAIo5B,EAAU1sC,KAAK4b,YACnB5b,KAAKgmC,YAAc0G,EACnB,IAAIC,EAAW3sC,KAAK0lB,SAAW1lB,KAAK2nC,QAEpC,OADA3nC,KAAKiT,IAAMw5B,EACJ,IAAIxtB,SAAQ,SAASC,EAASiZ,GACnC,IAAIyU,EAAS,SAAiBpsC,GAC5BgsC,EAAO9jB,IAAI,aAAcmkB,GACzBL,EAAO9jB,IAAI,UAAWmkB,GACtB1U,EAAO33B,EACT,EACIqsC,EAAW,WACTL,EAAOjyB,SAAW,GAAKiyB,EAAOxG,YAAc,IAC9CwG,EAAO5wB,YAAc4wB,EAAOxG,YAC5BwG,EAAOxG,aAAe,GAEpB2G,GACFH,EAAOhjB,QAETgjB,EAAO9jB,IAAI,QAASkkB,GACpB1tB,GAAQ,EACV,EACAstB,EAAO3c,KAAK,QAAS+c,GAChBH,GAODnwB,EAAQE,GAAGa,UACbmvB,EAAO3c,KAAK,aAAcgd,GAE1BL,EAAO3c,KAAK,UAAWgd,GAEzBL,EAAO5iB,QAXL4iB,EAAOpnB,aAAa,QAAS,CAC3BtE,KAAM,EACNlY,QAAS,aAUf,GACF,GACC,CACDlG,IAAK,YACLsB,MAAO,WACLhE,KAAKkmC,WACP,GACC,CACDxjC,IAAK,YACLsB,MAAO,WACL,IAAI8oC,EAAU9sC,KACd,IAAKA,KAAKkqC,UAAYlqC,KAAKmqC,MAAQlF,GAAOG,SAKxC,OAJAplC,KAAK8P,YAAYwqB,GAAYM,UAC7B56B,KAAKmP,SAASmrB,GAAYG,OAC1Bz6B,KAAKkK,aACLlK,KAAKimC,cAAe,GAGlBjmC,KAAKmqC,MAAQlF,GAAOK,UACtBtlC,KAAK8P,YAAYwqB,GAAYM,WAC5B56B,KAAK6nC,WAAa7nC,KAAKmP,SAASmrB,GAAYG,QAE/C,IAAIsS,EAAchnC,EAAK1B,EAAgByhC,EAAQlmC,WAAY,OAAQI,MAAMF,KAAKE,MAuC9E,YAtCoB,IAAhB+sC,GAA0BA,GAAeA,EAAYxf,KACvDwf,EAAYxf,MAAK,WACfuf,EAAQh9B,YAAYwqB,GAAYoB,oBAChCoR,EAAQ39B,SAASmrB,GAAYhZ,SACzBwrB,EAAQ3C,MAAQlF,GAAOK,UACzB98B,EAASG,QAAQ,wBACjBmkC,EAAQ9C,SAAS/E,GAAOK,SACxBwH,EAAQ3nB,KAAKnC,IAEjB,IAAGmL,OAAM,SAAS3tB,GAEhB,GADAgI,EAASW,QAAQ,wBAAyB3I,EAAE0G,MACxC4lC,EAAQtsB,OAASssB,EAAQtsB,MAAMnY,MAGjC,OAFAykC,EAAQE,eACRF,EAAQh9B,YAAYwqB,GAAYG,OAGnB,oBAAXj6B,EAAE0G,OACJ4lC,EAAQG,YAAc7iC,EAAK4B,WAAW8gC,GAAS,WAC7CA,EAAQG,YAAc,KACtBH,EAAQ3nB,KAAKlC,IACb6pB,EAAQ39B,SAASmrB,GAAYoB,oBAC7BoR,EAAQh9B,YAAYwqB,GAAYG,OAChCqS,EAAQtjB,QACRsjB,EAAQ9C,SAAS/E,GAAOI,SAC1B,GAAG,GAEP,KAEA78B,EAASW,QAAQ,iCACbnJ,KAAKmqC,MAAQlF,GAAOK,UACtBtlC,KAAKgqC,SAAS/E,GAAOK,SACrBtlC,KAAK8P,YAAYwqB,GAAYoB,oBAC7B17B,KAAK8P,YAAYwqB,GAAYM,UAC7B56B,KAAK8P,YAAYwqB,GAAYG,OAC7Bz6B,KAAKmP,SAASmrB,GAAYhZ,SAC1BthB,KAAKmlB,KAAKnC,MAGP+pB,CACT,GACC,CACDrqC,IAAK,aACLsB,MAAO,WACL+B,EAAK1B,EAAgByhC,EAAQlmC,WAAY,QAASI,MAAMF,KAAKE,KAC/D,GACC,CACD0C,IAAK,aACLsB,MAAO,WACL+B,EAAK1B,EAAgByhC,EAAQlmC,WAAY,QAASI,MAAMF,KAAKE,KAC/D,GACC,CACD0C,IAAK,OACLsB,MAAO,WACL,IAAIkpC,EAAUltC,KAEd,OADAA,KAAK8P,YAAYwqB,GAAYI,QACtB7L,GAAS7uB,KAAM,QAAQ,WAC5B,OAAOktC,EAAQhH,WACjB,GACF,GACC,CACDxjC,IAAK,QACLsB,MAAO,WACL,IAAImpC,EAAUntC,KACd6uB,GAAS7uB,KAAM,SAAS,WACtB+F,EAAK1B,EAAgByhC,EAAQlmC,WAAY,QAASutC,GAASrtC,KAAKqtC,EAClE,GACF,GACC,CACDzqC,IAAK,OACLsB,MAAO,SAAcyH,EAAMye,GACzB,IAAIkjB,EAAUptC,KACd,GAAKA,KAAKwgB,QAAS3Y,OAAO8J,MAAM9J,OAAO4D,KAAWzL,KAAKkqC,SAAvD,CAGA,IAAImD,EAAgBrtC,KAAKyI,OAAQ6kC,EAAeD,EAAcC,aAAcjQ,EAAegQ,EAAchQ,aACrGkQ,EAAUrjB,IAAWojB,EAAe,OAASjQ,GACjD5xB,EAAOA,EAAO,EAAI,EAAIA,EAAOzL,KAAKua,SAAW3E,SAAS5V,KAAKua,SAAU,IAAM9O,GAC1EzL,KAAKopC,qBAAuBppC,KAAKopC,mBAAqBppC,KAAK0lB,OAAS,EAAI,GACzE1lB,KAAKmpC,kBAAoBnpC,KAAK0oB,IAAI/G,GAAQ3hB,KAAKmpC,kBAC/CnpC,KAAKmpC,iBAAmB,WAGtB,OAFAiE,EAAQt9B,YAAYwqB,GAAYG,OAChC2S,EAAQxF,WAAY,EACZ2F,GACN,IAAK,OACHH,EAAQxjB,OACR,MACF,IAAK,QACHwjB,EAAQ5jB,QACR,MACF,QACE4jB,EAAQhE,mBAAqB,GAAKgE,EAAQ1nB,OAAS0nB,EAAQ5jB,QAAU4jB,EAAQxjB,OAEjFwjB,EAAQhE,mBAAqB,EAC7BgE,EAAQjE,iBAAmB,IAC7B,EACAnpC,KAAK6vB,KAAKlO,GAAQ3hB,KAAKmpC,kBACnBnpC,KAAKmqC,MAAQlF,GAAOK,SACtBtlC,KAAK8P,YAAYwqB,GAAYM,UAC7B56B,KAAK4b,YAAcnQ,EACnBzL,KAAK4pB,QAEL5pB,KAAK4b,YAAcnQ,CA5BrB,CA8BF,GACC,CACD/I,IAAK,oBACLsB,MAAO,WACL,IAAIwpC,EAAUxtC,KACVytC,EAAgBztC,KAAKyI,OAAQ61B,EAAamP,EAAcnP,WAAYhrB,EAAMm6B,EAAcn6B,KACvFA,GAAOgrB,GAAcA,EAAWh0B,MAAQg0B,EAAWh0B,KAAK5K,OAAS,GAAK4+B,EAAWqL,mBACpFrL,EAAWh0B,KAAKiG,KAAI,SAAS3B,GACvBA,EAAK0vB,aAAeA,EAAWqL,oBACjC6D,EAAQ/kC,OAAO6K,IAAM1E,EAAK0E,IAC1Bk6B,EAAQtF,cAAgBt5B,EAE5B,GAEJ,GACC,CACDlM,IAAK,mBACLsB,MAAO,SAA0ByiC,EAAI5/B,GACnC,IAAI6mC,EAAU1tC,KACVs+B,EAAat+B,KAAKyI,OAAO61B,WAe7B,GAdI/9B,MAAMmG,QAAuB,OAAf43B,QAAsC,IAAfA,OAAwB,EAASA,EAAWh0B,OACnFg0B,EAAWh0B,KAAK7H,SAAQ,SAASmM,IACnB,OAAP63B,QAAsB,IAAPA,OAAgB,EAASA,EAAGnI,cAAgB1vB,EAAK0vB,aACnEoP,EAAQxF,cAAgBt5B,EAE5B,IAES,OAAP63B,QAAsB,IAAPA,GAAiBA,EAAGkH,SAAiC,kBAAflH,EAAGkH,UAC1DlH,EAAGkH,QAAU/3B,SAAS6wB,EAAGkH,QAAS,KAAO,GAE3C3tC,KAAKmlB,KAAKzB,GAAmB,CAC3B7c,OACA4/B,OAEGzmC,KAAKkqC,SAAV,CAIA,IAAIlzB,EAAMhX,KAAK4tC,UAAUnH,EAAGnzB,IAAKhR,EAAe,CAC9CurC,UAAkC,IAAxBvP,EAAWuP,UAA6C,qBAAhBrvB,aAAsE,oBAAhCA,YAAYC,iBACnGgoB,IACCzvB,GAAOA,EAAIuW,KACbvW,EAAIuW,MAAK,WACPmgB,EAAQvoB,KAAKvB,GAAyB,CACpC/c,OACA4/B,MAEJ,IAEAzmC,KAAKmlB,KAAKvB,GAAyB,CACjC/c,OACA4/B,MAdJ,MAFEzmC,KAAKyI,OAAO6K,IAAMmzB,EAAGnzB,GAmBzB,GACC,CACD5Q,IAAK,SACLsB,MAAO,WACLhE,KAAK8oB,OACL9oB,KAAK8tC,WAAa,WAChB9tC,KAAK4pB,MACP,EACA5pB,KAAK6vB,KAAK3N,GAAaliB,KAAK8tC,WAC9B,GACC,CACDprC,IAAK,aACLsB,MAAO,WACL,IAAI+pC,EAAU/tC,KACV07B,EAAqBpB,GAAYoB,mBAAoBpa,EAAUgZ,GAAYhZ,QAASsZ,EAAWN,GAAYM,SAAUF,EAASJ,GAAYI,OAAQsT,EAAU1T,GAAYnX,OAAQsX,EAAQH,GAAYG,MAAOlZ,EAAQ+Y,GAAY/Y,MAAO0sB,EAAS3T,GAAY7Y,MAAOkZ,EAAUL,GAAYK,QACxRuT,EAAU,CAACxS,EAAoBpa,EAASsZ,EAAUF,EAAQsT,EAASvT,EAAOlZ,EAAO0sB,EAAQtT,GAC7F36B,KAAKkqC,UAAW,EAChBlqC,KAAK2nC,SAAU,EACf3nC,KAAKimC,cAAe,EACpBjmC,KAAKmuC,aACLnuC,KAAK2oC,WAAWC,IAAM,EACtB5oC,KAAK2oC,WAAWhT,EAAI,EACpB31B,KAAK2oC,WAAWE,QAAU,EAC1BqF,EAAQzrC,SAAQ,SAAS2rC,GACvBL,EAAQj+B,YAAYs+B,EACtB,IACApuC,KAAKmP,SAASmrB,GAAYM,UAC1B56B,KAAKmlB,KAAKZ,GACZ,GACC,CACD7hB,IAAK,QACLsB,MAAO,WACL,IAAIqqC,EAAUruC,KACVsuC,EAAoB7uC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GACrF8uC,EAAgB9uC,UAAUC,OAAS,EAAID,UAAU,QAAK,EAC1DO,KAAKwuC,aACL,IAAIjgB,EAAUvuB,KAAKuuB,QACnB,GAAKA,IAGL+f,EAAkB/9B,KAAI,SAASk+B,GAC7BJ,EAAQpC,WAAWwC,EACrB,IACIF,GAAe,CACjB,IAAIG,EAAK5S,KACT38B,OAAO2C,KAAK9B,KAAKyI,QAAQ3G,MAAK,SAASynB,GACX,cAAtB8kB,EAAQ5lC,OAAO8gB,IAA6B,YAANA,GAAyB,YAANA,GAAyB,OAANA,GAAoB,OAANA,IAC5F8kB,EAAQ5lC,OAAO8gB,GAAKmlB,EAAGnlB,GAE3B,GACF,CACF,GACC,CACD7mB,IAAK,UACLsB,MAAO,WACL,IAAI2qC,EAAU3uC,KACV+oC,EAAiB/oC,KAAK+oC,eAAgBruB,EAAO1a,KAAK0a,KAAM8F,EAAQxgB,KAAKwgB,MACzE,GAAK9F,GAAS8F,EAAd,CAiBA,GAdAxgB,KAAKkqC,UAAW,EAChBlqC,KAAKimC,cAAe,EACpBvrB,EAAKmO,gBAAgBsE,IACrBntB,KAAK4uC,UAAU,WACf5uC,KAAK6uC,gBACL7uC,KAAK0qB,oBAAoB1qB,KAAKwgB,OAC9BpW,EAAKmK,eAAevU,MACpBA,KAAKmlB,KAAK/B,IACVmT,GAAejG,QAAQtwB,MACvB4uB,GAAmB5uB,MACnB+F,EAAK1B,EAAgByhC,EAAQlmC,WAAY,UAAWI,MAAMF,KAAKE,MAC3DA,KAAK4mC,YAAc5mC,KAAK2mC,gBAAkB3mC,KAAK0a,MACjD1a,KAAK8uC,iBAEH/F,EAEF,IADA,IAAI5nC,EAAK4nC,EAAe75B,SACfrO,EAAI,EAAGA,EAAIM,EAAGzB,OAAQmB,IAC7BkoC,EAAe1f,YAAYloB,EAAGN,KAGjCkoC,GAAkBvoB,aAAiBxY,OAAOkL,MAAQwH,EAAK2R,SAAS7L,IAAU9F,EAAK2O,YAAY7I,GAC5F,CAAC,SAAU,UAAW,WAAY,kBAAkBjQ,KAAI,SAAS3B,GAC/D+/B,EAAQ//B,IAAS8L,EAAK2O,YAAYslB,EAAQ//B,IAC1C+/B,EAAQ//B,GAAQ,IAClB,IACA,IAAImgC,EAAQr0B,EAAKhM,UAAUkB,MAAM,KAC7Bm/B,EAAMrvC,OAAS,EACjBgb,EAAKhM,UAAYqgC,EAAM9sC,QAAO,SAASiF,GACrC,OAAOA,EAAK5G,QAAQ,YAAc,CACpC,IAAGkQ,KAAK,KAERkK,EAAKhM,UAAY,GAEnB1O,KAAK6oB,gBAAgB,eACrB,CAAC,YAAa,YAAa,WAAY,gBAAiB,cAAcpmB,SAAQ,SAASC,GACrFisC,EAAQjsC,IAAO,CACjB,GArCA,CAsCF,GACC,CACDA,IAAK,SACLsB,MAAO,WACL,IAAIgrC,EAAUhvC,KACdA,KAAK8P,YAAYwqB,GAAY/Y,OAC7BvhB,KAAK4b,YAAc,EACnB5b,KAAK4nC,WAAY,EACjB/Y,GAAS7uB,KAAM,UAAU,WACvBgvC,EAAQnf,KAAKlO,IAAQ,WACnB,IAAIorB,EAAciC,EAAQ9I,YACtB6G,GAAeA,EAAY5e,OAC7B4e,EAAY5e,OAAM,SAAS/e,GACzBnG,QAAQC,IAAIkG,EACd,GAEJ,IACA4/B,EAAQplB,OACRolB,EAAQ7pB,KAAKhC,IACb6rB,EAAQC,QACV,GACF,GACC,CACDvsC,IAAK,QACLsB,MAAO,WACL,IAAIkrC,EAAUlvC,KACdA,KAAK8P,YAAYwqB,GAAY7Y,OAC7BzhB,KAAKmP,SAASmrB,GAAYK,SAC1B9L,GAAS7uB,KAAM,SAAS,WACtB,IAAImvC,EAAMD,EAAQtzB,YACdtI,EAAM47B,EAAQzmC,OAAO6K,IACrB87B,EAAWhlC,EAAKoP,MAAM01B,EAAQ1uB,OAAsC,CACtElN,OADyC47B,EAAQzR,cAAcnqB,GAGjE47B,EAAQj8B,IAAMm8B,EAAQ97B,KACrB47B,EAAQzmC,OAAO0zB,SAAW+S,EAAQtzB,YAAcuzB,GACjDD,EAAQrf,KAAK/N,IAAS,WACpBotB,EAAQhJ,WACV,GACF,GACF,GACC,CACDxjC,IAAK,kBACLsB,MAAO,SAAyB0W,EAAMrM,EAAIghC,EAAWC,GAC9C50B,IAGA40B,IACHA,EAAahV,GAAYa,mBAEtBn7B,KAAKmoC,UACRnoC,KAAKmoC,QAAU/9B,EAAKyM,oBAAoB6D,IAE1CtQ,EAAK+E,SAASuL,EAAM20B,GAChBhhC,GAAMA,IAAOqM,IAAS1a,KAAKuvC,WAC7BvvC,KAAKuvC,SAAWnlC,EAAKyM,oBAAoBxI,GACzCjE,EAAK+E,SAASd,EAAIihC,GAClBjhC,EAAGQ,aAAase,GAAWntB,KAAKiO,WAEpC,GACC,CACDvL,IAAK,mBACLsB,MAAO,SAA0B0W,EAAMrM,EAAIghC,EAAWC,GAC/CA,IACHA,EAAahV,GAAYa,mBAEvBn7B,KAAKmoC,UACP/9B,EAAKsM,oBAAoBgE,EAAM1a,KAAKmoC,SACpCnoC,KAAKmoC,QAAU,IAEjB/9B,EAAK0F,YAAY4K,EAAM20B,GACnBhhC,GAAMA,IAAOqM,GAAQ1a,KAAKuvC,WAC5BnlC,EAAKsM,oBAAoBrI,EAAIrO,KAAKuvC,UAClCvvC,KAAKuvC,SAAW,GAChBnlC,EAAK0F,YAAYzB,EAAIihC,GACrBjhC,EAAGwa,gBAAgBsE,IAEvB,GACC,CACDzqB,IAAK,gBACLsB,MAAO,WACL,IAAIqK,EAAK5O,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAKO,KAAKyI,OAAOq1B,iBAClFpjB,EAAO1a,KAAK0a,KAAM8F,EAAQxgB,KAAKwgB,MAC9BnS,IACHA,EAAKqM,GAEP1a,KAAK8mC,kBAAoB,CACvBK,IAAK/8B,EAAKqN,YACV2oB,KAAMh2B,EAAKwN,cAEb5X,KAAK2mC,cAAgBt4B,EACrBrO,KAAKumC,gBAAkB,MACvB,IAAID,EAASl8B,EAAKyL,kBAClB,GAAIywB,IAAWtmC,KAAK2mC,cAElB,OADA3mC,KAAKqnC,qBACEpoB,QAAQC,UAEjB,IACE,IAAK,IAAIre,EAAI,EAAGA,EAAIosB,GAAmBvtB,OAAQmB,IAAK,CAClD,IAAI6B,EAAMuqB,GAAmBpsB,GAC7B,GAAIwN,EAAG3L,GAAM,CACX,IAAIsU,EAAc,4BAARtU,EAAoC2L,EAAGmhC,wBAAwBxnC,OAAO4pB,QAAQ6d,sBAAwBphC,EAAG3L,KACnH,OAAIsU,GAAOA,EAAIuW,KACNvW,EAEAiI,QAAQC,SAEnB,CACF,CACA,OAAIsB,EAAMkvB,mBAAqBlvB,EAAMmvB,0BACnCnvB,EAAMovB,wBACC3wB,QAAQC,WAEVD,QAAQkZ,OAAO,IAAIhF,MAAM,2BAClC,CAAE,MAAO/jB,GACP,OAAO6P,QAAQkZ,OAAO,IAAIhF,MAAM,2BAClC,CACF,GACC,CACDzwB,IAAK,iBACLsB,MAAO,SAAwBqK,GAI7B,GAHIrO,KAAK+nC,oBACP/nC,KAAK6vC,uBAEF7vC,KAAK2mC,eAAkBv8B,EAAKyL,kBAAjC,CAGA7V,KAAK0a,KACL,IAAI8F,EAAQxgB,KAAKwgB,MACjBxgB,KAAKumC,gBAAkB,OACvB,IACE,IAAK,IAAI1lC,EAAI,EAAGA,EAAIqsB,GAAoBxtB,OAAQmB,IAAK,CACnD,IAAI6B,EAAMwqB,GAAoBrsB,GAC9B,GAAI4M,SAAS/K,GAAM,CACjB,IAAIsU,EAAMvJ,SAAS/K,KACnB,OAAIsU,GAAOA,EAAIuW,KACNvW,EAEAiI,QAAQC,SAEnB,CACF,CACA,OAAIsB,GAASA,EAAMmvB,0BACjBnvB,EAAMsvB,uBACC7wB,QAAQC,WAEVD,QAAQkZ,OAAO,IAAIhF,MAAM,4BAClC,CAAE,MAAO/jB,GACP,OAAO6P,QAAQkZ,OAAO,IAAIhF,MAAM,4BAClC,CAvBA,CAwBF,GACC,CACDzwB,IAAK,mBACLsB,MAAO,WACL,IAAIqK,EAAK5O,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAKO,KAAKyI,OAAOq1B,iBAClF99B,KAAK+nC,mBACP/nC,KAAK6vC,uBACI7vC,KAAK4mC,YACd5mC,KAAK8uC,iBAEP,IAAIiB,EAAS1hC,EAAK,GAAG5N,OAAO65B,GAAYc,iBAAkB,KAAK36B,OAAO65B,GAAYU,gBAAkBV,GAAYU,eAChHh7B,KAAK6mC,gBAAgB7mC,KAAK0a,KAAMrM,EAAI0hC,GACpC,IAAIC,EAAwBhwC,KAAKyI,OAAOm+B,WAAYA,OAAuC,IAA1BoJ,EAAmC,CAAC,EAAIA,EACrGC,GAAmD,IAAhCrJ,EAAWqJ,kBAAoE,oBAAhCrJ,EAAWqJ,kBAAmCrJ,EAAWqJ,mBAC3HA,IACFjwC,KAAK4mC,YAAa,EAClB5mC,KAAKmlB,KAAK5B,IAAmB,IAE/BvjB,KAAKioC,iBAAmB55B,EACxBrO,KAAK+mC,eAAgB,EACrB/mC,KAAKmlB,KAAK3B,IAAuB,EACnC,GACC,CACD9gB,IAAK,oBACLsB,MAAO,WACL,IAAI+rC,EAAS/vC,KAAKioC,iBAAmB,GAAGxnC,OAAO65B,GAAYc,iBAAkB,KAAK36B,OAAO65B,GAAYU,gBAAkBV,GAAYU,eACnI,GAAKh7B,KAAK4mC,WAEH,CACL,IAAIsJ,EAAyBlwC,KAAKyI,OAAOm+B,WAAYA,OAAwC,IAA3BsJ,EAAoC,CAAC,EAAIA,EACvGD,GAAmD,IAAhCrJ,EAAWqJ,kBAAoE,oBAAhCrJ,EAAWqJ,kBAAmCrJ,EAAWqJ,mBAC3HA,GACFjwC,KAAKonC,iBAAiBpnC,KAAK0a,KAAM1a,KAAKioC,iBAAkB8H,GACxD/vC,KAAK4mC,YAAa,EAClB5mC,KAAKmlB,KAAK5B,IAAmB,IAE7BvjB,KAAK8P,YAAYigC,EAErB,MAXE/vC,KAAKonC,iBAAiBpnC,KAAK0a,KAAM1a,KAAKioC,iBAAkB8H,GAY1D/vC,KAAKioC,iBAAmB,KACxBjoC,KAAK+mC,eAAgB,EACrB/mC,KAAKmlB,KAAK3B,IAAuB,EACnC,GACC,CACD9gB,IAAK,sBACLsB,MAAO,WACL,IAAIqK,EAAK5O,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAKO,KAAKyI,OAAOq1B,iBAClF99B,KAAK+mC,eACP/mC,KAAKgnC,kBAAkB34B,GAEzB,IAAI0hC,EAAS1hC,EAAK,GAAG5N,OAAO65B,GAAYc,iBAAkB,KAAK36B,OAAO65B,GAAYW,mBAAqBX,GAAYW,kBACnHj7B,KAAK2mC,cAAgBt4B,GAAMrO,KAAK0a,KAChC1a,KAAK6mC,gBAAgB7mC,KAAK0a,KAAMrM,EAAI0hC,EAAQzV,GAAYY,0BACxDl7B,KAAK+nC,oBAAqB,EAC1B/nC,KAAK4mC,YAAa,EAClB5mC,KAAKmwC,aAAa,IAClBnwC,KAAKowC,WAAapwC,KAAK0a,KAAK/M,aAAa,SACzC3N,KAAK0a,KAAK1F,MAAML,MAAQ,GAAGlU,OAAOuH,OAAOqoC,YAAa,MACtDrwC,KAAKmlB,KAAK5B,IAAmB,EAC/B,GACC,CACD7gB,IAAK,uBACLsB,MAAO,SAA8BqK,GACnC,IAAI0hC,EAAS/vC,KAAK2mC,gBAAkB3mC,KAAK0a,KAAO,GAAGja,OAAO65B,GAAYc,iBAAkB,KAAK36B,OAAO65B,GAAYW,mBAAqBX,GAAYW,kBACjJj7B,KAAKonC,iBAAiBpnC,KAAK0a,KAAM1a,KAAK2mC,cAAeoJ,EAAQzV,GAAYY,0BACzEl7B,KAAK+nC,oBAAqB,EAC1B/nC,KAAK4mC,YAAa,EAClB5mC,KAAKmwC,aAAa,GAClBnwC,KAAKmlB,KAAK5B,IAAmB,GACzBvjB,KAAKowC,aACPpwC,KAAK0a,KAAK1F,MAAMA,MAAQhV,KAAKowC,WAC7BpwC,KAAKowC,YAAa,EAEtB,GACC,CACD1tC,IAAK,eACLsB,MAAO,SAAsBssC,GACA,KAAvBtoC,OAAOuoC,cAA8C,KAAxBvoC,OAAOuoC,YACtCvwC,KAAK8nC,UAAY,EAEjB9nC,KAAK8nC,UAAYwI,CAErB,GACC,CACD5tC,IAAK,QACLsB,MAAO,WACL,IAAI6mB,EAAOprB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC1EwgC,UAAWjgC,KAAKyI,OAAOo0B,eACvB2T,MAAOxwC,KAAKyI,OAAOm1B,UAEjB59B,KAAKi6B,SACPj6B,KAAKywC,QAAQ5lB,GAGf7qB,KAAKmlB,KAAKvC,GAActgB,EAAe,CACrCojB,OAAQ1lB,KAAK0lB,OACbjF,MAAOzgB,KAAKygB,OACXoK,GACL,GACC,CACDnoB,IAAK,OACLsB,MAAO,WACL,IAAI6mB,EAAOprB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC1EmhC,cAAc,GAEX5gC,KAAKi6B,SAIVj6B,KAAKmlB,KAAKtC,GAAavgB,EAAe,CACpCojB,OAAQ1lB,KAAK0lB,OACbjF,MAAOzgB,KAAKygB,OACXoK,IAND7qB,KAAK0wC,OAAO7lB,EAOhB,GACC,CACDnoB,IAAK,UACLsB,MAAO,WACL,IAAI2sC,EAAU3wC,KACV6qB,EAAOprB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC1EwgC,UAAU,EACVuQ,MAAO,KAELnH,EAAcrpC,KAAKqpC,YAUvB,GATArpC,KAAKi6B,UAAW,EAChBj6B,KAAK8P,YAAYwqB,GAAYQ,UACzB96B,KAAKwnC,YACPp9B,EAAK+B,aAAanM,KAAMA,KAAKwnC,WAC7BxnC,KAAKwnC,UAAY,WAEC,IAAhB3c,EAAK+lB,SACPvH,EAAYC,eAAiBze,EAAK+lB,SAEd,IAAlB/lB,EAAKoV,WAAsC,IAAhBpV,EAAK+lB,QAAmBvH,EAAYC,eAC7DtpC,KAAKwnC,YACPp9B,EAAK+B,aAAanM,KAAMA,KAAKwnC,WAC7BxnC,KAAKwnC,UAAY,UAHrB,CAOA,IAAI/7B,EAAOof,GAAQA,EAAK2lB,MAAQ3lB,EAAK2lB,MAAQxwC,KAAKyI,OAAOm1B,SACzD59B,KAAKwnC,UAAYp9B,EAAK4B,WAAWhM,MAAM,WACrC2wC,EAAQnJ,UAAY,KACpBmJ,EAAQhQ,MACV,GAAGl1B,EALH,CAMF,GACC,CACD/I,IAAK,SACLsB,MAAO,WACL,IAAI6sC,EAAOpxC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAAGqxC,EAAoBD,EAAKjQ,aAAcA,OAAqC,IAAtBkQ,GAAuCA,EAC7K,GAAK9wC,KAAKi6B,WAAYj6B,KAAKqpC,YAAYC,eAAvC,CAGA,IAAItM,EAAuBh9B,KAAKyI,OAAOu0B,qBACvCh9B,KAAKi6B,UAAW,GACZ2G,GAAgB5D,IAAyBh9B,KAAK0lB,SAAW1lB,KAAKygB,QAChEzgB,KAAKmP,SAASmrB,GAAYQ,SAJ5B,CAMF,GACC,CACDp4B,IAAK,YACLsB,MAAO,WACLhE,KAAK4uC,UAAU,UACjB,GACC,CACDlsC,IAAK,YACLsB,MAAO,WACLhE,KAAK8P,YAAYwqB,GAAYG,OAC7Bz6B,KAAK8P,YAAYwqB,GAAY7Y,OAC7BzhB,KAAK8P,YAAYwqB,GAAYK,SAC7B36B,KAAK6nC,WAAY,EACjB7nC,KAAKynC,WAAar9B,EAAK+B,aAAanM,KAAMA,KAAKynC,UACjD,GACC,CACD/kC,IAAK,mBACLsB,MAAO,WACDhE,KAAKgmC,YAAc,GAAKhmC,KAAKua,SAAW,IAC1Cva,KAAK4b,YAAc5b,KAAKgmC,YACxBhmC,KAAKgmC,aAAe,EAExB,GACC,CACDtjC,IAAK,eACLsB,MAAO,WACLhE,KAAK2nC,SAAU,EACf3nC,KAAK4nC,WAAY,CACnB,GACC,CACDllC,IAAK,cACLsB,MAAO,WACLhE,KAAK8P,YAAYwqB,GAAY7Y,OAC7BzhB,KAAK6nC,WAAY,CACnB,GACC,CACDnlC,IAAK,SACLsB,MAAO,WACDhE,KAAKmqC,QAAUlF,GAAO1jB,OACxBvhB,KAAKgqC,SAAS/E,GAAOK,SAEvBtlC,KAAK8P,YAAYwqB,GAAYI,QAC7B16B,KAAKygB,OAASzgB,KAAK8P,YAAYwqB,GAAY/Y,QAC1CvhB,KAAKyI,OAAOs0B,qBAAuB/8B,KAAKggC,OAC3C,GACC,CACDt9B,IAAK,UACLsB,MAAO,WACLhE,KAAKmP,SAASmrB,GAAYI,QAC1B16B,KAAK4uC,UAAU,SACV5uC,KAAKyI,OAAOu0B,uBACXh9B,KAAKwnC,YACPp9B,EAAK+B,aAAanM,KAAMA,KAAKwnC,WAC7BxnC,KAAKwnC,UAAY,MAEnBxnC,KAAKggC,QAET,GACC,CACDt9B,IAAK,UACLsB,MAAO,WACLhE,KAAK4uC,UAAU,SACf5uC,KAAKmP,SAASmrB,GAAY/Y,OAC1BvhB,KAAKgqC,SAAS/E,GAAO1jB,MACvB,GACC,CACD7e,IAAK,UACLsB,MAAO,WACLhE,KAAK2nC,SAAU,EACf3nC,KAAK4uC,UAAU,SACf5uC,KAAK8P,YAAYwqB,GAAYoB,oBAC7B17B,KAAK8P,YAAYwqB,GAAYM,UAC7B56B,KAAK8P,YAAYwqB,GAAYG,OAC7Bz6B,KAAK8P,YAAYwqB,GAAYK,SAC7B36B,KAAKmP,SAASmrB,GAAY7Y,MAC5B,GACC,CACD/e,IAAK,YACLsB,MAAO,WACAhE,KAAK4nC,WACR5nC,KAAK4uC,UAAU,WAEjB5uC,KAAK4nC,WAAY,EACjB5nC,KAAKmP,SAASmrB,GAAY5Y,QAC5B,GACC,CACDhf,IAAK,WACLsB,MAAO,WACLhE,KAAK4nC,WAAY,EACb5nC,KAAKynC,WACPr9B,EAAK+B,aAAanM,KAAMA,KAAKynC,WAE/BznC,KAAK8P,YAAYwqB,GAAYK,SAC7B36B,KAAK8P,YAAYwqB,GAAY5Y,QAC/B,GACC,CACDhf,IAAK,YACLsB,MAAO,WACL,IAAI+sC,EAAU/wC,KACVA,KAAKynC,WACPr9B,EAAK+B,aAAanM,KAAMA,KAAKynC,WAE/BznC,KAAK4uC,UAAU,WACf5uC,KAAKynC,UAAYr9B,EAAK4B,WAAWhM,MAAM,WACrC+wC,EAAQ5hC,SAASmrB,GAAYK,SAC7BvwB,EAAK+B,aAAa4kC,EAASA,EAAQtJ,WACnCsJ,EAAQtJ,UAAY,IACtB,GAAGznC,KAAKyI,OAAOk2B,aACjB,GACC,CACDj8B,IAAK,YACLsB,MAAO,WACL,IAAIgtC,EAAUhxC,KACdA,KAAK2nC,SAAU,EACf,IAAI/M,EAAWN,GAAYM,SAAUF,EAASJ,GAAYI,OAAQnZ,EAAQ+Y,GAAY/Y,MAAO0sB,EAAS3T,GAAY7Y,MAAOusB,EAAU1T,GAAYnX,OAAQwX,EAAUL,GAAYK,QACzKuT,EAAU,CAACtT,EAAUF,EAAQnZ,EAAO0sB,EAAQD,EAASrT,GACzDuT,EAAQzrC,SAAQ,SAAS2rC,GACvB4C,EAAQlhC,YAAYs+B,EACtB,IACKpuC,KAAK2oC,WAAWhT,GAAM31B,KAAK0lB,QAAW1lB,KAAKygB,QAC9CzgB,KAAK2oC,WAAWhT,GAAI,IAAI9oB,MAAOkN,UAEnC,GACC,CACDrX,IAAK,eACLsB,MAAO,YACJhE,KAAKooC,cAAgBpoC,KAAKwgB,MAAMywB,aAAejxC,KAAK62B,UAChD72B,KAAKynC,WAAaznC,KAAKqP,SAASirB,GAAYK,WAAa36B,KAAKwgB,MAAMG,WAAa,IACpF3gB,KAAK8P,YAAYwqB,GAAYK,SAC7BvwB,EAAK+B,aAAanM,KAAMA,KAAKynC,WAC7BznC,KAAKynC,UAAY,OAEdznC,KAAK0lB,QAAU1lB,KAAKmqC,MAAQlF,GAAOK,SAAWtlC,KAAKua,WACtDva,KAAKgqC,SAAS/E,GAAOK,SACrBtlC,KAAKmlB,KAAKnC,KAEPhjB,KAAK2oC,WAAWhT,GAAM31B,KAAK0lB,QAAW1lB,KAAKygB,QAC9CzgB,KAAK2oC,WAAWhT,GAAI,IAAI9oB,MAAOkN,UAEnC,GACC,CACDrX,IAAK,iBACLsB,MAAO,WAC+B,WAApCoG,EAAKkG,OAAOtQ,KAAKyI,OAAOqd,UAAyB9lB,KAAKyI,OAAOqd,OAAS9lB,KAAK8lB,OAC7E,GACC,CACDpjB,IAAK,eACLsB,MAAO,WACLhE,KAAKyI,OAAOmf,oBAAsB5nB,KAAKmmB,YACzC,GACC,CACDzjB,IAAK,iBACLsB,MAAO,SAAwBiO,EAAO8d,EAAQC,GAC5C,GAAKhwB,KAAKwgB,OAAUuP,GAAW9d,EAA/B,CAGA,IAAI8hB,EAAmC,WAAvB3pB,EAAKkG,OAAO2B,GAAsBA,EAAQA,EAAMzH,MAAQ,GACpEwlB,EAAOvsB,OAAuC,UAA9B2G,EAAKkG,OAAO0f,EAAOvsB,SACrCusB,EAAOvsB,MAAQ,CAACusB,EAAOvsB,QAEzBzD,KAAKmlB,KAAKb,GAAahiB,EAAe,CACpCyxB,YACAhE,SACAnU,YAAa5b,KAAK4b,YAClBrB,SAAUva,KAAKua,SACfkG,MAAOzgB,KAAKygB,MACZxO,SACC+d,GAZH,CAaF,GACC,CACDttB,IAAK,YACLsB,MAAO,SAAmBktC,GACxB,GAAIlxC,KAAK2oC,WAAWhT,EAAG,CACrB,IAAIwb,GAAM,IAAItkC,MAAOkN,UAAY/Z,KAAK2oC,WAAWhT,EACjD31B,KAAK2oC,WAAWC,KAAOuI,EACvBnxC,KAAK2oC,WAAWhT,EAAI,GACJ,UAAZub,GAAuBlxC,KAAKygB,SAC9BzgB,KAAK2oC,WAAWE,QAAU7oC,KAAK2oC,WAAWC,IAE9C,CACF,GACC,CACDlmC,IAAK,cACLsB,MAAO,SAAqByH,GAC1B,IAAIyM,EAAWlY,KAAKwgB,MAAMtI,SAC1B,IAAKA,GAAgC,IAApBA,EAASxY,SAAiBM,KAAKua,SAC9C,OAAO,EAIT,IAFA,IAAIqB,EAAcnQ,GAAQzL,KAAKwgB,MAAM5E,aAAe,GAChDxU,EAAM8Q,EAASxY,OACVmB,EAAI,EAAGA,EAAIuG,EAAKvG,IACvB,GAAIqX,EAAShO,MAAMrJ,IAAM+a,GAAe1D,EAAS/N,IAAItJ,GAAK+a,EACxD,OAAO,EAGX,OAAO,CACT,GACC,CACDlZ,IAAK,iBACLsB,MAAO,WACL,IAAIotC,EAAiBpxC,KAAKsoC,SAAUvtB,EAASq2B,EAAer2B,OAAQytB,EAAK4I,EAAe5I,GAAIC,EAAK2I,EAAe3I,GAAI7nC,EAAIwwC,EAAexwC,EAAGiU,EAAIu8B,EAAev8B,EAC7J,KAAIkG,EAAS,IAAMytB,GAAOC,EAA1B,CAGA,IAAI4I,EAAMrxC,KAAKsoC,SAAS+I,IAIxB,IAHKA,GAAOrxC,KAAKwgB,MAAMywB,cACrBI,EAAMrxC,KAAKwgB,MAAM8wB,WAAatxC,KAAKwgB,MAAMywB,YAAc,KAEpDI,EAAL,CAGArxC,KAAKsoC,SAASC,GAAK8I,EACnB,IAAIE,EAAO,CACTx2B,UAEErI,EAAU,EACVH,EAAU,EACVuI,EAAQ,EACRkpB,EAAKjpB,EAAS,EAAI,EAAIrO,KAAK6O,IAAIR,EAAS,IACxCL,EAAO1a,KAAK0a,KAAMquB,EAAiB/oC,KAAK+oC,eACxCp0B,EAAQ+F,EAAK82B,YACb58B,EAASm0B,EAAiBA,EAAe0I,aAAe/2B,EAAK+2B,aAC7DC,EAAU98B,EACV+8B,EAASh9B,EACb,GAAIqvB,EAAK,IAAM,EACblpB,EAAQla,EAAI,EAAI,IAAMA,EAAIiU,EAAI,EAAI,IAAMA,EAAI,EAC5C08B,EAAKz2B,MAAQA,EACbpI,EAAU81B,EAAK,GAAK,IAAM5nC,GAAK,EAAI4nC,EAAK,EACxC+I,EAAK34B,EAAW,IAAPorB,EAAW,EAAItxB,EAAUA,EAClCH,EAAUk2B,EAAK,GAAK,IAAM5zB,GAAK,EAAI4zB,EAAK,EACxC8I,EAAK54B,EAAW,IAAPqrB,EAAW,EAAIzxB,EAAUA,EAClCvS,KAAKwgB,MAAMxL,MAAML,MAAQ,GAAGlU,OAAOkxC,EAAQ,MAC3C3xC,KAAKwgB,MAAMxL,MAAMJ,OAAS,GAAGnU,OAAOixC,EAAS,WACxC,GAAI1N,EAAK,IAAM,EAAG,CACvB2N,EAAS/8B,EACT88B,EAAU/8B,EACV,IAAIoH,EAASnH,EAASD,EACtBpC,GAAWwJ,EAAS,EAAI41B,EAAS,IACjCJ,EAAK54B,EAAW,IAAPqrB,EAAWzxB,EAAUi2B,EAAK,EAAIj2B,EAAUi2B,EAAK,EACtD91B,EAAUqJ,EAAS,EAAI21B,EAAU,IACjCH,EAAK34B,EAAW,IAAPorB,EAAWtxB,EAAU+1B,EAAK,EAAI/1B,EAAU+1B,EAAK,EACtD8I,EAAKz2B,MAAQA,EACb9a,KAAKwgB,MAAMxL,MAAML,MAAQ,GAAGlU,OAAOkxC,EAAQ,MAC3C3xC,KAAKwgB,MAAMxL,MAAMJ,OAAS,GAAGnU,OAAOixC,EAAS,KAC/C,CACA,IAAIE,EAAYxnC,EAAKwQ,kBAAkB22B,EAAMvxC,KAAKwgB,MAAMxL,MAAM68B,WAAa7xC,KAAKwgB,MAAMxL,MAAM88B,iBAC5F9xC,KAAKwgB,MAAMxL,MAAM68B,UAAYD,EAC7B5xC,KAAKwgB,MAAMxL,MAAM88B,gBAAkBF,CArCnC,CAPA,CA6CF,GACC,CACDlvC,IAAK,WACLsB,MAAO,WACL,IAAI6W,EAAMpb,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CACzEmB,EAAG,EACHgY,EAAG,EACHD,EAAG,EACH9D,EAAG,GAEL,GAAK7U,KAAKwgB,OAAU3F,GAAQA,EAAIja,EAAhC,CAGA,IAAI0nC,EAAWtoC,KAAKsoC,SACpBA,EAAS1nC,EAAY,IAARia,EAAIja,GAAW,EAC5B0nC,EAASzzB,EAAY,IAARgG,EAAIhG,GAAW,EAC5ByzB,EAASG,GAAa,IAAR5tB,EAAIlC,GAAW,EAC7B2vB,EAASE,GAAa,IAAR3tB,EAAIjC,GAAW,EAC7B5Y,KAAK+xC,gBANL,CAOF,GACC,CACDrvC,IAAK,YACLsB,MAAO,SAAmByE,GACxB,IAAIupC,EAAUhyC,KACTyI,GAGLtJ,OAAO2C,KAAK2G,GAAQ8H,KAAI,SAAS7N,GAC/B,GAAY,YAARA,EAAmB,CACrBsvC,EAAQvpC,OAAO/F,GAAO+F,EAAO/F,GAC7B,IAAI8rB,EAASwjB,EAAQzjB,QAAQ7rB,EAAIma,eAC7B2R,GAA4C,aAAlCpkB,EAAKkG,OAAOke,EAAOyjB,YAC/BzjB,EAAOyjB,UAAUxpC,EAAO/F,GAE5B,CACF,GACF,GACC,CACDA,IAAK,WACLsB,MAAO,SAAkByE,GACvB,IAAIypC,EAAUlyC,KACdA,KAAKwuC,aACLxuC,KAAKiyC,UAAUxpC,GACfzI,KAAKimB,aAAe,EACpBjmB,KAAKomB,UAAY,EACjByI,GAAS7uB,KAAM,YAAY,WACzBkyC,EAAQhoC,QACRgoC,EAAQ/sB,KAAKhB,GAAU1b,EACzB,GACF,GACC,CACD/F,IAAK,SACLsB,MAAO,WACL,IAAImuC,EAAUnyC,KACd,GAAKA,KAAKwgB,MAAV,CAGA,IAAI4xB,EAAgBpyC,KAAK0a,KAAKqwB,wBAC9B/qC,KAAK0oC,SAAS/zB,MAAQy9B,EAAcz9B,MACpC3U,KAAK0oC,SAAS9zB,OAASw9B,EAAcx9B,OACrC5U,KAAK0oC,SAAStI,KAAOgS,EAAchS,KACnCpgC,KAAK0oC,SAASvB,IAAMiL,EAAcjL,IAClC,IAAIkL,EAAcryC,KAAKwgB,MAAO8wB,EAAae,EAAYf,WAAYL,EAAcoB,EAAYpB,YACzFqB,EAAgBtyC,KAAKyI,OAAQwzB,EAAeqW,EAAcrW,aAAcC,EAAgBoW,EAAcpW,cAI1G,GAHsB,SAAlBA,GAA8C,UAAlBA,GAA+C,YAAlBA,GAC3Dl8B,KAAK6O,aAAa,cAAeqtB,GAE9B+U,GAAgBK,EAArB,CAGAtxC,KAAKooC,aAAe6I,EACpBjxC,KAAKqoC,YAAciJ,EACnB,IAAIiB,EAAiBvyC,KAAK+mB,UAAY/mB,KAAK+oC,eAAiB/oC,KAAK+mB,SAASrM,KAAKqwB,wBAAwBn2B,OAAS,EAC5GD,EAAQy9B,EAAcz9B,MACtBC,EAASw9B,EAAcx9B,OAAS29B,EAChCC,EAAW58B,SAAS07B,EAAaL,EAAc,IAAK,IACpDwB,EAAM78B,SAASjB,EAAQC,EAAS,IAAK,IACrC+8B,EAASh9B,EACT+8B,EAAU98B,EACV89B,EAAS,CAAC,EACO,SAAjBzW,GAA2BwW,EAAMD,GAA6B,aAAjBvW,GAC/CyV,EAAU/8B,EAAQ69B,EAAW,IACzBxyC,KAAKyI,OAAOuzB,MACd0W,EAAOC,WAAa,GAAGlyC,OAAiB,IAAVixC,EAAgBC,EAAQ,KAEtDe,EAAO99B,OAAS,GAAGnU,OAAOixC,EAAUa,EAAgB,QAE5B,SAAjBtW,GAA2BwW,EAAMD,GAA6B,cAAjBvW,KACtD0V,EAASa,EAAW59B,EAAS,IAC7B89B,EAAO/9B,MAAQ,GAAGlU,OAAOkxC,EAAQ,OAE9B3xC,KAAK4mC,YAAe5mC,KAAK+mC,eAC5B5nC,OAAO2C,KAAK4wC,GAAQjwC,SAAQ,SAASC,GACnCyvC,EAAQz3B,KAAK1F,MAAMtS,GAAOgwC,EAAOhwC,EACnC,KAEoB,eAAlBw5B,GAAkCuW,EAAMD,GAA8B,cAAlBtW,GAAiCuW,EAAMD,IAC7FxyC,KAAK6O,aAAa,cAAe,SAEnC,IAAIgc,EAAO,CACT+nB,WAAYJ,EACZK,OAAQlB,EACRmB,QAASpB,EACTqB,OAAQpB,EACRqB,QAAStB,EAAUa,GAErBvyC,KAAK+xC,iBACL/xC,KAAKmlB,KAAKpB,GAAc8G,EAtCxB,CAbA,CAoDF,GACC,CACDnoB,IAAK,uBACLsB,MAAO,WACL,IAAIo8B,EAAO3gC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACxE0nC,EAAM1nC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACvEO,KAAKwgB,MAAMyyB,qBACbjzC,KAAKwgB,MAAMyyB,qBAAqB7S,EAAM+G,GAGxCnnC,KAAKwgB,MAAMxL,MAAMk+B,eAAiB,GAAGzyC,OAAc,IAAP2/B,EAAY,MAAM3/B,OAAa,IAAN0mC,EAAW,IAClF,GACC,CACDzkC,IAAK,WACLsB,MAAO,SAAkBmvC,GACvB3qC,EAASG,QAAQ,WAAY,cAAclI,OAAO+kC,GAAYxlC,KAAKmqC,OAAQ,QAAQ1pC,OAAO+kC,GAAY2N,KACtGnzC,KAAK0nC,OAASyL,CAChB,GACC,CACDzwC,IAAK,gBACLsB,MAAO,SAAuBsP,EAAK8M,GACjC,IAAIgzB,EAAiBpzC,KAAKyI,OAAOg1B,cACjC,OAAQrzB,EAAKwP,OAAOtG,IAAQ8/B,GAA4C,oBAAnBA,EAAgCA,EAAe9/B,EAAK8M,GAAO,CAC9G9M,MAEJ,GACC,CACD5Q,IAAK,QACLsD,IAAK,WACH,OAAOhG,KAAK0nC,MACd,GACC,CACDhlC,IAAK,eACLsD,IAAK,WACH,OAAOhG,KAAK4mC,UACd,GACC,CACDlkC,IAAK,kBACLsD,IAAK,WACH,OAAOhG,KAAK+mC,aACd,GACC,CACDrkC,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAK6mB,SACd,EACA8C,IAAK,SAAa0pB,GACI,mBAATA,IACTrzC,KAAK6mB,UAAYwsB,GACJ,IAATA,GACFrzC,KAAKgqC,SAAS/E,GAAOniB,OAEvB9iB,KAAKmlB,KAAK,YAEd,GACC,CACDziB,IAAK,YACLsD,IAAK,WACH,OAAOhG,KAAK0nC,SAAWzC,GAAOK,SAAWtlC,KAAK0nC,SAAWzC,GAAO1jB,KAClE,EACAoI,IAAK,SAAa3lB,GACZA,EACFhE,KAAKgqC,SAAS/E,GAAOK,SAErBtlC,KAAK0nC,QAAUzC,GAAOK,SAAWtlC,KAAKgqC,SAAS/E,GAAOG,SAE1D,GACC,CACD1iC,IAAK,iBACLsD,IAAK,WACH,OAAKhG,KAAKyI,QAAWzI,KAAKyI,OAAO61B,YAG1Bt+B,KAAKyI,OAAO61B,WAAWh0B,MAFrB,EAGX,EACAqf,IAAK,SAAarf,GAChB,IAAIgpC,EAAUtzC,KACVs+B,EAAat+B,KAAKyI,OAAO61B,WACzBiV,EAAS,KACTC,EAAY,KAChBlV,EAAWh0B,KAAOA,EAClBtK,KAAKmlB,KAAK,gBAAiB7a,GAC3BA,EAAK7H,SAAQ,SAASmM,GACpB,IAAI6kC,GACqD,QAAnDA,EAAwBH,EAAQpL,qBAAqD,IAA1BuL,OAAmC,EAASA,EAAsBnV,cAAgB1vB,EAAK0vB,aACtJiV,EAAS3kC,GAEP0vB,EAAWqL,oBAAsB/6B,EAAK0vB,aACxCkV,EAAY5kC,EAEhB,KACK4kC,GAAalpC,EAAK5K,OAAS,IAC9B8zC,EAAYlpC,EAAK,IAEnBipC,EAASvzC,KAAK0zC,iBAAiBH,GAAUC,GAAaxzC,KAAK0zC,iBAAiBF,EAC9E,GACC,CACD9wC,IAAK,iBACLsD,IAAK,WACH,IAAIgR,EAAM,CACR28B,MAAO,EACPC,QAAS,EACTC,UAAW,EACXC,YAAa,EACbC,gBAAiB,GAEnB,IAAK/zC,KAAKwgB,QAAUxgB,KAAKwgB,MAAMwzB,wBAC7B,OAAOh9B,EAET,IAAIi9B,EAAWj0C,KAAKwgB,MAAMwzB,0BAQ1B,OAPAh9B,EAAI48B,QAAUK,EAASC,oBAAsB,EAC7Cl9B,EAAI28B,MAAQM,EAASE,kBAAoB,EACzCn9B,EAAI68B,UAAYI,EAASG,sBAAwB,EAC7Cp9B,EAAI28B,MAAQ,IACd38B,EAAI88B,YAAc98B,EAAI48B,QAAU58B,EAAI28B,MAAQ,IAC5C38B,EAAI+8B,gBAAkBn+B,SAAS5V,KAAKq0C,aAAer9B,EAAI28B,MAAQ38B,EAAI48B,QAAS,IAEvE58B,CACT,GACC,CACDtU,IAAK,OACLsD,IAAK,WACH,OAAOhG,KAAKyI,OAAO+E,IACrB,EACAmc,IAAK,SAAanc,GAChB,IAAI9H,EAASq/B,GAAKlB,SAAS5hC,QAAO,SAASS,GACzC,OAAOA,IAAQ8K,CACjB,IACsB,IAAlB9H,EAAOhG,QAAyB,OAAT8N,GAI3BxN,KAAKyI,OAAO+E,KAAOA,EACnB+oB,GAAeoD,QAAQnsB,EAAMxN,OAJ3BiJ,QAAQZ,MAAM,+CAA+C5H,OAAO+M,EAAM,gEAAgE/M,OAAOskC,GAAKlB,SAASrzB,OAAQ,MAK3K,GACC,CACD9N,IAAK,OACLsD,IAAK,WACH,IAAIsuC,EAAKt0C,KAAKyI,OAAO+E,KAIrB,MAHW,OAAP8mC,IACFA,EAAK,SAEAt0C,KAAKipC,OAAOz7B,KAAK8mC,IAAOt0C,KAAKipC,OAAOz7B,KAAK02B,EAClD,GACC,CACDxhC,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAKipC,OAAOnF,UAAY,CAAC,CAClC,GACC,CACDphC,IAAK,UACLsD,IAAK,WACH,OAAOgY,CACT,GACC,CACDtb,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAK22B,aACd,GACC,CACDj0B,IAAK,MACLsD,IAAK,WACH,OAAOhG,KAAKu0C,OAASv0C,KAAKyI,OAAO6K,GACnC,EACAqW,IAAK,SAAarW,GAChBtT,KAAKu0C,MAAQjhC,CACf,GACC,CACD5Q,IAAK,SACLsD,IAAK,WACH,OAAOhG,KAAKuuB,QAAQ8N,OAASr8B,KAAKuuB,QAAQ8N,OAAO5zB,OAAO4zB,OAASr8B,KAAKyI,OAAO4zB,MAC/E,EACA1S,IAAK,SAAa6qB,GAChBx0C,KAAKuuB,QAAQ8N,QAAUr8B,KAAKuuB,QAAQ8N,OAAOoY,OAAOD,EACpD,GACC,CACD9xC,IAAK,aACLsD,IAAK,WACH,OAAOD,EAAK1B,EAAgByhC,EAAQlmC,WAAY,aAAcI,KAChE,GACC,CACD0C,IAAK,QACLsD,IAAK,WACH,IAAItD,EAAMqD,EAAK1B,EAAgByhC,EAAQlmC,WAAY,QAASI,MAC5D,OAAOA,KAAKugB,KAAK7d,IAAQA,CAC3B,GACC,CACDA,IAAK,eACLsD,IAAK,WACH,OAAOD,EAAK1B,EAAgByhC,EAAQlmC,WAAY,eAAgBI,KAClE,GACC,CACD0C,IAAK,qBACLsD,IAAK,WACH,QAAoC,OAA3BhG,KAAK8mC,kBAChB,GACC,CACDpkC,IAAK,eACLsD,IAAK,WACH,IAAI0uC,EAAmB10C,KAAK2oC,WAAYC,EAAM8L,EAAiB9L,IAAKjT,EAAI+e,EAAiB/e,EACzF,OAAOA,GAAI,IAAI9oB,MAAOkN,UAAY4b,EAAIiT,EAAMA,CAC9C,GACC,CACDlmC,IAAK,OACLsD,IAAK,WACH,OAAOhG,KAAKyI,OAAOiQ,IACrB,EACAiR,IAAK,SAAa3lB,GAChBhE,KAAKyI,OAAOiQ,KAAO1U,CACrB,GACC,CACDtB,IAAK,iBACLsD,IAAK,WACH,OAAOhG,KAAKsoC,SAASvtB,MACvB,EACA4O,IAAK,SAAanT,GAChBA,EAAMpM,EAAKkR,WAAW9E,GAClBA,EAAM,KAAO,GAAKA,IAAQxW,KAAKsoC,SAASvtB,SAG5C/a,KAAKsoC,SAASvtB,OAASvE,EACvBxW,KAAK+xC,iBACP,GACC,CACDrvC,IAAK,WACLsD,IAAK,WACH,OAAO2/B,EACT,EACAhc,IAAK,SAAanT,GAChBmvB,GAAYnvB,CACd,GACC,CACD9T,IAAK,gBACLsD,IAAK,WACH,OAAO0/B,EACT,EACA/b,IAAK,SAAanT,GAChBkvB,GAAkBlvB,CACpB,GACC,CACD9T,IAAK,oBACLsD,IAAK,WACH,OAAOhG,KAAK8oC,YAAYltB,aAAe,CACzC,EACA+N,IAAK,SAAanT,GAChBxW,KAAK8oC,YAAYltB,YAAcpF,CACjC,GACC,CACD9T,IAAK,iBACLsD,IAAK,WACH,OAAOhG,KAAK8oC,YAAYvuB,UAAY,CACtC,EACAoP,IAAK,SAAanT,GAChBxW,KAAK8oC,YAAYvuB,SAAW/D,GAAO,CACrC,GACC,CACD9T,IAAK,OACLsB,MAAO,SAAgB0pB,EAAUL,GAC/B,OAAOI,GAAK3tB,KAAKC,MAAM0tB,GAAM,CAACztB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YACxE,GACC,CACDiD,IAAK,WACLsB,MAAO,SAAoB0pB,EAAUL,GACnC,OAAOe,GAAStuB,KAAKC,MAAMquB,GAAU,CAACpuB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YAChF,GACC,CACDiD,IAAK,cACLsB,MAAO,SAAuB0pB,EAAUL,GACtC,OAAOgB,GAAYvuB,KAAKC,MAAMsuB,GAAa,CAACruB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YACtF,GACC,CACDiD,IAAK,iBACLsB,MAAO,SAA0B+pB,EAAYL,EAAUL,GACrD,IAAK,IAAIvkB,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAClG0C,EAAK1C,EAAO,GAAKvJ,UAAUuJ,GAE7B,OAAOslB,GAAexuB,KAAKC,MAAMuuB,GAAgB,CAACtuB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YAC5F,GACC,CACDiD,IAAK,oBACLsB,MAAO,SAA6B+pB,EAAYL,EAAUL,GACxD,IAAK,IAAIhkB,EAAQ5J,UAAUC,OAAQgM,EAAO,IAAInL,MAAM8I,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGoC,EAAKpC,EAAQ,GAAK7J,UAAU6J,GAE9B,OAAOmlB,GAAkB3uB,KAAKC,MAAM0uB,GAAmB,CAACzuB,MAAMS,OAAOF,MAAMX,UAAUqH,MAAMnH,KAAKL,YAClG,GACC,CACDiD,IAAK,gBACLsB,MAAO,SAAuBi2B,EAAU0a,GACf,mBAAZA,GAAyBA,IAAY30C,KAAK6lB,QACnD7lB,KAAK40C,WAAW,gBAChB50C,KAAK6lB,MAAQ8uB,GAEfpe,GAAeyD,qBAAqBh6B,KAAKiO,SAAUgsB,EACrD,IACE,CAAC,CACHv3B,IAAK,WACLsD,IAAK,WACH,OAAOwC,EAASC,OAAOC,KACzB,EACAihB,IAAK,SAAa3lB,GAChBwE,EAASC,OAAOC,MAAQ1E,CAC1B,GACC,CACDtB,IAAK,+BACLsB,MAAO,WACL,OAAOuyB,GAAe2D,uBACxB,GACC,CACDx3B,IAAK,uBACLsB,MAAO,SAA8BiK,EAAUgsB,GAC7C1D,GAAeyD,qBAAqB/rB,EAAUgsB,EAChD,GACC,CACDv3B,IAAK,kBACLsB,MAAO,WACL,OAAOsY,EAAQqC,iBACjB,GACC,CACDjc,IAAK,uBACLsB,MAAO,SAA8BoE,GACnC,OAAOkU,EAAQsC,qBAAqBxW,EACtC,GACC,CACD1F,IAAK,UACLsB,MAAO,SAAiBkD,EAAMxD,GACvBoiC,EAAQvX,UACXuX,EAAQvX,QAAU,CAAC,GAEhBuX,EAAQvX,QAAQrnB,KACnB4+B,EAAQvX,QAAQrnB,GAAQxD,EAE5B,GACC,CACDhB,IAAK,MACLsB,MAAO,SAAakD,EAAMxD,GACnBoiC,EAAQvX,UACXuX,EAAQvX,QAAU,CAAC,GAErBuX,EAAQvX,QAAQrnB,GAAQxD,CAC1B,KAEKoiC,CACT,CAx4D6B,CAw4D3Btf,ICn6DF,SAAS1Z,KACP,OAAO,IAAID,MAAOkN,SACpB,CDk6DApX,EAAgBijC,GAAQ,gBAAiB,MACzCjjC,EAAgBijC,GAAQ,eAAgB,MCl6DxC,IAAIiP,GAAY,CACdvyB,WAAY,YACZJ,YAAa,aACb4yB,YAAa,aACbC,WAAY,eACZC,SAAU,aACVC,WAAY,YACZC,SAAU,WAERC,GAA2B,SAAS3iB,GACtC,EAAU4iB,EAAW5iB,GACrB,IAAI7L,EAAS,EAAayuB,GAC1B,SAASA,IACP,IAAIxuB,EACJ,EAAgB5mB,KAAMo1C,GACtB,IAAK,IAAItsC,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAuGzB,OArGA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,WAC9DA,EAAM8gB,OAAO2N,cAAe,EACxBzuB,EAAM8gB,OAAO4N,gBACf9sC,EAASG,QAAQ,aAAalI,OAAOmmB,EAAM/c,OAAOoE,SAAU,mBAC5D2Y,EAAM2uB,QAAQ,gBAElB,IACA5yC,EAAgByC,EAAuBwhB,GAAQ,oBAAoB,WACjEpe,EAASG,QAAQ,aAAalI,OAAOmmB,EAAM/c,OAAOoE,SAAU,sBAC5D2Y,EAAM8gB,OAAO4N,eAAgB,EAC7B1uB,EAAM4uB,IAAM5uB,EAAM2uB,QAAQ,kBAC5B,IACA5yC,EAAgByC,EAAuBwhB,GAAQ,YAAY,WACzDA,EAAM8gB,OAAS,CACb4N,eAAe,EACfG,aAAa,EACbJ,cAAc,EACdK,UAAU,EACVC,MAAM,GAER/uB,EAAM4uB,GAAK,EACX5uB,EAAMgvB,GAAK,EACXhvB,EAAMivB,IAAM,EACZjvB,EAAMkvB,aAAehpC,KACrB8Z,EAAMmvB,eAAiB,EACvBnvB,EAAMovB,cAAgB,EACtBpvB,EAAMqvB,YAAa,EACnBrvB,EAAMsvB,aAAe,EACrBtvB,EAAMuvB,aAAe,EACrBvvB,EAAMwvB,kBAAoB,EAC1BxvB,EAAMyvB,YAAa,EACnBzvB,EAAM0vB,YAAclsC,EAAK+B,aAAa/G,EAAuBwhB,GAAQA,EAAM0vB,YAC3E1vB,EAAM2vB,aAAensC,EAAK+B,aAAa/G,EAAuBwhB,GAAQA,EAAM2vB,aAC5E3vB,EAAM0vB,WAAa,KACnB1vB,EAAM2vB,YAAc,KACpB3vB,EAAM4vB,UAAY,CACpB,IACA7zC,EAAgByC,EAAuBwhB,GAAQ,cAAc,WACvDA,EAAMsvB,eAGVtvB,EAAM6vB,qBAAqB,QAC3B7vB,EAAMsvB,aAAeppC,KACrB8Z,EAAM8vB,QAAQ7B,GAAUI,WAAY,CAClC/qC,MAAO4C,OAEX,IACAnK,EAAgByC,EAAuBwhB,GAAQ,aAAa,WAC1DA,EAAM+vB,qBAAqB,SAC7B,IACAh0C,EAAgByC,EAAuBwhB,GAAQ,uBAAuB,WAChEA,EAAMyvB,YAAczvB,EAAM4uB,KAG9B5uB,EAAMyvB,YAAa,EACnBzvB,EAAMuvB,aAAerpC,KACrB8Z,EAAMwvB,kBAAoBtpC,KAC1B8Z,EAAM4vB,UAAY,EAClB5vB,EAAM8vB,QAAQ7B,GAAUE,WAAY,CAClC6B,WAAYhwB,EAAMwvB,kBAClBlsC,MAAO0c,EAAMuvB,aACb3rC,KAAM,EACN0mC,QAAS,cAEb,IACAvuC,EAAgByC,EAAuBwhB,GAAQ,cAAc,YACvDA,EAAMyvB,YAAezvB,EAAM4uB,KAG/B5uB,EAAMyvB,YAAa,EACdzvB,EAAM4uB,GAEA5uB,EAAMsvB,aACftvB,EAAM4vB,UAAY,EAElB5vB,EAAM4vB,UAAY,EAJlB5vB,EAAM4vB,UAAY,EAMpB5vB,EAAMwvB,kBAAoBtpC,KAC1B8Z,EAAM0vB,WAAalsC,EAAK4B,WAAW5G,EAAuBwhB,IAAQ,WAC5DA,EAAMyvB,aACRzvB,EAAMuvB,aAAerpC,KACrB1C,EAAK+B,aAAa/G,EAAuBwhB,GAAQA,EAAM0vB,YACvD1vB,EAAM0vB,WAAa,KACnB1vB,EAAMiwB,oBACNjwB,EAAM8vB,QAAQ7B,GAAUE,WAAY,CAClC6B,WAAYhwB,EAAMwvB,kBAClBlsC,MAAO0c,EAAMuvB,aACb3rC,KAAMoc,EAAM4vB,UACZtF,QAA6B,IAApBtqB,EAAM4vB,UAAkB,OAAS,YAGhD,GAAG,KACL,IACA7zC,EAAgByC,EAAuBwhB,GAAQ,YAAY,WACzDA,EAAM+vB,qBAAqB,SAC3B/vB,EAAM6vB,qBAAqB,QAC7B,IACA9zC,EAAgByC,EAAuBwhB,GAAQ,cAAc,WAC3DA,EAAMyvB,YAAczvB,EAAM6vB,qBAAqB,UACjD,IACO7vB,CACT,CAoLA,OAnLA,EAAawuB,EAAW,CAAC,CACvB1yC,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACbA,KAAK82C,WACL92C,KAAKw2C,UAAY,aACjBx2C,KAAK+2C,kBACL/2C,KAAK81C,aAAehpC,KACpB9M,KAAK+1C,eAAiB,EACtB/1C,KAAKg2C,cAAgB,EACrBh2C,KAAKsoB,GAAGhG,IAAY,WAClB,IAAIolB,EAAS3f,EAAO2f,OAChB4N,EAAgB5N,EAAO4N,cAAeI,EAAWhO,EAAOgO,SAC5D3tB,EAAOiuB,cAAgBlpC,KAAQib,EAAO+tB,aACtCttC,EAASG,QAAQ,aAAalI,OAAOsnB,EAAOle,OAAOoE,SAAU,eAAgB,iBAAiBxN,OAAO60C,EAAe,cAAc70C,OAAOi1C,EAAU,mBAAmBj1C,OAAOsnB,EAAOiuB,cAAe,iBAAiBv1C,OAAOsnB,EAAO+tB,eAC9NJ,KAGHhO,EAAOiO,MAAQ5tB,EAAO2uB,QAAQ7B,GAAUvyB,WAAY,CAAC,GACtDolB,EAAOiO,MAAO,EACdjO,EAAO2N,cAAe,EACtB3N,EAAO+N,aAAc,EACrB1tB,EAAO6tB,GAAK9oC,KACZib,EAAOytB,GAAK,EACZztB,EAAO8tB,IAAM,EACb9tB,EAAOgvB,kBACPhvB,EAAOivB,sBACT,IACAh3C,KAAKsoB,GAAGpG,IAAa,WACnB6F,EAAOytB,GAAK1oC,KACZib,EAAO8tB,IAAM9tB,EAAOytB,GAAKztB,EAAO6tB,GAChC7tB,EAAOguB,eAAiBhuB,EAAOytB,GAAKztB,EAAO+tB,aAC3C,IAAImB,EAAgBlvB,EAAO2f,OAAQ2N,EAAe4B,EAAc5B,aAAcK,EAAWuB,EAAcvB,SAAUJ,EAAgB2B,EAAc3B,cAC/I9sC,EAASG,QAAQ,aAAalI,OAAOsnB,EAAOle,OAAOoE,SAAU,gBAAiB,OAAOxN,OAAOsnB,EAAO8tB,IAAK,kBAAkBp1C,OAAOsnB,EAAO2f,OAAO2N,aAAc,oBAAoB50C,OAAOsnB,EAAOguB,kBAC3LV,GAAgBC,IAClBvtB,EAAOwtB,QAAQ,cAEZG,GACH3tB,EAAO2uB,QAAQ7B,GAAU3yB,YAAa,CAAC,GAEzC6F,EAAO0uB,qBAAqB,aAC9B,IACAz2C,KAAKsoB,GAAG5G,GAAS1hB,KAAKk3C,YACtBl3C,KAAKsoB,GAAG3G,GAAQ3hB,KAAKm3C,WACrBn3C,KAAKsoB,GAAGlF,IAAS,WACf2E,EAAOqvB,SAAS,UAClB,IACAp3C,KAAKsoB,GAAGjF,IAAY,WAClB0E,EAAOqvB,SAAS,aAChB5uC,EAASG,QAAQ,aAAalI,OAAOsnB,EAAOle,OAAOoE,SAAU,gBAC7D8Z,EAAO2f,OAAOgO,UAAY3tB,EAAO+uB,UACnC,IACA92C,KAAKsoB,GAAG,CAAChH,GAASQ,IAAU9hB,KAAKq3C,YACjCr3C,KAAKsoB,GAAGzG,GAAS7hB,KAAKs3C,YACtBt3C,KAAKsoB,GAAG7G,GAAOzhB,KAAKu3C,UACpBv3C,KAAKsoB,GAAG/D,IAAO,WACb/b,EAASG,QAAQ,aAAalI,OAAOsnB,EAAOle,OAAOoE,SAAU,WAC7D8Z,EAAOqvB,SAAS,SAChBrvB,EAAOgvB,kBACPhvB,EAAO+uB,UACT,GACF,GACC,CACDp0C,IAAK,kBACLsB,MAAO,WACLhE,KAAK0oB,IAAI1F,GAAkBhjB,KAAKw3C,kBAChCx3C,KAAK0oB,IAAI9G,GAAa5hB,KAAKy3C,eAC3Bz3C,KAAK6vB,KAAK7M,GAAkBhjB,KAAKw3C,kBACjCx3C,KAAK6vB,KAAKjO,GAAa5hB,KAAKy3C,cAC9B,GACC,CACD/0C,IAAK,UACLsB,MAAO,SAAiBktC,GACtBlxC,KAAK03C,EAAI5qC,KACT,IAAI6qC,EAAe33C,KAAK0nC,OAAQ+N,EAAckC,EAAalC,YAAaC,EAAWiC,EAAajC,SAChGltC,EAASG,QAAQ,aAAalI,OAAOT,KAAK6J,OAAOoE,SAAU,YAAa,GAAGxN,OAAOywC,EAAS,SAASzwC,OAAOT,KAAK61C,IAAK,iBAAiBp1C,OAAOg1C,EAAa,eAAeh1C,QAAQi1C,IAC7K11C,KAAKw1C,GAAK,GAAKC,IAAgBC,IACjCltC,EAASG,QAAQ,aAAalI,OAAOT,KAAK6J,OAAOoE,SAAU,uBAAwBijC,GACnFlxC,KAAK0nC,OAAO+N,aAAc,EAC1Bz1C,KAAK0nC,OAAOgO,UAAW,EACvB11C,KAAK02C,QAAQ7B,GAAUC,YAAa,CAClCe,IAAK71C,KAAK61C,IACV+B,SAAU53C,KAAK61C,IACfL,GAAIx1C,KAAKw1C,GACTQ,cAAeh2C,KAAKg2C,cACpBD,eAAgB/1C,KAAK+1C,iBAG3B,GACC,CACDrzC,IAAK,oBACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACTA,KAAKu2C,aACPnsC,EAAK+B,aAAanM,KAAMA,KAAKu2C,aAE/Bv2C,KAAKu2C,YAAcnsC,EAAK4B,WAAWhM,MAAM,WACvCgoB,EAAOyuB,qBAAqB,WAC5BrsC,EAAK+B,aAAa6b,EAAQA,EAAOuuB,aACjCvuB,EAAOuuB,YAAc,IACvB,GAAGv2C,KAAKyI,OAAOovC,YACjB,GACC,CACDn1C,IAAK,WACLsB,MAAO,SAAkBktC,GACvBlxC,KAAKy2C,qBAAqBvF,GAC1BlxC,KAAK22C,qBAAqBzF,EAC5B,GACC,CACDxuC,IAAK,uBACLsB,MAAO,SAA8BktC,GACnC,GAAKlxC,KAAKk2C,aAAV,CAGA,IAAI4B,EAAOhrC,KACPirC,EAAQD,EAAO93C,KAAKk2C,aACxBl2C,KAAKk2C,aAAe,EACpBl2C,KAAK02C,QAAQ7B,GAAUK,SAAU,CAC/B/qC,IAAK2tC,EACLF,SAAUG,EACV7G,WAPF,CASF,GACC,CACDxuC,IAAK,uBACLsB,MAAO,SAA8BktC,GAUnC,GATIlxC,KAAKs2C,aACPlsC,EAAK+B,aAAanM,KAAMA,KAAKs2C,YAC7Bt2C,KAAKs2C,WAAa,MAEhBt2C,KAAKu2C,cACPnsC,EAAK+B,aAAanM,KAAMA,KAAKu2C,aAC7Bv2C,KAAKu2C,YAAc,MAErBv2C,KAAKq2C,YAAa,EACbr2C,KAAKm2C,aAAV,CAGA,IAAI2B,EAAOhrC,KACPirC,EAAQD,EAAO93C,KAAKm2C,aACpB6B,EAAaF,EAAO93C,KAAKo2C,kBACzByB,EAAc73C,KAAKyI,OAAOovC,YAC9B73C,KAAKq2C,YAAa,EAClBr2C,KAAKm2C,aAAe,EACpBn2C,KAAKo2C,kBAAoB,EACzBp2C,KAAK02C,QAAQ7B,GAAUG,SAAU,CAC/BiD,cAAeD,EAAaH,EAAcA,EAAcG,EACxDJ,SAAUG,EAAQF,EAAcA,EAAcE,EAC9CvtC,KAAkB,eAAZ0mC,EAA2B,EAAIlxC,KAAKw2C,UAC1CtF,QAA4B,IAAnBlxC,KAAKw2C,UAAkB,OAAStF,GAZ3C,CAcF,GACC,CACDxuC,IAAK,UACLsB,MAAO,SAAiB+vB,EAAWlJ,GACjC,IAAIhhB,EAAS7J,KAAK6J,OAClB7J,KAAKmlB,KAAKd,GAAO/hB,EAAe,CAC9BqzB,EAAG7oB,KACHmU,KAAM7W,EAAK8O,eAAerP,EAAO8P,YACjCoM,MAAOlc,EAAOkc,MACdgO,YACAnY,YAAa5b,KAAK6J,OAAO+R,YACzB+E,WAAY9W,EAAO4P,MAAMkH,WACzBC,aAAc/W,EAAO4P,MAAMmH,cAC1BiK,GACL,IACE,CAAC,CACHnoB,IAAK,aACLsD,IAAK,WACH,MAAO,UACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL6xC,YAAa,IAEjB,KAEKzC,CACT,CApS+B,CAoS7B7iB,ICrTF,SAAS2lB,KACP,OAAO,IAAIC,WAAYC,gBAAgB,mqCAAoqC,iBAAiB9M,UAC9tC,CCIA,IAAI+M,GAAyB,SAAS5kB,GACpC,EAAU6kB,EAAS7kB,GACnB,IAAI9M,EAAS,EAAa2xB,GAC1B,SAASA,IAEP,OADA,EAAgBt4C,KAAMs4C,GACf3xB,EAAO5mB,MAAMC,KAAMP,UAC5B,CA8FA,OA7FA,EAAa64C,EAAS,CAAC,CACrB51C,IAAK,gBACLsB,MAAO,WACL,MAAO,CACLu0C,OAAQL,GAEZ,GACC,CACDx1C,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACZuyB,GAAOa,OAAOpzB,KAAKkyB,MAAMqmB,OAAQv4C,KAAK0a,KAAM,GAC5C1a,KAAKw4C,eAAiBx4C,KAAKytB,KAAK,eAAe,WAC7C7G,EAAM/c,OAAO0uC,QACf,GAAG,CACD3qB,IAAK,SAAaptB,GAChBA,EAAEi4C,iBACFj4C,EAAEgX,iBACJ,IAEFxX,KAAKX,KAAK,mBAAoB,CAAC,QAAS,YAAaW,KAAKw4C,gBAC1Dx4C,KAAKsoB,GAAG/G,IAAO,WAIb,GAHKqF,EAAM4I,aAAa9H,MACtBtd,EAAK+E,SAASyX,EAAM/c,OAAO6Q,KAAM,WAE/BkM,EAAMne,OAAO8vB,QAAjB,CAGA3R,EAAMtQ,OACN,IAAIoiC,EAAO9xB,EAAMlM,KAAK/J,cAAc,QACpC,GAAI+nC,EAAM,CACR,IAAI7G,EAAY7pC,OAAOgJ,iBAAiB0nC,GAAMlkB,iBAAiB,aAC/D,GAAyB,kBAAdqd,GAA0BA,EAAUvxC,QAAQ,SAAW,EAChE,OAAO,KAEPo4C,EAAK7pC,aAAa,YAAagjC,EAEnC,CAVA,CAWF,IACA7xC,KAAKsoB,GAAGjH,IAAM,WACZuF,EAAMxQ,MACR,GACF,GACC,CACD1T,IAAK,eACLsB,MAAO,SAAsBxD,GAC3BA,EAAEi4C,iBACFj4C,EAAEgX,kBACFxX,KAAK6J,OAAO0uC,SACZnuC,EAAK0F,YAAY9P,KAAK6J,OAAO6Q,KAAM,SACrC,GACC,CACDhY,IAAK,OACLsB,MAAO,WACDhE,KAAKyI,OAAO8vB,UAGhBv4B,KAAK0a,KAAK1F,MAAMqB,QAAU,OAC5B,GACC,CACD3T,IAAK,SACLsB,MAAO,WACLhE,KAAKyI,OAAO8vB,SAAU,CACxB,GACC,CACD71B,IAAK,UACLsB,MAAO,WACLhE,KAAKyI,OAAO8vB,SAAU,EACtBv4B,KAAKoW,MACP,GACC,CACD1T,IAAK,UACLsB,MAAO,WACLhE,KAAK6gC,OAAO,mBAAoB,CAAC,QAAS,YAAa7gC,KAAKw4C,eAC9D,GACC,CACD91C,IAAK,SACLsB,MAAO,WACL,MAAO,mGAAmGvD,OAAOT,KAAK2vB,SAASxM,OAAQ,MAAM1iB,OAAOT,KAAKugB,KAAK4C,OAAQ,qCACxK,IACE,CAAC,CACHzgB,IAAK,aACLsD,IAAK,WACH,MAAO,QACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLuyB,SAAS,EAEb,KAEK+f,CACT,CArG6B,CAqG3B/lB,ICtGEomB,GAAyB,SAASllB,GACpC,EAAUmlB,EAASnlB,GACnB,IAAI9M,EAAS,EAAaiyB,GAC1B,SAASA,IAEP,OADA,EAAgB54C,KAAM44C,GACfjyB,EAAO5mB,MAAMC,KAAMP,UAC5B,CAoHA,OAnHA,EAAam5C,EAAS,CAAC,CACrBl2C,IAAK,cACLsD,IAAK,WACH,OAAOhG,KAAKyI,OAAOowC,WACrB,EACAlvB,IAAK,SAAa3lB,GAChBhE,KAAKyI,OAAOowC,YAAc70C,CAC5B,GACC,CACDtB,IAAK,OACLsB,MAAO,WACLoG,EAAK+E,SAASnP,KAAK0a,KAAM,OAC3B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,OAC9B,GACC,CACDhY,IAAK,eACLsB,MAAO,SAAsB0H,GACc,kBAA9BA,EAAK7B,OAAOpB,OAAO4zB,SAC5B3wB,EAAKjD,OAAO4zB,OAAS3wB,EAAK7B,OAAOpB,OAAO4zB,OAE5C,GACC,CACD35B,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACZA,KAAKsoB,GAAG/G,IAAO,WACTqF,EAAMiyB,aACRzuC,EAAK0F,YAAY8W,EAAMlM,KAAM,OAEjC,IACI1a,KAAKyI,OAAOqwC,aACd94C,KAAK6vB,KAAKjO,IAAa,WACrBgF,EAAMmyB,cACR,IACA/4C,KAAKsoB,GAAGjF,IAAY,WAClBjZ,EAAK0F,YAAY8W,EAAMlM,KAAM,QAC7BtQ,EAAK+E,SAASyX,EAAMlM,KAAM,eAC1BkM,EAAMiJ,KAAKjO,IAAa,WACtBgF,EAAMmyB,cACR,GACF,KAEA/4C,KAAKsoB,GAAGjH,IAAM,WACZjX,EAAK+E,SAASyX,EAAMlM,KAAM,OAC5B,GAEJ,GACC,CACDhY,IAAK,eACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACRA,KAAK6J,OAAO+R,YAKfxR,EAAK0F,YAAY9P,KAAK0a,KAAM,eAJ5B1a,KAAK6vB,KAAKjO,IAAa,WACrBmG,EAAOgxB,cACT,GAIJ,GACC,CACDr2C,IAAK,SACLsB,MAAO,SAAgBq4B,GAChBA,IAGLr8B,KAAKyI,OAAO4zB,OAASA,EACrBr8B,KAAK0a,KAAK1F,MAAMzB,gBAAkB,OAAO9S,OAAO47B,EAAQ,KAC1D,GACC,CACD35B,IAAK,YACLsB,MAAO,SAAmBixB,GACxB,IAAI+jB,EAAM,GACV,OAAQ/jB,GACN,IAAK,QACH+jB,EAAM,QACN,MACF,IAAK,YACHA,EAAM,YACN,MACF,IAAK,YACHA,EAAM,YACN,MACF,QACEA,EAAM,GAEV,OAAOA,EAAM,oBAAoBv4C,OAAOu4C,EAAK,KAAO,EACtD,GACC,CACDt2C,IAAK,SACLsB,MAAO,WACL,IAAIm8B,EAAengC,KAAKyI,OAAQ4zB,EAAS8D,EAAa9D,OAAQyc,EAAc3Y,EAAa2Y,YAAaG,EAAW9Y,EAAa8Y,SAC1HD,EAAMh5C,KAAKk5C,UAAUD,GACrBjkC,EAAQqnB,EAAS,wBAAwB57B,OAAO47B,EAAQ,MAAM57B,OAAOu4C,GAAOA,EAChF,MAAO,qCAAqCv4C,OAAOq4C,EAAc,cAAgB,GAAI,aAAar4C,OAAOuU,EAAO,uBAClH,IACE,CAAC,CACHtS,IAAK,aACLsD,IAAK,WACH,MAAO,QACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL6yC,aAAa,EACbC,aAAa,EACbzc,OAAQ,GACR4c,SAAU,WAEd,KAEKL,CACT,CA3H6B,CA2H3BrmB,IChIF,SAAS4mB,KACP,OAAO,IAAIhB,WAAYC,gBAAgB,iPAAkP,iBAAiB9M,UAC5S,CCFA,SAAS8N,KACP,OAAO,IAAIjB,WAAYC,gBAAgB,8OAA+O,iBAAiB9M,UACzS,CCMA,IAAI+N,GAAa,CAAC,EAClB,SAASC,GAAW52C,EAAK62C,GACvB,IAAI1gC,EAAWpZ,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC9EyK,MAAO,KACPC,IAAK,MAYP,OAVIkvC,GAAW32C,IACbsF,OAAOmE,aAAaktC,GAAW32C,GAAKwJ,IAEtCmtC,GAAW32C,GAAO,CAAC,EACnBmW,EAAS3O,OAAS2O,EAAS3O,QAC3BmvC,GAAW32C,GAAKwJ,GAAKlE,OAAOgE,YAAW,WACrC6M,EAAS1O,KAAO0O,EAAS1O,MACzBnC,OAAOmE,aAAaktC,GAAW32C,GAAKwJ,WAC7BmtC,GAAW32C,EACpB,GAAG62C,GACIF,GAAW32C,GAAKwJ,EACzB,CACA,SAASstC,GAAettC,GAClBA,EACFlE,OAAOmE,aAAaD,GAGtB/M,OAAO2C,KAAKu3C,IAAY9oC,KAAI,SAAS7N,GACnCsF,OAAOmE,aAAaktC,GAAW32C,GAAKwJ,WAC7BmtC,GAAW32C,EACpB,GACF,CACA,IAAI+2C,GAAwB,SAAShmB,GACnC,EAAUimB,EAAQjmB,GAClB,IAAI9M,EAAS,EAAa+yB,GAC1B,SAASA,EAAOhuC,GACd,IAAIkb,EAoBJ,OAnBA,EAAgB5mB,KAAM05C,GACtB9yB,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1B/I,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,WAC9DA,EAAM+yB,eAAgB,EACtB,IAAIjrC,EAAkC,SAAtBkY,EAAMne,OAAOwsB,KAAkB,YAAc,OAC7DrO,EAAMyM,QAAQ,aAAc,QAC5BjpB,EAAK0F,YAAY8W,EAAMlM,KAAMhM,GAC7BkY,EAAMtQ,MACR,IACA3T,EAAgByC,EAAuBwhB,GAAQ,mBAAmB,WAChE,IAAIA,EAAM+yB,cAAV,CAGA,IAAIjrC,EAAkC,SAAtBkY,EAAMne,OAAOwsB,KAAkB,YAAc,OAC7D7qB,EAAK+E,SAASyX,EAAMlM,KAAMhM,GAC1BkY,EAAM+yB,eAAgB,EACtB/yB,EAAMgzB,YAAY,OAJlB,CAKF,IACAhzB,EAAM+yB,eAAgB,EACf/yB,CACT,CA2MA,OA1MA,EAAa8yB,EAAQ,CAAC,CACpBh3C,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACT6J,EAAS7J,KAAK6J,OAAQ2lB,EAAexvB,KAAKwvB,aAC9CxvB,KAAK65C,YACL75C,KAAK6vB,KAAK/M,IAAO,WACX0M,IACEA,EAAahiB,MAA8B,OAAtBgiB,EAAahiB,KACpCpD,EAAK+E,SAAStF,EAAO6Q,KAAM,cACI,OAAtB8U,EAAahiB,MACtBpD,EAAK+E,SAAStF,EAAO6Q,KAAM,cAGjC,IACA1a,KAAKsoB,GAAGtF,GAAkBhjB,KAAK85C,iBAC1BtqB,EAAaxI,UAChBhnB,KAAKsW,OAEPtW,KAAKsoB,GAAGrF,IAAoB,WAC1B,IAAIvU,EAAmC,SAAvBqZ,EAAOtf,OAAOwsB,KAAkB,YAAc,OAC9DlN,EAAOsL,QAAQ,aAAc,QAC7BjpB,EAAK0F,YAAYiY,EAAOrN,KAAMhM,GAC9BqZ,EAAOzR,MACT,IACAtW,KAAKsoB,GAAGjH,IAAM,WACZ0G,EAAO6xB,YAAY,OACrB,IACA55C,KAAKsoB,GAAG9G,IAAO,WACbuG,EAAO6xB,YAAY,QACrB,IACA55C,KAAKsoB,GAAG/D,IAAO,WACbwD,EAAOgyB,eACT,IACA/5C,KAAKg6C,aAAeh6C,KAAKytB,KAAK,aAAcztB,KAAKi6C,gBAAiB,CAChErsB,IAAK,SAAaptB,GAChBA,EAAE05C,YAAc15C,EAAEi4C,iBAClBj4C,EAAEgX,kBACF,IAAIkO,EAASqC,EAAOle,OAAO6b,OAC3BqC,EAAOmI,eAAe1vB,EAAG,oBAAqB,CAC5CiD,MAAO,SACPoD,KAAM6e,EACN+gB,IAAK/gB,GAET,IAEF1lB,KAAKX,KAAK,CAAC,QAAS,YAAaW,KAAKg6C,aACxC,GACC,CACDt3C,IAAK,gBACLsB,MAAO,WACL,MAAO,CACLm2C,UAAW,CACT7oB,KAAM6nB,GACN5nB,MAAO,gBAET6oB,WAAY,CACV9oB,KAAM8nB,GACN7nB,MAAO,iBAGb,GACC,CACD7uB,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACjBlyB,KAAK2a,YAAY,iBAAkBuX,EAAMioB,WACzCn6C,KAAK2a,YAAY,iBAAkBuX,EAAMkoB,WAC3C,GACC,CACD13C,IAAK,OACLsB,MAAO,WACLoG,EAAK+E,SAASnP,KAAK0a,KAAM,OAC3B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,OAC9B,GACC,CACDhY,IAAK,YACLsB,MAAO,WACLoG,EAAK+E,SAASnP,KAAK0a,KAAM,aAC3B,GACC,CACDhY,IAAK,UACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,aAC9B,GACC,CACDhY,IAAK,eACLsB,MAAO,SAAsBq2C,GACvBA,EACFr6C,KAAKqzB,QAAQ,aAAerzB,KAAK6J,OAAO6b,OAAkB,QAAT,QAEjD1lB,KAAKqzB,QAAQ,aAAcrzB,KAAK6J,OAAO6b,OAAS,OAAS,QAE7D,GACC,CACDhjB,IAAK,UACLsB,MAAO,SAAiBs2C,GACtB,IAAItyB,EAAShoB,KACbA,KAAKu6C,WAAajB,GAAW,YAAa,IAAK,CAC7CpvC,MAAO,WACLE,EAAK+E,SAAS6Y,EAAOtN,KAAM,YAC3BsN,EAAO1R,OACP0R,EAAOwyB,cAAa,EACtB,EACArwC,IAAK,WACHC,EAAK0F,YAAYkY,EAAOtN,KAAM,aAC7B4/B,GAAWtyB,EAAO5R,OACnB4R,EAAOuyB,WAAa,IACtB,GAEJ,GACC,CACD73C,IAAK,aACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,YAC5B8+B,GAAex5C,KAAKu6C,YACpBv6C,KAAKu6C,WAAa,IACpB,GACC,CACD73C,IAAK,kBACLsB,MAAO,SAAyBxD,GAC9B,IAAIqJ,EAAS7J,KAAK6J,OAGlB,GAFArJ,EAAE05C,YAAc15C,EAAEi4C,iBAClBj4C,EAAEgX,oBACE3N,EAAOsgC,MAAQlF,GAAOniB,OAA1B,CAGA,IAAI4C,EAAS1lB,KAAK6J,OAAO6b,OACpBA,GAAU7b,EAAOsgC,QAAUlF,GAAOK,QAGrCz7B,EAAO+f,OAFP/f,EAAO2f,OAHT,CAOF,GACC,CACD9mB,IAAK,cACLsB,MAAO,SAAqBkmB,GAC1B,IAAIzhB,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,OACxC,GAAKA,KAAUA,EAAOsgC,MAAQlF,GAAOK,UAAYtlC,KAAK25C,cAAtD,CAGA,GAAoB,SAAhBlxC,EAAOwsB,KAGT,OAFAj1B,KAAKw6C,oBACLx6C,KAAKsW,OAGP,GAAoB,SAAhB7N,EAAOwsB,KAAX,CAIA,GAAIxsB,EAAOgyC,aAAe5wC,EAAO6b,SAAW7b,EAAO4W,OAAShY,EAAOiyC,WAAa7wC,EAAO4W,MAIrF,OAHAzgB,KAAKw6C,eACLx6C,KAAKsW,YACLtW,KAAK26C,aAGP,GAAIlyC,EAAOmyC,eAGT,OAFA56C,KAAKw6C,oBACLx6C,KAAKoW,OAGP,GAAe,SAAX8T,EACFlqB,KAAK25C,cAAgB35C,KAAK66C,UAAY76C,KAAKoW,WACtC,CACL,IAAKpW,KAAK25C,eAAiB9vC,EAAO4W,MAChC,OAEFzgB,KAAK66C,SACP,CAnBA,MAFE76C,KAAKw6C,cAPP,CA6BF,GACC,CACD93C,IAAK,UACLsB,MAAO,WACLhE,KAAK6gC,OAAO,CAAC,QAAS,YAAa7gC,KAAKg6C,cACxCR,GAAex5C,KAAKu6C,WACtB,GACC,CACD73C,IAAK,SACLsB,MAAO,WACL,IAAI0K,EAAY1O,KAAKwvB,aAAaxI,SAAgC,SAArBhnB,KAAKyI,OAAOwsB,KAAkB,YAAc,OAAS,GAClG,MAAO,yCAAyCx0B,OAAOiO,EAAW,6DACpE,IACE,CAAC,CACHhM,IAAK,aACLsD,IAAK,WACH,MAAO,OACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLy0C,aAAa,EACbC,WAAW,EACXE,gBAAgB,EAChB3lB,KAAM,OAEV,KAEKykB,CACT,CArO4B,CAqO1BnnB,ICrQEuoB,GAAwB,SAASrnB,GACnC,EAAUsnB,EAAQtnB,GAClB,IAAI9M,EAAS,EAAao0B,GAC1B,SAASA,IAEP,OADA,EAAgB/6C,KAAM+6C,GACfp0B,EAAO5mB,MAAMC,KAAMP,UAC5B,CAiCA,OAhCA,EAAas7C,EAAQ,CAAC,CACpBr4C,IAAK,SACLsB,MAAO,WACL,IAAIg3C,EAAYh7C,KAAKyI,OAAOuyC,UACxBtgC,EAAOtQ,EAAKgE,UAAU,WAAY,GAAI,CAAC,EAAG,kBAC9C,GAAI4sC,GAAaA,aAAqBhzC,OAAOizC,YAC3CvgC,EAAKC,YAAYqgC,QACZ,GAAIA,GAAkC,kBAAdA,EAC7BtgC,EAAK/L,UAAYqsC,MACZ,CAEL,IADA,IAAIE,EAAS,GACJr6C,EAAI,EAAGA,GAAK,GAAIA,IACvBq6C,GAAU,iCAAiCz6C,OAAOI,EAAG,YAEvD6Z,EAAK/L,UAAY,uCAAuClO,OAAOy6C,EAAQ,SACzE,CACA,OAAOxgC,CACT,IACE,CAAC,CACHhY,IAAK,aACLsD,IAAK,WACH,MAAO,OACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLg1C,UAAW,GACXG,KAAM,GAEV,KAEKJ,CACT,CAxC4B,CAwC1BxoB,IC5CF,SAAS6oB,GAAW5sB,EAAQ6sB,EAASC,GACnC,IACE,MAAO,wBAAwB76C,OAAO66C,EAAS,OAAS,IAAK,gBAAgB76C,OAAO+tB,EAAOmB,SAAS0rB,GAAU,YAAY56C,OAAO+tB,EAAOjO,KAAK86B,GAAU,eACzJ,CAAE,MAAO76C,GACP,MAAO,kCACT,CACF,CCFA,IAAI+6C,GAAiC,SAAS9nB,GAC5C,EAAU+nB,EAAiB/nB,GAC3B,IAAI9M,EAAS,EAAa60B,GAC1B,SAASA,IAEP,OADA,EAAgBx7C,KAAMw7C,GACf70B,EAAO5mB,MAAMC,KAAMP,UAC5B,CA2CA,OA1CA,EAAa+7C,EAAiB,CAAC,CAC7B94C,IAAK,cACLsB,MAAO,WACLhE,KAAKy7C,QAAUz7C,KAAKy7C,QAAQp8C,KAAKW,MACjCA,KAAK07C,SAAW17C,KAAK07C,SAASr8C,KAAKW,MACnCA,KAAKX,KAAK,QAASW,KAAKy7C,QAC1B,GACC,CACD/4C,IAAK,UACLsB,MAAO,WACLhE,KAAKyI,OAAOkzC,SAAW37C,KAAKyI,OAAOkzC,SACrC,GACC,CACDj5C,IAAK,WACLsB,MAAO,WACLhE,KAAKyI,OAAOkzC,SAAW37C,KAAKyI,OAAOkzC,SACrC,GACC,CACDj5C,IAAK,UACLsB,MAAO,WACLhE,KAAK6gC,OAAO,CAAC,QAAS,YAAa7gC,KAAKy7C,QAC1C,GACC,CACD/4C,IAAK,SACLsB,MAAO,WACL,IAAI4vB,EAAU,aACd,MAAO,4HAA4HnzB,OAAOT,KAAK2vB,SAASiE,GAAU,MAAMnzB,OAAOT,KAAKugB,KAAKqT,GAAU,kCACrM,IACE,CAAC,CACHlxB,IAAK,aACLsD,IAAK,WACH,MAAO,gBACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,GAEX,KAEKuxC,CACT,CAlDqC,CAkDnCjpB,ICpDF,SAASqpB,GAAa53C,GACpB,IAAI63C,EAAM3mC,WAAWlR,GACjB83C,GAAkC,IAAxB93C,EAAM1D,QAAQ,OAAgBuH,OAAO8J,MAAMkqC,GACzD,OAAOC,GAAWD,CACpB,CACA,IAAIE,GAAe,CAAC,cAAe,eAAgB,aAAc,gBAAiB,aAAc,cAAe,YAAa,eAAgB,kBAAmB,mBAAoB,iBAAkB,qBACjMC,GAAqBD,GAAar8C,OACtC,SAASu8C,KASP,IARA,IAAIC,EAAO,CACTvnC,MAAO,EACPC,OAAQ,EACRunC,WAAY,EACZ9L,YAAa,EACb+L,WAAY,EACZC,YAAa,GAENx7C,EAAI,EAAGA,EAAIm7C,GAAoBn7C,IAAK,CAC3C,IAAIy7C,EAAcP,GAAal7C,GAC/Bq7C,EAAKI,GAAe,CACtB,CACA,OAAOJ,CACT,CACA,SAASK,GAASC,GAChB,IAAIxnC,EAAQhN,OAAOgJ,iBAAiBwrC,GACpC,OAAOxnC,CACT,CACA,SAASynC,GAAQD,GAIf,GAHoB,kBAATA,IACTA,EAAO/uC,SAASkD,cAAc6rC,IAE3BA,GAA0B,WAAlBz5C,EAAQy5C,IAAuBA,EAAK/oC,SAAjD,CAGA,IAAIuB,EAAQunC,GAASC,GACrB,GAAsB,SAAlBxnC,EAAMqB,QACR,OAAO4lC,KAET,IAAIC,EAAO,CAAC,EACZA,EAAKvnC,MAAQ6nC,EAAKhL,YAClB0K,EAAKtnC,OAAS4nC,EAAK/K,aAEnB,IADA,IAAIiL,EAAcR,EAAKQ,YAAkC,eAApB1nC,EAAM2nC,UAClC97C,EAAI,EAAGA,EAAIm7C,GAAoBn7C,IAAK,CAC3C,IAAIy7C,EAAcP,GAAal7C,GAC3BmD,EAAQgR,EAAMsnC,GACdT,EAAM3mC,WAAWlR,GACrBk4C,EAAKI,GAAgBz0C,OAAO8J,MAAMkqC,GAAa,EAANA,CAC3C,CACA,IAAIe,EAAeV,EAAKW,YAAcX,EAAKY,aACvCC,EAAgBb,EAAKvJ,WAAauJ,EAAKc,cACvCC,EAAcf,EAAKgB,WAAahB,EAAKiB,YACrCC,EAAelB,EAAKmB,UAAYnB,EAAKoB,aACrCC,EAAcrB,EAAKsB,gBAAkBtB,EAAKuB,iBAC1CC,EAAexB,EAAKyB,eAAiBzB,EAAK0B,kBAC1CC,EAAuBnB,EACvBoB,EAAalC,GAAa5mC,EAAML,QACjB,IAAfmpC,IACF5B,EAAKvnC,MAAQmpC,GAAcD,EAAuB,EAAIjB,EAAeW,IAEvE,IAAIQ,EAAcnC,GAAa5mC,EAAMJ,QAQrC,OAPoB,IAAhBmpC,IACF7B,EAAKtnC,OAASmpC,GAAeF,EAAuB,EAAId,EAAgBW,IAE1ExB,EAAKC,WAAaD,EAAKvnC,OAASioC,EAAeW,GAC/CrB,EAAK7L,YAAc6L,EAAKtnC,QAAUmoC,EAAgBW,GAClDxB,EAAKE,WAAaF,EAAKvnC,MAAQsoC,EAC/Bf,EAAKG,YAAcH,EAAKtnC,OAASwoC,EAC1BlB,CAlCP,CAmCF,CACA,SAAS8B,GAAS9rC,EAAS+rC,GACzB,IAAK,IAAIp9C,EAAI,EAAGA,EAAIqR,EAAQxS,OAAQmB,IAAK,CACvC,IAAIsR,EAAQD,EAAQrR,GACpB,GAAIsR,EAAM+rC,aAAeD,EACvB,OAAO9rC,CAEX,CACF,CACA,IAAIgsC,GAAS,CACXC,MAAO,YACPC,KAAM,WACN98B,MAAO,aAEL+8B,GAAoB,CACtBC,UAAW,CAAC,YAAa,WACzBC,WAAY,CAAC,YAAa,WAAY,eACtCC,YAAa,CAAC,cAAe,YAAa,kBAExCC,GAA8B,SAASj4B,GACzC,EAAUk4B,EAAcl4B,GACxB,IAAIE,EAAS,EAAag4B,GAC1B,SAASA,EAAajkC,GACpB,IAAIkM,EACAhc,EAAUnL,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAkBhF,OAjBA,EAAgBO,KAAM2+C,GACtB/3B,EAAQD,EAAO7mB,KAAKE,MACpB4mB,EAAMg4B,WAAY,EAClBh4B,EAAMi4B,YAAa,EACnBj4B,EAAMk4B,QAAS,EACfl4B,EAAM8Q,SAAW,CAAC,EAClB9Q,EAAMm4B,UAAY,CAAC,EACnBn4B,EAAMo4B,UAAY,CAChBrmC,EAAG,EACHC,EAAG,GAELgO,EAAMq4B,SAAW,CACftmC,EAAG,EACHC,EAAG,GAELgO,EAAM8jB,MAAQhwB,aAAgBkX,QAAUlX,EAAOjN,SAASkD,cAAc+J,GACtEkM,EAAMs4B,YAAct0C,EAAQ0/B,kBAAkB1Y,QAAUhnB,EAAQ0/B,OAAS78B,SAASkD,cAAc/F,EAAQ0/B,QACnG1jB,EAAM8jB,OAAU9jB,EAAMs4B,aAG3Bt4B,EAAMu4B,kBACCv4B,GAHErhB,EAA2BqhB,EAItC,CAmSA,OAlSA,EAAa+3B,EAAc,CAAC,CAC1Bj8C,IAAK,kBACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACT,iBAAkBgI,OACpBhI,KAAKo/C,UAAY,aAEjBp/C,KAAKo/C,UAAY,YAEnBp/C,KAAK,KAAKS,OAAOT,KAAKo/C,YAAcp/C,KAAK,KAAKS,OAAOT,KAAKo/C,YAAY//C,KAAKW,MAC3EA,KAAKk/C,YAAY32B,iBAAiBvoB,KAAKo/C,UAAWp/C,KAAK,KAAKS,OAAOT,KAAKo/C,aACxEd,GAAkBt+C,KAAKo/C,WAAW7uC,KAAI,SAAS7N,GAC7CqlB,EAAO,KAAKtnB,OAAOiC,IAAQqlB,EAAO,KAAKtnB,OAAOiC,IAAMrD,KAAK0oB,EAC3D,GACF,GACC,CACDrlB,IAAK,oBACLsB,MAAO,WACLhE,KAAKk/C,YAAYz2B,oBAAoBzoB,KAAKo/C,UAAWp/C,KAAK,KAAKS,OAAOT,KAAKo/C,YAC7E,GACC,CACD18C,IAAK,uBACLsB,MAAO,SAA8BiO,GACnC,IAAI+V,EAAShoB,KACb,GAAKiS,EAAL,CAGA,IAAIotC,EAASf,GAAkBt+C,KAAKo/C,WACpCC,EAAO9uC,KAAI,SAASwD,GAClB/L,OAAOugB,iBAAiBxU,EAAWiU,EAAO,KAAKvnB,OAAOsT,IACxD,IACA/T,KAAKs/C,oBAAsBD,CAL3B,CAMF,GACC,CACD38C,IAAK,yBACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACRA,KAAKs/C,sBAGVt/C,KAAKs/C,oBAAoB/uC,KAAI,SAASwD,GACpC/L,OAAOygB,oBAAoB1U,EAAWkU,EAAO,KAAKxnB,OAAOsT,IAC3D,WACO/T,KAAKs/C,oBACd,GACC,CACD58C,IAAK,SACLsB,MAAO,WACLhE,KAAK4+C,WAAY,CACnB,GACC,CACDl8C,IAAK,UACLsB,MAAO,WACLhE,KAAK4+C,WAAY,EACb5+C,KAAK6+C,YACP7+C,KAAKu/C,MAET,GACC,CACD78C,IAAK,UACLsB,MAAO,SAAiBxD,GACtBR,KAAKu/C,MACP,GACC,CACD78C,IAAK,UACLsB,MAAO,WACL,IAAIwkB,EAASxoB,KACRA,KAAK6+C,aAGV7+C,KAAKw/C,eACLx3C,OAAOuD,uBAAsB,WAC3Bid,EAAOqyB,SACT,IACF,GACC,CACDn4C,IAAK,eACLsB,MAAO,WACL,IAAI6tC,EAAY,eAAepxC,OAAOT,KAAKg/C,UAAUrmC,EAAG,QAAQlY,OAAOT,KAAKg/C,UAAUpmC,EAAG,UACzF5Y,KAAK0qC,MAAM11B,MAAM68B,UAAYA,EAC7B7xC,KAAK0qC,MAAM11B,MAAMyqC,gBAAkB5N,CACrC,GACC,CACDnvC,IAAK,aACLsB,MAAO,WACLhE,KAAK0qC,MAAM11B,MAAMorB,KAAOpgC,KAAK03B,SAAS/e,EAAI,KAC1C3Y,KAAK0qC,MAAM11B,MAAMmyB,IAAMnnC,KAAK03B,SAAS9e,EAAI,IAC3C,GACC,CACDlW,IAAK,cACLsB,MAAO,SAAqBxD,GAC1BR,KAAK0/C,UAAUl/C,EAAGA,EACpB,GACC,CACDkC,IAAK,cACLsB,MAAO,SAAqBxD,GAC1BR,KAAK2/C,SAASn/C,EAAGA,EACnB,GACC,CACDkC,IAAK,YACLsB,MAAO,SAAmBxD,GACxBR,KAAK4/C,QAAQp/C,EAAGA,EAClB,GACC,CACDkC,IAAK,eACLsB,MAAO,SAAsBxD,GAC3B,IAAI2R,EAAQ3R,EAAE4R,eAAe,GAC7BpS,KAAK0/C,UAAUl/C,EAAG2R,GAClBnS,KAAK6/C,qBAAsC,IAApB1tC,EAAM2tC,UAAuB3tC,EAAM2tC,UAAY3tC,EAAM+rC,WAC5E19C,EAAEi4C,gBACJ,GACC,CACD/1C,IAAK,cACLsB,MAAO,SAAqBxD,GAC1B,IAAI2R,EAAQ6rC,GAASx9C,EAAE4R,eAAgBpS,KAAK6/C,iBACxC1tC,GACFnS,KAAK2/C,SAASn/C,EAAG2R,EAErB,GACC,CACDzP,IAAK,aACLsB,MAAO,SAAoBxD,GACzB,IAAI2R,EAAQ6rC,GAASx9C,EAAE4R,eAAgBpS,KAAK6/C,iBACxC1tC,GACFnS,KAAK4/C,QAAQp/C,EAAG2R,GAElB3R,EAAEi4C,gBACJ,GACC,CACD/1C,IAAK,gBACLsB,MAAO,SAAuBxD,GAC5B,IAAI2R,EAAQ6rC,GAASx9C,EAAE4R,eAAgBpS,KAAK6/C,iBACxC1tC,GACFnS,KAAK+/C,WAAWv/C,EAAG2R,EAEvB,GACC,CACDzP,IAAK,YACLsB,MAAO,SAAmBxD,EAAGw/C,GAC3B,GAAKhgD,KAAK0qC,QAAS1qC,KAAK8+C,QAAW9+C,KAAK4+C,UAAxC,CAGA5+C,KAAK++C,UAAYiB,EACjBhgD,KAAKg/C,UAAUrmC,EAAI,EACnB3Y,KAAKg/C,UAAUpmC,EAAI,EACnB5Y,KAAKigD,eACL,IAAI/D,EAAOO,GAAQz8C,KAAK0qC,OACxB1qC,KAAKi/C,SAAStmC,EAAI3Y,KAAK03B,SAAS/e,EAChC3Y,KAAKi/C,SAASrmC,EAAI5Y,KAAK03B,SAAS9e,EAChC5Y,KAAKi/C,SAASiB,KAAOl4C,OAAOqoC,YAAc6L,EAAKtnC,OAC/C5U,KAAKi/C,SAASkB,KAAOn4C,OAAOm0C,WAAaD,EAAKvnC,MAC9C3U,KAAKogD,aACLpgD,KAAK8+C,QAAS,EACd9+C,KAAKqgD,qBAAqB7/C,EAZ1B,CAaF,GACC,CACDkC,IAAK,gBACLsB,MAAO,SAAuBxD,EAAGw/C,GAC/BhgD,KAAK6+C,YAAa,EAClB7+C,KAAK66C,UACL76C,KAAKmlB,KAAKg5B,GAAOC,MAAOp+C,KAAKi/C,SAC/B,GACC,CACDv8C,IAAK,UACLsB,MAAO,SAAiBxD,EAAGw/C,GACpBhgD,KAAK0qC,QAGV1qC,KAAKsgD,yBACDtgD,KAAK6+C,aACP7+C,KAAK0qC,MAAM11B,MAAM68B,UAAY,GAC7B7xC,KAAKogD,aACLpgD,KAAKmlB,KAAKg5B,GAAO58B,QAEnBvhB,KAAKugD,aACP,GACC,CACD79C,IAAK,mBACLsB,MAAO,SAA0BxD,EAAGw/C,GAClC,IAAIQ,EAAa,CACf7nC,EAAGqnC,EAAQxtC,MAAQxS,KAAK++C,UAAUvsC,MAClCoG,EAAGonC,EAAQrtC,MAAQ3S,KAAK++C,UAAUpsC,OAKpC,OAHK3S,KAAK6+C,YAAc7+C,KAAKygD,eAAeD,IAC1CxgD,KAAK0gD,cAAclgD,EAAGw/C,GAEjBQ,CACT,GACC,CACD99C,IAAK,WACLsB,MAAO,SAAkBxD,EAAGw/C,GAE1B,GADAx/C,EAAIA,GAAKwH,OAAOiK,MACXjS,KAAK8+C,OAAV,CAGA,IAAI6B,EAAiB3gD,KAAKi/C,SAAUtmC,EAAIgoC,EAAehoC,EAAGC,EAAI+nC,EAAe/nC,EACzE4nC,EAAaxgD,KAAK4gD,iBAAiBpgD,EAAGw/C,GACtCa,EAAQL,EAAW7nC,EACnBmoC,EAAQN,EAAW5nC,EACvBioC,EAAQ7gD,KAAK+gD,aAAa,IAAKF,EAAOloC,GACtCmoC,EAAQ9gD,KAAK+gD,aAAa,IAAKD,EAAOloC,GACtC5Y,KAAK03B,SAAS/e,EAAIA,EAAIkoC,EACtB7gD,KAAK03B,SAAS9e,EAAIA,EAAIkoC,EACtB9gD,KAAKg/C,UAAUrmC,EAAIkoC,EACnB7gD,KAAKg/C,UAAUpmC,EAAIkoC,EACnB9gD,KAAKmlB,KAAKg5B,GAAOE,KAAMr+C,KAAK03B,SAX5B,CAYF,GACC,CACDh1B,IAAK,aACLsB,MAAO,SAAoBxD,EAAGw/C,GAC5BhgD,KAAK4/C,QAAQp/C,EAAGw/C,EAClB,GACC,CACDt9C,IAAK,aACLsB,MAAO,WACLhE,KAAK6+C,YAAa,EAClB7+C,KAAKi/C,SAAW,CACdtmC,EAAG,EACHC,EAAG,GAEL5Y,KAAKg/C,UAAY,CACfrmC,EAAG,EACHC,EAAG,GAEL5Y,KAAK8+C,QAAS,CAChB,GACC,CACDp8C,IAAK,UACLsB,MAAO,WACLhE,KAAKghD,oBACLhhD,KAAKsgD,yBACDtgD,KAAK6+C,YACP7+C,KAAK4/C,UAEP5/C,KAAK0pB,qBACL1pB,KAAKk/C,YAAc,IACrB,GACC,CACDx8C,IAAK,iBACLsB,MAAO,SAAwBw8C,GAC7B,OAAO9zC,KAAK6O,IAAIilC,EAAW7nC,GAAK,GAAKjM,KAAK6O,IAAIilC,EAAW5nC,GAAK,CAChE,GACC,CACDlW,IAAK,eACLsB,MAAO,SAAsBi9C,EAAMC,EAAMC,GACvC,OAAID,EAAOC,EAAO,EACT,EAAIA,EAEA,MAATF,GAAgBC,EAAOC,EAAOnhD,KAAKi/C,SAASkB,KACvCngD,KAAKi/C,SAASkB,KAAOgB,EAEjB,MAATF,GAAgBC,EAAOC,EAAOnhD,KAAKi/C,SAASiB,KACvClgD,KAAKi/C,SAASiB,KAAOiB,EAEvBD,CACT,GACC,CACDx+C,IAAK,eACLsB,MAAO,WACL,IAAIgR,EAAQhN,OAAOgJ,iBAAiBhR,KAAK0qC,OACrC/xB,EAAI3Y,KAAKohD,kBAAkBpsC,EAAMorB,KAAM,SACvCxnB,EAAI5Y,KAAKohD,kBAAkBpsC,EAAMmyB,IAAK,UAC1CnnC,KAAK03B,SAAS/e,EAAI9Q,OAAO8J,MAAMgH,GAAK,EAAIA,EACxC3Y,KAAK03B,SAAS9e,EAAI/Q,OAAO8J,MAAMiH,GAAK,EAAIA,EACxC5Y,KAAKqhD,sBAAsBrsC,EAC7B,GACC,CACDtS,IAAK,wBACLsB,MAAO,SAA+BgR,GACpC,IAAI68B,EAAY78B,EAAM68B,UACtB,GAAoC,IAAhCA,EAAUvxC,QAAQ,UAAtB,CAGA,IAAIghD,EAAezP,EAAUjiC,MAAM,KAC/B2xC,EAA2C,IAAlC1P,EAAUvxC,QAAQ,YAAoB,GAAK,EACpDkhD,EAAa5rC,SAAS0rC,EAAaC,GAAS,IAC5CE,EAAa7rC,SAAS0rC,EAAaC,EAAS,GAAI,IACpDvhD,KAAK03B,SAAS/e,GAAK6oC,EACnBxhD,KAAK03B,SAAS9e,GAAK6oC,CANnB,CAOF,GACC,CACD/+C,IAAK,oBACLsB,MAAO,SAA2B09C,EAAWC,GAC3C,IAAgC,IAA5BD,EAAUphD,QAAQ,KAAa,CACjC,IAAIshD,EAAanF,GAAQz8C,KAAK0qC,MAAM7V,YACpC,OAAQ+sB,EAAiB1sC,WAAWwsC,GAAa,IAAME,EAAWD,GAA7C,CACvB,CACA,OAAO/rC,SAAS8rC,EAAW,GAC7B,KAEK/C,CACT,CAhUkC,CAgUhC,KC7YEkD,GAA6B,SAASpuB,GACxC,EAAUquB,EAAaruB,GACvB,IAAI9M,EAAS,EAAam7B,GAC1B,SAASA,EAAYp2C,GACnB,IAAIkb,EACJ,EAAgB5mB,KAAM8hD,GACtBl7B,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1B/I,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,SAASpmB,GACvEomB,EAAM80B,WACN90B,EAAMm7B,SAAU,CAClB,IACAp/C,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,SAASpmB,GACvE,IAAIu/B,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OAC1FA,EAAO6b,OAAS7b,EAAO+f,OAAS/f,EAAO2f,OACzC,IACA7mB,EAAgByC,EAAuBwhB,GAAQ,YAAY,SAASpmB,GAClE,MAAKwH,OAAOg6C,SAA8B,IAAnBh6C,OAAOg6C,SAAiBt1C,KAAK6O,IAAIvT,OAAOg6C,QAAUp7B,EAAM/L,IAAImnC,SAAW,IAA9F,CAGA,IAAIC,EAAersC,SAASxL,EAAKyG,OAAO+V,EAAM/c,OAAO6Q,KAAM,WAC3DunC,GAAgBr7B,EAAMne,OAAOgP,UAC7BmP,EAAM/L,IAAImnC,QAAUh6C,OAAOg6C,QACvBh6C,OAAOg6C,QAAUC,EAAe,GACjCr7B,EAAM4Z,SAAW5Z,EAAMm7B,SAAWn7B,EAAM60B,UAChCzzC,OAAOg6C,SAAWC,IAC3Br7B,EAAM4Z,QAAU5Z,EAAM80B,WACtB90B,EAAMm7B,SAAU,EARlB,CAUF,IACAn7B,EAAM4Z,QAAS,EACf5Z,EAAMm7B,SAAU,EAChB,IAAI7hB,EAAyB96B,EAAuBwhB,GAAQne,EAASy3B,EAAuBz3B,OAS5F,OARAme,EAAM/L,IAAM,CACVulB,KAAM33B,EAAO23B,KAAO,EAAIp4B,OAAOm0C,WAAa1zC,EAAOkM,MAAQ,GAAKlM,EAAO23B,KACvE+G,IAAK1+B,EAAO0+B,IAAM,EAAIn/B,OAAOqoC,YAAc5nC,EAAOmM,OAAS,GAAKnM,EAAO0+B,IACvEvyB,OAAQgS,EAAMne,OAAOmM,OACrBD,MAAOiS,EAAMne,OAAOkM,MACpBqtC,QAASh6C,OAAOg6C,SAAW,GAE7Bp7B,EAAMs7B,UAAY,KACXt7B,CACT,CA6JA,OA5JA,EAAak7B,EAAa,CAAC,CACzBp/C,IAAK,eACLsB,MAAO,SAAsB0H,GACY,mBAA5BA,EAAK7B,OAAOpB,OAAOy1B,OAC5BxyB,EAAKjD,OAAO05C,WAAaz2C,EAAK7B,OAAOpB,OAAOy1B,KAEhD,GACC,CACDx7B,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACbA,KAAK65C,YACL75C,KAAKsoB,GAAG9G,IAAO,WACbuG,EAAOsL,QAAQ,aAAc,QAC/B,IACArzB,KAAKsoB,GAAGjH,IAAM,WACZ0G,EAAOsL,QAAQ,aAAc,OAC/B,GACF,GACC,CACD3wB,IAAK,iBACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACT6J,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACxC,IAAIA,EAAO8vB,QAAX,CAGA,GAAIv4B,KAAKyI,OAAO05C,WAAY,CAC1B,IAAIv3C,EAAU,CACZnC,OAAQ,CACNkzC,QAAS,WACP3zB,EAAOyzB,SACT,IAGJ5xC,EAAOkd,SAASoJ,eAAeorB,GAAgB3wC,EAAS2wC,GAAextB,WACzE,CACA,IAAIha,EAAY3J,EAAK0N,oBAAsB,WAAa,QACxD9X,KAAKX,KAAK,mBAAoB0U,EAAW/T,KAAKoiD,eAC9CpiD,KAAKX,KAAK,aAAc0U,EAAW/T,KAAKqiD,eACnCriD,KAAKyI,OAAO65C,cACftiD,KAAKuiD,aAAe,IAAI7D,GAAY1+C,KAAK6J,OAAO6Q,KAAM,CACpD4vB,OAAQtqC,KAAK0a,QAGb1a,KAAKyI,OAAO+5C,gBACdx6C,OAAOugB,iBAAiB,SAAUvoB,KAAKyiD,SApBzC,CAsBF,GACC,CACD//C,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL4lB,KAAM,CACJ0H,KAAM6nB,GACN5nB,MAAO,gBAET/H,MAAO,CACL8H,KAAM8nB,GACN7nB,MAAO,iBAGb,GACC,CACD7uB,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACjBlyB,KAAK2a,YAAY,aAAcuX,EAAMtI,MACrC5pB,KAAK2a,YAAY,aAAcuX,EAAM1I,MACvC,GACC,CACD9mB,IAAK,UACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACb,IAAIA,KAAKwgC,OAAT,CAGA,IAAI32B,EAAS7J,KAAK6J,OAAQ2lB,EAAexvB,KAAKwvB,aAC1CjtB,EAASvC,KAAKyI,OAAOlG,QAAUvC,KAAK6J,OAAO6Q,KAC/C1a,KAAKkiD,UAAY,CAAC,EAClB93C,EAAK+E,SAAStF,EAAO6Q,KAAM,iBAC3B,CAAC,QAAS,SAAU,MAAO,QAAQnK,KAAI,SAAS7N,GAC9CulB,EAAOi6B,UAAUx/C,GAAOH,EAAOyS,MAAMtS,GACrCH,EAAOyS,MAAMtS,GAAO,GAAGjC,OAAOwnB,EAAOpN,IAAInY,GAAM,KACjD,IACI8sB,EAAawM,QACfz5B,EAAOyS,MAAM,eAAiB,IAEhChV,KAAKmlB,KAAK1B,IAAmB,GAC7B5Z,EAAO22B,OAASxgC,KAAKwgC,QAAS,CAb9B,CAcF,GACC,CACD99B,IAAK,WACLsB,MAAO,WACL,IAAIwkB,EAASxoB,KACb,IAAKA,KAAKwgC,OACR,OAAO,EAET,IAAI32B,EAAS7J,KAAK6J,OAAQ2lB,EAAexvB,KAAKwvB,aAC1CjtB,EAASvC,KAAKyI,OAAOlG,QAAUvC,KAAK6J,OAAO6Q,KAC/CtQ,EAAK0F,YAAYjG,EAAO6Q,KAAM,iBAC1B1a,KAAKkiD,WACP/iD,OAAO2C,KAAK9B,KAAKkiD,WAAW3xC,KAAI,SAAS7N,GACvCH,EAAOyS,MAAMtS,GAAO8lB,EAAO05B,UAAUx/C,EACvC,IAEF1C,KAAKkiD,UAAY,KACb1yB,EAAawM,QACfnyB,EAAO6Q,KAAK1F,MAAML,MAAQ,OAC1B9K,EAAO6Q,KAAK1F,MAAMJ,OAAS,IAC3B/K,EAAO6Q,KAAK1F,MAAM,eAAiB,GAAGvU,OAA6B,IAAtB+uB,EAAa5a,OAAe4a,EAAa7a,MAAO,MAE/F3U,KAAKmlB,KAAK1B,IAAmB,GAC7BzjB,KAAKwgC,OAAS32B,EAAO22B,QAAS,CAChC,GACC,CACD99B,IAAK,UACLsB,MAAO,WACLgE,OAAOygB,oBAAoB,SAAUzoB,KAAKyiD,UAC1C,IAAI1uC,EAAY3J,EAAK0N,oBAAsB,WAAa,QACxD9X,KAAK6gC,OAAO,mBAAoB9sB,EAAW/T,KAAKoiD,eAChDpiD,KAAK6gC,OAAO,aAAc9sB,EAAW/T,KAAKqiD,eAC1CriD,KAAKuiD,cAAgBviD,KAAKuiD,aAAajyB,UACvCtwB,KAAKuiD,aAAe,KACpBviD,KAAK07C,UACP,GACC,CACDh5C,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAGhB,MAAO,6GAA6G93B,OAAO26C,GAAWp7C,KAAM,YAAaA,KAAKwvB,aAAakP,YAAa,miBAC1L,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,YACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLiE,MAAO,GACPsuB,SAAS,EACT5jB,MAAO,IACPC,OAAQ,IACRwrB,MAAO,EACP+G,KAAM,EACNgb,YAAY,EACZK,gBAAgB,EAChB/qC,UAAW,EACX6qC,aAAa,EAEjB,KAEKR,CACT,CAvMiC,CAuM/BvvB,IC5MEmwB,GAAe,CACjBC,WAAY,eACZC,WAAY,eACZC,UAAW,eAETC,GAAQ,CAAC,aAAc,gBACvBC,GAA2B,SAASvwB,GACtC,EAAUwwB,EAAWxwB,GACrB,IAAI7L,EAAS,EAAaq8B,GAC1B,SAASA,IACP,IAAIp8B,EACJ,EAAgB5mB,KAAMgjD,GACtB,IAAK,IAAIl6C,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GA+FzB,OA7FA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACrE,IAAIu/B,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OAAQ2lB,EAAeuQ,EAAsBvQ,aAClI3lB,EAAOowB,WACVpwB,EAAOm2B,MAAM,CACXC,UAAWzQ,EAAaqN,kBAEzBrN,EAAayN,sBAAwBpzB,EAAO2W,MAAMwf,QAEvD,IACAr9B,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE,IAAI0/B,EAAyB96B,EAAuBwhB,GAAQ4I,EAAe0Q,EAAuB1Q,aAAc3lB,EAASq2B,EAAuBr2B,QAC/I2lB,EAAayN,sBAAwBpzB,EAAO2W,MAAMwf,QAC/CxQ,EAAaqN,eACfhzB,EAAOm2B,MAAM,CACXC,UAAU,IAGZp2B,EAAOm2B,OAEX,IACAr9B,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE,IAAIyiD,EAAqBr8B,EAAM4I,aAAcoN,EAAkBqmB,EAAmBrmB,gBAAiBE,EAAkBmmB,EAAmBnmB,gBAAiBD,EAAiBomB,EAAmBpmB,eACxLD,GAAoBC,IACnBC,EACFlW,EAAM/c,OAAOm2B,MAAM,CACjBC,UAAU,EACVuQ,MAAO1T,IAGTlW,EAAM/c,OAAO82B,OAGnB,IACAh+B,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE,IAAI0iD,EAAyB99C,EAAuBwhB,GAAQ/c,EAASq5C,EAAuBr5C,OAAQ2lB,EAAe0zB,EAAuB1zB,aACtIhvB,EAAE+B,QAAUitB,EAAakN,iBAGzBl8B,EAAE+B,SAAWsH,EAAO6Q,MAAQla,EAAE+B,SAAWsH,EAAO2W,OAAShgB,EAAE+B,SAAWsH,EAAOk/B,gBAAkBvoC,EAAE+B,SAAWsH,EAAO2W,MAAM2iC,WAC3H3iD,EAAEi4C,iBACGjpB,EAAa4zB,2BAChB5iD,EAAEgX,kBAEJoP,EAAMy8B,cACFz8B,EAAM08B,aACRn3C,aAAaya,EAAM08B,YACnB18B,EAAM08B,WAAa,MAErB18B,EAAM08B,WAAat3C,YAAW,WACvB4a,EAAMy8B,cAGXz8B,EAAMy8B,cACNx0B,GAASzpB,EAAuBwhB,GAAQk8B,GAAM,IAAI,SAASt0B,EAAQ3D,GACjEjE,EAAM28B,gBAAgB14B,EAAKrqB,EAC7B,GAAG,CACDA,IACAklB,OAAQ7b,EAAO6b,SAEjBvZ,aAAaya,EAAM08B,YACnB18B,EAAM08B,WAAa,KACrB,GAAG,KAEP,IACA3gD,EAAgByC,EAAuBwhB,GAAQ,mBAAmB,SAASpmB,GACzE,IAAIgjD,EAAyBp+C,EAAuBwhB,GAAQ/c,EAAS25C,EAAuB35C,OAAQ2lB,EAAeg0B,EAAuBh0B,aACtIA,EAAamN,qBAAuBn8B,EAAE+B,QAAU/B,EAAE+B,SAAWsH,EAAO2W,OAAShgB,EAAE+B,SAAWsH,EAAO2W,MAAM2iC,YAGtG3zB,EAAakN,iBAAmB9V,EAAMy8B,YAAc,EACvDz8B,EAAMy8B,YAAc,GAGtBz8B,EAAMy8B,YAAc,EAChBz8B,EAAM08B,aACRn3C,aAAaya,EAAM08B,YACnB18B,EAAM08B,WAAa,MAErB9iD,EAAEi4C,iBACFj4C,EAAEgX,kBACFqX,GAASzpB,EAAuBwhB,GAAQk8B,GAAM,IAAI,SAASt0B,EAAQ3D,GACjEjE,EAAMsJ,eAAerF,EAAKrqB,EAAG,oBAAqB,CAChDiD,MAAO,aACPoD,KAAMgD,EAAO+8B,WACbH,IAAK58B,EAAO+8B,aAEd/8B,EAAO+8B,WAAa/8B,EAAOilC,iBAAmBjlC,EAAO45C,eACvD,GAAG,CACDjjD,IACAomC,WAAY/8B,EAAO+8B,cAEvB,IACOhgB,CACT,CAiFA,OAhFA,EAAao8B,EAAW,CAAC,CACvBtgD,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACbA,KAAKqjD,YAAc,EACnBP,GAAMvyC,KAAI,SAAS3B,GACjBmZ,EAAO8F,QAAQjf,GAAQ,IACzB,IACA,IAAI0tB,EAAuBt8B,KAAKwvB,aAAa8M,qBAChB,WAAzBA,GAAwD,WAAnBhgB,EAAQC,SAAwBD,EAAQE,GAAGe,QAGpFvd,KAAK0jD,YACP,GACC,CACDhhD,IAAK,aACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACT8vB,EAAe9vB,KAAK6J,OAAQ2W,EAAQsP,EAAatP,MAAO9F,EAAOoV,EAAapV,KAC5E+hB,EAAoBz8B,KAAKwvB,aAAaiN,kBAC1C/hB,GAAQA,EAAK6N,iBAAiB,QAASvoB,KAAK2jD,cAAc,GAC1DjpC,GAAQA,EAAK6N,iBAAiB,WAAYvoB,KAAK4jD,iBAAiB,GAChEzkD,OAAO2C,KAAK4gD,IAAcnyC,KAAI,SAAS3B,GACrC8L,EAAK6N,iBAAiB3Z,EAAMoZ,EAAO06B,GAAa9zC,KAAQ,EAC1D,KACC6tB,GAAqBjc,GAASA,EAAM+H,iBAAiB,cAAevoB,KAAK6jD,eAAe,EAC3F,GACC,CACDnhD,IAAK,kBACLsB,MAAO,SAAyBxD,GAC9B,IAAIqJ,EAAS7J,KAAK6J,OAClB7J,KAAKkwB,eAAe1vB,EAAG,oBAAqB,CAC1CiD,MAAO,SACPoD,KAAMgD,EAAO6b,OACb+gB,IAAK58B,EAAO6b,SAET7b,EAAO4W,MAGV5W,EAAO0Q,WAAa6P,KAAYvgB,EAAO0Q,SAAW,GAAK1Q,EAAO0uC,SAF9D1uC,EAAO6b,OAAS7b,EAAO+f,OAAS/f,EAAO2f,OAI3C,GACC,CACD9mB,IAAK,gBACLsB,MAAO,SAAuBxD,GAC5BA,EAAIA,GAAKwH,OAAOiK,MACZzR,EAAEi4C,gBACJj4C,EAAEi4C,iBAEAj4C,EAAEgX,gBACJhX,EAAEgX,mBAEFhX,EAAEsjD,aAAc,EAChBtjD,EAAEujD,cAAe,EAErB,GACC,CACDrhD,IAAK,UACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACTgkD,EAAgBhkD,KAAK6J,OAAQ4P,EAAQuqC,EAAcvqC,MAAOiB,EAAOspC,EAActpC,KACnF1a,KAAKsjD,YAAcn3C,aAAanM,KAAKsjD,YACrC5oC,EAAK+N,oBAAoB,QAASzoB,KAAK2jD,cAAc,GACrDjpC,EAAK+N,oBAAoB,WAAYzoB,KAAK4jD,iBAAiB,GAC3DnqC,EAAMgP,oBAAoB,cAAezoB,KAAK6jD,eAAe,GAC7D1kD,OAAO2C,KAAK4gD,IAAcnyC,KAAI,SAAS3B,GACrC8L,EAAK+N,oBAAoB7Z,EAAMqZ,EAAOy6B,GAAa9zC,KAAQ,EAC7D,GACF,IACE,CAAC,CACHlM,IAAK,aACLsD,IAAK,WACH,MAAO,IACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CAAC,CACV,KAEKg9C,CACT,CAzL+B,CAyL7B9zB,ICpME,GAAS,CACX+0B,MAAO,QACPC,UAAW,WACXC,aAAc,cACdC,MAAO,QACPC,WAAY,YACZC,YAAa,aACbC,UAAW,YAETC,GAAS,CACXt6C,MAAO,aACPC,IAAK,WACLs6C,KAAM,YACNz3C,OAAQ,eAEN03C,GAAS,CACXx6C,MAAO,YACPC,IAAK,UACLs6C,KAAM,YACNz3C,OAAQ,cAEV,SAAS,GAASkF,GAChB,OAAIA,GAAWA,EAAQxS,OAAS,EACvBwS,EAAQA,EAAQxS,OAAS,GAEzB,IAEX,CACA,SAAS,KACP,MAAO,CACLilD,WAAY,IACZC,aAAc,IACdC,cAAc,EACdC,gBAAgB,EAChBC,SAAU,EACVC,oBAAoB,EAExB,CACA,IAAIC,GAAyB,WAC3B,SAASC,EAAQ12C,GACf,IAAIoY,EAAQ5mB,KACR+lC,EAAUtmC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC7Es0B,UAAW,SAEb,EAAgB/zB,KAAMklD,GACtBviD,EAAgB3C,KAAM,gBAAgB,SAASQ,GAC7C,IAAI+wC,EAAO3qB,EAAM2qB,KAAM72B,EAAOkM,EAAMlM,KAChCvI,EAAQ,GAAS3R,EAAE0R,SACvBq/B,EAAK54B,EAAIxG,EAAQyD,SAASzD,EAAMK,MAAO,IAAMhS,EAAEgS,MAC/C++B,EAAK34B,EAAIzG,EAAQyD,SAASzD,EAAMK,MAAO,IAAMhS,EAAEgS,MAC/C++B,EAAKrnC,OAAQ,EACb0c,EAAMu+B,WAAW3kD,GACjBka,EAAK6N,iBAAiB3B,EAAMy4B,OAAOl1C,IAAKyc,EAAMw+B,YAC9C1qC,EAAK6N,iBAAiB3B,EAAMy4B,OAAOryC,OAAQ4Z,EAAMy+B,eACjD3qC,EAAK6N,iBAAiB3B,EAAMy4B,OAAOoF,KAAM79B,EAAM0+B,aAC/C1+B,EAAM2+B,QAAQ,GAAOjB,YAAa9jD,EACpC,IACAmC,EAAgB3C,KAAM,iBAAiB,SAASQ,GAC9ComB,EAAMw+B,WAAW5kD,EACnB,IACAmC,EAAgB3C,KAAM,cAAc,SAASQ,GAC3C,IAAI+wC,EAAO3qB,EAAM2qB,KAAM72B,EAAOkM,EAAMlM,KACpCkM,EAAM4+B,eACN9qC,EAAK+N,oBAAoB7B,EAAMy4B,OAAOryC,OAAQ4Z,EAAMy+B,eACpD3qC,EAAK+N,oBAAoB7B,EAAMy4B,OAAOl1C,IAAKyc,EAAMw+B,YACjD1qC,EAAK+N,oBAAoB7B,EAAMy4B,OAAOoF,KAAM79B,EAAM0+B,aAClD9kD,EAAEilD,OAASlU,EAAKkU,OAChBjlD,EAAEklD,MAAQnU,EAAKmU,MACfnU,EAAKmU,OAAS9+B,EAAM2+B,QAAQ,GAAOrB,UAAW1jD,GAC9ComB,EAAM2+B,QAAQ,GAAOhB,UAAW/jD,IAC/B+wC,EAAKmU,QAAUnU,EAAKkU,QAAU7+B,EAAM++B,QAAQnlD,GAC7C+wC,EAAKmU,OAAQ,EACbnU,EAAKrnC,OAAQ,EACbqnC,EAAKkU,QAAS,CAChB,IACA9iD,EAAgB3C,KAAM,eAAe,SAASQ,GAC5C,IAAI+wC,EAAO3qB,EAAM2qB,KAAM9oC,EAASme,EAAMne,OAClC0J,EAAQ,GAAS3R,EAAE0R,SACnByG,EAAIxG,EAAQyD,SAASzD,EAAMK,MAAO,IAAMhS,EAAEgS,MAC1CoG,EAAIzG,EAAQyD,SAASzD,EAAMQ,MAAO,IAAMnS,EAAEgS,MAC1CozC,EAAQjtC,EAAI44B,EAAK54B,EACjBktC,EAAQjtC,EAAI24B,EAAK34B,EACjBlM,KAAK6O,IAAIsqC,GAASp9C,EAAOs8C,UAAYr4C,KAAK6O,IAAIqqC,GAASn9C,EAAOs8C,WAGlEn+B,EAAM4+B,eACNjU,EAAKmU,OAAS9+B,EAAM2+B,QAAQ,GAAOrB,UAAW1jD,GAC9C+wC,EAAKmU,OAAQ,EACbnU,EAAKkU,QAAS,EACd7+B,EAAM2+B,QAAQ,GAAOlB,WAAY7jD,GACnC,IACAR,KAAKuxC,KAAO,CACVkU,QAAQ,EACRv7C,OAAO,EACPyO,EAAG,EACHC,EAAG,GAEL5Y,KAAKyI,OAAS,KACdtJ,OAAO2C,KAAKikC,GAASx1B,KAAI,SAAS7N,GAChCkkB,EAAMne,OAAO/F,GAAOqjC,EAAQrjC,EAC9B,IACA1C,KAAK0a,KAAOlM,EACZxO,KAAKq/C,OAA+B,UAAtBtZ,EAAQhS,UAAwB2wB,GAASF,GACvDxkD,KAAK8lD,eAAiB,KACtB9lD,KAAK+lD,YAAc,KACnB/lD,KAAK61B,WAAa,CAAC,EACnB71B,KAAKgmD,YACP,CAuGA,OAtGA,EAAad,EAAS,CAAC,CACrBxiD,IAAK,aACLsB,MAAO,WACLhE,KAAK0a,KAAK6N,iBAAiBvoB,KAAKq/C,OAAOn1C,MAAOlK,KAAKimD,aACrD,GACC,CACDvjD,IAAK,aACLsB,MAAO,SAAoBxD,GACzB,IAAIunB,EAAS/nB,KACTyI,EAASzI,KAAKyI,OACdzI,KAAK8lD,gBACP9lD,KAAKwlD,eAEPxlD,KAAK8lD,eAAiB95C,YAAW,WAC/B+b,EAAOw9B,QAAQ,GAAOtB,MAAOzjD,GAC7BunB,EAAOwpB,KAAKmU,OAAQ,EACpB39B,EAAOy9B,cACT,GAAG/8C,EAAOk8C,WACZ,GACC,CACDjiD,IAAK,eACLsB,MAAO,WACLgE,OAAOmE,aAAanM,KAAK8lD,gBACzB9lD,KAAK8lD,eAAiB,IACxB,GACC,CACDpjD,IAAK,UACLsB,MAAO,SAAiBxD,GACtB,IAAIwnB,EAAShoB,KACTyI,EAASzI,KAAKyI,OAClB,GAAIzI,KAAK+lD,YAGP,OAFA/lD,KAAKkmD,iBACLlmD,KAAKulD,QAAQ,GAAOpB,aAAc3jD,GAGpCR,KAAK+lD,YAAc/5C,YAAW,WAC5Bgc,EAAOk+B,YACFl+B,EAAOupB,KAAKrnC,OAAU8d,EAAOupB,KAAKmU,OAAU19B,EAAOupB,KAAKkU,QAC3Dz9B,EAAOu9B,QAAQ,GAAOnB,MAAO5jD,EAEjC,GAAGiI,EAAOm8C,aACZ,GACC,CACDliD,IAAK,YACLsB,MAAO,WACLmI,aAAanM,KAAK+lD,aAClB/lD,KAAK+lD,YAAc,IACrB,GACC,CACDrjD,IAAK,KACLsB,MAAO,SAAYiO,EAAOob,GACnBrtB,KAAK61B,WAAW5jB,KACnBjS,KAAK61B,WAAW5jB,GAAS,IAE3BjS,KAAK61B,WAAW5jB,GAAO5P,KAAKgrB,EAC9B,GACC,CACD3qB,IAAK,MACLsB,MAAO,SAAaiO,EAAOob,GACzB,GAAKrtB,KAAK61B,WAAW5jB,GAArB,CAKA,IAFA,IAAIk0C,EAAWnmD,KAAK61B,WAAW5jB,GAC3BhI,GAAS,EACJpJ,EAAI,EAAGA,EAAIslD,EAASzmD,OAAQmB,IACnC,GAAIslD,EAAStlD,KAAOwsB,EAAS,CAC3BpjB,EAAQpJ,EACR,KACF,CAEEoJ,GAAS,GACXjK,KAAK61B,WAAW5jB,GAAOqC,OAAOrK,EAAO,EAVvC,CAYF,GACC,CACDvH,IAAK,UACLsB,MAAO,SAAiBiO,EAAOzR,GACxBR,KAAK61B,WAAW5jB,IAGrBjS,KAAK61B,WAAW5jB,GAAO1B,KAAI,SAAS8c,GAClC,IACEA,EAAQ7sB,EACV,CAAE,MAAO6H,GACPY,QAAQZ,MAAM,aAAa5H,OAAOwR,GAAQ5J,EAC5C,CACF,GACF,GACC,CACD3F,IAAK,UACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACTuQ,EAAM,CACR61C,SAAU,aACVC,UAAW,cACX7H,WAAY,gBAEdr/C,OAAO2C,KAAKyO,GAAK9N,SAAQ,SAASC,GAChCulB,EAAOvN,KAAK+N,oBAAoB/lB,EAAKulB,EAAO1X,EAAI7N,IAClD,GACF,KAEKwiD,CACT,CA7K6B,GCvC7B,SAASoB,KACP,OAAO,IAAInO,WAAYC,gBAAgB,olBAAqlB,iBAAiB9M,UAC/oB,CCQA,IAAIib,GAAU,CACZC,KAAM,OACN9kC,QAAS,UACT+kC,SAAU,eACVC,MAAO,IAEL,GAAQ,CAAC,aAAc,gBACvBC,GAA+B,SAASlzB,GAC1C,EAAUmzB,EAAenzB,GACzB,IAAI9M,EAAS,EAAaigC,GAC1B,SAASA,EAAch8C,GACrB,IAAIgc,EA4HJ,OA3HA,EAAgB5mB,KAAM4mD,GACtBhgC,EAAQD,EAAO7mB,KAAKE,KAAM4K,GAC1BjI,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE,IAAIu/B,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OAAQpB,EAASs3B,EAAsBt3B,OAAQoS,EAAMklB,EAAsBllB,IAAK2U,EAAeuQ,EAAsBvQ,aAC3Mq3B,EAASjgC,EAAMkgC,UAAUtmD,GAC7B,GAAIqmD,IAAWp+C,EAAOs+C,gBAAkBngC,EAAMrM,SAAW,IAAM1Q,EAAO4W,MAAO,CAC3E5F,EAAImsC,SAAU,EACd58C,EAAK8L,gBAAgBsZ,EAAa+N,sBAAwB/N,EAAa+N,sBACvE3W,EAAM+N,KAAK,WAAWhmB,UAAYvE,EAAKsH,OAAOkV,EAAMrM,UACpD,IAAI0sC,EAAOrgC,EAAMlM,KAAKqwB,wBACG,KAArBlhC,EAAOi+B,WACTjtB,EAAIssB,IAAM8f,EAAK7mB,KACfvlB,EAAIulB,KAAO6mB,EAAK9f,IAChBtsB,EAAIlG,MAAQsyC,EAAKryC,OACjBiG,EAAIjG,OAASqyC,EAAKtyC,QAElBkG,EAAIssB,IAAM8f,EAAK9f,IACftsB,EAAIulB,KAAO6mB,EAAK7mB,KAChBvlB,EAAIlG,MAAQsyC,EAAKtyC,MACjBkG,EAAIjG,OAASqyC,EAAKryC,QAEpB,IAAIsyC,EAAKtxC,SAASixC,EAAOr0C,MAAQqI,EAAIulB,KAAM,IACvC+mB,EAAKvxC,SAASixC,EAAOl0C,MAAQkI,EAAIssB,IAAK,IAC1CtsB,EAAIlC,EAAyB,KAArB9O,EAAOi+B,UAAmBqf,EAAKD,EACvCrsC,EAAIjC,EAAyB,KAArB/O,EAAOi+B,UAAmBof,EAAKC,EACvCtsC,EAAIusC,OAAS3+C,EAAO2+C,OAASvsC,EAAIlG,MACjCkG,EAAIwsC,QAAU,EAAI5+C,EAAO4+C,QAAUxsC,EAAIlG,MACvCkG,EAAIysC,QAAUzsC,EAAIlG,OAAS,EAAIlM,EAAO8+C,QAAU,EAChD1sC,EAAI2sC,QAAU3sC,EAAIlG,MAAQkG,EAAIysC,OAChC,CACF,IACA3kD,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACrE,IAAIqmD,EAASjgC,EAAMkgC,UAAUtmD,GACzB0/B,EAAyB96B,EAAuBwhB,GAAQ/L,EAAMqlB,EAAuBrlB,IAAKpS,EAASy3B,EAAuBz3B,OAAQoB,EAASq2B,EAAuBr2B,OACtK,GAAKg9C,IAAUp+C,EAAOs+C,gBAAmBngC,EAAMrM,UAAaM,EAAImsC,QAAhE,CAGA,IAAIS,EAAeh/C,EAAOg/C,aAAcC,EAAqBj/C,EAAOi/C,mBAChER,EAAKtxC,SAASixC,EAAOr0C,MAAQqI,EAAIulB,KAAM,IACvC+mB,EAAKvxC,SAASixC,EAAOl0C,MAAQkI,EAAIssB,IAAK,IACtCxuB,EAAyB,KAArB9O,EAAOi+B,UAAmBqf,EAAKD,EACnCtuC,EAAyB,KAArB/O,EAAOi+B,UAAmBof,EAAKC,EACvC,GAAIz6C,KAAK6O,IAAI5C,EAAIkC,EAAIlC,GAAK8uC,GAAgB/6C,KAAK6O,IAAI3C,EAAIiC,EAAIjC,GAAK6uC,EAAc,CAC5E,IAAI7B,EAAQjtC,EAAIkC,EAAIlC,EAChBktC,EAAQjtC,EAAIiC,EAAIjC,EAChB+uC,EAAQ9sC,EAAI8sC,MAWhB,IAVe,IAAXA,IACFA,EAAQ/gC,EAAMghC,WAAWjvC,EAAGC,EAAGgtC,EAAOC,EAAOhrC,GAC/B,IAAV8sC,IACDD,EAEI79C,EAAO82B,OAFU92B,EAAOm2B,MAAM,CACjCC,UAAU,KAEXplB,EAAIpP,OAASoP,EAAIpP,KAAOmK,SAA8B,IAArB/L,EAAO+R,YAAmB,IAAyB,IAAnBgL,EAAM4X,aAE1E3jB,EAAI8sC,MAAQA,IAEC,IAAXA,GAAgBA,EAAQ,IAAMl/C,EAAOo/C,UAAsB,IAAVF,IAAgBl/C,EAAOq/C,SAC1E,OAEFtnD,EAAE05C,YAAc15C,EAAEi4C,iBAClB7xB,EAAMmhC,YAAYnC,EAAOC,EAAO8B,EAAO9sC,EAAIlG,MAAOkG,EAAIjG,QACtDiG,EAAIlC,EAAIA,EACRkC,EAAIjC,EAAIA,CACV,CA3BA,CA4BF,IACAjW,EAAgByC,EAAuBwhB,GAAQ,cAAc,SAASpmB,GACpE,IAAI0iD,EAAyB99C,EAAuBwhB,GAAQ/c,EAASq5C,EAAuBr5C,OAAQgR,EAAMqoC,EAAuBroC,IAAK2U,EAAe0zB,EAAuB1zB,aAC5K,GAAK3U,EAAImsC,QAAT,CAGInsC,EAAI8sC,OAAS,GACfnnD,EAAE05C,YAAc15C,EAAEi4C,iBAEpB,IAAItY,EAAevZ,EAAMne,OAAQs+C,EAAiB5mB,EAAa4mB,eAAgBe,EAAW3nB,EAAa2nB,UAClGf,GAAkBe,GACrBlhC,EAAMohC,YAAYntC,EAAI8sC,OACtB37C,YAAW,WACTnC,EAAOumB,UAAU,aAAevmB,EAAOumB,UAAU,YAAY63B,gBAC/D,GAAG,KAEHptC,EAAIpP,KAAO,EAEboP,EAAI8sC,OAAS,EACb/gC,EAAMshC,WACN99C,EAAK8L,gBAAgBsZ,EAAagO,qBAAuBhO,EAAagO,qBACtE5W,EAAMuhC,aAAa5B,GAAQC,KAhB3B,CAiBF,IACA7jD,EAAgByC,EAAuBwhB,GAAQ,mBAAmB,SAASpmB,IACrEomB,EAAMne,OAAOs+C,gBAAmBngC,EAAMne,OAAOq/C,UAG7ClhC,EAAMwhC,kBAAkB5nD,KAC1BA,EAAEgX,kBACGoP,EAAM/L,IAAImsC,QAGbpgC,EAAM0+B,YAAY9kD,GAFlBomB,EAAMq/B,aAAazlD,GAKzB,IACAmC,EAAgByC,EAAuBwhB,GAAQ,kBAAkB,SAASpmB,GACpEomB,EAAM/L,IAAImsC,SAAWpgC,EAAMwhC,kBAAkB5nD,KAC/CA,EAAEgX,kBACFoP,EAAMw+B,WAAW5kD,GAErB,IACAomB,EAAM/L,IAAM,CACVmsC,SAAS,EACTruC,EAAG,EACHC,EAAG,EACHnN,KAAM,EACNqa,OAAQ,EACRqE,KAAM,EACNk+B,MAAO,EACP1zC,MAAO,EACPC,OAAQ,EACRwyC,OAAQ,EACRC,OAAQ,EACRC,QAAS,EACTE,QAAS,EACTG,OAAQ,GAEV/gC,EAAM0hC,MAAQ,KACP1hC,CACT,CAkeA,OAjeA,EAAaggC,EAAe,CAAC,CAC3BlkD,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAKwvB,aAAa+O,gBAAkBv+B,KAAK6J,OAAO0Q,QACzD,GACC,CACD7X,IAAK,aACLsD,IAAK,WACH,OAAOhG,KAAKwvB,aAAagP,YAAc,CACzC,GACC,CACD97B,IAAK,gBACLsB,MAAO,WACL,MAAO,CACLukD,YAAa,CACXj3B,KAAMg1B,GACN/0B,MAAO,eAGb,GACC,CACD7uB,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACb,GAAMuQ,KAAI,SAAS3B,GACjBmZ,EAAO8F,QAAQjf,GAAQ,IACzB,IACA,IAAI4gB,EAAexvB,KAAKwvB,aAAc/mB,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,QAClC,IAApC2lB,EAAamN,qBACfl0B,EAAO+/C,cAAe,GAExBxoD,KAAKkoD,WACA99C,EAAKmM,YAAYiZ,EAAau3B,kBACjCt+C,EAAOs+C,iBAAmBv3B,EAAau3B,gBAEzC/mD,KAAK2a,YAAY,gBAAiB3a,KAAKkyB,MAAMq2B,aAC7CvoD,KAAKyoD,OAASr+C,EAAKgE,UAAU,UAAW,GAAI,CAAC,EAAG,UAChDvE,EAAO6Q,KAAKC,YAAY3a,KAAKyoD,QAC7BzoD,KAAK0oD,kBACL1oD,KAAK2oD,oBACL,IAAI50B,EAAkC,UAAtB/zB,KAAK4vB,aAA2B,QAAU,QAC1D5vB,KAAKmS,MAAQ,IAAI8yC,GAAOjlD,KAAK0a,KAAM,CACjCqZ,YACAixB,oBAAqBhlD,KAAKyI,OAAOs+C,iBAEnC/mD,KAAK0a,KAAK6N,iBAAiB,eAAe,SAAS/nB,GACjDA,EAAEi4C,gBACJ,IACA5uC,EAAO6Q,KAAK6N,iBAAiB,YAAavoB,KAAK4oD,iBAAiB,GAChE/+C,EAAO6Q,KAAK6N,iBAAiB,WAAYvoB,KAAK6oD,gBAAgB,GAC9D7oD,KAAKsoB,GAAGtG,IAAiB,WACvB,IAAI8mC,EAAU/gC,EAAOle,OAAQk/C,EAAUhhC,EAAOtf,OACvB,IAAnBqgD,EAAQvuC,SAAiBwuC,EAAQC,eACnCD,EAAQC,aAAkC,IAAnBF,EAAQvuC,SAEnC,IACAva,KAAKsoB,GAAG,CAACxG,GAASP,KAAQ,WACxB,IAAI0nC,EAAalhC,EAAOlN,IAAKpP,EAAOw9C,EAAWx9C,KAAMu7C,EAAUiC,EAAWjC,SACrEA,GAAWv7C,EAAO,IACrBsc,EAAOlN,IAAIpP,KAAO,EAEtB,IACA,IAAIy9C,EAAY,CACd1K,WAAY,eACZ6H,UAAW,cACXD,SAAU,aACVV,MAAO,UACPyD,SAAU,aACVC,MAAO,UACPC,YAAa,aAOf,GALAlqD,OAAO2C,KAAKonD,GAAW34C,KAAI,SAAS7N,GAClCqlB,EAAO5V,MAAMmW,GAAG5lB,GAAK,SAASlC,GAC5BunB,EAAOmhC,EAAUxmD,IAAMlC,EACzB,GACF,KACKiI,EAAO6gD,cAAe,CACzB,IAAIC,EAAiB1/C,EAAO0kB,QAAQi7B,SAChCD,IACFA,EAAeE,YAAY,YAAY,SAAS5+B,GAC9C9C,EAAO2hC,eAAe7+B,EAAKjP,YAAaiP,EAAK8+B,QAC/C,IACAJ,EAAeE,YAAY,WAAW,WACpC1hC,EAAOogC,aAAa5B,GAAQC,KAC9B,IAEJ,CACF,GACC,CACD9jD,IAAK,oBACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OACd40B,EAAY50B,EAAO0kB,QAAQkQ,UAC/B,GAAIA,GAAaA,EAAUmrB,OAAQ,CACjC5pD,KAAKy+B,UAAYA,EAAUorB,gBAAgB,KAAM,oBACjD,IAAIC,EAAc9pD,KAAK20B,KAAK,iBAC5Bm1B,EAAY30B,aAAan1B,KAAKy+B,UAAWqrB,EAAY56C,SAAS,GAChE,CACF,GACC,CACDxM,IAAK,kBACLsB,MAAO,WACL,IAAI6sC,EAAO7wC,KAAKwvB,cAAgB,CAAC,EAAGoP,EAAciS,EAAKjS,YACnDE,EAAcF,EAAYE,YAAaD,EAAgBD,EAAYC,cACnEC,IACF9+B,KAAK20B,KAAK,cAAc3f,MAAM+0C,gBAAkBjrB,EAChD9+B,KAAK20B,KAAK,WAAW3f,MAAMg1C,MAAQlrB,GAEjCD,IACF7+B,KAAK20B,KAAK,WAAW3f,MAAM+0C,gBAAkBlrB,EAC7C7+B,KAAK20B,KAAK,iBAAiB3f,MAAMg1C,MAAQnrB,GAE3C7+B,KAAKyI,OAAOwhD,qBAAuB7/C,EAAK+E,SAASnP,KAAK20B,KAAK,eAAgB,OAC7E,GACC,CACDjyB,IAAK,WACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACTA,KAAK6a,KACP7a,KAAK6a,IAAImsC,SAAU,EACnBhnD,KAAK6a,IAAI8sC,OAAS,EAClB,CAAC,IAAK,IAAK,QAAS,SAAU,SAAU,SAAU,UAAW,WAAWp3C,KAAI,SAAS3B,GACnFoZ,EAAOnN,IAAIjM,GAAQ,CACrB,KAEA5O,KAAK6a,IAAM,CACTmsC,SAAS,EACTruC,EAAG,EACHC,EAAG,EACHkN,OAAQ,EACRqE,KAAM,EACNk+B,MAAO,EACP1zC,MAAO,EACPC,OAAQ,EACRwyC,OAAQ,EACRC,OAAQ,EACRC,QAAS,EACTE,QAAS,EACTG,OAAQ,EACRl8C,KAAM,EAGZ,GACC,CACD/I,IAAK,eACLsB,MAAO,SAAsB+rB,GAC3B,IAAIlmB,EAAS7J,KAAK6J,OAAQ6Q,EAAO1a,KAAK0a,KACtCA,EAAK7L,aAAa,iBAAkBkhB,GACpC,IAAIm6B,EAAcrgD,EAAO0kB,QAAQrkB,MACjCggD,GAAeA,EAAYC,SAC7B,GACC,CACDznD,IAAK,YACLsB,MAAO,SAAmBxD,GACRR,KAAK6J,OAAOi+B,UAA5B,IACI+e,EAASrmD,EAAE0R,SAAW1R,EAAE0R,QAAQxS,OAAS,EAAIc,EAAE0R,QAAQ1R,EAAE0R,QAAQxS,OAAS,GAAKc,EACnF,MAAyB,CACvBgS,MAAOq0C,EAAOr0C,MACdG,MAAOk0C,EAAOl0C,MAKlB,GACC,CACDjQ,IAAK,aACLsB,MAAO,SAAoB2U,EAAGC,EAAGgtC,EAAOC,EAAOhrC,GAC7C,IAAIlG,EAAQkG,EAAIlG,MACZgzC,GAAS,EACb,GAAIhvC,EAAI,GAAKA,EAAIhE,EACf,OAAOgzC,EAET,IAAIyC,EAAiB,IAAVvE,EAAcn5C,KAAK6O,IAAIqqC,GAASl5C,KAAK6O,IAAIqqC,EAAQC,GAM5D,OALIn5C,KAAK6O,IAAIqqC,GAAS,GAAKwE,GAAQ,MAAQzxC,EAAIkC,EAAIysC,SAAW3uC,EAAIkC,EAAI2sC,QACpEG,EAAQ,GACqB,IAApBj7C,KAAK6O,IAAIqqC,IAAgBwE,GAAQ,OAC1CzC,EAAQhvC,EAAIkC,EAAIusC,OAAS,EAAIzuC,EAAIkC,EAAIwsC,OAAS,EAAI,GAE7CM,CACT,GACC,CACDjlD,IAAK,cACLsB,MAAO,SAAqB4hD,EAAOC,EAAO8B,EAAOhzC,EAAOC,GACtD,OAAQ+yC,GACN,KAAK,EACH3nD,KAAKqqD,WAAWzE,EAAQjxC,EAAQ3U,KAAKyI,OAAO8+C,QAC5C,MACF,KAAK,EACHvnD,KAAKsqD,iBAAiBzE,EAAQjxC,GAC9B,MACF,KAAK,EACE0H,EAAQE,GAAGoB,OACd5d,KAAKuqD,aAAa1E,EAAQjxC,GAE5B,MAEN,GACC,CACDlS,IAAK,cACLsB,MAAO,SAAqBwmD,GAC1B,IAAIviC,EAASjoB,KACT6a,EAAM7a,KAAK6a,IAAKhR,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACpDgD,GAAQoP,EAAIpP,KAAOzL,KAAKw+B,YAAc,IAC1C,OAAQgsB,GACN,KAAK,EACH3gD,EAAO4gD,KAAK5iD,OAAO4D,GAAMi/C,QAAQ,IACjCjiD,EAAOkiD,gBAAkB9gD,EAAO82B,OAAS92B,EAAOm2B,QAChDhgC,KAAKsoD,MAAQt8C,YAAW,WACtBic,EAAOpN,IAAIpP,KAAO,CACpB,GAAG,KACH,MAEJzL,KAAKmoD,aAAa5B,GAAQC,KAC5B,GACC,CACD9jD,IAAK,oBACLsB,MAAO,SAA2BxD,GAChC,IAAI+tB,EAAUvuB,KAAK6J,OAAO0kB,SAAW,CAAC,EACtC,QAAIA,EAAQi7B,WAAYj7B,EAAQi7B,SAAS9uC,KAAK2R,SAAS7rB,EAAE+B,WAGlDgsB,EAAQrkB,OAASqkB,EAAQrkB,MAAMwQ,KAAK2R,SAAS7rB,EAAE+B,SAAWgsB,EAAQxH,UAAYwH,EAAQxH,SAASrM,KAAK2R,SAAS7rB,EAAE+B,QACxH,GACC,CACDG,IAAK,gBACLsB,MAAO,SAAuBiO,GAC5B,IAAIyT,EAAS1lB,KAAK6J,OAAO6b,OACzB1lB,KAAKkwB,eAAeje,EAAO,oBAAqB,CAC9Cu0B,KAAM,SACN3/B,KAAM6e,EACN+gB,IAAK/gB,GAET,GACC,CACDhjB,IAAK,eACLsB,MAAO,SAAsBxD,GAC3B,IAAIqJ,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OAAQ+mB,EAAexvB,KAAKwvB,aAChE3lB,EAAOsgC,MAAQlF,GAAOK,QACnB9V,EAAakN,kBAChB18B,KAAK4qD,cAAcxgD,EAAK+P,YAAY,UACpCtQ,EAAO+f,SAINnhB,EAAO+/C,cAAgBh5B,EAAakN,gBACvC7yB,EAAOowB,SAAWpwB,EAAO82B,OAAS92B,EAAOm2B,QAC/BxQ,EAAakN,mBACnB7yB,EAAOowB,UAAYxxB,EAAOoiD,mBAC5B7qD,KAAK4qD,cAAcxgD,EAAK+P,YAAY,UACpCna,KAAKujD,mBAEP15C,EAAOm2B,QAEX,GACC,CACDt9B,IAAK,iBACLsB,MAAO,SAAwBxD,GAC7B,IAAIiI,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,QACnCpB,EAAO+/C,cAAgB3+C,EAAOsgC,OAASlF,GAAOK,UACjDtlC,KAAK4qD,cAAcxgD,EAAK+P,YAAY,aACpCna,KAAKujD,kBAET,GACC,CACD7gD,IAAK,UACLsB,MAAO,SAAiBxD,GACtB,IAAIgoB,EAASxoB,KACT6J,EAAS7J,KAAK6J,OAClBglB,GAAS7uB,KAAM,GAAM,IAAI,SAASwuB,EAAQ3D,GACxCrC,EAAOwxB,aAAanvB,EAAKrqB,EAC3B,GAAG,CACDA,IACAklB,OAAQ7b,EAAO6b,QAEnB,GACC,CACDhjB,IAAK,YACLsB,MAAO,SAAmBxD,GACxB,IAAIooB,EAAS5oB,KACT6J,EAAS7J,KAAK6J,OAClBglB,GAAS7uB,KAAM,GAAM,IAAI,SAASwuB,EAAQ3D,GACxCjC,EAAOkiC,eAAejgC,EAAKrqB,EAC7B,GAAG,CACDA,IACAklB,OAAQ7b,EAAO6b,QAEnB,GACC,CACDhjB,IAAK,UACLsB,MAAO,SAAiBxD,GACtB,IAAIqa,EAAM7a,KAAK6a,IAAKpS,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,OACpDpB,EAAOo8C,eAGXhqC,EAAIsP,KAAOnqB,KAAK6J,OAAOsc,aACvBnmB,KAAKkwB,eAAe,QAAS,cAAe,CAC1CsW,KAAM,eACN3/B,KAAMgD,EAAOsc,aACbsgB,GAAIh+B,EAAOsiD,YAEblhD,EAAOsc,aAAe1d,EAAOsiD,UAC7B/qD,KAAKmoD,aAAa5B,GAAQE,UAC5B,GACC,CACD/jD,IAAK,aACLsB,MAAO,SAAoBxD,GACzB,IAAIqa,EAAM7a,KAAK6a,IAAKpS,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,OACpDpB,EAAOo8C,eAGX7kD,KAAKkwB,eAAe,WAAY,cAAe,CAC7CsW,KAAM,eACN3/B,KAAMgD,EAAOsc,aACbsgB,GAAI5rB,EAAIsP,OAEVtgB,EAAOsc,aAAetL,EAAIsP,KAC1BtP,EAAIsP,KAAO,EACXnqB,KAAKmoD,aAAa5B,GAAQC,MAC5B,GACC,CACD9jD,IAAK,aACLsB,MAAO,SAAoBgnD,GACzB,IAAInhD,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACpC8R,EAAWva,KAAK6J,OAAO0Q,SAC3BywC,EAAUnjD,OAAOmjD,EAAQN,QAAQ,IACjC,IAAIj/C,EAAOmK,SAASo1C,EAAUviD,EAAOugD,aAAc,IAAMhpD,KAAKw+B,WAC9D/yB,GAAQzL,KAAK6a,IAAIpP,KACjBA,EAAOA,EAAO,EAAI,EAAIA,EAAkB,IAAX8O,EAA4B,IAAXA,EAAiB,IAAM9O,EACrE5B,EAAOumB,UAAU,SAAWvmB,EAAOumB,UAAU,QAAQi6B,WAAW5+C,EAAO,KACvE5B,EAAOumB,UAAU,aAAevmB,EAAOumB,UAAU,YAAY66B,cAAcx/C,EAAO,IAAMzL,KAAKua,UAAU,GACvGva,KAAK0pD,eAAej+C,EAAO,IAAKu/C,EAAU,GACtCviD,EAAOyiD,gBACTrhD,EAAO4gD,KAAK5iD,QAAQ4D,EAAOzL,KAAKw+B,YAAc,KAAKksB,QAAQ,IAE7D1qD,KAAK6a,IAAIpP,KAAOA,CAClB,GACC,CACD/I,IAAK,eACLsB,MAAO,SAAsBgnD,GACvBhrD,KAAK6J,OAAOi+B,YACdkjB,GAAWA,GAEb,IAAInhD,EAAS7J,KAAK6J,OAAQgR,EAAM7a,KAAK6a,IAGrC,GAFAmwC,EAAUp1C,SAAmB,IAAVo1C,EAAe,IAClCnwC,EAAIiL,QAAUklC,IACVt+C,KAAK6O,IAAIV,EAAIiL,QAAU,IAA3B,CAGA,IAAIA,EAASlQ,SAAyB,GAAhB/L,EAAOic,OAAa,IAAMlQ,SAASiF,EAAIiL,OAAS,GAAI,IAC1EA,EAASA,EAAS,GAAK,GAAKA,EAAS,EAAI,EAAIA,EAC7Cjc,EAAOic,OAASA,EAAS,GACzBjL,EAAIiL,OAAS,CAJb,CAKF,GACC,CACDpjB,IAAK,mBACLsB,MAAO,SAA0BgnD,GAC3BhrD,KAAK6J,OAAOi+B,YACdkjB,GAAWA,GAEb,IAAInwC,EAAM7a,KAAK6a,IAAKpS,EAASzI,KAAKyI,OAAQggD,EAASzoD,KAAKyoD,OACpDJ,EAAQxtC,EAAIwtC,MAAQ,GAAM2C,EAC9B3C,EAAQA,EAAQ5/C,EAAO0iD,YAAc1iD,EAAO0iD,YAAc9C,EAAQ,EAAI,EAAIA,EACtEI,IACFA,EAAOzzC,MAAM+0C,gBAAkB,cAActpD,OAAO4nD,EAAO,MAE7DxtC,EAAIwtC,MAAQA,CACd,GACC,CACD3lD,IAAK,iBACLsB,MAAO,SAAwByH,GAC7B,IAAI2/C,IAAY3rD,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GACxEoK,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACpC0zB,IAAWn8B,KAAKua,WAAa6P,KAAYpqB,KAAKua,SAAW,GAC7D,GAAK9O,GAAwB,kBAATA,IAAqB0wB,IAAU1zB,EAAO6gD,cAA1D,CAGI79C,EAAO,EACTA,EAAO,EACEA,EAAO5B,EAAO0Q,WACvB9O,EAAO5B,EAAO0Q,SAAW,IAE3Bva,KAAKmoD,aAAa5B,GAAQ7kC,SAC1B,IAAIwoC,EAAcrgD,EAAO0kB,QAAQrkB,MACjCggD,GAAeA,EAAYmB,YAC3BrrD,KAAK20B,KAAK,WAAWhmB,UAAYvE,EAAKsH,OAAO1R,KAAKua,UAClDva,KAAK20B,KAAK,WAAWhmB,UAAYvE,EAAKsH,OAAOjG,GAC7CzL,KAAK20B,KAAK,cAAc3f,MAAML,MAAQ,GAAGlU,OAAOgL,EAAOzL,KAAKua,SAAW,IAAK,KACxE6wC,EACFhhD,EAAK0F,YAAY9P,KAAK20B,KAAK,iBAAkB,WAE7CvqB,EAAK+E,SAASnP,KAAK20B,KAAK,iBAAkB,WAE5C30B,KAAKsrD,iBAAiB7/C,EAjBtB,CAkBF,GACC,CACD/I,IAAK,mBACLsB,MAAO,SAA0ByH,GAC/B,IAAI5B,EAAS7J,KAAK6J,OACd40B,EAAY50B,EAAO0kB,QAAQkQ,UAC3BA,GAAaA,EAAUmrB,QACzB5pD,KAAKy+B,WAAaA,EAAUgW,OAAOz0C,KAAKy+B,UAAWhzB,EAAM,IAAK,GAElE,GACC,CACD/I,IAAK,kBACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OAClB,GAAIA,EAAOsgC,MAAQlF,GAAOG,SACxB,OAAO,EACGv7B,EAAO4W,QACb5W,EAAO6b,OACT7b,EAAO+f,OAEP/f,EAAO2f,QAGb,GACC,CACD9mB,IAAK,iBACLsB,MAAO,WACLhE,KAAKyI,OAAOs+C,gBAAiB,CAC/B,GACC,CACDrkD,IAAK,gBACLsB,MAAO,WACLhE,KAAKyI,OAAOs+C,gBAAiB,CAC/B,GACC,CACDrkD,IAAK,UACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OAClB7J,KAAKsoD,OAASn8C,aAAanM,KAAKsoD,OAChCtoD,KAAKy+B,UAAY,KACjB50B,EAAO6Q,KAAK2O,YAAYrpB,KAAKyoD,QAC7BzoD,KAAKyoD,OAAS,KACdzoD,KAAKmS,OAASnS,KAAKmS,MAAMme,UACzBtwB,KAAKmS,MAAQ,KACbtI,EAAO6Q,KAAK+N,oBAAoB,YAAazoB,KAAK4oD,iBAAiB,GACnE/+C,EAAO6Q,KAAK+N,oBAAoB,WAAYzoB,KAAK6oD,gBAAgB,EACnE,GACC,CACDnmD,IAAK,SACLsB,MAAO,WACL,IAAI0K,EAAqC,WAAzB1O,KAAKyI,OAAO8iD,SAAwB,YAAY9qD,OAAOT,KAAKyI,OAAO8iD,UAAY,WAC/F,MAAO,yDAAyD9qD,OAAOiO,EAAW,uFAAuFjO,OAAOT,KAAKyI,OAAO+iD,gBAAkB,kBAAoB,GAAI,oZAAoZ/qD,OAAOT,KAAKyI,OAAOsiD,UAAW,SAAStqD,OAAOT,KAAKugB,KAAKmjB,QAAS,oDAC7rB,IACE,CAAC,CACHhhC,IAAK,aACLsD,IAAK,WACH,MAAO,QACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLiE,MAAO,EACP88C,gBAAgB,EAChBe,UAAU,EACVD,UAAU,EACV0D,SAAU,SACVL,gBAAgB,EAChBzD,aAAc,EACdgE,SAAU,EACVrE,OAAQ,IACRC,OAAQ,IACRE,OAAQ,GACRwD,UAAW,EACXW,UAAU,EACVP,YAAa,GACb7B,eAAe,EACfW,qBAAqB,EACrBvC,oBAAoB,EACpBiD,iBAAiB,EACjB3B,aAAc,KACdR,cAAc,EACd3D,cAAc,EACd2G,iBAAiB,EACjBX,iBAAiB,EAErB,KAEKjE,CACT,CApmBmC,CAomBjCr0B,IChnBF,SAASkmB,GAAej4C,GACtBA,EAAEi4C,iBACFj4C,EAAEsjD,aAAc,CAClB,CACA,SAAS6H,GAAat9C,GACpB,IAAIF,EAAUE,EAAGF,QACjB,QAAgB,UAAZA,GAAmC,aAAZA,IAA0BE,EAAGu9C,kBAI1D,CACA,IAAIC,GAA2B,SAASr5B,GACtC,EAAUs5B,EAAWt5B,GACrB,IAAI7L,EAAS,EAAamlC,GAC1B,SAASA,IACP,IAAIllC,EACJ,EAAgB5mB,KAAM8rD,GACtB,IAAK,IAAIhjD,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAyDzB,OAvDA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,SAAS3U,GACvE,GAAK2U,EAAM/c,OAAX,CAGA,IAAIrJ,EAAIyR,GAASjK,OAAOiK,MACpB85C,EAAUvrD,EAAEurD,QACZhsB,EAAwB36B,EAAuBwhB,GAAQolC,EAAYjsB,EAAsBisB,UAAWniD,EAASk2B,EAAsBl2B,OACnIs2B,EAAevZ,EAAMne,OAAQ8vB,EAAU4H,EAAa5H,QAAS0zB,EAAqB9rB,EAAa8rB,mBAAoBC,EAAqB/rB,EAAa+rB,mBACrJ3zB,GAAW0zB,IAAwBpiD,EAAOitB,eAAgBo1B,GAAuBP,GAAanrD,EAAE+B,UAAYqkB,EAAMulC,kBAAoB3rD,EAAE4rD,SAAW5rD,EAAE6rD,QAAU7rD,EAAE8rD,QACnKN,EAAUO,eAAgB,GAGvBt6C,EAAMu6C,QAAWR,EAAUS,aACzBjsD,EAAE+B,SAAWkL,SAASkK,MAAQiP,EAAMne,OAAOikD,kBAAoBf,GAAanrD,EAAE+B,UAAYqkB,EAAM+lC,UAAUZ,GAAS,KACtHC,EAAUO,eAAgB,GAE5B9+C,SAAS8a,iBAAiB,QAAS3B,EAAMgmC,cAE3CZ,EAAUO,eAAiB3lC,EAAMimC,cAAcrsD,GAf/C,CAgBF,IACAmC,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAAS3U,GAChE2U,EAAM/c,SAGX4D,SAASgb,oBAAoB,QAAS7B,EAAMgmC,aAC5ChmC,EAAMkmC,YAAY76C,GACpB,IACAtP,EAAgByC,EAAuBwhB,GAAQ,aAAa,SAAS3U,GACnE,GAAK2U,EAAM/c,OAAX,CAGA,IAAIrJ,EAAIyR,GAASjK,OAAOiK,MACpBiuB,EAAyB96B,EAAuBwhB,GAAQolC,EAAY9rB,EAAuB8rB,UAC/F,IAAKxrD,EAAEgsD,OAAQ,CACb,GAAI5lC,EAAMne,OAAO8vB,SAAW3R,EAAMne,OAAOskD,oBAAsBvsD,EAAE4rD,SAAW5rD,EAAE6rD,QAAU7rD,EAAE8rD,QACxF,QAEE9rD,GAAoB,KAAdA,EAAEurD,UAAkBnlC,EAAM+lC,UAAUnsD,EAAEurD,UAAcvrD,EAAE+B,SAAWqkB,EAAM/c,OAAO6Q,MAAQla,EAAE+B,SAAWqkB,EAAM/c,OAAO4P,OAASjZ,EAAE+B,SAAWqkB,EAAM/c,OAAOkd,SAAS1Y,KACpK29C,EAAUS,WAAY,GAExB7lC,EAAM/c,OAAO6Q,KAAK6N,iBAAiB,QAAS3B,EAAMomC,QACpD,CACKhB,EAAUS,WAGf7lC,EAAMimC,cAAcrsD,EAfpB,CAgBF,IACAmC,EAAgByC,EAAuBwhB,GAAQ,WAAW,SAAS3U,GAC5D2U,EAAM/c,SAGX+c,EAAM/c,OAAO6Q,KAAK+N,oBAAoB,QAAS7B,EAAMomC,SACrDpmC,EAAMkmC,YAAY76C,GACpB,IACO2U,CACT,CA8UA,OA7UA,EAAaklC,EAAW,CAAC,CACvBppD,IAAK,kBACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACTitD,EAAmBjtD,KAAKyI,OAAOykD,WAC/BD,GACF9tD,OAAO2C,KAAKmrD,GAAkB18C,KAAI,SAAS7N,GACpCqlB,EAAOmlC,WAAWxqD,GAGrB,CAAC,UAAW,SAAU,UAAW,cAAe,eAAgB,gBAAgB6N,KAAI,SAAS48C,GAC3FF,EAAiBvqD,GAAKyqD,KAAUplC,EAAOmlC,WAAWxqD,GAAKyqD,GAAQF,EAAiBvqD,GAAKyqD,GACvF,IAJAplC,EAAOmlC,WAAWxqD,GAAOuqD,EAAiBvqD,EAM9C,GAEJ,GACC,CACDA,IAAK,cACLsB,MAAO,WACLhE,KAAKyI,OAAO8vB,SAAWv4B,KAAKwvB,aAAa4O,YACzC,IAAIgvB,EAA2C,oBAAzBptD,KAAKyI,OAAO2kD,SAA0BptD,KAAKyI,OAAO2kD,SAASptD,KAAK6J,QAAU7J,KAAKyI,OAAO2kD,SACrGA,GAAgC,kBAAbA,IACxBptD,KAAKotD,SAAWA,GAElBptD,KAAKktD,WAAa,CAChBG,MAAO,CACLtB,QAAS,GACTh8B,OAAQ,YACRwI,SAAS,EACTssB,cAAc,EACdyI,cAAc,GAEhBC,GAAI,CACFxB,QAAS,GACTh8B,OAAQ,WACRwI,SAAS,EACTssB,cAAc,EACdyI,cAAc,GAEhBE,KAAM,CACJzB,QAAS,GACTh8B,OAAQ,aACRwI,SAAS,EACTssB,cAAc,EACdyI,cAAc,GAEhBltB,KAAM,CACJ2rB,QAAS,GACTh8B,OAAQ,WACR80B,cAAc,EACdtsB,SAAS,GAEX+H,MAAO,CACLyrB,QAAS,GACTh8B,OAAQ,OACR09B,YAAa,qBACb5I,cAAc,EACdtsB,SAAS,GAEXm1B,IAAK,CACH3B,QAAS,GACTh8B,OAAQ,iBACR80B,cAAc,EACdtsB,SAAS,IAGbv4B,KAAK2tD,kBACL3tD,KAAKgsD,UAAY,CACfS,WAAW,EACXF,eAAe,EACfqB,SAAS,EACTC,GAAI,EACJ1nC,aAAc,GAEhBnmB,KAAK6J,OAAO6Q,KAAK6N,iBAAiB,UAAWvoB,KAAK8tD,WAClDrgD,SAAS8a,iBAAiB,UAAWvoB,KAAK+tD,cAC5C,GACC,CACDrrD,IAAK,iBACLsB,MAAO,WACL,IAAKhE,KAAKyI,OAAOulD,aACf,OAAO,EAET,IAAIC,EAAMjuD,KAAK6J,OAAO6Q,KAAKqwB,wBACvBn2B,EAASq5C,EAAIr5C,OAAQuyB,EAAM8mB,EAAI9mB,IAAK+mB,EAASD,EAAIC,OACjDttD,EAAIoH,OAAOqoC,YACf,QAAIlJ,EAAM,GAAKA,EAAM,EAAa,GAATvyB,GAAgBs5C,EAAS,GAAKA,EAASttD,EAAa,GAATgU,EAItE,GACC,CACDlS,IAAK,YACLsB,MAAO,SAAmB8c,EAAMqtC,GAC9B,IAAInmC,EAAShoB,KACTouD,GAAO,EAMX,OALAjvD,OAAO2C,KAAK9B,KAAKktD,YAAY38C,KAAI,SAAS7N,GACpCslB,EAAOklC,WAAWxqD,IAAQoe,IAASkH,EAAOklC,WAAWxqD,GAAKqpD,UAAY/jC,EAAOklC,WAAWxqD,GAAK61B,UAC/F61B,GAAQD,GAAgBA,IAAiBnmC,EAAOklC,WAAWxqD,GAAK4qD,aAEpE,IACOc,CACT,GACC,CACD1rD,IAAK,aACLsB,MAAO,SAAoBiO,GACzB,IAAIpI,EAAS7J,KAAK6J,OAClB,KAAIA,EAAOic,QAAU,GAArB,CAGA,IAAItP,EAAMtB,YAAYrL,EAAOic,OAAS,IAAK4kC,QAAQ,IAC/CjnD,EAAQ,CACVqiB,OAAQ,CACNjf,KAAMgD,EAAOic,OACb2gB,GAAIjwB,IAGRxW,KAAKkwB,eAAeje,EAAO,gBAAiB,CAC1CxO,UAGAoG,EAAOic,OADLtP,GAAO,EACOA,EAEA,CAdlB,CAgBF,GACC,CACD9T,IAAK,WACLsB,MAAO,SAAkBiO,GACvB,IAAIpI,EAAS7J,KAAK6J,OAClB,KAAIA,EAAOic,QAAU,GAArB,CAGA,IAAItP,EAAMtB,YAAYrL,EAAOic,OAAS,IAAK4kC,QAAQ,IAC/CjnD,EAAQ,CACVqiB,OAAQ,CACNjf,KAAMgD,EAAOic,OACb2gB,GAAIjwB,IAGRxW,KAAKkwB,eAAeje,EAAO,gBAAiB,CAC1CxO,UAGAoG,EAAOic,OADLtP,GAAO,EACOA,EAEA,CAdlB,CAgBF,GACC,CACD9T,IAAK,OACLsB,MAAO,SAAciO,GACnB,IAAI6d,EAAe9vB,KAAK6J,OAAQ+R,EAAckU,EAAalU,YAAayyC,EAAoBv+B,EAAau+B,kBAAmB9zC,EAAWuV,EAAavV,SAAU+zC,EAAiBx+B,EAAaw+B,eAAgBtmB,EAAelY,EAAakY,aACpOumB,EAAQF,GAAqB,EAAIA,EAAoBzyC,EACrDwK,EAAYkoC,GAAkB/zC,EAC9Bi0C,EAAQv8C,EAAMu6C,QAAUxsD,KAAKotD,UAAY,EAAIx3C,SAAS5V,KAAKotD,SAAW,EAAG,IAAMptD,KAAKotD,SACpFmB,EAAQC,GAASpoC,EACnBmoC,GAAgBC,EAEhBD,EAAQnoC,EAEV,IAAIqoC,EAAYrkD,EAAK4R,uBAAuBuyC,EAAOvmB,GAC/CvkC,EAAQ,CACVmY,YAAa,CACX/U,KAAM+U,EACN6qB,GAAIgoB,IAGRzuD,KAAKkwB,eAAeje,EAAO,OAAQ,CACjCxO,UAEFzD,KAAK6J,OAAO+R,YAAc6yC,CAC5B,GACC,CACD/rD,IAAK,WACLsB,MAAO,SAAkBiO,GACvB,IAAI+xC,EAAgBhkD,KAAK6J,OAAQ+R,EAAcooC,EAAcpoC,YAAayyC,EAAoBrK,EAAcqK,kBAAmBrmB,EAAegc,EAAchc,aACxJwmB,EAAQv8C,EAAMu6C,OAAS52C,SAAS5V,KAAKotD,SAAW,EAAG,IAAMptD,KAAKotD,SAC9DmB,EAAQF,GAAqB,EAAIA,EAAoBzyC,EACrD6yC,EAAYF,EAAQC,EACpBC,EAAY,IACdA,EAAY,GAEdA,EAAYrkD,EAAK4R,uBAAuByyC,EAAWzmB,GACnD,IAAIvkC,EAAQ,CACVmY,YAAa,CACX/U,KAAM+U,EACN6qB,GAAIgoB,IAGRzuD,KAAKkwB,eAAeje,EAAO,OAAQ,CACjCxO,UAEFzD,KAAK6J,OAAO+R,YAAc6yC,CAC5B,GACC,CACD/rD,IAAK,qBACLsB,MAAO,SAA4BiO,GACjC,IAAI+5C,EAAYhsD,KAAKgsD,UAAWvjD,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,OACrC,IAA3BmiD,EAAU7lC,eACZ6lC,EAAU7lC,aAAetc,EAAOsc,aAChCtc,EAAOsc,aAAe1d,EAAO0d,aAEjC,GACC,CACDzjB,IAAK,YACLsB,MAAO,SAAmBiO,GACxB,IAAIpI,EAAS7J,KAAK6J,OACbA,IAGL7J,KAAKkwB,eAAeje,EAAO,qBACvBpI,EAAO6b,OACT7b,EAAO+f,OAEP/f,EAAO2f,QAEX,GACC,CACD9mB,IAAK,iBACLsB,MAAO,SAAwBiO,GAC7B,IAAIpI,EAAS7J,KAAK6J,OACd+8B,EAAa/8B,EAAO+8B,WAAYG,EAAgBl9B,EAAOk9B,cACvDH,IACF5mC,KAAKkwB,eAAe,QAAS,oBAAqB,CAChDsW,KAAM,aACN3/B,KAAM+/B,EACNH,IAAKG,IAEP/8B,EAAOilC,kBAEL/H,IACF/mC,KAAKkwB,eAAe,QAAS,wBAAyB,CACpDsW,KAAM,gBACN3/B,KAAMkgC,EACNN,IAAKM,IAEPl9B,EAAOm9B,oBAEX,GACC,CACDtkC,IAAK,gBACLsB,MAAO,SAAuBxD,GAC5B,IAAIwrD,EAAYhsD,KAAKgsD,UACrB,GAAIxrD,EAAEgsD,OAAQ,CACZR,EAAU4B,SAAU,EACpB,IAAI5pB,EAAKn3B,KAAKC,MACd,GAAIk3B,EAAKgoB,EAAU6B,GAAK,IACtB,OAEF7B,EAAU6B,GAAK7pB,CACjB,CACAhkC,KAAK0uD,cAAcluD,EAAEurD,QAASvrD,EAAGwrD,EAAU4B,QAC7C,GACC,CACDlrD,IAAK,cACLsB,MAAO,SAAqBxD,GAC1B,IAAIwrD,EAAYhsD,KAAKgsD,UACjBA,EAAU7lC,aAAe,IAC3BnmB,KAAK6J,OAAOsc,aAAe6lC,EAAU7lC,aACrC6lC,EAAU7lC,aAAe,GAE3B6lC,EAAUS,WAAY,EACtBT,EAAU4B,SAAU,EACpB5B,EAAU6B,GAAK,CACjB,GACC,CACDnrD,IAAK,gBACLsB,MAAO,SAAuB2qD,EAAY18C,EAAO27C,GAE/C,IADA,IAAIvnD,EAAMlH,OAAO2C,KAAK9B,KAAKktD,YAClBrsD,EAAI,EAAGA,EAAIwF,EAAI3G,OAAQmB,IAAK,CACnC,IAAI+tD,EAAwB5uD,KAAKktD,WAAW7mD,EAAIxF,IAAKkvB,EAAS6+B,EAAsB7+B,OAAQg8B,EAAU6C,EAAsB7C,QAASxzB,EAAUq2B,EAAsBr2B,QAASk1B,EAAcmB,EAAsBnB,YAAa5I,EAAe+J,EAAsB/J,aACpQ,GAAIkH,IAAY4C,EAAY,CAC1B,IAAKp2B,KAAaq1B,IAAW/I,GAAe,CAC1C,IAAIgK,EAAWjB,GAAmBH,GAAT19B,EACF,oBAAZ8+B,EACT9+B,EAAO9d,EAAOjS,KAAK6J,OAAQ+jD,GACC,kBAAZiB,GACa,oBAAlB7uD,KAAK6uD,IACd7uD,KAAK6uD,GAAS58C,EAAOjS,KAAK6J,OAAQ+jD,GAGtC5tD,KAAKmlB,KAAKf,GAAU9hB,EAAe,CACjCI,IAAK2D,EAAIxF,GACT0B,OAAQ0P,EAAM1P,OACdqrD,WACC5tD,KAAKktD,WAAW7mD,EAAIxF,KACzB,CACA43C,GAAexmC,GACf,KACF,CACF,CACF,GACC,CACDvP,IAAK,UACLsB,MAAO,WACLhE,KAAK6J,OAAO6Q,KAAK+N,oBAAoB,UAAWzoB,KAAK8tD,WACrDrgD,SAASgb,oBAAoB,UAAWzoB,KAAK+tD,eAC7C/tD,KAAK6J,OAAO6Q,KAAK+N,oBAAoB,QAASzoB,KAAKgtD,SACnDv/C,SAASgb,oBAAoB,QAASzoB,KAAK4sD,YAC7C,GACC,CACDlqD,IAAK,UACLsB,MAAO,WACLhE,KAAKyI,OAAO8vB,SAAU,CACxB,GACC,CACD71B,IAAK,SACLsB,MAAO,WACLhE,KAAKyI,OAAO8vB,SAAU,CACxB,IACE,CAAC,CACH71B,IAAK,aACLsD,IAAK,WACH,MAAO,UACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLonD,SAAU,GACVY,cAAc,EACd/B,oBAAoB,EACpBc,oBAAoB,EACpBL,iBAAiB,EACjBQ,WAAY,CAAC,EACb30B,SAAS,EACTpS,aAAc,EACd+lC,oBAAoB,EAExB,KAEKJ,CACT,CAhZ+B,CAgZ7B58B,IChaF,SAAS4/B,KACP,OAAO,IAAI3W,WAAYC,gBAAgB,sNAAuN,iBAAiB9M,UACjR,CCCA,IAAIyjB,GAA0B,SAASt7B,GACrC,EAAUu7B,EAAUv7B,GACpB,IAAI9M,EAAS,EAAaqoC,GAC1B,SAASA,IAEP,OADA,EAAgBhvD,KAAMgvD,GACfroC,EAAO5mB,MAAMC,KAAMP,UAC5B,CA+BA,OA9BA,EAAauvD,EAAU,CAAC,CACtBtsD,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL8qD,YAAW,GAEf,GACC,CACDpsD,IAAK,cACLsB,MAAO,WACLhE,KAAK2a,YAAY,mBAAoB3a,KAAKkyB,MAAM48B,YAClD,GACC,CACDpsD,IAAK,SACLsB,MAAO,WACL,MAAO,6GACT,IACE,CAAC,CACHtB,IAAK,aACLsD,IAAK,WACH,MAAO,SACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUD,KAExB,KAEKq+B,CACT,CAtC8B,CAsC5Bz8B,ICrCE08B,GAAM,CAAC,CACTn9B,IAAK,WACLpjB,UAAW,0BACXwgD,SAAU,eACT,CACDp9B,IAAK,YACLpjB,UAAW,2BACXwgD,SAAU,gBAERC,GAA4B,WAC9B,SAASC,EAAW1jD,GAClB,EAAgB1L,KAAMovD,GACtBpvD,KAAKqvD,UAAY3jD,EAAK2jD,WAAa,GACL,IAA1BrvD,KAAKqvD,UAAU3vD,QACjBM,KAAKqvD,UAAUhtD,KAAK,CAClB2oD,QAAS,IAGbhrD,KAAKsvD,UAAY5jD,EAAK6jD,eACtBvvD,KAAKwvD,WAAa,CAChBC,eAAgB/jD,EAAK+jD,gBAAkB,oBACvCC,gBAAiBhkD,EAAKgkD,cACtBC,UAAWjkD,EAAKikD,WAAa,IAE/B3vD,KAAKgV,MAAQtJ,EAAKsJ,OAAS,CACzB8pB,YAAa,GACbC,YAAa,GACbF,cAAe,IAEjB7+B,KAAKua,SAAW,EAChBva,KAAK4vD,YAAc,EACnB5vD,KAAK6vD,YAAc,EACnB7vD,KAAK8vD,YAAc,CACrB,CAqPA,OApPA,EAAaV,EAAY,CAAC,CACxB1sD,IAAK,iBACLsB,MAAO,SAAwBuW,GAC7B,IAAIqM,EAAQ5mB,KACZA,KAAKua,SAAWA,EAChB,IAAIrQ,EAAQ,EACRmlD,EAAYrvD,KAAKqvD,UACrBrvD,KAAKqvD,UAAYA,EAAU9+C,KAAI,SAAS3B,GAKtC,OAJAA,EAAK1E,MAAQ0L,SAAS1L,EAAO,IAC7B0E,EAAKzE,IAAMyL,SAAS1L,EAAQ0E,EAAKo8C,QAAUpkC,EAAMrM,SAAU,IAC3D3L,EAAK2L,SAAW3E,SAAShH,EAAKo8C,QAAUpkC,EAAMrM,SAAU,IACxDrQ,GAAS0E,EAAKo8C,QAAUpkC,EAAMrM,SACvB3L,CACT,GACF,GACC,CACDlM,IAAK,iBACLsB,MAAO,WACL,IAAIwG,EAAO/K,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,SACxEorB,EAAOprB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC1EswD,SAAU,EACVC,SAAU,EACVC,YAAa,GAEXC,EAAelwD,KAAKkwD,aAAcb,EAAYrvD,KAAKqvD,UACvD,KAAIa,EAAaxwD,OAAS,GAA1B,CAGA,IAAIqwD,EAAWllC,EAAKklC,SAAUC,EAAWnlC,EAAKmlC,SAAUC,EAAcplC,EAAKolC,YACvEF,IAAaC,GACfE,EAAa3/C,KAAI,SAAS3B,EAAM3E,GAC1BA,EAAQ8lD,EACVnhD,EAAKpE,GAAMwK,MAAML,MAAQ,OAChB1K,EAAQ8lD,IACjBnhD,EAAKpE,GAAMwK,MAAML,MAAQ,EAE7B,IAEF,IAAIw7C,EAAWd,EAAUU,GACrBK,EAAsB,IAAhBH,EAAoB,GAAKA,EAAcE,EAASjmD,OAASimD,EAAS51C,SAC5E21C,EAAaH,GAAUvlD,GAAMwK,MAAML,MAAQy7C,EAAM,EAAI,EAAI,GAAG3vD,OAAa,IAAN2vD,EAAW,IAb9E,CAcF,GACC,CACD1tD,IAAK,cACLsB,MAAO,SAAqB6mB,GAC1B,GAAK7qB,KAAKwvD,WAAWE,iBAAiB1vD,KAAKqvD,UAAU3vD,OAAS,GAG9D,GAAKmrB,EAAL,CAaA,IAAIwlC,EAAYrwD,KAAKswD,UAA6B,IAAnBzlC,EAAKjP,YAAmB5b,KAAK8vD,YAC5D,GAAIO,GAAa,GAAKA,IAAcrwD,KAAK8vD,WAAY,CACnD9vD,KAAK8vD,YAAc,GAAK9vD,KAAKuwD,aAAavwD,KAAK8vD,YAC/C9vD,KAAKwwD,cAAcH,GACnB,IAAII,EAAS,CACXxmD,MAAOomD,EACPK,SAAU1wD,KAAK8vD,WACfa,SAAU3wD,KAAKqvD,UAAUrvD,KAAK8vD,aAEhC9vD,KAAK8vD,WAAaO,EAClBrwD,KAAKsvD,WAAatvD,KAAKsvD,UAAUmB,EACnC,CAZA,MAXE,GAAIzwD,KAAK8vD,YAAc,EAAG,CACxB9vD,KAAKuwD,aAAavwD,KAAK8vD,YACvB,IAAIc,EAAQ,CACV3mD,OAAQ,EACRymD,SAAU1wD,KAAK8vD,WACfa,SAAU,MAEZ3wD,KAAKsvD,WAAatvD,KAAKsvD,UAAUsB,GACjC5wD,KAAK8vD,YAAc,CACrB,CAeJ,GACC,CACDptD,IAAK,SACLsB,MAAO,WACL,IAAI6mB,EAAOprB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC1EoxD,OAAQ,EACRxmC,OAAQ,GAEN9P,EAAW9a,UAAUC,OAAS,EAAID,UAAU,QAAK,EACrD,IAAKO,KAAKua,UAAY3E,SAAoB,IAAX2E,EAAgB,MAAQva,KAAKua,SAAU,CACpE,IAAKA,GAAyB,IAAbA,EACf,OAEFva,KAAK8wD,eAAel7C,SAAoB,IAAX2E,EAAgB,IAC/C,CACA,IAAIs1C,EAAc7vD,KAAK6vD,YAAaD,EAAc5vD,KAAK4vD,YACvD,GAAiC,cAA7BxlD,EAAKkG,OAAOua,EAAKR,QAAyB,CAC5C,IAAIgmC,EAAYrwD,KAAKswD,UAAwB,IAAdzlC,EAAKR,OAAcwlC,GAClD,GAAIQ,EAAY,EACd,OAEFrwD,KAAK+wD,eAAe,SAAU,CAC5BhB,SAAUM,EACVL,SAAUH,EACVI,YAAar6C,SAAuB,IAAdiV,EAAKR,OAAc,MAE3CrqB,KAAK6vD,YAAcQ,CACrB,CACA,GAAiC,cAA7BjmD,EAAKkG,OAAOua,EAAKgmC,QAAyB,CAC5C,IAAIG,EAAYhxD,KAAKswD,UAAwB,IAAdzlC,EAAKgmC,OAAcjB,GAClD,GAAIoB,EAAY,EACd,OAEFhxD,KAAK+wD,eAAe,SAAU,CAC5BhB,SAAUiB,EACVhB,SAAUJ,EACVK,YAAar6C,SAAuB,IAAdiV,EAAKgmC,OAAc,MAE3C7wD,KAAK4vD,YAAcoB,CACrB,CACF,GACC,CACDtuD,IAAK,YACLsB,MAAO,SAAmByH,EAAMukD,GAC9B,IAAIX,EAAYrvD,KAAKqvD,UACrB,IAAKA,GAAkC,IAArBA,EAAU3vD,OAC1B,OAAQ,EAEV,GAAyB,IAArB2vD,EAAU3vD,OACZ,OAAO,EAET,GAAIswD,GAAY,GAAKA,EAAWX,EAAU3vD,QAAU+L,EAAO4jD,EAAUW,GAAU9lD,OAASuB,EAAO4jD,EAAUW,GAAU7lD,IACjH,OAAO6lD,EAET,GAAIvkD,EAAO4jD,EAAUA,EAAU3vD,OAAS,GAAGwK,MACzC,OAAOmlD,EAAU3vD,OAAS,EAE5B,IAAK,IAAImB,EAAI,EAAGA,EAAIwuD,EAAU3vD,OAAQmB,IACpC,GAAI4K,EAAO4jD,EAAUxuD,GAAGqJ,OAASuB,GAAQ4jD,EAAUxuD,GAAGsJ,IAAK,CACzD6lD,EAAWnvD,EACX,KACF,CAEF,OAAOmvD,CACT,GACC,CACDttD,IAAK,iBACLsB,MAAO,WAEL,IADA,IAAIkL,EAAWlP,KAAK0a,KAAKxL,SAChBrO,EAAI,EAAGA,EAAIqO,EAASxP,OAAQmB,IACnC,GAAIuJ,EAAKiF,SAASH,EAASrO,GAAIb,KAAKwvD,WAAWC,gBAC7C,MAAO,CACLjhD,IAAKU,EAASrO,GACdga,IAAK3L,EAASrO,GAAGkqC,wBAIzB,GACC,CACDroC,IAAK,eACLsB,MAAO,SAAsBiG,GAC3B,IAAIiF,EAAWlP,KAAK0a,KAAKxL,SACzB,OAAIjF,EAAQ,GAAKA,GAASiF,EAASxP,OAC1B,KAEF,CACL8O,IAAKU,EAASjF,GACd4Q,IAAK3L,EAASjF,GAAO8gC,wBAEzB,GACC,CACDroC,IAAK,eACLsB,MAAO,WAEL,IADA,IAAIkL,EAAWlP,KAAK0a,KAAKxL,SAChBrO,EAAI,EAAGA,EAAIqO,EAASxP,OAAQmB,IACnCuJ,EAAK0F,YAAYZ,EAASrO,GAAIb,KAAKwvD,WAAWC,eAElD,GACC,CACD/sD,IAAK,gBACLsB,MAAO,SAAuBiG,GAC5B,IAAIiF,EAAWlP,KAAK0a,KAAKxL,SACzB,GAAIjF,EAAQiF,EAASxP,OAEnB,OADA0K,EAAK+E,SAASD,EAASjF,GAAQjK,KAAKwvD,WAAWC,gBACxC,CACLjhD,IAAKU,EAASjF,GACd4Q,IAAK3L,EAASjF,GAAO8gC,wBAG3B,GACC,CACDroC,IAAK,UACLsB,MAAO,WACLhE,KAAKkwD,aAAe,KACpBlwD,KAAKqvD,UAAY,KACjBrvD,KAAK0a,KAAK/L,UAAY,EACxB,GACC,CACDjM,IAAK,QACLsB,MAAO,SAAeitD,GACpB,IAAIlpC,EAAS/nB,KAMb,GALAb,OAAO2C,KAAK9B,KAAKwvD,YAAY/sD,SAAQ,SAASC,QACpB,IAApBuuD,EAAWvuD,KACbqlB,EAAOynC,WAAW9sD,GAAOuuD,EAAWvuD,GAExC,IACIuuD,EAAW5B,UAAW,CAOxB,GANArvD,KAAKqvD,UAA4C,IAAhC4B,EAAW5B,UAAU3vD,OAAe,CAAC,CACpDsrD,QAAS,IACNiG,EAAW5B,UAChBrvD,KAAK8wD,eAAe9wD,KAAKua,UACzBva,KAAK6vD,YAAc,EACnB7vD,KAAK4vD,YAAc,EACf5vD,KAAK0a,KAAM,CACb,IAAIvZ,EAAKnB,KAAK0a,KAAKxL,SACnB,MAAO/N,EAAGzB,OAAS,EACjBM,KAAK0a,KAAK2O,YAAYloB,EAAG,GAE7B,CACAnB,KAAKiB,QACP,CACF,GACC,CACDyB,IAAK,SACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACT6+B,EAAgB7+B,KAAKgV,MAAM6pB,cAI/B,GAHK7+B,KAAK0a,OACR1a,KAAK0a,KAAOtQ,EAAKgE,UAAU,YAAa,GAAI,CAAC,EAAG,kBAE9CpO,KAAKqvD,UAAW,CAClB,IAAI6B,EAAmBlxD,KAAKwvD,WAAYG,EAAYuB,EAAiBvB,UAAWF,EAAiByB,EAAiBzB,eAClHzvD,KAAKkwD,aAAelwD,KAAKqvD,UAAU9+C,KAAI,SAAS3B,GAC9C,IAAIuiD,EAAQ/mD,EAAKgE,UAAU,WAAY,GAAI,CACzC4G,MAAO6pB,EAAgB,cAAcp+B,OAAOo+B,EAAe,YAAYp+B,OAAOmO,EAAKo8C,SAAW,SAASvqD,OAAOmO,EAAKo8C,UAClH,GAAGvqD,OAAOmO,EAAKwiD,QAAU3B,EAAiB,GAAI,6BAA6BhvD,OAAOkvD,IAOrF,OANA3nC,EAAOtN,KAAKC,YAAYw2C,GACxBlC,GAAIxsD,SAAQ,SAAS4uD,GACnBF,EAAMx2C,YAAYvQ,EAAKgE,UAAUijD,EAAMv/B,IAAK,GAAI,CAC9C9c,MAAOq8C,EAAMnC,SAAW,eAAezuD,OAAOunB,EAAOhT,MAAMq8C,EAAMnC,UAAW,cAAgB,YAC3FmC,EAAM3iD,WACX,IACO,CACLmiD,OAAQM,EAAMjiD,SAAS,GACvBmb,OAAQ8mC,EAAMjiD,SAAS,GAE3B,GACF,CACA,OAAOlP,KAAK0a,IACd,KAEK00C,CACT,CA9QgC,GCN5BkC,GAAuB,CACzBC,MAAO,oBACPC,UAAW,yBAETC,GAA2B,SAASh+B,GACtC,EAAUi+B,EAAWj+B,GACrB,IAAI9M,EAAS,EAAa+qC,GAC1B,SAASA,EAAUhmD,GACjB,IAAIkb,EAsMJ,OArMA,EAAgB5mB,KAAM0xD,GACtB9qC,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1B/I,EAAgByC,EAAuBwhB,GAAQ,cAAc,SAASpmB,EAAGqqB,GACvE,IAAIkV,EAAwB36B,EAAuBwhB,GAAQ/L,EAAMklB,EAAsBllB,IAAKpS,EAASs3B,EAAsBt3B,OAAQoB,EAASk2B,EAAsBl2B,OAC9JmN,EAAM6T,EACV,GAAIrqB,EAAG,CACL4J,EAAK6H,MAAMzR,GACX,IAAImxD,EAAQvnD,EAAKqO,YAAYjY,EAAGqJ,EAAO6O,MACnCC,EAAyB,KAArB9O,EAAOi+B,UAAmB6pB,EAAMr/C,QAAUq/C,EAAMt/C,QACxD,GAAIwI,EAAI4qC,QAAU/4C,KAAK6O,IAAIV,EAAIlC,EAAIA,GAAKlQ,EAAOg/C,aAC7C,OAEF5sC,EAAI4qC,QAAS,EACb5qC,EAAIlC,EAAIA,EACR3B,EAAM4P,EAAMgrC,YAAYpxD,EAAGmY,EAC7B,CACAiO,EAAMirC,iBAAiB,WAAY76C,EAAKxW,GACxComB,EAAMkrC,kBAAkB96C,EAC1B,IACArU,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GAChEomB,EAAM/L,IAAIk3C,WAGfnrC,EAAM/L,IAAIk3C,UAAW,EACrBvxD,EAAEi4C,iBACFj4C,EAAEgX,kBACJ,IACA7U,EAAgByC,EAAuBwhB,GAAQ,qBAAqB,SAAS3U,EAAO4Y,GAClFjE,EAAM8gB,OAAOj8B,KAAOof,EAAKjP,YACzBgL,EAAMorC,YAAYnnC,EAAKjP,YAAaiP,EAAKonC,SAAUpnC,EAAKmgC,QAAS,GACjEpkC,EAAMkrC,kBAAkBjnC,EAC1B,IACAloB,EAAgByC,EAAuBwhB,GAAQ,mBAAmB,SAASpmB,EAAGqqB,GAC5E,IAAIqV,EAAyB96B,EAAuBwhB,GAAQ/L,EAAMqlB,EAAuBrlB,IACzFA,EAAI4qC,QAAU7+B,EAAMorC,YAAYnnC,EAAKjP,YAAaiP,EAAKonC,SAAUpnC,EAAKmgC,QAAS,EACjF,IACAroD,EAAgByC,EAAuBwhB,GAAQ,qBAAqB,SAASpmB,EAAGqqB,GAC9E,IAAIq4B,EAAyB99C,EAAuBwhB,GAAQ8gB,EAASwb,EAAuBxb,OAAQ7sB,EAAMqoC,EAAuBroC,IAAKpS,EAASy6C,EAAuBz6C,OAAQoB,EAASq5C,EAAuBr5C,OAC1M69B,EAAOj8B,KAAOof,EAAKjP,YACrBiP,EAAK8+B,SAAU,EAEf9+B,EAAK8+B,SAAU,EAEjBjiB,EAAOj8B,KAAOof,EAAKjP,YACff,EAAIikC,SAAWjkC,EAAI4qC,SACrB5qC,EAAI4qC,QAAS,EACbh9C,EAAOypD,eAAiBroD,EAAO2f,QAC/B5C,EAAMirC,iBAAiB,YAAahnC,EAAMrqB,GAC1ComB,EAAMsJ,eAAe,OAAQ,YAAarF,IAE5CjE,EAAMorC,YAAYnnC,EAAKjP,YAAaiP,EAAKonC,SAAUpnC,EAAKmgC,QAAS,GACjEpkC,EAAMirC,iBAAiB,WAAYhnC,EAAMrqB,GACzComB,EAAMkrC,kBAAkBjnC,EAC1B,IACAloB,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACrE,IAAIgjD,EAAyBp+C,EAAuBwhB,GAAQ8gB,EAAS8b,EAAuB9b,OAAQ79B,EAAS25C,EAAuB35C,OAAQgR,EAAM2oC,EAAuB3oC,IAAKpS,EAAS+6C,EAAuB/6C,OAAQ+mB,EAAeg0B,EAAuBh0B,aACxPmiC,EAAQvnD,EAAKqO,YAAYjY,EAAGqJ,EAAO6O,MACnCC,EAAyB,KAArB9O,EAAOi+B,UAAmB6pB,EAAMr/C,QAAUq/C,EAAMt/C,QACxD,KAAIxI,EAAO22B,QAAU/3B,EAAO0pD,gBAAkB3iC,EAAagN,qBAAuB3yB,EAAO4W,OAAzF,CAGA,GAAK5W,EAAO0Q,UAAa1Q,EAAOuoD,UAAhC,CAIA5xD,EAAEgX,kBACFoP,EAAMoZ,QACN51B,EAAK8L,gBAAgBsZ,EAAa+N,sBAAwB/N,EAAa+N,sBACvEnzB,EAAK8L,gBAAgBzN,EAAO4pD,cAAgB5pD,EAAO4pD,cACnDjoD,EAAK6H,MAAMzR,GACXqa,EAAIlC,EAAIA,EACRkC,EAAIikC,QAAS,EACbjkC,EAAI4qC,QAAS,EACb/d,EAAO4qB,YAAczoD,EAAO+R,YAC5B/R,EAAOm2B,MAAM,CACXC,UAAU,IAEZrZ,EAAM2rC,kBAAmB,EACzBnoD,EAAK+E,SAASyX,EAAM4rC,YAAa,UACjC,IAAIx7C,EAAM4P,EAAMgrC,YAAYpxD,EAAGmY,GAC/B3B,EAAIs7C,YAAc5qB,EAAO4qB,YACzB1rC,EAAM6rC,sBAAsBjyD,EAAGwW,GAC/B,IAAI+c,EAAYvzB,EAAEgK,KASlB,MARkB,eAAdupB,GACFnN,EAAMlM,KAAK6N,iBAAiB,YAAa3B,EAAM8rC,aAC/C9rC,EAAMlM,KAAK6N,iBAAiB,WAAY3B,EAAM+rC,aAE9C/rC,EAAMia,OAAO,YAAaja,EAAMgsC,YAChCnlD,SAAS8a,iBAAiB,YAAa3B,EAAM8rC,aAAa,GAC1DjlD,SAAS8a,iBAAiB,UAAW3B,EAAM+rC,WAAW,KAEjD,CA3BP,CAFE9oD,EAAO+f,MAFT,CAgCF,IACAjnB,EAAgByC,EAAuBwhB,GAAQ,aAAa,SAASpmB,GACnE,IAAIqyD,EAAyBztD,EAAuBwhB,GAAQ/c,EAASgpD,EAAuBhpD,OAAQpB,EAASoqD,EAAuBpqD,OAAQoS,EAAMg4C,EAAuBh4C,IAAK2U,EAAeqjC,EAAuBrjC,aAAckY,EAASmrB,EAAuBnrB,OAClQlnC,EAAEgX,kBACFhX,EAAEi4C,iBACFruC,EAAK8L,gBAAgBsZ,EAAagO,qBAAuBhO,EAAagO,qBACtEpzB,EAAK8L,gBAAgBzN,EAAOqqD,YAAcrqD,EAAOqqD,YACjD1oD,EAAK6H,MAAMzR,GACX4J,EAAK0F,YAAY8W,EAAM4rC,YAAa,UACpC,IAAIx7C,EAAM4P,EAAMgrC,YAAYpxD,EAAGqa,EAAIlC,GACnC3B,EAAIs7C,YAAc5qB,EAAO4qB,YACrBz3C,EAAI4qC,QACN7+B,EAAMirC,iBAAiB,UAAW76C,EAAKxW,GACvComB,EAAMsJ,eAAe,OAAQ,UAAWlZ,KAExC4P,EAAMirC,iBAAiB,QAAS76C,EAAKxW,GACrComB,EAAMsJ,eAAe,QAAS,QAASlZ,IAEzC4P,EAAMmsC,oBAAoBvyD,EAAGwW,GAC7B6D,EAAI4qC,QAAS,EACb5qC,EAAIikC,QAAS,EACbjkC,EAAIlC,EAAI,EACRkC,EAAIjC,EAAI,EACRiC,EAAIk3C,UAAW,EACfrqB,EAAO4qB,YAAc,EACrB5qB,EAAOj8B,KAAO,EACd,IAAIsoB,EAAYvzB,EAAEgK,KACA,aAAdupB,GACFnN,EAAMlM,KAAK+N,oBAAoB,YAAa7B,EAAM8rC,aAClD9rC,EAAMlM,KAAK+N,oBAAoB,WAAY7B,EAAM+rC,WACjD/rC,EAAM+Z,SAENlzB,SAASgb,oBAAoB,YAAa7B,EAAM8rC,aAAa,GAC7DjlD,SAASgb,oBAAoB,UAAW7B,EAAM+rC,WAAW,GACpD93C,EAAIm4C,QAG+B,WAAtCxjC,EAAa8M,sBAAqC1V,EAAMvnB,KAAK,YAAaunB,EAAMgsC,YAFhFhsC,EAAM8Z,aAAalgC,IAKvB4J,EAAK4B,WAAW5G,EAAuBwhB,IAAQ,WAC7CA,EAAMqhC,gBACR,GAAG,IACHp+C,EAAOm2B,OACT,IACAr9B,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACrE,IAAIyyD,EAAyB7tD,EAAuBwhB,GAAQ8gB,EAASurB,EAAuBvrB,OAAQ7sB,EAAMo4C,EAAuBp4C,IAAKhR,EAASopD,EAAuBppD,OAAQpB,EAASwqD,EAAuBxqD,OAC1M2B,EAAK0N,qBACPtX,EAAEi4C,iBAEJruC,EAAK6H,MAAMzR,GACX,IAAImxD,EAAQvnD,EAAKqO,YAAYjY,EAAGqJ,EAAO6O,MACnCC,EAAyB,KAArB9O,EAAOi+B,UAAmB6pB,EAAMr/C,QAAUq/C,EAAMt/C,QACpD+F,EAAO1L,KAAK6O,IAAIV,EAAIlC,EAAIA,GAC5B,KAAIkC,EAAI4qC,QAAUrtC,EAAO3P,EAAOg/C,eAAiB5sC,EAAI4qC,QAAUrtC,EAAO3P,EAAOyqD,eAA7E,CAGAr4C,EAAIlC,EAAIA,EACR,IAAI3B,EAAM4P,EAAMgrC,YAAYpxD,EAAGmY,GAC/B3B,EAAIs7C,YAAc5qB,EAAO4qB,YACzB1rC,EAAMusC,sBAAsB3yD,EAAGwW,EAJ/B,CAKF,IACArU,EAAgByC,EAAuBwhB,GAAQ,cAAc,SAASpmB,GACpEomB,EAAMirC,iBAAiB,WAAY,KAAMrxD,EAC3C,IACAmC,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACrEomB,EAAMirC,iBAAiB,YAAa,KAAMrxD,EAC5C,IACAmC,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE,IAAI4yD,EAAyBhuD,EAAuBwhB,GAAQ/c,EAASupD,EAAuBvpD,OAAQgR,EAAMu4C,EAAuBv4C,IACjI,KAAIA,EAAIikC,QAAUjkC,EAAIm4C,SAAWnpD,EAAO22B,SAAW32B,EAAOpB,OAAO+zB,qBAAuB3yB,EAAO4W,OAA/F,CAGA5F,EAAIm4C,SAAU,EACdpsC,EAAMvnB,KAAK,YAAaunB,EAAMgsC,YAC9BhsC,EAAMvnB,KAAK,aAAcunB,EAAM8Z,cAC/Bt2B,EAAK6H,MAAMzR,GACX,IAAImxD,EAAQvnD,EAAKqO,YAAYjY,EAAGqJ,EAAO6O,MACnCC,EAAyB,KAArB9O,EAAOi+B,UAAmB6pB,EAAMr/C,QAAUq/C,EAAMt/C,QACpD2E,EAAM4P,EAAMgrC,YAAYpxD,EAAGmY,GAC/BiO,EAAMirC,iBAAiB,aAAc76C,EAAKxW,GAC1ComB,EAAMoZ,OATN,CAUF,IACAr9B,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtEomB,EAAMirC,iBAAiB,aAAc,KAAMrxD,GAC3ComB,EAAMysC,SACNzsC,EAAMkrC,kBAAkB,KAC1B,IACAnvD,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,WAC9D,IAAI0sC,EAAY1sC,EAAM/L,IAAKlC,EAAI26C,EAAU36C,EAAGmmC,EAASwU,EAAUxU,OAAQkU,EAAUM,EAAUN,QAC3F,GAAIA,IAAYlU,EAAQ,CACtB,IAAI9nC,EAAM4P,EAAMgrC,YAAY,KAAMj5C,GAClCiO,EAAMgsC,WAAW,KAAM57C,EACzB,CACF,IACA4P,EAAM2sC,SAAU,EAChB3sC,EAAM2rC,kBAAmB,EACzB3rC,EAAM4sC,gBAAkB,GACxB5sC,EAAM8gB,OAAS,CACb56B,KAAM,EACN2mD,MAAO,EACPhoD,KAAM,EACN6mD,aAAc,GAEhB1rC,EAAM8sC,cAAe,EACd9sC,CACT,CAwdA,OAvdA,EAAa8qC,EAAW,CAAC,CACvBhvD,IAAK,iBACLsD,IAAK,WACH,OAAOhG,KAAKwvB,aAAa+O,gBAAkBv+B,KAAK6J,OAAOykD,gBAAkBtuD,KAAK6J,OAAO0Q,QACvF,GACC,CACD7X,IAAK,WACLsD,IAAK,WACH,OAAOhG,KAAKwvB,aAAa+O,gBAAkBv+B,KAAK6J,OAAO0Q,QACzD,GACC,CACD7X,IAAK,aACLsD,IAAK,WACH,OAAOhG,KAAKwvB,aAAagP,YAAc,CACzC,GACC,CACD97B,IAAK,cACLsD,IAAK,WACH,IAAI8pB,EAAe9vB,KAAK6J,OAAQwkD,EAAoBv+B,EAAau+B,kBAAmBzyC,EAAckU,EAAalU,YAC/G,OAAOyyC,GAAqB,EAAIA,EAAoBzyC,EAAc5b,KAAKw+B,UACzE,GACC,CACD97B,IAAK,cACLsB,MAAO,WACL,IAAIuvD,IAAU9zD,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GAC1EO,KAAKuzD,QAAUA,CACjB,GACC,CACD7wD,IAAK,OACLsB,MAAO,WACLhE,KAAK0a,OAAS1a,KAAK0a,KAAK1F,MAAMqB,QAAU,OAC1C,GACC,CACD3T,IAAK,aACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACTqvD,EAAY5vD,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC7EgJ,EAAShJ,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC1E4vD,GAAkC,IAArBA,EAAU3vD,SAC1B2vD,EAAY,CAAC,CACXrE,QAAS,KAGb,IAAI7pD,EAAKmB,EAAeA,EAAe,CACrC+sD,aACC5mD,GAAS,CAAC,EAAG,CACd8mD,eAAgB,SAAwB1kC,GACtC9C,EAAOmI,eAAe,iBAAkB,iBAAkBrF,EAC5D,IAEG7qB,KAAK2zD,UAOR3zD,KAAK2zD,UAAUC,MAAMzyD,IANrBnB,KAAK2zD,UAAY,IAAIxE,GAAUhuD,GAC/BnB,KAAK6zD,MAAM1+B,aAAan1B,KAAK2zD,UAAU1yD,SAAUjB,KAAK6zD,MAAM3kD,SAAS,IACrE,CAAC,iBAAkB,eAAgB,gBAAiB,gBAAgBqB,KAAI,SAAS3B,GAC/EmZ,EAAOnZ,GAAQmZ,EAAO4rC,UAAU/kD,GAAMvP,KAAK0oB,EAAO4rC,UACpD,IAIJ,GACC,CACDjxD,IAAK,oBACLsB,MAAO,SAA2B6mB,GAChC7qB,KAAK2zD,WAAa3zD,KAAK2zD,UAAUG,YAAYjpC,EAC/C,GACC,CACDnoB,IAAK,cACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACb,IAAIA,KAAKyI,OAAO8vB,UAAWv4B,KAAKwvB,aAAa2M,OAA7C,CAGAn8B,KAAK6a,IAAM,CACTlC,EAAG,EACHC,EAAG,EACH6sC,QAAQ,EACR3G,QAAQ,EACRkU,SAAS,EACTjB,UAAU,GAEZ/xD,KAAK6zD,MAAQ7zD,KAAK20B,KAAK,YACvB,IAAIwL,EAAengC,KAAKyI,OAAQgnD,EAAiBtvB,EAAasvB,eAAgBC,EAAgBvvB,EAAauvB,cAAeC,EAAYxvB,EAAawvB,UACnJ3vD,KAAK+zD,WAAW/zD,KAAKyI,OAAO4mD,UAAW,CACrCI,iBACAC,gBACAC,YACA36C,MAAOhV,KAAKwvB,aAAaoP,aAAe,CAAC,IAEpB,WAAnBtiB,EAAQC,SACVvc,KAAKyI,OAAOurD,eAAgB,EAC5Bh0D,KAAKi0D,UAAW,GAElBj0D,KAAKwyD,YAAcxyD,KAAK20B,KAAK,0BAC7B30B,KAAKsoB,GAAGtG,IAAiB,WACvBgG,EAAO0Y,cACT,IACA1gC,KAAKsoB,GAAG1G,IAAa,WACnBoG,EAAOksC,cACT,IACAl0D,KAAKsoB,GAAG3G,IAAQ,WACdqG,EAAOksC,eACPlsC,EAAOmsC,eACT,IACAn0D,KAAKsoB,GAAGjG,IAAU,WAChB2F,EAAOmsC,eACT,IACAn0D,KAAKsoB,GAAG/G,IAAO,WACbyG,EAAOmsC,eAAc,GACrBnsC,EAAOksC,cAAa,GACpBlsC,EAAO0f,OAAO56B,IAAM,CACtB,IACA9M,KAAKsoB,GAAG/F,IAAS,WACfyF,EAAOosC,SACT,IACAp0D,KAAKsoB,GAAGvE,IAAc,WACpBiE,EAAOqsC,eACT,IACAr0D,KAAKs0D,gBACLt0D,KAAK0oD,iBA/CL,CAgDF,GACC,CACDhmD,IAAK,YACLsB,MAAO,SAAmByE,GACxB,IAAIwf,EAASjoB,KACTu0D,EAAQ,KACZp1D,OAAO2C,KAAK2G,GAAQhG,SAAQ,SAASC,GACnCulB,EAAOxf,OAAO/F,GAAO+F,EAAO/F,GAChB,cAARA,IACF6xD,EAAQ9rD,EAAO/F,GAEnB,IACI6xD,GACFv0D,KAAK+zD,WAAWQ,EAAO9rD,EAE3B,GACC,CACD/F,IAAK,kBACLsB,MAAO,WACL,IAAI6sC,EAAO7wC,KAAKwvB,cAAgB,CAAC,EAAGoP,EAAciS,EAAKjS,YACnDI,EAAiBJ,EAAYI,eAC7BwzB,EAAcxyD,KAAKwyD,YACnBxzB,IAC4B,kBAAnBA,EACTwzB,EAAYx9C,MAAMw/C,UAAYx1B,EACO,WAA5Bj8B,EAAQi8B,IACjB7/B,OAAO2C,KAAKk9B,GAAgBzuB,KAAI,SAAS7N,GACvC8vD,EAAYx9C,MAAMtS,GAAOs8B,EAAet8B,EAC1C,IAGN,GACC,CACDA,IAAK,mBACLsB,MAAO,SAA0BwG,EAAMqgB,EAAM5Y,GACvCjS,KAAKwzD,gBAAgB9zD,OAAS,GAChCM,KAAKwzD,gBAAgBjjD,KAAI,SAAS3B,GAChC,GAAIA,GAAQA,EAAKye,SAAWze,EAAKpE,OAASA,EACxC,IACEoE,EAAKye,QAAQxC,EAAM5Y,EACrB,CAAE,MAAO5J,GACPY,QAAQZ,MAAM,gCAAgC5H,OAAOmO,EAAM,UAAWvG,EACxE,CAEJ,GAEJ,GACC,CACD3F,IAAK,cACLsB,MAAO,SAAqBwG,EAAM8/B,GAC5BA,GAA4B,oBAAXA,GACnBtqC,KAAKwzD,gBAAgBnxD,KAAK,CACxBmI,OACA6iB,QAASid,GAGf,GACC,CACD5nC,IAAK,iBACLsB,MAAO,SAAwBwG,EAAMyH,GACnC,IAAIuhD,EAAkBxzD,KAAKwzD,gBACvB93C,GAAU,EACd83C,EAAgBjjD,KAAI,SAAS3B,EAAM3E,GAC7B2E,GAAQA,EAAKpE,OAASA,GAAQoE,EAAKye,UAAYpb,IACjDyJ,EAASzR,EAEb,IACIyR,GAAU,GACZ83C,EAAgBl/C,OAAOoH,EAAQ,EAEnC,GACC,CACDhZ,IAAK,SACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OAAQgR,EAAM7a,KAAK6a,IACrCA,EAAIm4C,SAAU,EACVnpD,EAAO22B,SAGXxgC,KAAK6gC,OAAO,YAAa7gC,KAAK4yD,YAC1B/3C,EAAIikC,OACN9+C,KAAK6gC,OAAO,aAAc7gC,KAAK0gC,cAGjC1gC,KAAK2gC,OACP,GACC,CACDj+B,IAAK,gBACLsB,MAAO,WACL,IAAIggD,EAAgBhkD,KAAK6J,OAAQkd,EAAWi9B,EAAcj9B,SAAUte,EAASu7C,EAAcv7C,OAC3FzI,KAAKyyD,sBAAwBzyD,KAAKytB,KAAK,YAAaztB,KAAKy0D,mBACzDz0D,KAAK+yD,oBAAsB/yD,KAAKytB,KAAK,UAAWztB,KAAK00D,iBACrD10D,KAAKmzD,sBAAwBnzD,KAAKytB,KAAK,OAAQztB,KAAK20D,mBAC1B,UAAtB30D,KAAK4vB,cAAkD,eAAtB5vB,KAAK4vB,eACxC5vB,KAAK0a,KAAK6N,iBAAiB,aAAcvoB,KAAK40D,aAC1C7tC,IACFA,EAASrM,MAAQqM,EAASrM,KAAK6N,iBAAiB,YAAane,EAAKoN,iBAClEuP,EAASsZ,QAAUtZ,EAASsZ,OAAO9X,iBAAiB,WAAYne,EAAKoN,mBAG/C,UAAtBxX,KAAK4vB,cAAkD,eAAtB5vB,KAAK4vB,eACxC5vB,KAAKX,KAAK,YAAaW,KAAK40D,aACI,WAAhCnsD,EAAO6zB,sBAAqCt8B,KAAKX,KAAK,aAAcW,KAAKygC,cACzEzgC,KAAKX,KAAK,YAAaW,KAAK60D,aAC5B70D,KAAKX,KAAK,WAAYW,KAAK80D,YAC3B90D,KAAK6J,OAAO6Q,KAAK6N,iBAAiB,QAASvoB,KAAK+0D,aAAa,GAEjE,GACC,CACDryD,IAAK,QACLsB,MAAO,WACLhE,KAAK6J,OAAOkd,SAASiuC,gBACrB5qD,EAAK+E,SAASnP,KAAK0a,KAAM,SAC3B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACDhE,KAAK0zD,eAGT1zD,KAAK6J,OAAOkd,SAASkuC,kBACrB7qD,EAAK0F,YAAY9P,KAAK0a,KAAM,UAC9B,GACC,CACDhY,IAAK,cACLsB,MAAO,WACLhE,KAAK0zD,cAAe,CACtB,GACC,CACDhxD,IAAK,aACLsB,MAAO,WACLhE,KAAK0zD,cAAe,CACtB,GACC,CACDhxD,IAAK,cACLsB,MAAO,SAAqB4X,EAAaq2C,EAAUjH,EAASxgD,GAC1D,IAAI/B,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,OACxC,IAAIpB,EAAOysD,kBAA6B,IAAT1qD,EAA/B,CAGA,IAAI2qD,EAAWlD,EAAWA,GAAYpoD,EAAO0Q,SAAW1Q,EAAO0Q,SAAW9R,EAAO2sD,UAAYvtD,OAAOoqD,GAAUvH,QAAQ,GACtH1qD,KAAKirD,cAAcD,GACnBhrD,KAAKqqD,WAAWzuC,IACH,IAATpR,GAAgB/B,EAAOurD,eAA6C,UAA5BnqD,EAAOpB,OAAO6e,aAG1DtnB,KAAK0nC,OAAO56B,IAAMqoD,EAClBn1D,KAAK0nC,OAAO+rB,MAAQ0B,EAAWtrD,EAAO+R,YAAc,EAAI,EACxD/R,EAAO4gD,KAAK0K,GATZ,CAUF,GACC,CACDzyD,IAAK,cACLsB,MAAO,SAAqBxD,EAAGmY,GAC7B,IAEIg5B,EAAQ0jB,EAFRxrD,EAAS7J,KAAK6J,OACdihC,EAAwB9qC,KAAK0a,KAAKqwB,wBAAyBp2B,EAAQm2B,EAAsBn2B,MAAOC,EAASk2B,EAAsBl2B,OAAQuyB,EAAM2D,EAAsB3D,IAAK/G,EAAO0K,EAAsB1K,KAErM/tB,EAAUsG,EACW,KAArB9O,EAAOi+B,WACT6J,EAAS/8B,EACTygD,EAAQluB,IAERwK,EAASh9B,EACT0gD,EAAQj1B,GAEV,IAAIrkB,EAAS1J,EAAUgjD,EACvBt5C,EAASA,EAAS41B,EAASA,EAAS51B,EAAS,EAAI,EAAIA,EACrD,IAAIivC,EAAUjvC,EAAS41B,EACvBqZ,EAAUA,EAAU,EAAI,EAAIA,EAAU,EAAI,EAAIA,EAC9C,IAAIpvC,EAAchG,SAASo1C,EAAUhrD,KAAKsuD,eAAiB,IAAK,IAAM,IAClE2D,EAAW7nD,EAAK4R,uBAAuBJ,EAAa/R,EAAOm+B,cAC/D,MAAO,CACLgjB,UACApvC,cACAq2C,WACAl2C,SACApH,MAAOg9B,EACPvR,KAAMi1B,EACN70D,IAEJ,GACC,CACDkC,IAAK,aACLsB,MAAO,SAAoByH,GACzB,IAAI5B,EAAS7J,KAAK6J,OAAQ0Q,EAAWva,KAAKua,SACtC9O,EAAO8O,EACT9O,EAAO8O,EACE9O,EAAO,IAChBA,EAAO,GAET,IAAI6pD,EAAWzrD,EAAO0kB,QAAQ9iB,KAC1B6pD,GACFA,EAASjL,WAAW5+C,EAExB,GACC,CACD/I,IAAK,iBACLsB,MAAO,WACLhE,KAAKuyD,kBAAmB,EACxB,IAAI+C,EAAWt1D,KAAK6J,OAAO0kB,QAAQ9iB,KACnC6pD,GAAYA,EAASC,aACvB,GACC,CACD7yD,IAAK,gBACLsB,MAAO,SAAuBgnD,EAASwK,GAErC,GADAx1D,KAAKuyD,kBAAmB,GACpBvyD,KAAKyI,OAAO8vB,QAAhB,CAGAyyB,EAAUA,EAAU,EAAI,EAAIA,EAAU,EAAI,EAAIA,EAC9ChrD,KAAKwyD,YAAYx9C,MAAMorB,KAAO,GAAG3/B,OAAiB,IAAVuqD,EAAe,KACvDhrD,KAAK2zD,UAAUlf,OAAO,CACpBpqB,OAAQ2gC,EAAUhrD,KAAKsuD,gBACtBtuD,KAAKsuD,gBACR,IAAIhxB,EAAet9B,KAAK6J,OAAO0kB,QAAQ+O,aACvCA,GAAgBA,EAAamX,OAAO,CAClCpqB,OAAQ2gC,EAAUhrD,KAAKsuD,gBACtBtuD,KAAKsuD,eATR,CAUF,GACC,CACD5rD,IAAK,eACLsB,MAAO,SAAsBwW,GAC3B,IAAI3Q,EAAS7J,KAAK6J,OAAQ69B,EAAS1nC,KAAK0nC,OAAQ4mB,EAAiBtuD,KAAKsuD,eACtE,KAAIzkD,EAAO+9B,WAAa/9B,EAAO2W,MAAMgK,SAAWxqB,KAAKuyD,mBAAqB1oD,EAAOqgC,SAAjF,CAGA,GAAIxC,EAAO56B,KAAO,EAAG,CACnB,IAAIyO,EAAM3F,SAAsB,IAAb8xB,EAAO56B,IAAW,IAAM8I,SAA8B,IAArB/L,EAAO+R,YAAmB,IAC9E,GAAqB,IAAjB8rB,EAAO+rB,OAAel4C,EAAM,KAAwB,IAAjBmsB,EAAO+rB,OAAel4C,GAAO,IAElE,YADAmsB,EAAO56B,KAAO,GAGd46B,EAAO56B,KAAO,CAElB,CACA,IAAIrB,EAAOzL,KAAK4b,YAChBnQ,EAAOrB,EAAKkQ,qBAAqB7O,EAAM6iD,EAAgB9zC,GACvDxa,KAAK2zD,UAAUlf,OAAO,CACpBpqB,OAAQ5e,GACP6iD,GACHtuD,KAAKwyD,YAAYx9C,MAAMorB,KAAO,GAAG3/B,OAAOgL,EAAO6iD,EAAiB,IAAK,KACrE,IAAIhxB,EAAet9B,KAAK6J,OAAO0kB,QAAQ+O,aACvCA,GAAgBA,EAAamX,OAAO,CAClCpqB,OAAQ5e,GACP6iD,EAnBH,CAoBF,GACC,CACD5rD,IAAK,gBACLsB,MAAO,SAAuBwW,GAC5B,IAAI3Q,EAAS7J,KAAK6J,OAAQ0Q,EAAWva,KAAKua,SAC1C,GAAK1Q,EAAL,CAGA,IAAI4rD,EAAO5rD,EAAO6rD,cAAcvrD,IAChCsrD,EAAOrrD,EAAKkQ,qBAAqBm7C,EAAMl7C,EAAUC,GACjDxa,KAAK2zD,UAAUlf,OAAO,CACpBoc,OAAQ4E,GACPl7C,GACH,IAAI+iB,EAAet9B,KAAK6J,OAAO0kB,QAAQ+O,aACvCA,GAAgBA,EAAamX,OAAO,CAClCoc,OAAQ4E,GACPl7C,EATH,CAUF,GACC,CACD7X,IAAK,UACLsB,MAAO,WACLhE,KAAK2zD,UAAUlf,OAAO,CACpBpqB,OAAQ,EACRwmC,OAAQ,GACP,GACH7wD,KAAKwyD,YAAYx9C,MAAMorB,KAAO,KAC9B,IAAI9C,EAAet9B,KAAK6J,OAAO0kB,QAAQ+O,aACvCA,GAAgBA,EAAamX,OAAO,CAClCoc,OAAQ,EACRxmC,OAAQ,GACP,GACHrqB,KAAKwyD,YAAYx9C,MAAMorB,KAAO,IAChC,GACC,CACD19B,IAAK,UACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OACdkd,EAAWld,EAAOkd,SACtB/mB,KAAK21D,gBAAkB,KACvB31D,KAAK2zD,UAAUrjC,UACftwB,KAAK2zD,UAAY,KACjB,IAAI/jC,EAAe5vB,KAAK4vB,aACH,UAAjBA,GAA6C,eAAjBA,IAC9B5vB,KAAK0a,KAAK+N,oBAAoB,aAAczoB,KAAK40D,aACjD50D,KAAK0a,KAAK+N,oBAAoB,YAAazoB,KAAK0yD,aAChD1yD,KAAK0a,KAAK+N,oBAAoB,WAAYzoB,KAAK2yD,WAC3C5rC,IACFA,EAASrM,MAAQqM,EAASrM,KAAK+N,oBAAoB,YAAare,EAAKoN,iBACrEuP,EAASsZ,QAAUtZ,EAASsZ,OAAO5X,oBAAoB,WAAYre,EAAKoN,mBAGvD,UAAjBoY,GAA6C,eAAjBA,IAC9B5vB,KAAK6gC,OAAO,YAAa7gC,KAAK40D,aAC9B50D,KAAK6gC,OAAO,aAAc7gC,KAAKygC,cAC/BzgC,KAAK6gC,OAAO,YAAa7gC,KAAK4yD,YAC9B5yD,KAAK6gC,OAAO,aAAc7gC,KAAK0gC,cAC/BjzB,SAASgb,oBAAoB,YAAazoB,KAAK0yD,aAAa,GAC5DjlD,SAASgb,oBAAoB,UAAWzoB,KAAK2yD,WAAW,GACxD9oD,EAAO6Q,KAAK+N,oBAAoB,QAASzoB,KAAK+0D,aAAa,GAE/D,GACC,CACDryD,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,UAAWv4B,KAAKwvB,aAAa2M,OAA7C,CAGA,IAAIy5B,EAAe51D,KAAK6J,OAAOkd,SAAW/mB,KAAK6J,OAAOkd,SAASte,OAAOwsB,KAAO,GACzEvmB,EAA6B,WAAjBknD,EAA4B,2BAA6B,GACzE,MAAO,+CAA+Cn1D,OAAOiO,EAAW,+KAHxE,CAIF,IACE,CAAC,CACHhM,IAAK,aACLsD,IAAK,WACH,MAAO,UACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUO,gBACpBlnB,MAAO,EACPsuB,SAAS,EACTy7B,eAAe,EACf7B,eAAe,EACfD,eAAe,EACfgD,kBAAkB,EAClB7F,UAAW,CAAC,CACVrE,QAAS,IAEXyE,eAAgB6B,GAAqBC,MACrC5B,UAAW,GACXD,eAAe,EACfjI,aAAc,EACdyL,cAAe,EACfb,YAAa,WACb,EACAS,UAAW,WACX,EACAsC,UAAW,GAEf,GACC,CACD1yD,IAAK,uBACLsD,IAAK,WACH,OAAOsrD,EACT,KAEKI,CACT,CApqB+B,CAoqB7Bn/B,IC3qBEsjC,GAAuB,SAASpiC,GAClC,EAAUqiC,EAAOriC,GACjB,IAAI9M,EAAS,EAAamvC,GAC1B,SAASA,IACP,IAAIlvC,EACJ,EAAgB5mB,KAAM81D,GACtB,IAAK,IAAIhtD,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAazB,OAXA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,SAASpmB,GACvEomB,EAAMzB,KAAK,kBAAmB,CAC5B4I,WAAYnH,EAAMmH,YAEtB,IACAprB,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,SAASpmB,GACvEomB,EAAMzB,KAAK,kBAAmB,CAC5B4I,WAAYnH,EAAMmH,YAEtB,IACOnH,CACT,CAcA,OAbA,EAAakvC,EAAO,CAAC,CACnBpzD,IAAK,cACLsB,MAAO,WACLhE,KAAKX,KAAK,aAAcW,KAAK+1D,eAC7B/1D,KAAKX,KAAK,aAAcW,KAAKg2D,cAC/B,GACC,CACDtzD,IAAK,UACLsB,MAAO,WACLhE,KAAK6gC,OAAO,aAAc7gC,KAAK+1D,eAC/B/1D,KAAK6gC,OAAO,aAAc7gC,KAAKg2D,cACjC,KAEKF,CACT,CApC2B,CAoCzBvjC,IC/BE0jC,GAAuB,SAASC,GAClC,EAAUC,EAAOD,GACjB,IAAIvvC,EAAS,EAAawvC,GAC1B,SAASA,IAEP,OADA,EAAgBn2D,KAAMm2D,GACfxvC,EAAO5mB,MAAMC,KAAMP,UAC5B,CA6GA,OA5GA,EAAa02D,EAAO,CAAC,CACnBzzD,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACZ+F,EAAK1B,EAAgB8xD,EAAMv2D,WAAY,cAAeI,MAAMF,KAAKE,MACjE,IAAI6J,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACpCA,EAAO8vB,UAGXv4B,KAAK65C,YACL75C,KAAKo2D,SAAWp2D,KAAKo2D,SAAS/2D,KAAKW,MACnCA,KAAKX,KAAK,CAAC,WAAY,SAAUW,KAAKo2D,UACtCp2D,KAAKsoB,GAAG,CAAC9G,GAAOC,GAAOc,KAAU,WAC/BqE,EAAMi0B,QAAQhxC,EAAO6b,OACvB,IACA1lB,KAAKsoB,GAAGjH,IAAM,WACZuF,EAAMi0B,QAAQhxC,EAAO6b,OACvB,IACA1lB,KAAK66C,SAAQ,GACf,GACC,CACDn4C,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL4lB,KAAM,CACJ0H,KAAM6nB,GACN5nB,MAAO,gBAET/H,MAAO,CACL8H,KAAM8nB,GACN7nB,MAAO,iBAGb,GACC,CACD7uB,IAAK,WACLsB,MAAO,SAAkBxD,GACvBA,EAAEi4C,iBACFj4C,EAAEgX,kBACF,IAAI3N,EAAS7J,KAAK6J,OAelB,OAdA7J,KAAKkwB,eAAe1vB,EAAG,oBAAqB,CAC1CgmC,KAAM,SACN3/B,KAAMgD,EAAO6b,OACb+gB,IAAK58B,EAAO6b,SAEV7b,EAAO4W,MACT5W,EAAO0uC,SACE1uC,EAAO6b,QAChB7b,EAAO+f,OACP5pB,KAAK66C,SAAQ,KAEbhxC,EAAO2f,QACPxpB,KAAK66C,SAAQ,KAER,CACT,GACC,CACDn4C,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACjBlyB,KAAK2a,YAAY,iBAAkBuX,EAAMtI,MACzC5pB,KAAK2a,YAAY,iBAAkBuX,EAAM1I,MAC3C,GACC,CACD9mB,IAAK,UACLsB,MAAO,SAAiB0hB,GACtB,GAAK1lB,KAAK6J,OAAV,CAGA,IAAI8lB,EAAW3vB,KAAK2vB,SAChB0mC,EAASr2D,KAAK20B,KAAK,YACnBjP,GACF1lB,KAAKqzB,QAAQ,aAAc,SAC3BgjC,GAAUr2D,KAAKs2D,kBAAkBD,EAAQ1mC,EAAS2S,aAElDtiC,KAAKqzB,QAAQ,aAAc,QAC3BgjC,GAAUr2D,KAAKs2D,kBAAkBD,EAAQ1mC,EAAS4S,YARpD,CAUF,GACC,CACD7/B,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgB8xD,EAAMv2D,WAAY,UAAWI,MAAMF,KAAKE,MAC7DA,KAAK6gC,OAAO,CAAC,WAAY,SAAU7gC,KAAKo2D,SAC1C,GACC,CACD1zD,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAGhB,MAAO,qFAAqF93B,OAAO26C,GAAWp7C,KAAM,YAAaA,KAAKwvB,aAAakP,YAAa,mBAClK,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,MACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUI,cACpB/mB,MAAO,EACPsuB,SAAS,EAEb,KAEK49B,CACT,CApH2B,CAoHzBN,IC7HF,SAASU,KACP,OAAO,IAAIpe,WAAYC,gBAAgB,0tBAA2tB,iBAAiB9M,UACrxB,CCGA,IAAIkrB,GAA8B,SAAS/iC,GACzC,EAAUgjC,EAAchjC,GACxB,IAAI9M,EAAS,EAAa8vC,GAC1B,SAASA,IAEP,OADA,EAAgBz2D,KAAMy2D,GACf9vC,EAAO5mB,MAAMC,KAAMP,UAC5B,CA0DA,OAzDA,EAAag3D,EAAc,CAAC,CAC1B/zD,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACZA,KAAK65C,YACL75C,KAAK27C,QAAU,SAASn7C,GACtBA,EAAEi4C,iBACFj4C,EAAEgX,kBACFoP,EAAMne,OAAOkzC,QAAQn7C,EACvB,EACAR,KAAKX,KAAK,CAAC,QAAS,YAAaW,KAAK27C,QACxC,GACC,CACDj5C,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL0yD,WAAY,CACVplC,KAAMilC,GACNhlC,MAAO,sBAGb,GACC,CACD7uB,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACjBlyB,KAAK2a,YAAY3a,KAAK0a,KAAMwX,EAAMwkC,WACpC,GACC,CACDh0D,IAAK,OACLsB,MAAO,WACLoG,EAAK+E,SAASnP,KAAK0a,KAAM,OAC3B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,OAC9B,GACC,CACDhY,IAAK,SACLsB,MAAO,WACL,MAAO,iDACT,IACE,CAAC,CACHtB,IAAK,aACLsD,IAAK,WACH,MAAO,aACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUG,SACpB9mB,MAAO,EAEX,KAEKwsD,CACT,CAjEkC,CAiEhClkC,ICtEF,SAASokC,KACP,OAAO,IAAIxe,WAAYC,gBAAgB,kTAAmT,iBAAiB9M,UAC7W,CCFA,SAASsrB,KACP,OAAO,IAAIze,WAAYC,gBAAgB,kTAAmT,iBAAiB9M,UAC7W,CCSA,IAAIurB,GAA6B,SAASX,GACxC,EAAUY,EAAaZ,GACvB,IAAIvvC,EAAS,EAAamwC,GAC1B,SAASA,IACP,IAAIlwC,EACJ,EAAgB5mB,KAAM82D,GACtB,IAAK,IAAIhuD,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAYzB,OAVA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,wBAAwB,SAASpmB,GAC1EomB,EAAM/c,OAAO+8B,YAAchgB,EAAMne,OAAOsuD,mBACf,KAAvB/uD,OAAOuoC,cAA8C,KAAxBvoC,OAAOuoC,YACtC3pB,EAAM/c,OAAOsmC,aAAa,GAE1BvpB,EAAM/c,OAAOsmC,aAAa,IAGhC,IACOvpB,CACT,CAwKA,OAvKA,EAAakwC,EAAa,CAAC,CACzBp0D,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACb+F,EAAK1B,EAAgByyD,EAAYl3D,WAAY,cAAeI,MAAMF,KAAKE,MACvE,IAAIyI,EAASzI,KAAKyI,OAAQ+mB,EAAexvB,KAAKwvB,aAC9C,IAAI/mB,EAAO8vB,QAAX,CAGI9vB,EAAOlG,SACTvC,KAAKwvB,aAAasO,iBAAmB99B,KAAKyI,OAAOlG,QAEnD,IAAI+jC,EAASl8B,EAAKyL,kBACd2Z,EAAasO,mBAAqBwI,GACpCtmC,KAAK6J,OAAO45C,gBAAgBt1B,OAAM,SAAS3tB,GAC3C,IAEFR,KAAK65C,YACL75C,KAAKg3D,iBAAmBh3D,KAAKytB,KAAK,mBAAoBztB,KAAKi3D,iBAAkB,CAC3ErpC,IAAK,SAAaptB,GAChB,IAAIomC,EAAa7e,EAAOle,OAAO+8B,WAC/B7e,EAAOmI,eAAe1vB,EAAG,oBAAqB,CAC5CgmC,KAAM,aACN3/B,KAAM+/B,EACNH,IAAKG,GAET,IAEF5mC,KAAKX,KAAK,uBAAwB,CAAC,WAAY,SAAUW,KAAKg3D,kBAC9Dh3D,KAAKsoB,GAAG/E,IAAmB,SAAS6iB,GAClC,IAAI8wB,EAAUnvC,EAAO4M,KAAK,YAC1BuiC,GAAWnvC,EAAOuuC,kBAAkBY,EAAS9wB,EAAere,EAAO4H,SAASkT,oBAAsB9a,EAAO4H,SAASiT,iBAClH7a,EAAO8yB,QAAQzU,EACjB,IACIpmC,KAAKyI,OAAO0uD,eACdn3D,KAAKo3D,YAAcp3D,KAAK6J,OAAOsmB,eAAe,CAC5C3B,OAAQgoC,GACR5rD,QAAS,CACPnC,OAAQ,CACNkzC,QAAS,SAAiBn7C,GACxBunB,EAAOivC,iBAAiBx2D,EAC1B,OAKe,WAAnB8b,EAAQC,QACVvU,OAAOugB,iBAAiB,oBAAqBvoB,KAAKq3D,qBAvCpD,CAyCF,GACC,CACD30D,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL4iC,WAAY,CACVtV,KAAMqlC,GACNplC,MAAO,qBAETud,eAAgB,CACdxd,KAAMslC,GACNrlC,MAAO,sBAGb,GACC,CACD7uB,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgByyD,EAAYl3D,WAAY,UAAWI,MAAMF,KAAKE,MACnEA,KAAK6gC,OAAO,iBAAqC,WAAnBvkB,EAAQC,OAAsB,WAAa,QAASvc,KAAKg3D,kBAChE,WAAnB16C,EAAQC,QACVvU,OAAOygB,oBAAoB,oBAAqBzoB,KAAKq3D,qBAEzD,GACC,CACD30D,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACjBlyB,KAAK2a,YAAY,iBAAkBuX,EAAM0U,YACzC5mC,KAAK2a,YAAY,iBAAkBuX,EAAM4c,eAC3C,GACC,CACDpsC,IAAK,mBACLsB,MAAO,SAA0BxD,GAC3BA,IACFA,EAAEi4C,iBACFj4C,EAAEgX,mBAEJ,IAAI3N,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACpCwnC,GAA+C,IAA5BxnC,EAAOwnC,kBAAgE,oBAA5BxnC,EAAOwnC,kBAAmCxnC,EAAOwnC,mBAC/GA,GACEpmC,EAAO+8B,WACT/8B,EAAOm9B,oBAEPn9B,EAAOytD,mBAETt3D,KAAK66C,QAAQhxC,EAAO+8B,aACXn+B,EAAOsuD,kBACZltD,EAAO+8B,WACT/8B,EAAOgmC,uBAEPhmC,EAAO0tD,sBAETv3D,KAAK66C,QAAQhxC,EAAO+8B,aACXn+B,EAAO+uD,gBAAmD,oBAA1B/uD,EAAO+uD,eAChD/uD,EAAO+uD,eAAe3tD,EAAO+8B,YAEzB/8B,EAAO+8B,WACT/8B,EAAOilC,iBAEPjlC,EAAO45C,gBAAgBt1B,OAAM,SAASspC,GACtC,GAGN,GACC,CACD/0D,IAAK,UACLsB,MAAO,SAAiBoiC,GACtBA,EAAepmC,KAAKqzB,QAAQ,aAAc,QAAUrzB,KAAKqzB,QAAQ,aAAc,UAC3ErzB,KAAKo3D,cACHhxB,GACFpmC,KAAKo3D,YAAY9gD,OACjBtW,KAAKoW,SAELpW,KAAKo3D,YAAYhhD,OACjBpW,KAAKsW,QAGX,GACC,CACD5T,IAAK,OACLsB,MAAO,WACL+B,EAAK1B,EAAgByyD,EAAYl3D,WAAY,OAAQI,MAAMF,KAAKE,KAClE,GACC,CACD0C,IAAK,OACLsB,MAAO,WACL+B,EAAK1B,EAAgByyD,EAAYl3D,WAAY,OAAQI,MAAMF,KAAKE,KAClE,GACC,CACD0C,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAAhB,CAGA,IAAI3E,EAAU,kBACd,MAAO,2FAA2FnzB,OAAO26C,GAAWp7C,KAAM4zB,EAAS5zB,KAAKwvB,aAAakP,YAAa,mBAFlK,CAGF,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,YACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPgmC,kBAAkB,EAClB8mB,kBAAkB,EAClBS,eAAgB,KAChBj1D,OAAQ,KACRg2B,SAAS,EACT4+B,cAAc,EAElB,KAEKL,CACT,CA7LiC,CA6L/BjB,ICnME6B,GAAuB,SAASjkC,GAClC,EAAUkkC,EAAOlkC,GACjB,IAAI9M,EAAS,EAAagxC,GAC1B,SAASA,EAAMjsD,GACb,IAAIkb,EAIJ,OAHA,EAAgB5mB,KAAM23D,GACtB/wC,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1Bkb,EAAMgxC,YAAa,EACZhxC,CACT,CAmNA,OAlNA,EAAa+wC,EAAO,CAAC,CACnBj1D,IAAK,WACLsD,IAAK,WACH,IAAI8pB,EAAe9vB,KAAK6J,OAAQykD,EAAiBx+B,EAAaw+B,eAAgB/zC,EAAWuV,EAAavV,SACtG,OAAOva,KAAKwvB,aAAa+O,gBAAkB+vB,GAAkB/zC,CAC/D,GACC,CACD7X,IAAK,cACLsD,IAAK,WACH,IAAIg+C,EAAgBhkD,KAAK6J,OAAQwkD,EAAoBrK,EAAcqK,kBAAmBzyC,EAAcooC,EAAcpoC,YAClH,OAAOyyC,GAAqB,EAAIA,EAAoBzyC,CACtD,GACC,CACDlZ,IAAK,aACLsD,IAAK,WACH,OAAOhG,KAAKwvB,aAAagP,YAAc,CACzC,GACC,CACD97B,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACT63D,EAAgB73D,KAAK6J,OAAOkd,SAASte,OAAOwsB,KAChDj1B,KAAKi1B,KAAyB,SAAlB4iC,EAA2B,OAAS,SAC5C73D,KAAKyI,OAAO8vB,UAGE,SAAdv4B,KAAKi1B,OACPj1B,KAAK83D,mBACL93D,KAAK0a,KAAK1F,MAAMqB,QAAU,QAE5BrW,KAAK+3D,YAAc/3D,KAAK20B,KAAK,kBAC7B30B,KAAKg4D,QAAUh4D,KAAK20B,KAAK,iBACzB30B,KAAKsoB,GAAG,CAACtG,GAAiBL,GAAQC,KAAc,SAASphB,GACnC,mBAAhBA,EAAEuT,YACJgU,EAAO6vC,YAAa,GAEtB7vC,EAAOgxB,cACT,IACA/4C,KAAKsoB,GAAG/G,IAAO,WACbwG,EAAOgxB,cAAa,EACtB,IACA/4C,KAAKsoB,GAAG/F,IAAS,WACfwF,EAAOqsC,SACT,IACF,GACC,CACD1xD,IAAK,OACLsB,MAAO,WACL,GAAkB,SAAdhE,KAAKi1B,KAGP,OAFAj1B,KAAKi4D,eAAiBj4D,KAAKi4D,aAAajjD,MAAMqB,QAAU,cACxDrW,KAAKk4D,eAAiBl4D,KAAKk4D,aAAaljD,MAAMqB,QAAU,UAG1DrW,KAAK0a,KAAK1F,MAAMqB,QAAU,OAC5B,GACC,CACD3T,IAAK,OACLsB,MAAO,WACL,GAAkB,SAAdhE,KAAKi1B,KAGP,OAFAj1B,KAAKi4D,eAAiBj4D,KAAKi4D,aAAajjD,MAAMqB,QAAU,aACxDrW,KAAKk4D,eAAiBl4D,KAAKk4D,aAAaljD,MAAMqB,QAAU,SAG1DrW,KAAK0a,KAAK1F,MAAMqB,QAAU,MAC5B,GACC,CACD3T,IAAK,eACLsB,MAAO,SAAsBwW,GAC3B,IAAI3Q,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OAAQ8R,EAAWva,KAAKua,SAChE,IAAI9R,EAAO8vB,UAAWv4B,KAAK43D,YAAe/tD,EAAOqgC,SAAjD,CAGA,IAAIiuB,EAAUn4D,KAAK4b,YAAc5b,KAAKw+B,WACtC25B,EAAU/tD,EAAKkQ,qBAAqB69C,EAAS59C,EAAUC,GACrC,SAAdxa,KAAKi1B,MACPj1B,KAAKi4D,aAAatpD,UAAY3O,KAAKo4D,aAAahuD,EAAKsH,OAAOymD,IACxD59C,IAAa6P,KAAY7P,EAAW,IACtCva,KAAKk4D,aAAavpD,UAAYvE,EAAKsH,OAAO6I,MAG5Cva,KAAKg4D,QAAQrpD,UAAY3O,KAAKo4D,aAAahuD,EAAKsH,OAAOymD,IACnD59C,IAAa6P,KAAY7P,EAAW,IACtCva,KAAK+3D,YAAYppD,UAAYvE,EAAKsH,OAAO6I,IAX7C,CAcF,GACC,CACD7X,IAAK,UACLsB,MAAO,WACa,SAAdhE,KAAKi1B,MACPj1B,KAAKi4D,aAAatpD,UAAY3O,KAAKo4D,aAAahuD,EAAKsH,OAAO,IAC5D1R,KAAKk4D,aAAavpD,UAAYvE,EAAKsH,OAAO,KAE1C1R,KAAKg4D,QAAQrpD,UAAY3O,KAAKo4D,aAAahuD,EAAKsH,OAAO,IACvD1R,KAAK+3D,YAAYppD,UAAYvE,EAAKsH,OAAO,GAE7C,GACC,CACDhP,IAAK,mBACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OAClB,GAAKA,EAAOkd,UAAald,EAAOkd,SAASsZ,OAAzC,CAGA,IAAIA,EAASx2B,EAAOkd,SAASsZ,OAC7BrgC,KAAKi4D,aAAe7tD,EAAKgE,UAAU,UAAW,QAAS,CAAC,EAAG,8BAC3DpO,KAAKk4D,aAAe9tD,EAAKgE,UAAU,UAAW,QAAS,CAAC,EAAG,+BAC3DiyB,EAAOnxB,SAASxP,OAAS,EAAI2gC,EAAOlL,aAAan1B,KAAKi4D,aAAc53B,EAAOnxB,SAAS,IAAMmxB,EAAO1lB,YAAY3a,KAAKi4D,cAClH53B,EAAO1lB,YAAY3a,KAAKk4D,aALxB,CAMF,GACC,CACDx1D,IAAK,kBACLsB,MAAO,WACL,IAAIyE,EAASzI,KAAKyI,OACdzI,KAAKua,WAAa6P,KAAYpqB,KAAKwvB,aAAa2M,QAClD/xB,EAAKgM,KAAKpW,KAAK+3D,aACf3tD,EAAKgM,KAAKpW,KAAKg4D,SACf5tD,EAAKgM,KAAKpW,KAAK20B,KAAK,oBACpBvqB,EAAKkM,KAAKtW,KAAK20B,KAAK,oBAEpBvqB,EAAKgM,KAAKpW,KAAK20B,KAAK,mBAElBlsB,EAAO2N,KACTpW,KAAKoW,OAGPpW,KAAKsW,MACP,GACC,CACD5T,IAAK,kBACLsB,MAAO,SAAyBm4B,GAC1BA,GACF/xB,EAAKgM,KAAKpW,KAAK+3D,aACf3tD,EAAKgM,KAAKpW,KAAKg4D,SACf5tD,EAAKgM,KAAKpW,KAAK20B,KAAK,oBACpBvqB,EAAKkM,KAAKtW,KAAK20B,KAAK,qBAEpBvqB,EAAKgM,KAAKpW,KAAK20B,KAAK,mBACpBvqB,EAAKkM,KAAKtW,KAAK20B,KAAK,oBACpBvqB,EAAKkM,KAAKtW,KAAK+3D,aACf3tD,EAAKkM,KAAKtW,KAAKg4D,SAEnB,GACC,CACDt1D,IAAK,aACLsB,MAAO,SAAoByH,GACzBzL,KAAK43D,YAAa,GACbnsD,GAAiB,IAATA,GAAcA,EAAOzL,KAAKua,WAGrB,SAAdva,KAAKi1B,KAITj1B,KAAKg4D,QAAQrpD,UAAY3O,KAAKo4D,aAAahuD,EAAKsH,OAAOjG,IAHrDzL,KAAKi4D,aAAatpD,UAAY3O,KAAKo4D,aAAahuD,EAAKsH,OAAOjG,IAIhE,GACC,CACD/I,IAAK,eACLsB,MAAO,SAAsBq0D,GAC3B,OAAOA,EAAQzoD,MAAM,KAAKW,KAAI,SAASvM,GACrC,MAAO,gCAAgCvD,OAAOuD,EAAO,UACvD,IAAGwM,KAAK,IACV,GACC,CACD9N,IAAK,cACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACT6J,EAAS7J,KAAK6J,OACdyuD,EAAc,WAChBtwC,EAAO4vC,YAAa,CACtB,EACA53D,KAAK0oB,IAAI/G,GAAQ22C,GACbzuD,EAAO+9B,WAAa/9B,EAAO2W,MAAMgK,QACnCxqB,KAAK6vB,KAAKlO,GAAQ22C,GAElBt4D,KAAK43D,YAAa,CAEtB,GACC,CACDl1D,IAAK,UACLsB,MAAO,WACL,IAAIq8B,EAASrgC,KAAK6J,OAAOkd,SAASsZ,OAClCrgC,KAAKi4D,cAAgB53B,EAAOhX,YAAYrpB,KAAKi4D,cAC7Cj4D,KAAKi4D,aAAe,KACpBj4D,KAAKk4D,cAAgB73B,EAAOhX,YAAYrpB,KAAKk4D,cAC7Cl4D,KAAKk4D,aAAe,IACtB,GACC,CACDx1D,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAGhB,MAAO,0MAA0M93B,OAAOT,KAAKugB,KAAKojB,SAAU,0BAC9O,IACE,CAAC,CACHjhC,IAAK,aACLsD,IAAK,WACH,MAAO,MACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUI,cACpB/mB,MAAO,EACPsuB,SAAS,EAEb,KAEKo/B,CACT,CA7N2B,CA6NzBplC,IC7NEgmC,GAAuC,SAAS/lC,GAClD,EAAUgmC,EAAuBhmC,GACjC,IAAI7L,EAAS,EAAa6xC,GAC1B,SAASA,IACP,IAAI5xC,EACJ,EAAgB5mB,KAAMw4D,GACtB,IAAK,IAAInvD,EAAQ5J,UAAUC,OAAQgM,EAAO,IAAInL,MAAM8I,GAAQL,EAAO,EAAGA,EAAOK,EAAOL,IAClF0C,EAAK1C,GAAQvJ,UAAUuJ,GA0EzB,OAxEA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,qBAAqB,WAClEA,EAAM6xC,iBACN,IAAI3oC,EAAelJ,EAAM/c,OAAQ+R,EAAckU,EAAalU,YAAaosB,EAAelY,EAAakY,aACrG,GAAKphB,EAAM8xC,gBAAgB1wB,GAA3B,CAGA,IAAI/9B,EAAQG,EAAKoR,eAAeI,EAAaosB,GACzCv8B,EAAOrB,EAAKuR,qBAAqBC,EAAaosB,EAAc/9B,GAChE2c,EAAM/c,OAAOwkD,kBAAoB5iD,EACjCmb,EAAM+xC,YAAY1uD,EAAO+9B,EAJzB,CAKF,IACArlC,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,WAC9D,IAAIohB,EAAephB,EAAM/c,OAAOm+B,aAChC,GAAKphB,EAAM8xC,gBAAgB1wB,GAA3B,CAGA,IAAIv8B,EAAOrB,EAAKuR,qBAAqB,EAAGqsB,GACxCphB,EAAM/c,OAAOwkD,kBAAoB5iD,EACjCmb,EAAM+xC,YAAY,EAAG3wB,GACjBphB,EAAMgyC,OAAO1uD,MAAQ,IACvB0c,EAAM/c,OAAO+R,YAAcgL,EAAMgyC,OAAO1uD,MAL1C,CAOF,IACAvH,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,WAC9D,IAAIo9B,EAAgBp9B,EAAM/c,OAAQ+R,EAAcooC,EAAcpoC,YAAaosB,EAAegc,EAAchc,aACxG,GAAKphB,EAAM8xC,gBAAgB1wB,GAA3B,CAGA,IAAIl/B,EAAOk/B,EAAatoC,OACxBknB,EAAMiyC,gBAAkBj9C,EACxB,IAAI3R,EAAQG,EAAKoR,eAAeI,EAAaosB,GACzC/9B,IAAU2c,EAAMopC,UAClBppC,EAAM+xC,YAAY1uD,EAAO+9B,GAE3B,IAAI0E,EAAUtiC,EAAKuR,qBAAqBC,EAAaosB,EAAc/9B,GAEnE,GADA2c,EAAM/c,OAAOwkD,kBAAoB3hB,EAC5B9lB,EAAMgyC,OAAX,CAGA,IAAIE,EAAelyC,EAAMgyC,OAAQ1uD,EAAQ4uD,EAAa5uD,MAAOC,EAAM2uD,EAAa3uD,IAC5EyR,EAAc1R,EAChB0c,EAAM/c,OAAO+R,YAAc1R,EAClB0R,EAAczR,GAAOF,GAASnB,EAAO,GAC9C8d,EAAM/c,OAAO2f,OALf,CAXA,CAkBF,IACA7mB,EAAgByC,EAAuBwhB,GAAQ,cAAc,WAC3D,IAAImyC,EAAgBnyC,EAAM/c,OAAQ+R,EAAcm9C,EAAcn9C,YAAaosB,EAAe+wB,EAAc/wB,aACxG,GAAKphB,EAAM8xC,gBAAgB1wB,GAG3B,GAAIpsB,EAAcosB,EAAa,GAAG99B,MAChC0c,EAAM/c,OAAO+R,YAAcosB,EAAa,GAAG99B,WACtC,GAAI0R,EAAcosB,EAAaA,EAAatoC,OAAS,GAAGyK,IAC7Dyc,EAAM/c,OAAO+R,YAAcosB,EAAaA,EAAatoC,OAAS,GAAGyK,QAC5D,CACL,IAAIuR,EAAStR,EAAKoR,eAAeI,EAAaosB,GAC9C,GAAItsB,GAAU,EAAG,CACf,IAAI+yC,EAAY7nC,EAAMoyC,YAAYp9C,EAAagL,EAAMiyC,gBAAiBn9C,EAAQssB,GAC1EymB,GAAa,IACf7nC,EAAM/c,OAAO+R,YAAc6yC,EAE/B,CACF,CACF,IACA9rD,EAAgByC,EAAuBwhB,GAAQ,WAAW,WACxD,IAAIqyC,EAAgBryC,EAAM/c,OAAQ+R,EAAcq9C,EAAcr9C,YAAaosB,EAAeixB,EAAcjxB,aACpGphB,EAAM8xC,gBAAgB1wB,IAAiBpsB,GAAeosB,EAAaA,EAAatoC,OAAS,GAAGyK,MAC9Fyc,EAAM/c,OAAO+R,YAAcosB,EAAa,GAAG99B,MAE/C,IACO0c,CACT,CA8HA,OA7HA,EAAa4xC,EAAuB,CAAC,CACnC91D,IAAK,cACLsB,MAAO,WACLhE,KAAKgwD,UAAY,EACjBhwD,KAAK44D,OAAS,KACd54D,KAAK64D,gBAAkB,EACvB74D,KAAKy4D,iBACLz4D,KAAKsoB,GAAGtG,GAAiBhiB,KAAKk5D,mBAC9Bl5D,KAAKsoB,GAAGpG,GAAaliB,KAAKm5D,eAC1Bn5D,KAAKsoB,GAAG1G,GAAa5hB,KAAKy3C,eAC1Bz3C,KAAKsoB,GAAG5G,GAAS1hB,KAAKk3C,YACtBl3C,KAAKsoB,GAAGjH,GAAMrhB,KAAKo5D,QACrB,GACC,CACD12D,IAAK,YACLsB,MAAO,SAAmBq1D,GACxB,IAAItxC,EAAS/nB,KACb,GAAKq5D,EAAL,CAGA,IAAIv3D,EAAO3C,OAAO2C,KAAKu3D,GACnBv3D,EAAKpC,OAAS,IAGlBoC,EAAKW,SAAQ,SAASC,GACpBqlB,EAAOtf,OAAO/F,GAAO22D,EAAU32D,EACjC,IACA1C,KAAKy4D,iBARL,CASF,GACC,CACD/1D,IAAK,iBACLsB,MAAO,WACL,IAAIm8B,EAAengC,KAAKyI,OAAQ8vB,EAAU4H,EAAa5H,QAAS9c,EAAW0kB,EAAa1kB,SACpF5R,EAAS7J,KAAK6J,OAClB,GAAI0uB,IAAY9c,GAAgC,IAApBA,EAAS/b,OACnCmK,EAAOm+B,aAAe,GACtBn+B,EAAOykD,eAAiB,EACxBzkD,EAAOwkD,mBAAqB,MACvB,CACL,IAAIiL,EAAQt5D,KAAKu5D,mBAAmB99C,EAAU5R,EAAO0Q,UACrD1Q,EAAOm+B,aAAesxB,EACtBzvD,EAAOykD,eAAiBgL,EAAM55D,OAAS,EAAI45D,EAAMA,EAAM55D,OAAS,GAAG6a,SAAW,CAChF,CACF,GACC,CACD7X,IAAK,qBACLsB,MAAO,SAA4BgkC,EAAcztB,GAC/C,IAAIvD,EAAM,GACV,OAAKgxB,GAGLA,EAAa7vB,MAAK,SAAS7Y,EAAGC,GAC5B,OAAOD,EAAE4K,MAAQ3K,EAAE2K,KACrB,IACA89B,EAAavlC,SAAQ,SAASmM,EAAM3E,GAClC,IAAIuvD,EAAQ,CAAC,EAGb,GAFAA,EAAMtvD,MAAQ0E,EAAK1E,MAAQ,EAAI,EAAI0E,EAAK1E,MACxCsvD,EAAMrvD,IAAMoQ,EAAW,GAAK3L,EAAKzE,IAAMoQ,EAAWA,EAAW3L,EAAKzE,MAC9DoQ,EAAW,GAAKi/C,EAAMtvD,MAAQqQ,GAAlC,CAGAvD,EAAI3U,KAAKm3D,GACT,IAAIC,EAAeD,EAAMrvD,IAAMqvD,EAAMtvD,MACrC,GAAc,IAAVD,EACFuvD,EAAMz9C,OAASnN,EAAK1E,MACpBsvD,EAAM19C,MAAQ,EACd09C,EAAME,YAAcD,EACpBD,EAAMj/C,SAAWk/C,MACZ,CACL,IAAIE,EAAO3iD,EAAI/M,EAAQ,GACvBuvD,EAAMz9C,OAAS49C,EAAK59C,QAAUy9C,EAAMtvD,MAAQyvD,EAAKxvD,KACjDqvD,EAAM19C,MAAQ69C,EAAKp/C,SAAWo/C,EAAK79C,MACnC09C,EAAME,YAAcD,EACpBD,EAAMj/C,SAAWo/C,EAAKp/C,SAAWk/C,CACnC,CAdA,CAeF,IACOziD,GA3BE,EA4BX,GACC,CACDtU,IAAK,cACLsB,MAAO,SAAqB4X,EAAai9C,EAAiB5uD,EAAO+9B,GAC/D,IAAIumB,GAAS,EACTqL,EAAsB5xB,EAAa/9B,GAAQC,EAAQ0vD,EAAoB1vD,MAAOC,EAAMyvD,EAAoBzvD,IAC5G,GAAIyR,GAAe1R,GAAS0R,GAAezR,EACzC,OAAOokD,EAET,IAAIn2C,EAAOwD,EAAci9C,EACzB,GAAIzgD,EAAO,GACLwD,EAAc1R,EAAO,CACvB,IAAI2vD,EAAQhB,EAAkB3uD,EAAQ2uD,EAAkB3uD,EAAQ,EAEhE,OADAqkD,EAAQtkD,EAAQ,GAAK,EAAI+9B,EAAa/9B,EAAQ,GAAGE,IAAMiO,EAAOyhD,EAAQ,EAC/DtL,CACT,CAEF,OAAQ,CACV,GACC,CACD7rD,IAAK,kBACLsB,MAAO,SAAyByX,GAC9B,SAAUA,GAAYA,EAAS/b,OAAS,EAC1C,GACC,CACDgD,IAAK,cACLsB,MAAO,SAAqBiG,EAAO+9B,GACjChoC,KAAKgwD,SAAW/lD,EACZA,GAAS,GAAK+9B,EAAatoC,OAAS,EACtCM,KAAK44D,OAAS5wB,EAAa/9B,GAE3BjK,KAAK44D,OAAS,IAElB,IACE,CAAC,CACHl2D,IAAK,aACLsD,IAAK,WACH,MAAO,sBACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLuyB,SAAS,EACT9c,SAAU,GAEd,KAEK+8C,CACT,CAjN2C,CAiNzCtpC,ICtNF,SAAS4qC,KACP,OAAO,IAAI3hB,WAAYC,gBAAgB,yuBAA0uB,iBAAiB9M,UACpyB,CCFA,SAASyuB,KACP,OAAO,IAAI5hB,WAAYC,gBAAgB,kuBAAmuB,iBAAiB9M,UAC7xB,CCFA,SAAS0uB,KACP,OAAO,IAAI7hB,WAAYC,gBAAgB,ofAAqf,iBAAiB9M,UAC/iB,CCOA,IAAI2uB,GAAyB,SAASxmC,GACpC,EAAUymC,EAASzmC,GACnB,IAAI9M,EAAS,EAAauzC,GAC1B,SAASA,IACP,IAAItzC,EACJ,EAAgB5mB,KAAMk6D,GACtB,IAAK,IAAIpxD,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAwEzB,OAtEA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,kBAAkB,SAASpmB,GACxE,IAAIu/B,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OACtFswD,EAAMvzC,EAAM+N,KAAK,iBACrBvqB,EAAK6H,MAAMzR,GACX,IAAI45D,EAAUD,EAAIpvB,wBACdlwB,EAAMzQ,EAAKqO,YAAYjY,EAAGqJ,EAAO6O,MACjC9D,EAASwlD,EAAQxlD,QAAUiG,EAAIvI,QAAU8nD,EAAQjzB,KAIrD,GAHAtsB,EAAIja,EAAIgU,EACRiG,EAAIw/C,KAAOD,EAAQxlD,OACnBgS,EAAM/L,IAAMA,IACRjG,GAAU,GAMd,OAHAgS,EAAM0zC,gBAAgB1lD,EAAQpU,GAC9BiN,SAAS8a,iBAAiB,UAAW3B,EAAM2zC,cAC3C3zC,EAAM4zC,GAAGxT,SAAU,GACZ,CACT,IACArkD,EAAgByC,EAAuBwhB,GAAQ,kBAAkB,SAASpmB,GACxE,IAAI0/B,EAAyB96B,EAAuBwhB,GAAQ4zC,EAAKt6B,EAAuBs6B,GACxF,GAAKA,EAAGxT,QAAR,CAGA,IAAI9D,EAAyB99C,EAAuBwhB,GAAQ/L,EAAMqoC,EAAuBroC,IAAKhR,EAASq5C,EAAuBr5C,OAC9HrJ,EAAEi4C,iBACFj4C,EAAEgX,kBACFpN,EAAK6H,MAAMzR,GACX,IAAImxD,EAAQvnD,EAAKqO,YAAYjY,EAAGqJ,EAAO6O,MACvC8hD,EAAGC,UAAW,EACd,IAAI5lD,EAAIgG,EAAIja,EAAI+wD,EAAMr/C,QAAUuI,EAAIvI,QAChCuC,EAAIgG,EAAIw/C,MAGZzzC,EAAM0zC,gBAAgBzlD,EAAGrU,EAXzB,CAYF,IACAmC,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtE4J,EAAK6H,MAAMzR,GACXiN,SAASgb,oBAAoB,UAAW7B,EAAM2zC,cAC9C,IAAI/W,EAAyBp+C,EAAuBwhB,GAAQ4zC,EAAKhX,EAAuBgX,GACxFA,EAAGxT,SAAU,EACbwT,EAAGC,UAAW,CAChB,IACA93D,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtEomB,EAAM4zC,GAAGvgC,UAAW,EACpBrT,EAAMoZ,QACNpZ,EAAMzB,KAAK,kBAAmB,CAC5B4I,WAAYnH,EAAMmH,YAEtB,IACAprB,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACtEomB,EAAM4zC,GAAGvgC,UAAW,EACpBrT,EAAM8zC,QAAQ,KAAK,EAAOl6D,GAC1BomB,EAAMzB,KAAK,kBAAmB,CAC5B4I,WAAYnH,EAAMmH,YAEtB,IACAprB,EAAgByC,EAAuBwhB,GAAQ,kBAAkB,SAASpmB,GACxE,GAAKomB,EAAM/c,OAAX,CAGA,IAAIimB,EAAelJ,EAAM/c,OAAQgc,EAAQiK,EAAajK,MAAOC,EAASgK,EAAahK,OAC9Ec,EAAM4zC,GAAGC,WACZ7zC,EAAM+N,KAAK,kBAAkB3f,MAAMJ,OAASiR,GAAoB,IAAXC,EAAe,MAAQ,GAAGrlB,OAAgB,IAATqlB,EAAc,KAChGc,EAAMne,OAAOkyD,gBACf/zC,EAAMg0C,qBAGVh0C,EAAMi0B,QAAQh1B,EAAOC,EARrB,CASF,IACOc,CACT,CAmOA,OAlOA,EAAaszC,EAAS,CAAC,CACrBx3D,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL62D,YAAa,CACXvpC,KAAMyoC,GACNxoC,MAAO,mBAETupC,YAAa,CACXxpC,KAAMwoC,GACNvoC,MAAO,aAETwpC,YAAa,CACXzpC,KAAM0oC,GACNzoC,MAAO,kBAGb,GACC,CACD7uB,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KAOb,GANAA,KAAKg7D,SAAW,KAChBh7D,KAAKw6D,GAAK,CACRxT,SAAS,EACTyT,UAAU,EACVxgC,UAAU,IAERj6B,KAAKyI,OAAO8vB,QAAhB,CAGAv4B,KAAK65C,YACL,IAAIoJ,EAAqBjjD,KAAKwvB,aAAcoP,EAAcqkB,EAAmBrkB,YAAa9Y,EAASm9B,EAAmBn9B,OAClH8Y,EAAYK,cACdj/B,KAAK20B,KAAK,kBAAkB3f,MAAM+0C,gBAAkBnrB,EAAYK,aAElEj/B,KAAKi7D,mBAAqBj7D,KAAKytB,KAAK,eAAe,SAASjtB,GAC1DunB,EAAOmzC,YAAY16D,EACrB,GAAG,CACDotB,IAAK,SAAaptB,GAChBA,EAAEi4C,iBACFj4C,EAAEgX,iBACJ,IAEFxX,KAAKm7D,qBAAuBn7D,KAAKytB,KAAK,aAAcztB,KAAKo7D,cACzDp7D,KAAKq7D,qBAAuBr7D,KAAKytB,KAAK,aAAcztB,KAAKs7D,cAChC,WAAnBh/C,EAAQC,QAAmE,WAA3Cvc,KAAKwvB,aAAa8M,uBACtDt8B,KAAKX,KAAK,aAAcW,KAAKm7D,sBAC7Bn7D,KAAKX,KAAK,CAAC,OAAQ,cAAeW,KAAKq7D,sBACvCr7D,KAAKX,KAAK,mBAAoB,YAAaW,KAAKu7D,gBAChDv7D,KAAKX,KAAK,mBAAoB,YAAaW,KAAKw7D,gBAChDx7D,KAAKX,KAAK,mBAAoB,UAAWW,KAAKu6D,eAEhDv6D,KAAKX,KAAK,iBAAkB,CAAC,WAAY,SAAUW,KAAKi7D,oBACxDj7D,KAAKsoB,GAAGrG,GAAejiB,KAAKy7D,gBAC5Bz7D,KAAK6vB,KAAK3N,GAAaliB,KAAKy7D,gBACA,WAAxBrxD,EAAKkG,OAAOwV,KACd9lB,KAAK6J,OAAOic,OAAS9lB,KAAKyI,OAAOwvB,SAEnCj4B,KAAKy7D,gBA7BL,CA8BF,GACC,CACD/4D,IAAK,kBACLsB,MAAO,SAAyB4Q,EAAQ3C,GACtC,IAAIpI,EAAS7J,KAAK6J,OACdq3C,EAAOlhD,KAAK20B,KAAK,kBACjBwlC,EAAMn6D,KAAK20B,KAAK,iBACpB,GAAKwlC,GAAQjZ,EAAb,CAGA,IAAIp0C,EAAM8I,SAAShB,EAASulD,EAAIpvB,wBAAwBn2B,OAAS,IAAK,IACtEssC,EAAKlsC,MAAMJ,OAAS,GAAGnU,OAAOmU,EAAQ,MACtC,IAAI6xB,EAAK/5B,KAAKW,IAAIX,KAAKC,IAAIG,EAAM,IAAK,GAAI,GACtCrJ,EAAQ,CACVqiB,OAAQ,CACNjf,KAAMgD,EAAOic,OACb2gB,OAGA58B,EAAOgc,QACTpiB,EAAMoiB,MAAQ,CACZhf,MAAM,EACN4/B,IAAI,IAGRzmC,KAAKkwB,eAAeje,EAAO,gBAAiB,CAC1C4T,MAAOhc,EAAOgc,MACdC,OAAQjc,EAAOic,OACfriB,UAEFoG,EAAOic,OAASpZ,KAAKW,IAAIX,KAAKC,IAAIG,EAAM,IAAK,GAAI,GACjDjD,EAAOgc,QAAUhc,EAAOgc,OAAQ,GAC5B7lB,KAAKyI,OAAOkyD,gBACd36D,KAAK46D,mBAxBP,CA0BF,GACC,CACDl4D,IAAK,oBACLsB,MAAO,WACL,IAAIggD,EAAgBhkD,KAAK6J,OAAQic,EAASk+B,EAAcl+B,OAAQD,EAAQm+B,EAAcn+B,MAClF61C,EAAc17D,KAAK20B,KAAK,yBACxB/J,EAAMle,KAAKW,IAAIX,KAAKC,IAAImZ,EAAQ,GAAI,GACxC41C,EAAYC,UAAY91C,EAAQ,EAAInZ,KAAK4E,KAAW,IAANsZ,EAChD,GACC,CACDloB,IAAK,QACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OAClBA,EAAOm2B,MAAM,CACXC,UAAU,IAERjgC,KAAKg7D,WACP5wD,EAAK+B,aAAanM,KAAMA,KAAKg7D,UAC7Bh7D,KAAKg7D,SAAW,MAElB5wD,EAAK+E,SAASnP,KAAK0a,KAAM,aAC3B,GACC,CACDhY,IAAK,UACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACTwwC,EAAQ/wC,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,IACzEm8D,IAAUn8D,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GACtEe,EAAIf,UAAUC,OAAS,EAAID,UAAU,QAAK,EAC1C+6D,EAAKx6D,KAAKw6D,GAAI3wD,EAAS7J,KAAK6J,OAC5B2wD,EAAGvgC,WAGHj6B,KAAKg7D,WACP5wD,EAAK+B,aAAanM,KAAMA,KAAKg7D,UAC7Bh7D,KAAKg7D,SAAW,MAElBh7D,KAAKg7D,SAAW5wD,EAAK4B,WAAWhM,MAAM,WAC/Bw6D,EAAGvgC,WACN2hC,EAAU/xD,EAAO82B,OAAS92B,EAAOm2B,QACjC51B,EAAK0F,YAAYkY,EAAOtN,KAAM,cAC9B8/C,EAAGxT,SAAWh/B,EAAOuyC,aAAa/5D,IAEpCwnB,EAAOgzC,SAAW,IACpB,GAAGxqB,GACL,GACC,CACD9tC,IAAK,cACLsB,MAAO,SAAqBxD,GAC1BA,GAAKA,EAAEgX,kBACP,IAAI3N,EAAS7J,KAAK6J,OAAQ2wD,EAAKx6D,KAAKw6D,GACpCA,EAAGxT,SAAWhnD,KAAKu6D,aAAa/5D,GAChCR,KAAKkwB,eAAe1vB,EAAG,eAAgB,CACrCqlB,MAAOhc,EAAOgc,MACdC,OAAQjc,EAAOic,OACfriB,MAAO,CACLoiB,MAAO,CACLhf,KAAMgD,EAAOgc,MACb4gB,IAAK58B,EAAOgc,UAIdhc,EAAOic,OAAS,IAClBjc,EAAOgc,OAAShc,EAAOgc,OAErBhc,EAAOic,OAAS,MAClBjc,EAAOic,OAAS9lB,KAAKyI,OAAOozD,WAEhC,GACC,CACDn5D,IAAK,UACLsB,MAAO,SAAiB6hB,EAAOC,GACzBD,GAAoB,IAAXC,EACX9lB,KAAKqzB,QAAQ,aAAc,QAClBvN,EAAS,IAAO9lB,KAAKkyB,MAAM2oC,YACpC76D,KAAKqzB,QAAQ,aAAc,SAE3BrzB,KAAKqzB,QAAQ,aAAc,SAE/B,GACC,CACD3wB,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACjBlyB,KAAK2a,YAAY,iBAAkBuX,EAAM2oC,aACzC76D,KAAK2a,YAAY,iBAAkBuX,EAAM4oC,aACzC96D,KAAK2a,YAAY,iBAAkBuX,EAAM6oC,YAC3C,GACC,CACDr4D,IAAK,UACLsB,MAAO,WACDhE,KAAKg7D,WACP5wD,EAAK+B,aAAanM,KAAMA,KAAKg7D,UAC7Bh7D,KAAKg7D,SAAW,MAElBh7D,KAAK6gC,OAAO,aAAc7gC,KAAKo7D,cAC/Bp7D,KAAK6gC,OAAO,CAAC,OAAQ,cAAe7gC,KAAKs7D,cACzCt7D,KAAK6gC,OAAO,mBAAoB,YAAa7gC,KAAKu7D,gBAClDv7D,KAAK6gC,OAAO,mBAAoB,YAAa7gC,KAAKw7D,gBAClDx7D,KAAK6gC,OAAO,mBAAoB,UAAW7gC,KAAKu6D,cAChD9sD,SAASgb,oBAAoB,UAAWzoB,KAAKu6D,cAC7Cv6D,KAAK6gC,OAAO,iBAAqC,WAAnBvkB,EAAQC,OAAsB,WAAa,QAASvc,KAAKi7D,mBACzF,GACC,CACDv4D,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAAhB,CAGA,IAAIzS,EAAS9lB,KAAKyI,OAAOwvB,SAAWj4B,KAAK6J,OAAOic,OAC5Cg2C,EAAoB97D,KAAKyI,OAAOkyD,eACpC,MAAO,oKAAoKl6D,OAAOq7D,EAAoB,qCAAqCr7D,OAAgB,IAATqlB,EAAc,UAAY,GAAI,kGAAkGrlB,OAAgB,IAATqlB,EAAc,oEAHvY,CAIF,IACE,CAAC,CACHpjB,IAAK,aACLsD,IAAK,WACH,MAAO,QACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPsuB,SAAS,EACToiC,gBAAgB,EAChB1iC,QAAS,GACT4jC,WAAY,GAEhB,KAEK3B,CACT,CApT6B,CAoT3B3nC,IC7TF,SAASwpC,KACP,OAAO,IAAI5jB,WAAYC,gBAAgB,umDAAwmD,iBAAiB9M,UAClqD,CCMA,IAAI0wB,GAAyB,SAAS9F,GACpC,EAAU+F,EAAS/F,GACnB,IAAIvvC,EAAS,EAAas1C,GAC1B,SAASA,EAAQvwD,GACf,IAAIkb,EAIJ,OAHA,EAAgB5mB,KAAMi8D,GACtBr1C,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1Bkb,EAAMkhB,UAAYlhB,EAAMne,OAAOq/B,WAAa,EACrClhB,CACT,CAgIA,OA/HA,EAAaq1C,EAAS,CAAC,CACrBv5D,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACb,IAAIA,KAAKyI,OAAO8vB,QAAhB,CAGAxyB,EAAK1B,EAAgB43D,EAAQr8D,WAAY,cAAeI,MAAMF,KAAKE,MACnEA,KAAK2a,YAAY,iBAAkB3a,KAAKkyB,MAAMnX,QAC9C/a,KAAKk8D,WAAal8D,KAAKk8D,WAAW78D,KAAKW,MACvCA,KAAKX,KAAK,iBAAkB,CAAC,QAAS,YAAaW,KAAKk8D,YACxDl8D,KAAKsoB,GAAGvE,IAAc,WAChBgE,EAAO+f,WAAa/f,EAAOtf,OAAO0zD,aACpC/xD,EAAK4B,WAAW+b,GAAQ,WACtBA,EAAOq0C,gBAAgBr0C,EAAO+f,UAAW/f,EAAOtf,OAAO0zD,YACzD,GAAG,IAEP,IACA,IAAIzhD,EAAO1a,KAAK6J,OAAO6Q,KACvB1a,KAAKq8D,UAAY3hD,EAAK1F,MAAML,OAAS+F,EAAK82B,aAAe92B,EAAK4hD,YAC9Dt8D,KAAKu8D,WAAa7hD,EAAK1F,MAAMJ,QAAU8F,EAAK+2B,cAAgB/2B,EAAK8hD,aAC7Dx8D,KAAK8nC,WACP9nC,KAAKo8D,gBAAgBp8D,KAAK8nC,UAAW9nC,KAAKyI,OAAO0zD,YAhBnD,CAkBF,GACC,CACDz5D,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgB43D,EAAQr8D,WAAY,UAAWI,MAAMF,KAAKE,MAC/DA,KAAK6gC,OAAO,iBAAkB,CAAC,QAAS,YAAa7gC,KAAKk8D,WAC5D,GACC,CACDx5D,IAAK,aACLsB,MAAO,SAAoBxD,GACzBA,EAAEi4C,iBACFj4C,EAAEgX,kBACFxX,KAAKkwB,eAAe1vB,EAAG,UACvBR,KAAK+a,OAAO/a,KAAKyI,OAAOg0D,UAAWz8D,KAAKyI,OAAO0zD,YAAa,EAC9D,GACC,CACDz5D,IAAK,kBACLsB,MAAO,SAAyB8jC,EAAWq0B,GAIzC,GAHKr0B,IACHA,EAAY,GAEVq0B,EACFn8D,KAAK6J,OAAO6yD,eAAiB50B,MAD/B,CAIA,IAAIj+B,EAAS7J,KAAK6J,OAAQwyD,EAAYr8D,KAAKq8D,UAAWE,EAAav8D,KAAKu8D,WACpE7hD,EAAO7Q,EAAO6Q,KAAMquB,EAAiBl/B,EAAOk/B,eAC5CtvB,EAAQ5P,EAAO2W,MACf7L,EAAQ+F,EAAK82B,YACb58B,EAASm0B,GAAkBozB,EAAcpzB,EAAe0I,aAAe/2B,EAAK+2B,aAC5EE,EAAS0qB,EACT3qB,EAAU6qB,EACV5jD,EAAI,EACJC,EAAI,EACU,MAAdkvB,GAAoC,MAAdA,IACxB6J,EAAS,GAAGlxC,OAAOmU,EAAQ,MAC3B88B,EAAU,GAAGjxC,OAAOkU,EAAO,MAC3BgE,IAAM/D,EAASD,GAAS,EACxBiE,IAAMjE,EAAQC,GAAU,GAE1B,IAAI+nD,EAAa,aAAal8D,OAAOkY,EAAG,OAAOlY,OAAOmY,EAAG,eAAenY,OAAOqnC,EAAW,SACtF80B,EAAU,CACZC,gBAAiB,gBACjBhrB,UAAW8qB,EACXld,gBAAiBkd,EACjB/nD,OAAQ88B,EACR/8B,MAAOg9B,GAEL9+B,EAAUspD,EAAc1iD,EAAQiB,EAChC2hB,EAAS8/B,EAActyD,EAAOumB,UAAU,UAAY,KACxDjxB,OAAO2C,KAAK86D,GAASrsD,KAAI,SAAS7N,GAChCmQ,EAAQmC,MAAMtS,GAAOk6D,EAAQl6D,GAC7B25B,GAAUA,EAAO3hB,OAAS2hB,EAAO3hB,KAAK1F,MAAMtS,GAAOk6D,EAAQl6D,GAC7D,GA7BA,CA8BF,GACC,CACDA,IAAK,SACLsB,MAAO,WACL,IAAIy4D,EAAYh9D,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GACxE08D,IAAc18D,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GAC1Eq9D,EAAQr9D,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzEoK,EAAS7J,KAAK6J,OACb7J,KAAK8nC,YACR9nC,KAAK8nC,UAAY,GAEnB,IAAIi1B,EAASN,EAAY,GAAK,EAC9Bz8D,KAAK8nC,WAAa9nC,KAAK8nC,UAAY,EAAa,IAATi1B,EAAgBD,GAAS,EAChE98D,KAAKo8D,gBAAgBp8D,KAAK8nC,UAAWq0B,GACrCtyD,EAAOsb,KAAKlB,GAAyB,IAAjBjkB,KAAK8nC,UAC3B,GACC,CACDplC,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL+W,OAAQghD,GAEZ,GACC,CACDr5D,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAGhB,MAAO,mGAAmG93B,OAAO26C,GAAWp7C,KAAM,cAAeA,KAAKwvB,aAAakP,YAAa,mBAClL,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,QACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPkyD,aAAa,EACbM,WAAW,EACX30B,UAAW,EACXvP,SAAS,EAEb,KAEK0jC,CACT,CA1I6B,CA0I3BpG,IClJF,SAASmH,KACP,OAAO,IAAI7kB,WAAYC,gBAAgB,+mBAAgnB,iBAAiB9M,UAC1qB,CCFA,SAAS2xB,KACP,OAAO,IAAI9kB,WAAYC,gBAAgB,wkCAAykC,iBAAiB9M,UACnoC,CCOA,IAAI4xB,GAAmB,CACrBj6B,IAAK,qBACLk6B,OAAQ,SACRpiC,WAAY,cAEVkI,GAAsB,SAASizB,GACjC,EAAUkH,EAAMlH,GAChB,IAAIvvC,EAAS,EAAay2C,GAC1B,SAASA,IACP,IAAIx2C,EACJ,EAAgB5mB,KAAMo9D,GACtB,IAAK,IAAIt0D,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GA0BzB,OAxBA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,aAAa,SAASpmB,GACnE,IAAKomB,EAAMy2C,iBACT,OAAO,EAET78D,EAAEgX,iBAAmBhX,EAAEgX,kBACnBoP,EAAM02C,OACR12C,EAAM22C,UACN32C,EAAMsJ,eAAe1vB,EAAG,aAAc,CACpCiD,MAAO,MACPoD,MAAM,EACN4/B,IAAI,IAEN7f,EAAMyM,QAAQ,aAAc,WACe,IAAlCzM,EAAM/c,OAAO2W,MAAMG,aAC5BiG,EAAM42C,aACN52C,EAAMsJ,eAAe1vB,EAAG,aAAc,CACpCiD,MAAO,MACPoD,MAAM,EACN4/B,IAAI,IAEN7f,EAAMyM,QAAQ,aAAc,OAEhC,IACOzM,CACT,CA2KA,OA1KA,EAAaw2C,EAAM,CAAC,CAClB16D,IAAK,eACLsB,MAAO,SAAsB0H,GACW,mBAA3BA,EAAK7B,OAAOpB,OAAOu1B,MAC5BtyB,EAAKjD,OAAOg1D,SAAW/xD,EAAK7B,OAAOpB,OAAOu1B,IAE9C,GACC,CACDt7B,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACRA,KAAKq9D,mBAGVt3D,EAAK1B,EAAgB+4D,EAAKx9D,WAAY,cAAeI,MAAMF,KAAKE,MAChEA,KAAK09D,MAAQR,GAAiBC,OAC9Bn9D,KAAK29D,gBACD39D,KAAKyI,OAAOg1D,UACdz9D,KAAK65C,YAEP75C,KAAK6vB,KAAK3M,IAAU,WACd6E,EAAOtf,OAAOg1D,WAChBrzD,EAAK0F,YAAYiY,EAAO4M,KAAK,kBAAmB,mBAChD5M,EAAO1oB,KAAK,QAAS0oB,EAAO61C,WAEhC,IACF,GACC,CACDl7D,IAAK,gBACLsB,MAAO,WACL,MAAO,CACL65D,QAAS,CACPvsC,KAAM0rC,GACNzrC,MAAO,cAETusC,YAAa,CACXxsC,KAAM2rC,GACN1rC,MAAO,eAGb,GACC,CACD7uB,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACjBlyB,KAAK2a,YAAY,iBAAkBuX,EAAM2rC,SACzC79D,KAAK2a,YAAY,iBAAkBuX,EAAM4rC,YAC3C,GACC,CACDp7D,IAAK,gBACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACT6J,EAAS7J,KAAK6J,OAClB7J,KAAK+9D,iBAAmB,WACtB,IAAIr4C,EAAS7b,EAAO6b,OACpBtb,EAAK4B,WAAWgc,GAAQ,YACrBtC,GAAU7b,EAAOq8B,WACpB,GAAG,IACFxgB,GAAU7b,EAAOq8B,YAClBle,EAAOqL,QAAQ,aAAc,UAC7BxpB,EAAOsb,KAAKnB,IAAY,EAC1B,EACAhkB,KAAKg+D,iBAAmB,SAASx9D,GAC/BqJ,EAAOsb,KAAKnB,IAAY,GACxBgE,EAAOi2C,UAAYz9D,EAAE09D,uBACrBl2C,EAAOqL,QAAQ,aAAc,MAC/B,EACArzB,KAAKm+D,gCAAkC,SAAS39D,GAC9C,IAAIy0B,EAAOprB,EAAO2W,MAAM49C,uBACpBp2C,EAAO01C,QAAUR,GAAiBniC,YAAc9F,IAASioC,GAAiBniC,YAC5ElxB,EAAOw9B,mBAAmB,MAAM,GAElCrf,EAAO01C,MAAQzoC,EACXA,IAASioC,GAAiBj6B,IAC5Bjb,EAAOg2C,iBAAiBx9D,GACfy0B,IAASioC,GAAiBC,QACnCn1C,EAAO+1C,iBAAiBv9D,EAE5B,EACIqJ,EAAO2W,QACT3W,EAAO2W,MAAM+H,iBAAiB,wBAAyBvoB,KAAKg+D,kBAC5Dn0D,EAAO2W,MAAM+H,iBAAiB,wBAAyBvoB,KAAK+9D,kBAC5DX,EAAKiB,+BAA+Bx0D,EAAO2W,QAAU3W,EAAO2W,MAAM+H,iBAAiB,gCAAiCvoB,KAAKm+D,iCAE7H,GACC,CACDz7D,IAAK,aACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OAAQ2lB,EAAexvB,KAAKwvB,aAC9C,GAAKxvB,KAAKq9D,mBAAoBr9D,KAAKs9D,MAGnC,IACE,IAAIjhC,EAAS7M,EAAa6M,OAK1B,OAJIA,IACFxyB,EAAO2W,MAAM6b,OAAiC,WAAxBjyB,EAAKkG,OAAO+rB,GAAuBA,EAASA,EAAOA,QAE3E+gC,EAAKiB,+BAA+Bx0D,EAAO2W,OAAS3W,EAAO2W,MAAM89C,0BAA0B,sBAAwBz0D,EAAO2W,MAAM+9C,2BACzH,CACT,CAAE,MAAOC,GAEP,OADAv1D,QAAQZ,MAAM,aAAcm2D,IACrB,CACT,CACF,GACC,CACD97D,IAAK,UACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OAClB,IAIE,OAHI7J,KAAKq9D,kBAAoBr9D,KAAKs9D,QAChCF,EAAKiB,+BAA+Bx0D,EAAO2W,OAAS3W,EAAO2W,MAAM89C,0BAA0B,UAAY7wD,SAASgxD,yBAE3G,CACT,CAAE,MAAOD,GAEP,OADAv1D,QAAQZ,MAAM,UAAWm2D,IAClB,CACT,CACF,GACC,CACD97D,IAAK,QACLsD,IAAK,WACH,IAAI6D,EAAS7J,KAAK6J,OAClB,OAAO4D,SAASixD,yBAA2BjxD,SAASixD,0BAA4B70D,EAAO2W,OAAS3W,EAAO2W,MAAM49C,yBAA2BlB,GAAiBj6B,GAC3J,GACC,CACDvgC,IAAK,iBACLsB,MAAO,WACL,IAAIyV,EAAQzZ,KAAK6J,OAAO2W,MACpBm+C,EAA+D,YAAlDv0D,EAAKkG,OAAO7C,SAASmxD,0BAAyCnxD,SAASmxD,wBACxF,OAAOD,IAA8D,YAA/Cv0D,EAAKkG,OAAOmJ,EAAMolD,2BAA2CplD,EAAMolD,yBAA2BplD,EAAMqlD,gCAAmF,aAAjD10D,EAAKkG,OAAOmJ,EAAM6kD,2BAChL,GACC,CACD57D,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgB+4D,EAAKx9D,WAAY,UAAWI,MAAMF,KAAKE,MAC5D,IAAI6J,EAAS7J,KAAK6J,OAClBA,EAAO2W,MAAMiI,oBAAoB,wBAAyBzoB,KAAKg+D,kBAC/Dn0D,EAAO2W,MAAMiI,oBAAoB,wBAAyBzoB,KAAK+9D,kBAC/DX,EAAKiB,+BAA+Bx0D,EAAO2W,QAAU3W,EAAO2W,MAAMiI,oBAAoB,gCAAiCzoB,KAAKm+D,iCAC5Hn+D,KAAKu9D,UACLv9D,KAAK6gC,OAAO,QAAS7gC,KAAKo2D,SAC5B,GACC,CACD1zD,IAAK,SACLsB,MAAO,WACL,GAAKhE,KAAKyI,OAAOg1D,UAAaz9D,KAAKq9D,iBAGnC,MAAO,0GAA0G58D,OAAO26C,GAAWp7C,KAAM,MAAOA,KAAKwvB,aAAakP,YAAa,mBACjL,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,KACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPwzD,UAAU,EAEd,GACC,CACD/6D,IAAK,iCACLsB,MAAO,SAAwCyV,GAC7C,MAAkD,oBAApCA,EAAM6kD,yBACtB,KAEKlB,CACT,CA9M0B,CA8MxBvH,IC5NF,SAASkJ,KACP,OAAO,IAAI5mB,WAAYC,gBAAgB,wMAAyM,iBAAiB9M,UACnQ,CCMA,IAAI0zB,GAA+B,SAASvrC,GAC1C,EAAUwrC,EAAexrC,GACzB,IAAI9M,EAAS,EAAas4C,GAC1B,SAASA,EAAcr0D,GACrB,IAAIgc,EAiBJ,OAhBA,EAAgB5mB,KAAMi/D,GACtBr4C,EAAQD,EAAO7mB,KAAKE,KAAM4K,GAC1BjI,EAAgByC,EAAuBwhB,GAAQ,YAAY,SAASpmB,GAClE,IAAIu/B,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OAC1FrJ,EAAEi4C,iBACFj4C,EAAEgX,kBACEoP,EAAMs4C,IAAM,EAAIt4C,EAAMne,OAAO02D,QAAQz/D,QACvCknB,EAAMs4C,MACNt4C,EAAMw4C,YAAYx4C,EAAMne,OAAO02D,QAAQv4C,EAAMs4C,KAAMt4C,EAAMs4C,KACzDr1D,EAAOsb,KAAKhB,GAAUyC,EAAMs4C,IAAM,KAElCt4C,EAAMw4C,cACNv1D,EAAOsb,KAAKhB,IAEhB,IACAyC,EAAMs4C,KAAO,EACNt4C,CACT,CAuEA,OAtEA,EAAaq4C,EAAe,CAAC,CAC3Bv8D,IAAK,cACLsB,MAAO,WACAhE,KAAKyI,OAAO02D,SAA0C,IAA/Bn/D,KAAKyI,OAAO02D,QAAQz/D,SAGhDM,KAAK2a,YAAY,iBAAkB3a,KAAKkyB,MAAMmtC,UAC9Cr/D,KAAK0jD,aACP,GACC,CACDhhD,IAAK,gBACLsB,MAAO,WACL,MAAO,CACLq7D,SAAUN,GAEd,GACC,CACDr8D,IAAK,aACLsB,MAAO,WACLhE,KAAKo/D,YAAcp/D,KAAKytB,KAAK,YAAaztB,KAAKs/D,WAC/C,IAAIrtD,EAA2B,WAAnBqK,EAAQC,OAAsB,WAAa,QACvDvc,KAAKX,KAAK4S,EAAOjS,KAAKq/D,UACtBr/D,KAAKsW,MACP,GACC,CACD5T,IAAK,YACLsB,MAAO,SAAmBsP,GACxB,IAAIzJ,EAAS7J,KAAK6J,OACbyJ,IAGLzJ,EAAO2f,QACP3f,EAAO+R,YAAc,EACjB/R,EAAO+jC,UACT/jC,EAAO+jC,UAAUt6B,GAEjBzJ,EAAOoJ,IAAMK,EAEfzJ,EAAOpB,OAAO6K,IAAMA,EACpBzJ,EAAO+f,OACT,GACC,CACDlnB,IAAK,UACLsB,MAAO,WACLhE,KAAK6gC,OAAO,CAAC,WAAY,SAAU7gC,KAAKq/D,SAC1C,GACC,CACD38D,IAAK,SACLsB,MAAO,WACL,GAAKhE,KAAKyI,OAAO02D,SAA0C,IAA/Bn/D,KAAKyI,OAAO02D,QAAQz/D,OAGhD,MAAO,sGAAsGe,OAAO26C,GAAWp7C,KAAM,gBAAiBA,KAAKwvB,aAAakP,YAAa,0BACvL,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,UACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUI,cACpB/mB,MAAO,EACPqJ,IAAK,KACL6rD,QAAS,GAEb,KAEKF,CACT,CA9FmC,CA8FjC1sC,I,sBCtGF,SAASgtC,KACP,OAAO,IAAIpnB,WAAYC,gBAAgB,ugDAAwgD,iBAAiB9M,UAClkD,CCMA,IAAIk0B,GAA2B,SAAStJ,GACtC,EAAUuJ,EAAWvJ,GACrB,IAAIvvC,EAAS,EAAa84C,GAC1B,SAASA,EAAU/zD,GACjB,IAAIkb,EA0BJ,OAzBA,EAAgB5mB,KAAMy/D,GACtB74C,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1B/I,EAAgByC,EAAuBwhB,GAAQ,YAAY,SAASpmB,GAClE,IAAIomB,EAAMgqB,OAAV,CAGAhqB,EAAMsJ,eAAe1vB,EAAG,YACxB,IAAI8S,EAAMsT,EAAM4I,aAAalc,IACzBosD,EAAO,GACc,WAArBt1D,EAAKkG,OAAOgD,GACdosD,EAAOpsD,EACuB,UAArBlJ,EAAKkG,OAAOgD,IAAoBA,EAAI5T,OAAS,IACtDggE,EAAOpsD,EAAI,GAAGL,KAEhB,IAAI0sD,EAAS/4C,EAAMg5C,eAAeF,GAClC,KAAaC,GACb/4C,EAAMgqB,QAAS,EACfhqB,EAAM0hC,MAAQtgD,OAAOgE,YAAW,WAC9B4a,EAAMgqB,QAAS,EACf5oC,OAAOmE,aAAaya,EAAM0hC,OAC1B1hC,EAAM0hC,MAAQ,IAChB,GAAG,IAhBH,CAiBF,IACA1hC,EAAM0hC,MAAQ,KACd1hC,EAAMgqB,QAAS,EACRhqB,CACT,CAiEA,OAhEA,EAAa64C,EAAW,CAAC,CACvB/8D,IAAK,cACLsB,MAAO,WACL+B,EAAK1B,EAAgBo7D,EAAU7/D,WAAY,cAAeI,MAAMF,KAAKE,MACjEA,KAAKyI,OAAO8vB,UAGhBv4B,KAAK2a,YAAY,iBAAkB3a,KAAKkyB,MAAM+L,UAC9Cj+B,KAAK6/D,SAAW7/D,KAAKytB,KAAK,QAASztB,KAAKi+B,SAAU,CAChDrQ,IAAK,SAAaptB,GAChBA,EAAEi4C,iBACFj4C,EAAEgX,iBACJ,IAEFxX,KAAKX,KAAK,CAAC,QAAS,YAAaW,KAAK6/D,UACxC,GACC,CACDn9D,IAAK,gBACLsB,MAAO,WACL,MAAO,CACLi6B,SAAUshC,GAEd,GACC,CACD78D,IAAK,iBACLsB,MAAO,SAAwBsP,GAC7B,IAAKA,EAAI7D,MAAM,gBAAiB,CAC9B,IAAIqwD,EAAMryD,SAASgB,cAAc,OACjCqxD,EAAInxD,UAAY,YAAYlO,OAAO6S,EAAK,WACxCA,EAAMwsD,EAAIx0B,WAAWpjC,IACvB,CACA,OAAOoL,CACT,GACC,CACD5Q,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgBo7D,EAAU7/D,WAAY,UAAWI,MAAMF,KAAKE,MACjEA,KAAK6gC,OAAO,CAAC,QAAS,YAAa7gC,KAAKi+B,UACxCj2B,OAAOmE,aAAanM,KAAKsoD,OACzBtoD,KAAKsoD,MAAQ,IACf,GACC,CACD5lD,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAGhB,MAAO,sFAAsF93B,OAAO26C,GAAWp7C,KAAM,gBAAiBA,KAAKwvB,aAAakP,YAAa,mBACvK,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,UACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPsuB,SAAS,EAEb,KAEKknC,CACT,CAjG+B,CAiG7B5J,ICnGEkK,GAA6B,SAAS7J,GACxC,EAAU8J,EAAa9J,GACvB,IAAIvvC,EAAS,EAAaq5C,GAC1B,SAASA,IAEP,OADA,EAAgBhgE,KAAMggE,GACfr5C,EAAO5mB,MAAMC,KAAMP,UAC5B,CAmKA,OAlKA,EAAaugE,EAAa,CAAC,CACzBt9D,IAAK,eACLsB,MAAO,SAAsB0H,GACkB,mBAAlCA,EAAK7B,OAAOpB,OAAOs1B,aAC5BryB,EAAKjD,OAAO8vB,SAAW7sB,EAAK7B,OAAOpB,OAAOs1B,WAE9C,GACC,CACDr7B,IAAK,cACLsB,MAAO,WACL+B,EAAK1B,EAAgB27D,EAAYpgE,WAAY,cAAeI,MAAMF,KAAKE,MACvEA,KAAK2a,YAAY,iBAAkB3a,KAAKkyB,MAAM+tC,gBAC9C,IAAIx3D,EAASzI,KAAKyI,OAClBzI,KAAKkgE,SAAW,SAASr1C,GACnBpiB,EAAO03D,WACT13D,EAAOkM,MAAQkW,EAAKgoB,OACpBpqC,EAAOmM,OAASiW,EAAKioB,QAEzB,EACA9yC,KAAK6vB,KAAK9L,GAAc/jB,KAAKkgE,SAC/B,GACC,CACDx9D,IAAK,iBACLsB,MAAO,WACLhE,KAAKsW,OACLtW,KAAKogE,WAAapgE,KAAKogE,WAAW/gE,KAAKW,MACvCA,KAAKX,KAAK,CAAC,QAAS,YAAaW,KAAKogE,WACxC,GACC,CACD19D,IAAK,iBACLsB,MAAO,SAAwB6mB,EAAMw1C,GACnC,IAAIC,EAAW7yD,SAASgB,cAAc,KACtC6xD,EAASp4D,KAAO2iB,EAChBy1C,EAASriC,SAAWoiC,EACpB,IAAIpuD,EAAQxE,SAAS0M,YAAY,eACjClI,EAAMsuD,eAAe,SAAS,GAAM,EAAOv4D,OAAQ,EAAG,EAAG,EAAG,EAAG,GAAG,GAAO,GAAO,GAAO,EAAO,EAAG,MACjGs4D,EAASE,cAAcvuD,EACzB,GACC,CACDvP,IAAK,eACLsB,MAAO,SAAsB2Q,EAAOC,GAClC,IAAI6rD,EAAShzD,SAASgB,cAAc,UAChCiyD,EAAYD,EAAOE,WAAW,MAClC3gE,KAAK0gE,UAAYA,EACjB1gE,KAAKygE,OAASA,EACdA,EAAO9rD,MAAQA,GAAS3U,KAAKyI,OAAOkM,MACpC8rD,EAAO7rD,OAASA,GAAU5U,KAAKyI,OAAOmM,OACtC8rD,EAAUE,uBAAwB,EAC9BF,EAAUE,wBACZF,EAAUG,sBAAwB,OAEtC,GACC,CACDn+D,IAAK,aACLsB,MAAO,SAAoBxD,GACzB,IAAIomB,EAAQ5mB,KACZQ,EAAEi4C,iBACFj4C,EAAEgX,kBACFxX,KAAKkwB,eAAe1vB,EAAG,QACvBR,KAAK8gE,OAAOvzC,MAAK,SAAS1C,GACxBjE,EAAMzB,KAAKjB,GAAa2G,GACxBjE,EAAMm6C,eAAel2C,EAAMjE,EAAMne,OAAOvB,KAAO0f,EAAMne,OAAOiJ,OAC9D,GACF,GACC,CACDhP,IAAK,OACLsB,MAAO,SAAc2Q,EAAOC,GAC1B,IAAImT,EAAS/nB,KACTghE,EAASvhE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC5EwhE,QAAS,IACTz2D,KAAM,aAEJ/B,EAASzI,KAAKyI,OAAQoB,EAAS7J,KAAK6J,OACpCo3D,EAAUD,EAAOC,SAAWx4D,EAAOw4D,QACnCz2D,EAAOw2D,EAAOx2D,MAAQ/B,EAAO+B,KACjC,OAAO,IAAIyU,SAAQ,SAASC,EAASiZ,GACnC,IACIuoC,EADAD,EAAS,KAEb,GAAI52D,EAAO2W,MAAMigD,OACfA,EAAS52D,EAAO2W,MAAMigD,WACjB,CACA14C,EAAO04C,QAGV14C,EAAO04C,OAAO9rD,MAAQA,GAASlM,EAAOkM,MACtCoT,EAAO04C,OAAO7rD,OAASA,GAAUnM,EAAOmM,QAHxCmT,EAAOm5C,aAAavsD,EAAOC,GAK7B6rD,EAAS14C,EAAO04C,OAChBC,EAAY34C,EAAO24C,UACnB,IAGIS,EAAIC,EAAIC,EAAIC,EAHZC,EAAa13D,EAAO2W,MAAM8wB,WAAaznC,EAAO2W,MAAMywB,YACpDuwB,EAAcf,EAAO9rD,MAAQ8rD,EAAO7rD,OACpC6sD,EAAK,EAAGC,EAAK,EAAGC,EAAK93D,EAAO2W,MAAM8wB,WAAYswB,EAAK/3D,EAAO2W,MAAMywB,YAEhEswB,EAAaC,GACfH,EAAKZ,EAAO9rD,MACZ2sD,EAAKb,EAAO9rD,MAAQ4sD,EACpBJ,EAAK,EACLC,EAAK10D,KAAKkF,OAAO6uD,EAAO7rD,OAAS0sD,GAAM,IAC9BC,IAAeC,GACxBH,EAAKZ,EAAO9rD,MACZ2sD,EAAKb,EAAO7rD,OACZusD,EAAK,EACLC,EAAK,GACIG,EAAaC,IACtBH,EAAKZ,EAAO7rD,OAAS2sD,EACrBD,EAAKb,EAAO7rD,OACZusD,EAAKz0D,KAAKkF,OAAO6uD,EAAO9rD,MAAQ0sD,GAAM,GACtCD,EAAK,GAEPV,EAAUmB,UAAUh4D,EAAO2W,MAAOihD,EAAIC,EAAIC,EAAIC,EAAIT,EAAIC,EAAIC,EAAIC,EAChE,CACA,IAAIruD,EAAMwtD,EAAOqB,UAAUt3D,EAAMy2D,GAAStxD,QAAQnF,EAAM,sBACxDyI,EAAMA,EAAItD,QAAQ,qBAAsB,iCACxCuP,EAAQjM,EACV,GACF,GACC,CACDvQ,IAAK,gBACLsB,MAAO,WACL,MAAO,CACLi8D,eAAgB,KAEpB,GACC,CACDv9D,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgB27D,EAAYpgE,WAAY,UAAWI,MAAMF,KAAKE,MACnEA,KAAK6gC,OAAO,CAAC,QAAS,YAAa7gC,KAAKogE,YACxCpgE,KAAK0oB,IAAI3E,GAAc/jB,KAAKkgE,SAC9B,GACC,CACDx9D,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAAhB,CAGA,IAAI7pB,EAAY1O,KAAKkyB,MAAM+tC,eAAiB,gBAAkB,yBAC1DrsC,EAAU,aACd,MAAO,8DAA8DnzB,OAAOiO,EAAW,cAAcjO,OAAOT,KAAKkyB,MAAM+tC,eAAiB,GAAK,mBAAmBx/D,OAAOT,KAAK2vB,SAASiE,GAAU,MAAMnzB,OAAOT,KAAKugB,KAAKqT,GAAU,WAAY,iCAH5O,CAIF,IACE,CAAC,CACHlxB,IAAK,aACLsD,IAAK,WACH,MAAO,YACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPg3D,QAAS,IACTz2D,KAAM,YACNkH,OAAQ,OACRiD,MAAO,IACPC,OAAQ,IACRurD,UAAU,EACV5nC,SAAS,EACTrxB,KAAM,aAEV,KAEK84D,CACT,CA1KiC,CA0K/BnK,IC3KEkM,GAA6B,WAC/B,SAASC,EAAYt2D,GACnB,EAAgB1L,KAAMgiE,GACtBhiE,KAAKyI,OAASiD,EAAKjD,OACnBzI,KAAK6yB,OAASnnB,EAAKgP,KACnB1a,KAAK0a,KAAOtQ,EAAKgE,UAAU,KAAM,GAAI,CAAC,EAAG,wCAAwC3N,OAAOT,KAAKyI,OAAOiG,YACpGhD,EAAKgP,KAAKC,YAAY3a,KAAK0a,MAC3B,IAAIunD,EAAYjiE,KAAKyI,OAAOw5D,UACxBA,GACFjiE,KAAKszB,SAAS,CACZ2uC,cAGJjiE,KAAKkiE,YAAcliE,KAAKkiE,YAAY7iE,KAAKW,MACzCA,KAAKmiE,iBACL,IAAIpuD,EAA+B,WAAnBuI,EAAQC,OAAsB,WAAa,QAC3Dvc,KAAKoiE,WAAa7vC,GAAO0B,SAASn0B,KAAKE,KAAMA,KAAK0a,KAAM,KAAM3G,EAAW/T,KAAKkiE,YAChF,CA+FA,OA9FA,EAAaF,EAAa,CAAC,CACzBt/D,IAAK,iBACLsB,MAAO,SAAwB6mB,GAC7B,IAAIjE,EAAQ5mB,KACRyI,EAASzI,KAAKyI,OAAQiS,EAAO1a,KAAK0a,KAClCmQ,EACFpiB,EAAOoiB,KAAOA,EAEdA,EAAOpiB,EAAOoiB,KAEZpiB,EAAOuM,OACT7V,OAAO2C,KAAK2G,EAAOuM,OAAOzE,KAAI,SAAS7N,GACrCgY,EAAK1F,MAAMtS,GAAO+F,EAAO/F,EAC3B,IAEEmoB,EAAKnrB,OAAS,IAChBM,KAAKqiE,SAAWljE,OAAO2C,KAAK+oB,EAAK,KAEnC7qB,KAAK0a,KAAK/L,UAAY,GACtBkc,EAAKta,KAAI,SAAS3B,EAAM3E,GACtB,IAAIyE,EAAYE,EAAK0zD,SAAW,uBAAyB,cACzD1zD,EAAK,cAAgB3E,EACrB2c,EAAMlM,KAAKC,YAAYvQ,EAAKgE,UAAU,KAAM,SAAS3N,OAAOmO,EAAK2zD,SAAU,WAAY3zD,EAAMF,GAC/F,GACF,GACC,CACDhM,IAAK,cACLsB,MAAO,SAAqBxD,GACrBA,EAAEgiE,iBACLhiE,EAAEgiE,eAAiBhiE,EAAE+B,QAEvB,IAAIA,EAAS/B,EAAEgiE,eACf,GAAIjgE,GAAU6H,EAAKiF,SAAS9M,EAAQ,YAClC,OAAO,EAET,IAAIkgE,EAAoD,oBAA5BziE,KAAKyI,OAAOy5D,YAA6BliE,KAAKyI,OAAOy5D,YAAc,KAC3FQ,EAAc1iE,KAAK0a,KAAK/J,cAAc,aAC1CvG,EAAK+E,SAAS5M,EAAQ,YACtBmgE,GAAet4D,EAAK0F,YAAY4yD,EAAa,YAC7CD,EAAejiE,EAAG,CAChBqG,KAAM67D,EAAc1iE,KAAK2iE,WAAWD,EAAa1iE,KAAKqiE,UAAY,KAClE57B,GAAIzmC,KAAK2iE,WAAWpgE,EAAQvC,KAAKqiE,WAErC,GACC,CACD3/D,IAAK,aACLsB,MAAO,SAAoBwK,EAAK1M,GAC9B,IAAK0M,IAAQ1M,EACX,MAAO,CAAC,EAEV,IAAIkB,EAAM,CAAC,EACXlB,EAAKyO,KAAI,SAAS7N,GAChBM,EAAIN,GAAO8L,EAAIb,aAAajL,EAC9B,IACA,IAAIuH,EAAQuE,EAAIb,aAAa,cAI7B,OAHI1D,IACFjH,EAAIiH,MAAQpC,OAAOoC,IAEdjH,CACT,GACC,CACDN,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,QAC5BtQ,EAAK+E,SAASnP,KAAK0a,KAAM,SAC3B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,UAC5BtQ,EAAK+E,SAASnP,KAAK0a,KAAM,OAC3B,GACC,CACDhY,IAAK,WACLsB,MAAO,SAAkBgR,GACvB,IAAI+S,EAAS/nB,KACbb,OAAO2C,KAAKkT,GAAOvS,SAAQ,SAASC,GAClCqlB,EAAOrN,KAAK1F,MAAMtS,GAAOsS,EAAMtS,EACjC,GACF,GACC,CACDA,IAAK,UACLsB,MAAO,WACDhE,KAAKoiE,aACPpiE,KAAKoiE,WAAW7xD,KAAI,SAAS3B,GAC3BA,EAAK0hB,SAAW1hB,EAAK0hB,SACvB,IACAtwB,KAAKoiE,WAAa,MAEpBpiE,KAAK0a,KAAK/L,UAAY,KACtB3O,KAAK6yB,OAAOxJ,YAAYrpB,KAAK0a,MAC7B1a,KAAK0a,KAAO,IACd,KAEKsnD,CACT,CAjHiC,GCE7BY,GAAa,CACfC,KAAM,OACNC,OAAQ,UAENC,GAAe,CACjB3e,MAAO,QACP4e,MAAO,SAET,SAASC,GAAiBC,EAAUxrC,GAClC,OAAIwrC,IAAaN,GAAWC,KACnBnrC,IAAa9G,GAAUI,cAAgB,4BAA8B,6BAErE,EAEX,CACA,IAAImyC,GAA+B,WAAnB7mD,EAAQC,OACpB6mD,GAA8B,SAAS3vC,GACzC,EAAU4vC,EAAc5vC,GACxB,IAAI9M,EAAS,EAAa08C,GAC1B,SAASA,EAAa33D,GACpB,IAAIkb,EAuCJ,OAtCA,EAAgB5mB,KAAMqjE,GACtBz8C,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1B/I,EAAgByC,EAAuBwhB,GAAQ,WAAW,SAASpmB,GACjEA,EAAEgX,kBACFoP,EAAMzB,KAAK,kBAAmB,CAC5B4I,WAAYnH,EAAMmH,aAEpBnH,EAAM08C,kBAAkB9iE,EAC1B,IACAmC,EAAgByC,EAAuBwhB,GAAQ,qBAAqB,SAASpmB,GAC3EA,EAAEgX,kBACF,IAAI+rD,EAAa38C,EAAMne,OAAO86D,WAC1BA,IAAeR,GAAa3e,MAC9Bx9B,EAAM48C,QAAQ58C,EAAMqT,UAEpBrT,EAAM48C,QAAO,EAEjB,IACA7gE,EAAgByC,EAAuBwhB,GAAQ,WAAW,SAASpmB,GACjEA,EAAEgX,kBACFoP,EAAMzB,KAAK,kBAAmB,CAC5B4I,WAAYnH,EAAMmH,aAEhBnH,EAAMne,OAAOy6D,WAAaN,GAAWC,MACvCj8C,EAAMqT,UAAYrT,EAAM48C,QAAO,EAEnC,IACA7gE,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACrEomB,EAAM68C,UAAY,CACpB,IACA9gE,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACrEomB,EAAM68C,UAAY,EAClB78C,EAAMqT,UAAYrT,EAAM48C,QAAO,EACjC,IACA58C,EAAM88C,SAAU,EAChB98C,EAAMqT,UAAW,EACjBrT,EAAM+8C,SAAW,KACjB/8C,EAAMopC,SAAW,EACVppC,CACT,CA8OA,OA7OA,EAAay8C,EAAc,CAAC,CAC1B3gE,IAAK,aACLsB,MAAO,SAAoBA,GACzBhE,KAAKmiE,eAAeniE,KAAKyI,OAAO6B,KAAMtK,KAAKgwD,SAC7C,GACC,CACDttD,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACTyI,EAASzI,KAAKyI,OAClBzI,KAAK65C,YACDspB,IAAa16D,EAAOy6D,WAAaN,GAAWE,SAC9Cr6D,EAAOy6D,SAAWN,GAAWC,MAE/Bp6D,EAAOm7D,cAAgBx5D,EAAK+E,SAASnP,KAAK0a,KAAM,YAChD1a,KAAKsoB,GAAG,CAACvE,GAAcR,KAAoB,WACzCwE,EAAO87C,aACT,IACA7jE,KAAK6vB,KAAK/N,IAAS,WACbrZ,EAAO6B,MAAQ7B,EAAO6B,KAAK5K,OAAS,IACtCqoB,EAAOo6C,eAAe15D,EAAO6B,MAC7Byd,EAAOzR,OAEX,IACA6sD,IAAanjE,KAAKsoB,GAAG1F,IAAc,WAC5BmF,EAAOkS,WAGZlS,EAAO+7C,aAAe/7C,EAAO+7C,YAAY1tD,OACzC2R,EAAOkS,UAAW,EACpB,IACIkpC,IACF16D,EAAO86D,WAAaR,GAAa3e,MACjCpkD,KAAK+jE,YAAc,YAEnB/jE,KAAK+jE,YAAct7D,EAAO86D,aAAeR,GAAa3e,MAAQ,QAAU,aAEtE37C,EAAO86D,aAAeR,GAAa3e,MACrCpkD,KAAKX,KAAKW,KAAK+jE,YAAa/jE,KAAKsjE,oBAEjCtjE,KAAKX,KAAKW,KAAK+jE,YAAa/jE,KAAKgkE,SACjChkE,KAAKX,KAAK,aAAcW,KAAKikE,UAE/BjkE,KAAK0jE,SAAW1jE,KAAKX,KAAK,QAASW,KAAKkkE,YAC1C,GACC,CACDxhE,IAAK,YACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACTkyB,EAAQlyB,KAAKkyB,MACb/wB,EAAKhC,OAAO2C,KAAKowB,GACjBiyC,GAAW,EACXhjE,EAAGzB,OAAS,IACdyB,EAAGsB,SAAQ,SAASC,GAClBslB,EAAOrN,YAAY,iBAAkBuX,EAAMxvB,KAC1CyhE,IAAaA,EAAWjyC,EAAMxvB,GACjC,IACA1C,KAAK0jE,QAAUS,GAEbA,IAGJnkE,KAAK2a,YAAY,iBAAkBvQ,EAAKgE,UAAU,OAAQ,GAAI,CAAC,EAAG,cAClEhE,EAAK+E,SAASnP,KAAK20B,KAAK,kBAAmB,YAC7C,GACC,CACDjyB,IAAK,OACLsB,MAAO,YACAhE,KAAKyI,OAAO6B,MAAQtK,KAAKyI,OAAO6B,KAAK5K,OAAS,GAGnD0K,EAAK+E,SAASnP,KAAK0a,KAAM,OAC3B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,OAC9B,GACC,CACDhY,IAAK,gBACLsB,MAAO,SAAuB4K,EAAMlM,EAAK8K,GACvC,QAAa,IAAToB,EACF,MAAO,GAET,IAAItE,EAAOtK,KAAKyI,OAAO6B,MACtBkD,IAASA,EAAOxN,KAAK6J,OAAO2D,MAC7B9K,GAAOA,GAAO0H,EAAKmM,YAAY3H,EAAKlM,IAAQ,OAASA,EACrC,kBAATkM,IAAsBA,EAAOtE,EAAKsE,IACzC,IACE,MAA2B,WAAvB7L,EAAQ6L,EAAKlM,IACRkM,EAAKlM,GAAK8K,IAASoB,EAAKlM,GAAKwhC,GAE7Bt1B,EAAKlM,EAEhB,CAAE,MAAO0M,GAEP,OADAnG,QAAQX,KAAK8G,GACN,EACT,CACF,GACC,CACD1M,IAAK,SACLsB,MAAO,SAAgBi2B,GACrB,GAAIA,IAAaj6B,KAAKi6B,SAAtB,CAEA,IAAIlT,EAAW/mB,KAAK6J,OAAOkd,SACvBm8C,EAAWljE,KAAKyI,OAAOy6D,SACvBjpC,GACFipC,IAAaN,GAAWC,KAAO97C,EAAS4Z,OAAS5Z,EAASiZ,QAC1DhgC,KAAK8jE,aAAe9jE,KAAK8jE,YAAYxtD,SAErC4sD,IAAaN,GAAWC,KAAO97C,EAASiZ,QAAUjZ,EAASq9C,cAC3DpkE,KAAK8jE,aAAe9jE,KAAK8jE,YAAY1tD,QAEvCpW,KAAKi6B,SAAWA,CAVR,CAWV,GACC,CACDv3B,IAAK,cACLsB,MAAO,SAAqBxD,EAAGqqB,GAC7BrqB,EAAEgX,kBACF,IAAI2oB,EAAengC,KAAKyI,OAAQy6D,EAAW/iC,EAAa+iC,SAAU54D,EAAO61B,EAAa71B,KACtFtK,KAAKgwD,SAAWnlC,EAAK4b,GAAGx8B,MACxBjK,KAAKqkE,QAAU/5D,EAAKtK,KAAKgwD,UACzBhwD,KAAKskE,oBACL,IAAIC,EAAkBvkE,KAAKyI,OAAO87D,iBACjCA,GAAmBpB,IAAaD,IAAaN,GAAWC,OAAS7iE,KAAKwjE,QAAO,EAChF,GACC,CACD9gE,IAAK,cACLsB,MAAO,SAAqBxD,GAC5B,GACC,CACDkC,IAAK,oBACLsB,MAAO,WACL,IAAIhE,KAAK0jE,QAAT,CAGA,IAAIp5D,EAAOtK,KAAKyI,OAAO6B,KACnBL,EAAQjK,KAAKgwD,SAAW1lD,EAAK5K,OAASM,KAAKgwD,SAAW,EACtDqU,EAAU/5D,EAAKL,GACdo6D,IAELrkE,KAAK20B,KAAK,cAAchmB,UAAY3O,KAAKwkE,cAAcH,EAAS,YANhE,CAOF,GACC,CACD3hE,IAAK,iBACLsB,MAAO,SAAwBygE,EAAUzU,GACvC,IAAI/nC,EAASjoB,KACTyI,EAASzI,KAAKyI,OAAQq7D,EAAc9jE,KAAK8jE,YAAaj6D,EAAS7J,KAAK6J,OAKxE,GAJwB,kBAAbmmD,IACThwD,KAAKgwD,SAAWA,EAChBhwD,KAAKqkE,QAAU57D,EAAO6B,KAAK0lD,IAEzB8T,EAGF,OAFAA,EAAY3B,eAAesC,QAC3BzkE,KAAKskE,oBAGP,IAAI15D,EAAU,CACZnC,OAAQ,CACNoiB,KAAM45C,GAAY,GAClB/1D,UAAWu0D,GAAiBx6D,EAAOy6D,SAAUz6D,EAAOivB,UACpDwqC,YAAa,SAAqB1hE,EAAGqqB,GACnC5C,EAAOi6C,YAAY1hE,EAAGqqB,EACxB,GAEFnQ,KAAMjS,EAAOy6D,WAAaN,GAAWC,KAAOh5D,EAAOk/B,gBAAkBl/B,EAAO6Q,KAAO1a,KAAK0a,MAE1F,GAAI1a,KAAKyI,OAAO05C,WAAY,CAC1B,IAAIuiB,EAAwB1kE,KAAK6J,OAAO6Q,KAAKqwB,wBAAyBn2B,EAAS8vD,EAAsB9vD,OACjG+vD,EAAQl8D,EAAOy6D,WAAaN,GAAWE,OAASluD,EAAS,GAAKA,EAC9D+vD,GAASl8D,EAAOm8D,cAClBh6D,EAAQnC,OAAOw5D,UAAY,GAAGxhE,OAAOkkE,EAAO,OAE9C3kE,KAAK8jE,YAAc,IAAI/B,GAAWn3D,GAClC5K,KAAKskE,oBACLtkE,KAAKsW,MACP,CACAtW,KAAK6jE,aACP,GACC,CACDnhE,IAAK,cACLsB,MAAO,WACL,GAAKhE,KAAKyI,OAAOm8D,YAAjB,CAGA,IAAIC,EAAyB7kE,KAAK6J,OAAO6Q,KAAKqwB,wBAAyBn2B,EAASiwD,EAAuBjwD,OACnG+vD,EAAQ3kE,KAAKyI,OAAOy6D,WAAaN,GAAWE,OAASluD,EAAS,GAAKA,EACvE5U,KAAK8jE,aAAe9jE,KAAK8jE,YAAYxwC,SAAS,CAC5C2uC,UAAW,GAAGxhE,OAAOkkE,EAAO,OAJ9B,CAMF,GACC,CACDjiE,IAAK,UACLsB,MAAO,WACL,IAAIyE,EAASzI,KAAKyI,OACdA,EAAO86D,aAAeR,GAAa3e,MACrCpkD,KAAK6gC,OAAO7gC,KAAK+jE,YAAa/jE,KAAKsjE,oBAEnCtjE,KAAK6gC,OAAO7gC,KAAK+jE,YAAa/jE,KAAKgkE,SACnChkE,KAAK6gC,OAAO,aAAc7gC,KAAKikE,UAEjCjkE,KAAK0jE,SAAW1jE,KAAK6gC,OAAO,QAAS7gC,KAAKkkE,aACtClkE,KAAK8jE,cACP9jE,KAAK8jE,YAAYxzC,UACjBtwB,KAAK8jE,YAAc,KAEvB,GACC,CACDphE,IAAK,SACLsB,MAAO,WACL,GAAKhE,KAAKyI,OAAO05C,WAGjB,MAAO,mCAAmC1hD,OAAOT,KAAKyI,OAAOiG,WAAa,GAAI,iEAChF,IACE,CAAC,CACHhM,IAAK,aACLsD,IAAK,WACH,MAAO,aACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,IACPK,KAAM,GACN44D,SAAU,SACV4B,UAAW,CAAC,EACZlB,cAAc,EACdzhB,YAAY,EACZoiB,iBAAiB,EACjBhB,WAAYR,GAAaC,MACzB4B,aAAa,EAEjB,KAEKvB,CACT,CA3RkC,CA2RhC9wC,IC5SEwyC,GAAiC,SAASC,GAC5C,EAAUC,EAAiBD,GAC3B,IAAIr+C,EAAS,EAAas+C,GAC1B,SAASA,EAAgBv5D,GACvB,IAAIkb,EAKJ,OAJA,EAAgB5mB,KAAMilE,GACtBr+C,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1Bkb,EAAM8lB,QAAU,EAChB9lB,EAAM+lB,UAAW,EACV/lB,CACT,CAiJA,OAhJA,EAAaq+C,EAAiB,CAAC,CAC7BviE,IAAK,eACLsB,MAAO,SAAsB0H,GAC3B,IAAIpB,EAAOoB,EAAKjD,OAAO6B,KACnB/J,MAAMmG,QAAQ4D,IAASA,EAAK5K,OAAS,IACvCgM,EAAKjD,OAAO6B,KAAOA,EAAKiG,KAAI,SAAS3B,GAOnC,OANKA,EAAK+H,MAAQ/H,EAAK1H,OACrB0H,EAAK+H,KAAO/H,EAAK1H,MAEd0H,EAAK+H,OACR/H,EAAK+H,KAAO/H,EAAK0vB,YAEZ1vB,CACT,IAEJ,GACC,CACDlM,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACb+F,EAAK1B,EAAgB4gE,EAAgBrlE,WAAY,cAAeI,MAAMF,KAAKE,MAC3EA,KAAKsoB,GAAG,iBAAiB,SAAShe,GAChCyd,EAAOm9C,qBAAqB56D,EAC9B,IACAtK,KAAKsoB,GAAG5E,IAAmB,SAASmH,GAClC9C,EAAOo6C,eAAep6C,EAAOtf,OAAO6B,KAAMugB,EAAK4b,GACjD,IACIzmC,KAAK6J,OAAOs7D,eAAezlE,OAAS,GACtCM,KAAKoW,MAET,GACC,CACD1T,IAAK,OACLsB,MAAO,YACAhE,KAAKyI,OAAO6B,MAAQtK,KAAKyI,OAAO6B,KAAK5K,OAAS,GAGnD0K,EAAK+E,SAASnP,KAAK0a,KAAM,OAC3B,GACC,CACDhY,IAAK,iBACLsB,MAAO,WACL,IAAIm8B,EAAengC,KAAKyI,OAAQ6B,EAAO61B,EAAa71B,KAAMq/B,EAAoBxJ,EAAawJ,kBAC3F,GAAIr/B,EAAK5K,OAAS,EAAG,CACnB,IAAI+mC,EAAK,KACTn8B,EAAKiG,KAAI,SAAS3B,GACZA,EAAK0vB,aAAeqL,IACtBlD,EAAK73B,EAET,IACK63B,IACHA,EAAKn8B,EAAK,IAEZtK,KAAK0zC,iBAAiBjN,EACxB,CACF,GACC,CACD/jC,IAAK,iBACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACTsK,EAAO7K,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAKO,KAAKyI,OAAO6B,MAAQ,GAC5Fm8B,EAAKhnC,UAAUC,OAAS,EAAID,UAAU,QAAK,EAC3C+zC,EAAY/M,GAAMA,EAAGnI,WAAamI,EAAGnI,WAAat+B,KAAKyI,OAAOkhC,kBAC9DlD,GACFn8B,EAAK7H,SAAQ,SAASmM,GACpBA,EAAK0zD,UAAW,CAClB,IAEF,IAAItS,EAAW,EACXoV,EAAQ96D,EAAKiG,KAAI,SAAS3B,EAAM3E,GAClC,IAAIo7D,EAAW/iE,EAAeA,EAAe,CAAC,EAAGsM,GAAO,CAAC,EAAG,CAC1D2zD,SAAUv6C,EAAOw8C,cAAc51D,IAASA,EAAK0vB,WAC7CgkC,UAAU,IAMZ,OAJI1zD,EAAK0zD,UAAY1zD,EAAK0vB,YAAc1vB,EAAK0vB,YAAckV,KACzD6xB,EAAS/C,UAAW,EACpBtS,EAAW/lD,GAENo7D,CACT,IACAt/D,EAAK1B,EAAgB4gE,EAAgBrlE,WAAY,iBAAkBI,MAAMF,KAAKE,KAAMolE,EAAOpV,EAC7F,GACC,CACDttD,IAAK,uBACLsB,MAAO,SAA8BsG,GAC9B/J,MAAMmG,QAAQ4D,KAGnBtK,KAAKyI,OAAO6B,KAAOA,EAAKiG,KAAI,SAAS3B,GAOnC,OANKA,EAAK+H,MAAQ/H,EAAK1H,OACrB0H,EAAK+H,KAAO/H,EAAK1H,MAEd0H,EAAK+H,OACR/H,EAAK+H,KAAO/H,EAAK0vB,YAEZ1vB,CACT,IACA5O,KAAKmiE,iBACLniE,KAAKyI,OAAO6B,KAAK5K,OAAS,EAAIM,KAAKoW,OAASpW,KAAKsW,OACnD,GACC,CACD5T,IAAK,mBACLsB,MAAO,SAA0ByiC,EAAI5/B,GACnC7G,KAAK6J,OAAO6pC,iBAAiBjN,EAAI5/B,EACnC,GACC,CACDnE,IAAK,cACLsB,MAAO,SAAqBxD,EAAGqqB,GAC7B,IAAIs6C,EAAiBnlE,KAAK6J,OAAOs7D,eACjCp/D,EAAK1B,EAAgB4gE,EAAgBrlE,WAAY,cAAeI,MAAMD,MAAMC,KAAMP,WAClFO,KAAKkwB,eAAe1vB,EAAG,oBAAqB,CAC1CqG,KAAMgkB,EAAKhkB,KACX4/B,GAAI5b,EAAK4b,KAEX,IAAK,IAAI5lC,EAAI,EAAGA,EAAIskE,EAAezlE,OAAQmB,IACrCgqB,EAAK4b,IAAM0+B,EAAetkE,GAAGy9B,aAAezT,EAAK4b,GAAGnI,aACtDzT,EAAK4b,GAAGnzB,IAAM6xD,EAAetkE,GAAGyS,KAE9BuX,EAAKhkB,MAAQs+D,EAAetkE,GAAGy9B,aAAezT,EAAKhkB,KAAKy3B,aAC1DzT,EAAKhkB,KAAKyM,IAAM6xD,EAAetkE,GAAGyS,KAGtCtT,KAAK6J,OAAO6pC,iBAAiB7oB,EAAK4b,GAAI5b,EAAKhkB,KAC7C,IACE,CAAC,CACHnE,IAAK,aACLsD,IAAK,WACH,MAAO,YACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,OAAO1D,EAAeA,EAAe,CAAC,EAAG8gE,GAAY5qC,eAAgB,CAAC,EAAG,CACvEd,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPK,KAAM,GACNq/B,kBAAmB,GACnBpR,SAAS,EACTqrC,cAAc,EACdl1D,UAAW,sBACXyzC,YAAY,GAEhB,KAEK8iB,CACT,CA5JqC,CA4JnC7B,IC5JEkC,GAA+B,SAASN,GAC1C,EAAUO,EAAeP,GACzB,IAAIr+C,EAAS,EAAa4+C,GAC1B,SAASA,EAAc75D,GACrB,IAAIkb,EAIJ,OAHA,EAAgB5mB,KAAMulE,GACtB3+C,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1Bkb,EAAM4+C,QAAU,EACT5+C,CACT,CA0HA,OAzHA,EAAa2+C,EAAe,CAAC,CAC3B7iE,IAAK,eACLsB,MAAO,SAAsB0H,GAC3B,IAAIya,EAAeza,EAAK7B,OAAOpB,OAAO0d,aAClC7b,EAAQ6b,EAAoB5lB,MAAMmG,QAAQyf,GAAgBA,EAAeza,EAAKjD,OAAO6B,KAA9D,GACvB/J,MAAMmG,QAAQ4D,KAChBoB,EAAKjD,OAAO6B,KAAOA,EAAKiG,KAAI,SAAS3B,GASnC,MARoB,kBAATA,EACTA,EAAO,CACLub,KAAMvb,EACN+H,KAAM,GAAGlW,OAAOmO,EAAM,OAEdA,EAAK+H,MAAQ/H,EAAKub,OAC5Bvb,EAAK+H,KAAO,GAAGlW,OAAOmO,EAAKub,KAAM,MAE5Bvb,CACT,IAEJ,GACC,CACDlM,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACb+F,EAAK1B,EAAgBkhE,EAAc3lE,WAAY,cAAeI,MAAMF,KAAKE,MACzEA,KAAKsoB,GAAGlG,IAAa,WACf2F,EAAO47C,WAAa57C,EAAOle,OAAOsc,cAGtC4B,EAAOo6C,gBACT,IACAniE,KAAKmiE,gBACP,GACC,CACDz/D,IAAK,OACLsB,MAAO,WACAhE,KAAKyI,OAAO6B,MAAoC,IAA5BtK,KAAKyI,OAAO6B,KAAK5K,QAG1CqG,EAAK1B,EAAgBkhE,EAAc3lE,WAAY,OAAQI,MAAMF,KAAKE,KACpE,GACC,CACD0C,IAAK,cACLsB,MAAO,SAAqBxD,EAAGqqB,GAC7B9kB,EAAK1B,EAAgBkhE,EAAc3lE,WAAY,cAAeI,MAAMD,MAAMC,KAAMP,WAChF,IAAI8C,EAAS/B,EAAEgiE,eACXr4C,EAAOtiB,OAAOtF,EAAOoL,aAAa,SACtC,IAAKwc,GAAQA,IAASnqB,KAAK2jE,SACzB,OAAO,EAET,IAAIlgE,EAAQ,CACV0iB,aAAc,CACZtf,KAAM7G,KAAK6J,OAAOsc,aAClBsgB,GAAItc,IAGRnqB,KAAKkwB,eAAe1vB,EAAG,cAAe,CACpCiD,UAEFzD,KAAK2jE,SAAWx5C,EAChBnqB,KAAK6J,OAAOsc,aAAegE,CAC7B,GACC,CACDznB,IAAK,iBACLsB,MAAO,WACL,IAAIgkB,EAAShoB,KACTmmB,EAAenmB,KAAK6J,OAAOsc,cAAgB,EAC/CnmB,KAAK2jE,SAAWx9C,EAChB,IAAI6pC,GAAY,EACZoV,EAAQplE,KAAKyI,OAAO6B,KAAKiG,KAAI,SAAS3B,EAAM3E,GAC9C,IAAIw7D,EAAW,CACbt7C,KAAMvb,EAAKub,MAOb,OALIs7C,EAASt7C,OAAShE,IACpBs/C,EAASnD,UAAW,EACpBtS,EAAW/lD,GAEbw7D,EAASlD,SAAWv6C,EAAOw8C,cAAc51D,GAClC62D,CACT,IACA1/D,EAAK1B,EAAgBkhE,EAAc3lE,WAAY,iBAAkBI,MAAMF,KAAKE,KAAMolE,EAAOpV,EAC3F,GACC,CACDttD,IAAK,oBACLsB,MAAO,WACL,IAAIhE,KAAK0jE,QAAT,CAGA,IAAIp5D,EAAOtK,KAAKyI,OAAO6B,KACnBL,EAAQjK,KAAKgwD,SAAW1lD,EAAK5K,OAASM,KAAKgwD,SAAW,EACtDqU,EAAU/5D,EAAKL,GACfy7D,EAAQ,GAEVA,GADGrB,GAAWrkE,KAAKgwD,SAAW,EACtB,GAAGvvD,OAAOT,KAAK6J,OAAOsc,aAAc,KAEpCnmB,KAAKwkE,cAAcH,EAAS,YAEtCrkE,KAAK20B,KAAK,cAAchmB,UAAY+2D,CAVpC,CAWF,GACC,CACDhjE,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgBkhE,EAAc3lE,WAAY,UAAWI,MAAMF,KAAKE,KACvE,IACE,CAAC,CACH0C,IAAK,aACLsD,IAAK,WACH,MAAO,cACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,OAAO1D,EAAeA,EAAe,CAAC,EAAG8gE,GAAY5qC,eAAgB,CAAC,EAAG,CACvEd,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPK,KAAM,CAAC,EAAG,IAAK,EAAG,IAAM,IACxBoE,UAAW,wBACXyzC,YAAY,EACZyhB,cAAc,GAElB,KAEK2B,CACT,CApImC,CAoIjCnC,IC1IF,SAASuC,KACP,OAAO,IAAIxtB,WAAYC,gBAAgB,uZAGtC,iBAAiB9M,UACpB,CCLA,SAASs6B,KACP,OAAO,IAAIztB,WAAYC,gBAAgB,kYAAmY,iBAAiB9M,UAC7b,CCOA,IAAIu6B,GAAgC,SAAS3P,GAC3C,EAAU4P,EAAgB5P,GAC1B,IAAIvvC,EAAS,EAAam/C,GAC1B,SAASA,IAEP,OADA,EAAgB9lE,KAAM8lE,GACfn/C,EAAO5mB,MAAMC,KAAMP,UAC5B,CAsHA,OArHA,EAAaqmE,EAAgB,CAAC,CAC5BpjE,IAAK,eACLsB,MAAO,SAAsB0H,GACqB,mBAArCA,EAAK7B,OAAOpB,OAAO01B,gBAC5BzyB,EAAKjD,OAAO8vB,SAAW7sB,EAAK7B,OAAOpB,OAAO01B,cAE9C,GACC,CACDz7B,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACZ+F,EAAK1B,EAAgByhE,EAAelmE,WAAY,cAAeI,MAAMF,KAAKE,MACtEA,KAAKyI,OAAO8vB,UAGZv4B,KAAKyI,OAAOlG,SACdvC,KAAKwvB,aAAasO,iBAAmB99B,KAAKyI,OAAOlG,QAEnDvC,KAAK65C,YACL75C,KAAKsoB,GAAG9E,IAAuB,SAASuiD,GACtCn/C,EAAMi0B,QAAQkrB,EAChB,IACA/lE,KAAKo2D,SAAWp2D,KAAKo2D,SAAS/2D,KAAKW,MACnCA,KAAKgmE,oBAAsBhmE,KAAKytB,KAAK,uBAAwBztB,KAAKo2D,SAAU,CAC1ExoC,IAAK,SAAaptB,GAChBA,EAAEi4C,iBACFj4C,EAAEgX,iBACJ,IAEFxX,KAAKX,KAAK,CAAC,QAAS,YAAaW,KAAKgmE,qBACxC,GACC,CACDtjE,IAAK,YACLsB,MAAO,WACL,IAAIkuB,EAAQlyB,KAAKkyB,MACb+zC,EAAcjmE,KAAK20B,KAAK,kBAC5BsxC,EAAYtrD,YAAYuX,EAAMiM,eAC9B8nC,EAAYtrD,YAAYuX,EAAM8U,kBAChC,GACC,CACDtkC,IAAK,WACLsB,MAAO,SAAkBxD,GACvBA,EAAEi4C,iBACFj4C,EAAEgX,kBACF,IAAIuuD,EAAkB/lE,KAAK6J,OAAOk8D,gBAClC/lE,KAAKkwB,eAAe1vB,EAAG,uBAAwB,CAC7CumC,cAAeg/B,IAEZA,EAGH/lE,KAAK6J,OAAOm9B,oBAFZhnC,KAAK6J,OAAOytD,kBAIhB,GACC,CACD50D,IAAK,UACLsB,MAAO,SAAiBoiC,GACjBpmC,KAAK0a,OAGV0rB,EAAepmC,KAAKqzB,QAAQ,aAAc,QAAUrzB,KAAKqzB,QAAQ,aAAc,UAC/ErzB,KAAKkmE,WAAW9/B,GAClB,GACC,CACD1jC,IAAK,aACLsB,MAAO,SAAoBoiC,GACzB,IAAIzW,EAAW3vB,KAAK2vB,SAChB0mC,EAASr2D,KAAK20B,KAAK,YACvB0hC,GAAUr2D,KAAKs2D,kBAAkBD,EAAQjwB,EAAezW,EAASoT,uBAAyBpT,EAASmT,mBACrG,GACC,CACDpgC,IAAK,gBACLsB,MAAO,WACL,MAAO,CACLm6B,cAAe,CACb7M,KAAMq0C,GACNp0C,MAAO,kBAETyV,kBAAmB,CACjB1V,KAAMs0C,GACNr0C,MAAO,mBAGb,GACC,CACD7uB,IAAK,UACLsB,MAAO,WACL+B,EAAK1B,EAAgByhE,EAAelmE,WAAY,UAAWI,MAAMF,KAAKE,MACtEA,KAAK6gC,OAAO,CAAC,QAAS,YAAa7gC,KAAKo2D,SAC1C,GACC,CACD1zD,IAAK,SACLsB,MAAO,WACL,IAAIhE,KAAKyI,OAAO8vB,QAGhB,MAAO,gGAGP93B,OAAO26C,GAAWp7C,KAAM,qBAAsBA,KAAKwvB,aAAakP,YAAa,mBAC/E,IACE,CAAC,CACHh8B,IAAK,aACLsD,IAAK,WACH,MAAO,eACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0xB,SAAU9G,GAAUM,eACpBjnB,MAAO,EACPsuB,SAAS,EACTh2B,OAAQ,KAEZ,KAEKujE,CACT,CA7HoC,CA6HlCjQ,ICjIEsQ,GAA8B,SAAS1yC,GACzC,EAAU2yC,EAAc3yC,GACxB,IAAI9M,EAAS,EAAay/C,GAC1B,SAASA,IAEP,OADA,EAAgBpmE,KAAMomE,GACfz/C,EAAO5mB,MAAMC,KAAMP,UAC5B,CA6DA,OA5DA,EAAa2mE,EAAc,CAAC,CAC1B1jE,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACZA,KAAKg6C,aAAeh6C,KAAKytB,KAAK,aAAcztB,KAAKqmE,WAAY,CAC3Dz4C,IAAK,SAAaptB,GAChBA,EAAEi4C,iBACFj4C,EAAEgX,iBACJ,IAEFxX,KAAKgtC,QAAUhtC,KAAKytB,KAAK,YAAaztB,KAAKsmE,aAC3CtmE,KAAKX,KAAK,0BAA2B,QAASW,KAAKg6C,cACnDh6C,KAAKsoB,GAAG7G,IAAO,SAASpZ,GACtBue,EAAMomB,QAAQ3kC,EAChB,GACF,GACC,CACD3F,IAAK,aACLsB,MAAO,SAAoBxD,GACzBR,KAAKkwB,eAAe1vB,EAAG,cAAe,CAAC,GACvCR,KAAK6J,OAAO08D,OACd,GACC,CACD7jE,IAAK,cACLsB,MAAO,WACL,IAAIqE,EAAQ5I,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC1EoK,EAAS7J,KAAK6J,OACdW,EAAOnC,EAAM2X,UACbwmD,EAAY38D,EAAO28D,UAAYxmE,KAAKugB,KAAK1W,EAAO28D,WAAa,GACjE,IAAKA,EACH,OAAQh8D,GACN,IAAK,UACHg8D,EAAYxmE,KAAKugB,KAAK6hB,iBACtB,MACF,IAAK,UACHokC,EAAYxmE,KAAKugB,KAAK4hB,kBACtB,MACF,QACEqkC,EAAYxmE,KAAKugB,KAAK8hB,4BAG5BriC,KAAK20B,KAAK,wBAAwBhmB,UAAY63D,EAC9CxmE,KAAK20B,KAAK,wBAAwBhmB,UAAY,GAAGlO,OAAOT,KAAKugB,KAAKijB,aAAc,yCAAyC/iC,OAAOT,KAAKugB,KAAKkjB,QAAS,UACrJ,GACC,CACD/gC,IAAK,UACLsB,MAAO,WACLhE,KAAK6gC,OAAO,0BAA2B,QAAS7gC,KAAKg6C,aACvD,GACC,CACDt3C,IAAK,SACLsB,MAAO,WACL,MAAO,sPACT,IACE,CAAC,CACHtB,IAAK,aACLsD,IAAK,WACH,MAAO,OACT,KAEKogE,CACT,CApEkC,CAoEhC7zC,ICpEEk0C,GAAyB,SAAShzC,GACpC,EAAUizC,EAASjzC,GACnB,IAAI9M,EAAS,EAAa+/C,GAC1B,SAASA,IAEP,OADA,EAAgB1mE,KAAM0mE,GACf//C,EAAO5mB,MAAMC,KAAMP,UAC5B,CAgGA,OA/FA,EAAainE,EAAS,CAAC,CACrBhkE,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACZA,KAAK2mE,WAAa,EAClB3mE,KAAK4mE,aAAe,KACpB5mE,KAAKX,KAAK,aAAc,CAAC,QAAS,aAAa,SAASmB,IAClDomB,EAAMne,OAAOkzC,SAAW/0B,EAAMigD,iBAChCrmE,EAAEi4C,iBACFj4C,EAAEgX,kBACFoP,EAAMigD,cAAgBjgD,EAAMigD,cAAcrmE,GAAKomB,EAAMne,OAAOkzC,QAAQn7C,GAExE,IACAR,KAAK6J,OAAOi9D,WAAa,WACvBlgD,EAAMtQ,KAAKvW,MAAM6mB,EAAOnnB,UAC1B,EACAO,KAAK6J,OAAOk9D,WAAa,WACvBngD,EAAMxQ,MACR,CACF,GACC,CACD1T,IAAK,WACLsB,MAAO,SAAkBgR,GACvB,IAAI+S,EAAS/nB,KACbb,OAAO2C,KAAKkT,GAAOzE,KAAI,SAAS7N,GAC9BqlB,EAAOrN,KAAK1F,MAAMtS,GAAOsS,EAAMtS,EACjC,GACF,GACC,CACDA,IAAK,OACLsB,MAAO,SAAc1C,GACnB,IAAI0mB,EAAShoB,KACTyI,EAAShJ,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC3Ek8C,EAAUl8C,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,WAC/E,EACA,GAAK6B,EAAL,CAGAtB,KAAK6mE,cAAgBlrB,EACrB,IAAIqrB,EAAWhnE,KAAKyI,OAAOu+D,SACvBhnE,KAAK2mE,aACPx6D,aAAanM,KAAK2mE,YAClB3mE,KAAK2mE,WAAa,MAEpBv8D,EAAK+E,SAASnP,KAAK0a,KAAM,QACT,UAAhBjS,EAAOwsB,MAAoB7qB,EAAK+E,SAASnP,KAAK0a,KAAM,SAElD1a,KAAK20B,KAAK,2BAA2BhmB,UADjB,kBAAXrN,EACwCA,EAEA,GAAGb,OAAOa,EAAOqV,MAAQ,IAAM,GAAGlW,OAAOa,EAAO2lE,UAAY,wBAAwBxmE,OAAOa,EAAO2lE,UAAW,QAAU,IAE1Kx+D,EAAOuM,OAAShV,KAAKszB,SAAS7qB,EAAOuM,OACrC,IAAIirB,EAAsC,mBAApBx3B,EAAOw3B,SAAyBx3B,EAAOw3B,SAAWjgC,KAAKyI,OAAOw3B,SACpF,GAAIA,EAAU,CACZ,IAAIinC,EAAez+D,EAAOu+D,UAAYA,EACtChnE,KAAK2mE,WAAa36D,YAAW,WAC3Bgc,EAAO5R,MACT,GAAG8wD,EACL,CArBA,CAsBF,GACC,CACDxkE,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,QAC5BtQ,EAAK0F,YAAY9P,KAAK0a,KAAM,SAC5B1a,KAAK0a,KAAKmO,gBAAgB,SAC1B7oB,KAAK6mE,cAAgB,IACvB,GACC,CACDnkE,IAAK,SACLsB,MAAO,WACL,MAAO,qCAAqCvD,OAAO65B,GAAYiB,gBAAiB,yEAClF,IACE,CAAC,CACH74B,IAAK,aACLsD,IAAK,WACH,MAAO,QACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLghE,SAAU,IACVhyD,MAAO,CAAC,EACRigB,KAAM,QACNgL,UAAU,EACV3+B,OAAQ,CACNqV,KAAM,GACNswD,UAAW,IAEbtrB,QAAS,WACT,EAEJ,KAEK+qB,CACT,CAvG6B,CAuG3Bn0C,ICxGE40C,GAAQ,CACV17D,KAAM,EACNkL,KAAM,GACNzK,GAAI,EACJqO,SAAU,EACVyvC,MAAO,OACPh1C,MAAO,CAAC,EACRL,MAAO,EACPC,OAAQ,GAEV,SAASwyD,GAAWC,GAClBloE,OAAO2C,KAAKqlE,IAAO52D,KAAI,SAAS7N,QACX,IAAf2kE,EAAM3kE,KACR2kE,EAAM3kE,GAAOykE,GAAMzkE,GAEvB,GACF,CACA,IAAI4kE,GAAO,CACTC,cAAe,SAAuBF,EAAOG,GAC3C,GAAKA,EAAL,CAGA,IAAIxwD,EAAMhX,KAAKynE,cAAcJ,EAAM57D,KAAM47D,EAAM9sD,UAC3CvF,EAAQqyD,EAAMryD,OAAS,CAAC,EAC5BA,EAAMorB,KAAO,GAAG3/B,OAAOuW,EAAIopB,KAAM,KACjCprB,EAAML,MAAQ,GAAGlU,OAAOuW,EAAIrC,MAAO,KACnC6yD,EAAO34D,aAAa,YAAaw4D,EAAM1wD,MACvC6wD,EAAO34D,aAAa,YAAaw4D,EAAM57D,MACnCuL,EAAIwpB,OACNp2B,EAAK+E,SAASq4D,EAAQ,QAEtBp9D,EAAK0F,YAAY03D,EAAQ,QAE3BroE,OAAO2C,KAAKkT,GAAOzE,KAAI,SAAS7N,GAC9B8kE,EAAOxyD,MAAMtS,GAAOsS,EAAMtS,EAC5B,GAdA,CAeF,EACAglE,SAAU,WACR,IAAI9gD,EAAQ5mB,KACZA,KAAK2nE,QAAQp3D,KAAI,SAAS3B,GACxBgY,EAAMghD,UAAUh5D,GAAM,EACxB,IACA5O,KAAK6nE,YAAa,CACpB,EACAD,UAAW,SAAmBP,GAC5B,IAAIS,IAAQroE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GACpE+pD,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,IAGDse,IACFV,GAAWC,GACXrnE,KAAK2nE,QAAQtlE,KAAKglE,IAEfrnE,KAAK6nE,aAAcC,GAAxB,CAGA,IAAI9wD,EAAMhX,KAAKynE,cAAcJ,EAAM57D,KAAM47D,EAAM9sD,UAC3CvF,EAAQqyD,EAAMryD,OAAS,CAAC,EAC5BA,EAAMorB,KAAO,GAAG3/B,OAAOuW,EAAIopB,KAAM,KACjCprB,EAAML,MAAQ,GAAGlU,OAAOuW,EAAIrC,MAAO,KACnC,IAAIjG,EAAY,UAAUjO,OAAO4mE,EAAMn7D,GAAI,kBAC3C8K,EAAIwpB,SAAW9xB,GAAa,SAC5B,IAAIs1B,EAAKqjC,EAAMU,SAAW,kCAAkCtnE,OAAO4mE,EAAMU,SAAU,UAAY,GAC3FP,EAASp9D,EAAKgE,UAAU,UAAW41B,EAAI,CACzC,YAAaqjC,EAAM1wD,KACnB,YAAa0wD,EAAM57D,KACnB,UAAW47D,EAAMn7D,IAChBwC,GACHvP,OAAO2C,KAAKkT,GAAOzE,KAAI,SAAS7N,GAC9B8kE,EAAOxyD,MAAMtS,GAAOsS,EAAMtS,EAC5B,IACA8mD,EAASqK,OAASrK,EAASqK,MAAMl5C,YAAY6sD,GAC7CxnE,KAAKgoE,YAAYR,EAAQH,EAAMn7D,GAjB/B,CAkBF,EACA+7D,QAAS,SAAiB/7D,GACxB,GAAKlM,KAAK6J,OAAO0kB,QAAQi7B,SAAzB,CAGA,IAAIxyC,EAAMhX,KAAK2nE,QAAQ1lE,QAAO,SAASktC,EAAKllC,GAC1C,OAAOklC,EAAIjjC,KAAOA,CACpB,IACA,OAAO8K,EAAItX,OAAS,EAAIsX,EAAI,GAAK,IAJjC,CAKF,EACAkxD,UAAW,SAAmBb,GAC5B,IAAIc,EAAW1oE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GACvE+pD,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,EAAL,CAGA,IAAI4e,EAAMpoE,KAAKioE,QAAQZ,EAAMn7D,IAM7B,GALIk8D,GACFjpE,OAAO2C,KAAKulE,GAAO92D,KAAI,SAAS7N,GAC9B0lE,EAAI1lE,GAAO2kE,EAAM3kE,EACnB,IAEG1C,KAAK6nE,WAAV,CAGA,IAAIL,EAAShe,EAAS70B,KAAK,oBAAoBl0B,OAAO4mE,EAAMn7D,GAAI,OAC3Ds7D,IAGLxnE,KAAKunE,cAAcF,EAAOG,GACtBW,GACFnoE,KAAKqoE,QAAQhB,EAAMn7D,IAPrB,CATA,CAkBF,EACAo8D,UAAW,SAAmBp8D,GAC5B,IAAIy7D,EAAU3nE,KAAK2nE,QACfne,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,EAAL,CAIA,IADA,IAAI+e,EAAM,GACD1nE,EAAI,EAAGA,EAAI8mE,EAAQjoE,OAAQmB,IAC9B8mE,EAAQ9mE,GAAGqL,KAAOA,GACpBq8D,EAAIlmE,KAAKxB,GAIb,IADA,IAAIuG,EAAMmhE,EAAI7oE,OACL4Y,EAAKlR,EAAM,EAAGkR,GAAM,EAAGA,IAE9B,GADAqvD,EAAQrzD,OAAOi0D,EAAIjwD,GAAK,GACpBtY,KAAK6nE,WAAY,CACnB,IAAIL,EAAShe,EAAS70B,KAAK,oBAAoBl0B,OAAOyL,EAAI,OACtDs7D,GACFA,EAAOgB,cAAcn/C,YAAYm+C,EAErC,CAfF,CAiBF,EACAiB,cAAe,WACb,IAAIjf,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,EAGL,GAAKxpD,KAAK6nE,WAAV,CAKA,IADA,IAAIa,EAAUlf,EAAS9uC,KAAKiuD,qBAAqB,WACxC9nE,EAAI6nE,EAAQhpE,OAAS,EAAGmB,GAAK,EAAGA,IACvC2oD,EAASqK,MAAMxqC,YAAYq/C,EAAQ7nE,IAErCb,KAAK2nE,QAAU,EALf,MAFE3nE,KAAK2nE,QAAU,EAQnB,EACAiB,cAAe,WACb,IAAI7gD,EAAS/nB,KACT6oE,EAASppE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC1E+pD,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,EAGL,GAAKxpD,KAAK6nE,WAAV,CAIA7nE,KAAK2nE,QAAU,GACf,IAAIe,EAAUlf,EAAS9uC,KAAKiuD,qBAAqB,WAC7CvhE,EAAMshE,EAAQhpE,OAClB,GAAI0H,EAAMyhE,EAAOnpE,OACf,IAAK,IAAImB,EAAIuG,EAAM,EAAGvG,EAAIgoE,EAAOnpE,OAAS,EAAGmB,IAC3C2oD,EAASqK,MAAMxqC,YAAYq/C,EAAQ7nE,IAGvCgoE,EAAOpmE,SAAQ,SAASqmE,EAAO7+D,GACzBA,EAAQ7C,GACVshE,EAAQz+D,GAAO4E,aAAa,UAAW,GAAGpO,OAAOqoE,EAAM58D,KACvD6b,EAAO4/C,QAAQtlE,KAAKymE,GACpB/gD,EAAOmgD,UAAUY,IAEjB/gD,EAAO6/C,UAAUkB,EAErB,GAjBA,MAFE9oE,KAAK2nE,QAAUkB,CAoBnB,EACAE,aAAc,WACZ,IAAI/gD,EAAShoB,KACT2nE,EAAU3nE,KAAK2nE,QAASqB,EAAahpE,KAAKgpE,WAC1CtgC,EAAW1oC,KAAK6J,OAAO6+B,SACvB8gB,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SAC9BA,GAAY9gB,EAAS/zB,QAAUq0D,EAAWr0D,QAG/Cq0D,EAAWr0D,MAAQ+zB,EAAS/zB,MAC5Bq0D,EAAW5oC,KAAOsI,EAAStI,KAC3BunC,EAAQllE,SAAQ,SAASmM,GACvB,IAAI44D,EAAShe,EAAS70B,KAAK,oBAAoBl0B,OAAOmO,EAAK1C,GAAI,OAC/Ds7D,GAAUx/C,EAAOggD,YAAYR,EAAQ54D,EAAK1C,GAC5C,IACF,EACA87D,YAAa,SAAqBR,EAAQt7D,GACxC,IAAI+8D,EAAO7+D,EAAKqG,QAAQ+2D,EAAQ,sBAChC,GAAKyB,EAAL,CAGA,IAAIC,EAAQlpE,KAAKgpE,WACbG,EAAQ3B,EAAOz8B,wBACfkc,EAAOgiB,EAAKl+B,wBACZq+B,EAAQD,EAAM/oC,KAAO8oC,EAAM9oC,KAC3BipC,EAAQH,EAAMv0D,MAAQy0D,EAAQD,EAAMx0D,MAAQ,EAChD,GAAIy0D,EAAQniB,EAAKtyC,MAAQ,GAAKu0D,EAAMv0D,MAAQsyC,EAAKtyC,MAAO,CACtD,IAAIghB,EAAIsxB,EAAKtyC,MAAQ,EAAIy0D,EACzBH,EAAKj0D,MAAMorB,KAAO,GAAG3/B,OAAOk1B,EAAG,KACjC,MAAO,GAAI0zC,EAAQpiB,EAAKtyC,MAAQ,EAAG,CACjC,IAAI20D,EAAMD,EAAQpiB,EAAKtyC,MAAQ,EAAIw0D,EAAMx0D,MAAQ,EACjDs0D,EAAKj0D,MAAMorB,KAAO,GAAG3/B,OAAO6oE,EAAK,KACnC,MACEL,EAAKj0D,MAAMorB,KAAO,KAbpB,CAeF,EACA0wB,eAAgB,WACd,IAAI7oC,EAASjoB,KACTwpD,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,EAAL,CAGA,IAAIme,EAAU3nE,KAAK2nE,QACnBA,EAAQllE,SAAQ,SAASmM,GACvB,IAAI44D,EAAShe,EAAS70B,KAAK,oBAAoBl0B,OAAOmO,EAAK1C,GAAI,OAC/D+b,EAAOs/C,cAAc34D,EAAM44D,EAC7B,GALA,CAMF,EACA+B,cAAe,WACb,IAAI/f,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,IAAKA,EACH,MAAO,GAET,IAAIkf,EAAUlf,EAAS9uC,KAAKiuD,qBAAqB,WACjD,OAAOD,CACT,EACAc,UAAW,SAAmBt9D,GAC5B,IAAIs9C,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,EAGL,OAAOA,EAAS70B,KAAK,oBAAoBl0B,OAAOyL,EAAI,MACtD,GAEF,SAASu9D,GAAYj7C,GACnB,IAAI/lB,EAAS+lB,EAAO/lB,OAAQoB,EAAS2kB,EAAO3kB,OAC5C1K,OAAO2C,KAAKwlE,IAAM/2D,KAAI,SAAS3B,GAC7B4f,EAAO5f,GAAQ04D,GAAK14D,GAAMvP,KAAKmvB,EACjC,IACA,IAAIk7C,EAAS7/D,EAAOpB,OAAOkhE,aAAelhE,EAAOihE,QAAU,GAC3Dl7C,EAAOm5C,QAAU+B,EAAOn5D,KAAI,SAAS3B,GAEnC,OADAw4D,GAAWx4D,GACJA,CACT,IACA4f,EAAOq5C,YAAa,EACpBr5C,EAAOw6C,WAAa,CAClB5oC,KAAMv2B,EAAO6+B,SAAStI,KACtBzrB,MAAO9K,EAAO6+B,SAAS/zB,OAEzB6Z,EAAOlG,GAAGtG,IAAiB,WACpBwM,EAAOq5C,WAGVr5C,EAAOsiC,iBAFPtiC,EAAOk5C,UAIX,IACAl5C,EAAOlG,GAAGvE,IAAc,WACtByK,EAAOu6C,cACT,GACF,CCpQA,IAAIa,GAAe,CACjBC,SAAU,iBACVC,UAAW,sBACXC,QAAS,oBACT3gB,MAAO,kBACP4gB,UAAW,sBACXrnB,WAAY,uBAEVsnB,GAAkC,SAASx2C,GAC7C,EAAUy2C,EAAkBz2C,GAC5B,IAAI9M,EAAS,EAAaujD,GAC1B,SAASA,EAAiBx+D,GACxB,IAAIkb,EAsEJ,OArEA,EAAgB5mB,KAAMkqE,GACtBtjD,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1B/I,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACjEomB,EAAMne,OAAO8vB,UAGbnuB,EAAKiF,SAAS7O,EAAE+B,OAAQ,oBAAsBqkB,EAAMne,OAAO0hE,qBAC7DvjD,EAAM/c,OAAO0kB,QAAQi7B,SAAS9oB,aAAalgC,IAGzComB,EAAM8gB,OAAOhnC,GAAK0J,EAAKiF,SAAS7O,EAAE+B,OAAQ,sBAC5C6H,EAAK6H,MAAMzR,GACXA,EAAEgX,mBAEN,IACA7U,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASpmB,GACjEomB,EAAMne,OAAO8vB,UAGb3R,EAAM8gB,OAAOhnC,GAAK0J,EAAKiF,SAAS7O,EAAE+B,OAAQ,sBAC5C6H,EAAK6H,MAAMzR,GACXA,EAAEgX,kBAEN,IACA7U,EAAgByC,EAAuBwhB,GAAQ,aAAa,SAASpmB,GACnE,GAAKomB,EAAMwjD,OAAX,CAGA,IAAI5gB,EAAW5iC,EAAM/c,OAAO0kB,QAAQi7B,SAChCA,GAAYA,EAAS3uC,MACvB2uC,EAASmJ,UAAUnyD,IAClBgpD,EAAS3uC,IAAIm4C,SAAWxJ,EAAS9oB,aAAalgC,GAJjD,CAMF,IACAmC,EAAgByC,EAAuBwhB,GAAQ,mBAAmB,SAASpmB,GACzE,IAAIomB,EAAMne,OAAO8vB,QAAjB,CAGA3R,EAAMyjD,QAAQ5hD,oBAAoB,aAAc7B,EAAM0jD,iBACtD1jD,EAAM2jD,QAAQ/pE,EAAE+B,QAChBqkB,EAAMyjD,QAAU,KAChB,IAAI7gB,EAAW5iC,EAAM/c,OAAO0kB,QAAQi7B,SACpCA,GAAYA,EAASghB,aACrB5jD,EAAMtQ,MANN,CAOF,IACA3T,EAAgByC,EAAuBwhB,GAAQ,uBAAuB,SAASiE,EAAMrqB,GACnF,IAAIomB,EAAMne,OAAO8vB,SAGbnuB,EAAKiF,SAAS7O,EAAE+B,OAAQ,mBAAqBqkB,EAAMyjD,QAAS,CAC9DzjD,EAAMyjD,QAAU7pE,EAAE+B,OAClBqkB,EAAM6jD,SAASjqE,EAAE+B,QACbqkB,EAAMyjD,QAAQn7D,SAASxP,OAAS,GAClCknB,EAAMxQ,OAER,IAAIozC,EAAW5iC,EAAM/c,OAAO0kB,QAAQi7B,SACpCA,GAAYA,EAASkhB,cACrB9jD,EAAMyjD,QAAQ9hD,iBAAiB,aAAc3B,EAAM0jD,gBACrD,CACF,IACA1jD,EAAM+gD,QAAU,GAChB/gD,EAAM+jD,aAAe,KACrB/jD,EAAMgkD,eAAiB,KACvBhkD,EAAM6X,UAAY,KAClB7X,EAAMyxC,QAAU,GAChBzxC,EAAM8gB,OAAS,CACb56B,IAAK,EACLpM,GAAG,GAEEkmB,CACT,CA8XA,OA7XA,EAAasjD,EAAkB,CAAC,CAC9BxnE,IAAK,eACLsB,MAAO,SAAsB0H,GAC3B,IAAI89C,EAAW99C,EAAK7B,OAAO0kB,QAAQi7B,SAC/BA,IACF99C,EAAKgP,KAAO8uC,EAAS9uC,KAEzB,GACC,CACDhY,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACbA,KAAKqqE,QAAU,KACfrqE,KAAK6qE,iBAAmB7qE,KAAKytB,KAAK,aAAa,SAASq9C,EAAQjgD,GAC1DA,EAAKonC,UACPlqC,EAAOle,OAAO4gD,KAAK5/B,EAAKonC,SAE5B,IACAjyD,KAAK+qE,kBAAoB/qE,KAAKytB,KAAK,iBAAiB,SAAShiB,GAC3Dsc,EAAOijD,eAAe5gE,EAAKsH,OAAOjG,GACpC,IACAg+D,GAAYzpE,MACZA,KAAKsoB,GAAGtG,IAAiB,WACvB+F,EAAOzR,MACT,IACItW,KAAKyI,OAAO8vB,SACdv4B,KAAKu4B,UAEPv4B,KAAKirE,YAAcjrE,KAAK20B,KAAK,oBAC/B,GACC,CACDjyB,IAAK,YACLsB,MAAO,SAAmByE,GACxB,IAAIuf,EAAShoB,KACRyI,GAGLtJ,OAAO2C,KAAK2G,GAAQ8H,KAAI,SAAS7N,GAC/BslB,EAAOvf,OAAO/F,GAAO+F,EAAO/F,EAC9B,GACF,GACC,CACDA,IAAK,iBACLsB,MAAO,WACL,IAAI6F,EAAS7J,KAAK6J,OACbA,EAAO0kB,QAAQi7B,WAGpBxpD,KAAKkrE,YAAclrE,KAAK20B,KAAK,iBAC7B30B,KAAKmrE,UAAYnrE,KAAK20B,KAAK,4BAC3B30B,KAAKorE,SAAWprE,KAAK20B,KAAK,iBAC1B30B,KAAKqrE,QAAUrrE,KAAK20B,KAAK,oBACzB30B,KAAKsrE,cAAe,EACpBtrE,KAAK2oD,oBACL3oD,KAAKurE,aACP,GACC,CACD7oE,IAAK,aACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACTwpD,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnC,GAAKA,IAGLrqD,OAAO2C,KAAK8nE,IAAcr5D,KAAI,SAAS7N,GACrCulB,EAAO2hD,GAAalnE,IAAQulB,EAAO2hD,GAAalnE,IAAMrD,KAAK4oB,GAC3DuhC,EAASC,YAAY/mD,EAAKulB,EAAO2hD,GAAalnE,IAChD,IACuB,WAAnB4Z,EAAQC,QAAZ,CAEAvc,KAAKX,KAAK,gBAAiB,YAAaW,KAAKwrE,aAC7CxrE,KAAKX,KAAK,gBAAiB,YAAaW,KAAKyrE,aAC7CzrE,KAAKX,KAAK,gBAAiB,UAAWW,KAAK0rE,WAC3C,IAAIt3D,EAAMpU,KAAKytB,KAAK,gBAAgB,WACpC,IACAztB,KAAK2rE,oBAAsB,SAASnrE,GAClCA,EAAEgX,kBACFpD,EAAIwB,SAA6B,IAApBqS,EAAOyf,OAAO56B,IAAW,IAAM,IAAKtM,EACnD,EACAR,KAAKX,KAAK,mBAAoB,UAAWW,KAAK2rE,oBAVtC,CAWV,GACC,CACDjpE,IAAK,iBACLsB,MAAO,SAAwB6mB,EAAMrqB,IAC/BR,KAAKyI,OAAO8vB,SAAYv4B,KAAK6J,OAAO0Q,UAGxCva,KAAK4rE,eAAe/gD,EAAK9O,OAAQ8O,EAAKlW,MAAOkW,EAAKjP,YAAaiP,EAAKrqB,EACtE,GACC,CACDkC,IAAK,sBACLsB,MAAO,SAA6B6mB,IAC9B7qB,KAAKyI,OAAO8vB,SAAYv4B,KAAK6J,OAAO0Q,WAGxCva,KAAKoqE,QAAS,EACdpqE,KAAK2qE,cAAgBvgE,EAAK+E,SAASnP,KAAK2qE,aAAc,QACxD,GACC,CACDjoE,IAAK,oBACLsB,MAAO,SAA2B6mB,IAC5B7qB,KAAKyI,OAAO8vB,SAAYv4B,KAAK6J,OAAO0Q,WAGxCva,KAAKoqE,QAAS,EACdpqE,KAAK2qE,cAAgBvgE,EAAK0F,YAAY9P,KAAK2qE,aAAc,QAC3D,GACC,CACDjoE,IAAK,kBACLsB,MAAO,SAAyB6mB,EAAMrqB,GAChCR,KAAKyI,OAAO8vB,SAGZnuB,EAAKiF,SAAS7O,EAAE+B,OAAQ,mBAC1B/B,EAAEgX,kBACFhX,EAAEi4C,iBACF,CAAC,OAAQ,KAAM,QAAQloC,KAAI,SAAS7N,GAClCmoB,EAAKnoB,GAAOlC,EAAE+B,OAAOoL,aAAa,QAAQlN,OAAOiC,GACnD,IACAmoB,EAAKpf,OAASof,EAAKpf,KAAO5D,OAAOgjB,EAAKpf,OACtCzL,KAAK6qE,iBAAiBrqE,EAAGqqB,GAE7B,GACC,CACDnoB,IAAK,gBACLsB,MAAO,SAAuB+X,EAAQ8vD,GACpC,IAAInxD,EAAO1a,KAAK0a,KAAMwwD,EAAclrE,KAAKkrE,YAAarhE,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACtFwsB,EAAOprB,EAAOkd,SAASkO,KACvB62C,EAAkB,SAAT72C,EACT82C,EAASrxD,EAAKqwB,wBAAwBp2B,MAC1C,GAAKo3D,IAAU/rE,KAAKsrE,aAApB,CAGAS,EAAS/rE,KAAKsrE,cAAgBS,EAAStjE,EAAOkM,MAAQlM,EAAOkM,MAAQo3D,EACrE,IACI/nC,EADArrB,EAAIoD,EAASgwD,EAAS,EAEtBpzD,EAAI,IAAMmzD,GACZnzD,EAAI,EACJqrB,EAAKjoB,EAASgwD,EAAS,GACdpzD,EAAIkzD,EAASE,IAAWD,GACjC9nC,EAAKrrB,GAAKkzD,EAASE,GACnBpzD,EAAIkzD,EAASE,GAEb/nC,EAAK,OAEA,IAAPA,IAAkBknC,EAAYl2D,MAAM68B,UAAY,cAAcpxC,OAAOujC,EAAG0mB,QAAQ,GAAI,QACpFhwC,EAAK1F,MAAM68B,UAAY,cAAcpxC,OAAOkY,EAAE+xC,QAAQ,GAAI,oBAd1D,CAeF,GACC,CACDhoD,IAAK,iBACLsB,MAAO,SAAwBq0D,GAC7B,IAAI+S,EAAWprE,KAAKorE,SAAUD,EAAYnrE,KAAKmrE,UAC/CC,EAASz8D,UAAY0pD,GACpBr4D,KAAKy+B,YAAc0sC,EAAUx8D,UAAY0pD,EAC5C,GACC,CACD31D,IAAK,iBACLsB,MAAO,SAAwB+X,EAAQ8vD,EAAQpgE,EAAMjL,GACnD,IAAIka,EAAO1a,KAAK0a,KAAMjS,EAASzI,KAAKyI,OAAQi/B,EAAS1nC,KAAK0nC,OAC1D,GAAKhtB,EAAL,CAGAgtB,EAAO56B,IAAMrB,EACbzL,KAAK+qE,kBAAkBt/D,GACvB,IAAI4sD,EAAUr4D,KAAKq4D,QACf73D,GAAKA,EAAE+B,QAAU6H,EAAKiF,SAAS7O,EAAE+B,OAAQ,kBAC3CvC,KAAKgsE,SAASxrE,EAAE+B,OAAOoL,aAAa,cAAc,EAAO0qD,GACzDr4D,KAAKyqE,SAASjqE,EAAE+B,QAChBmlC,EAAOhnC,GAAI,EACX+H,EAAOwjE,aAAevkC,EAAOhnC,IAAMgnC,EAAO56B,IAAM8I,SAASpV,EAAE+B,OAAOoL,aAAa,aAAc,MACpFlF,EAAOyjE,aAChBxkC,EAAOhnC,GAAI,EACXV,KAAKgsE,SAASvjE,EAAOyjE,aAAa,EAAM7T,KAExC3wB,EAAOhnC,GAAI,EACXV,KAAKmsE,SAAS,KAEhBnsE,KAAKosE,eAAe/T,GACpBr4D,KAAKsrD,iBAAiB5jB,EAAO56B,KAC7B9M,KAAKqsE,cAActwD,EAAQ8vD,EAlB3B,CAmBF,GACC,CACDnpE,IAAK,iBACLsB,MAAO,SAAwBkN,GAC7BlR,KAAKq4D,QAAUnnD,CACjB,GACC,CACDxO,IAAK,mBACLsB,MAAO,SAA0ByH,GAC/B,IAAI5B,EAAS7J,KAAK6J,OAAQ8gE,EAAe3qE,KAAK2qE,aAAcliE,EAASzI,KAAKyI,OACtEg2B,EAAY50B,EAAO0kB,QAAQkQ,UAC/B,GAAIA,GAAaA,EAAUmrB,OAAQ,CACjC5pD,KAAKy+B,WAAaA,EAAUgW,OAAOz0C,KAAKy+B,UAAWhzB,EAAMhD,EAAOkM,MAAOlM,EAAOmM,QAC9E,IAAIqyC,EAAO0jB,GAAgBA,EAAa5/B,wBACxC/qC,KAAK4qE,gBAAkBnsC,EAAUgW,OAAOz0C,KAAK4qE,eAAgBn/D,EAAMw7C,EAAKtyC,MAAOsyC,EAAKryC,OACtF,CACF,GACC,CACDlS,IAAK,oBACLsB,MAAO,WACL,IAAIsoE,EAAkB7sE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EACxF,GAAuB,WAAnB6c,EAAQC,OAAZ,CAGA,IAAI1S,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACpCg2B,EAAY50B,EAAOumB,UAAU,aAIjC,GAHIqO,GACFA,EAAUwT,UAAUq6B,GAEjB7tC,GAAcA,EAAUmrB,QAAWnhD,EAAO8jE,gBAA/C,CAIEniE,EAAK0F,YAAY9P,KAAK0a,KAAM,2BAEV,UAAhBjS,EAAOwsB,MACT7qB,EAAK+E,SAASnP,KAAK0a,KAAM,cAE3B1a,KAAKsrE,cAAe,EACpB,IAAIkB,EAAQxsE,KAAK20B,KAAK,sBACtB30B,KAAKy+B,UAAYA,EAAUorB,gBAAgB2iB,EAAO,sBAC9C/jE,EAAOgkE,qBACTzsE,KAAK2qE,aAAevgE,EAAKgE,UAAU,mBAAoB,GAAI,CAAC,EAAG,mBAC/DvE,EAAO6Q,KAAKC,YAAY3a,KAAK2qE,cAC7B3qE,KAAK4qE,eAAiBnsC,EAAUorB,gBAAgB7pD,KAAK2qE,aAAc,sBAErE3qE,KAAKsrD,iBAAiB,EAZtB,MAJElhD,EAAK+E,SAASnP,KAAK0a,KAAM,0BAP3B,CAwBF,GACC,CACDhY,IAAK,gBACLsB,MAAO,SAAuByH,EAAM8O,GAClC,IAAIivC,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SAC/B3/C,EAAS7J,KAAK6J,OACd6iE,EAAaljB,EAAS9uC,KAAKqwB,wBAAwBp2B,MACnDg4D,EAAkB9iE,EAAO0Q,SAAWmyD,EAAa,EAMrD,OALIjhE,EAAO8O,EAAW1Q,EAAO0Q,WAC3BA,EAAW1Q,EAAO0Q,SAAW9O,GAExB5B,EAAO0Q,SACH1Q,EAAO0Q,SACX,CACL6lB,KAAM30B,EAAO5B,EAAO0Q,SAAW,IAC/B5F,MAAO4F,EAAW1Q,EAAO0Q,SAAW,IACpCimB,OAAQjmB,EAAWoyD,EAEvB,GACC,CACDjqE,IAAK,UACLsB,MAAO,SAAiBkI,GACtB,IAAIk8D,EAAMpoE,KAAKioE,QAAQ/7D,GACvB,GAAIk8D,EAAK,CACP,IAAInhB,EAAOjnD,KAAK0a,KAAKqwB,wBACjBp2B,EAAQsyC,EAAKtyC,MACboH,EAASqsD,EAAI38D,KAAOzL,KAAK6J,OAAO0Q,SAAW5F,EAC/C3U,KAAK4rE,eAAe7vD,EAAQpH,EAAOyzD,EAAI38D,KACzC,CACF,GACC,CACD/I,IAAK,WACLsB,MAAO,SAAkBzB,EAAQ2J,GAC1B3J,IAGA2J,IACHA,EAAK3J,EAAOoL,aAAa,YAE3BvD,EAAK+E,SAAS5M,EAAQ,UACtBvC,KAAK4sE,aAAe1gE,EACtB,GACC,CACDxJ,IAAK,UACLsB,MAAO,SAAiBzB,GACtB,IAAKA,EAAQ,CACX,IAAI2J,EAAKlM,KAAK4sE,aACdrqE,EAASvC,KAAKwpE,UAAUt9D,EAC1B,CACK3J,IAGL6H,EAAK0F,YAAYvN,EAAQ,UACzBvC,KAAK4sE,aAAe,KACtB,GACC,CACDlqE,IAAK,WACLsB,MAAO,SAAkB2S,EAAMk2D,GAC7B,IAAIxU,EAAU54D,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC/E2K,EAAK+E,SAASnP,KAAK0a,KAAM,gBACpB/D,IAGLvM,EAAK+E,SAASnP,KAAK20B,KAAK,oBAAqB,aACzCk4C,GAAkC,eAArB7sE,KAAKyI,OAAOwsB,MAC3B7qB,EAAK+E,SAASnP,KAAK0a,KAAM,WACzB1a,KAAKqrE,QAAQyB,YAAcn2D,IAE3BvM,EAAK0F,YAAY9P,KAAK0a,KAAM,WAC5B1a,KAAKqrE,QAAQyB,YAAc9sE,KAAKsrE,aAAe30D,EAAO,GAAGlW,OAAO43D,EAAS,KAAK53D,OAAOkW,IAEzF,GACC,CACDjU,IAAK,WACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,gBAC5B1a,KAAKqrE,QAAQyB,YAAc,GAC3B1iE,EAAK0F,YAAY9P,KAAK20B,KAAK,oBAAqB,aAChDvqB,EAAK0F,YAAY9P,KAAK0a,KAAM,UAC9B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACLoG,EAAK+E,SAASnP,KAAK0a,KAAM,OAC3B,GACC,CACDhY,IAAK,OACLsB,MAAO,WACLoG,EAAK0F,YAAY9P,KAAK0a,KAAM,OAC9B,GACC,CACDhY,IAAK,SACLsB,MAAO,WACL,IAAIyE,EAASzI,KAAKyI,OAAQ+mB,EAAexvB,KAAKwvB,aAC9CxvB,KAAKyI,OAAO8vB,SAAU,EACtBv4B,KAAKsW,QACAtW,KAAKy+B,WAAah2B,EAAO8jE,iBAC5BvsE,KAAK2oD,kBAAkBn5B,EAAaiP,WAAa,CAAC,EAEtD,GACC,CACD/7B,IAAK,UACLsB,MAAO,WACLhE,KAAKyI,OAAO8vB,SAAU,EACtBv4B,KAAKoW,MACP,GACC,CACD1T,IAAK,UACLsB,MAAO,WACL,IAAIwkB,EAASxoB,KACTwpD,EAAWxpD,KAAK6J,OAAO0kB,QAAQi7B,SACnCA,GAAYrqD,OAAO2C,KAAK8nE,IAAcr5D,KAAI,SAAS7N,GACjD8mD,EAASujB,eAAerqE,EAAK8lB,EAAOohD,GAAalnE,IACnD,IACA1C,KAAK4qE,eAAiB,KACtB5qE,KAAKy+B,UAAY,KACjBz+B,KAAK2qE,cAAgB3qE,KAAK6J,OAAO6Q,KAAK2O,YAAYrpB,KAAK2qE,cACvD3qE,KAAK6gC,OAAO,gBAAiB,YAAa7gC,KAAKwrE,aAC/CxrE,KAAK6gC,OAAO,gBAAiB,YAAa7gC,KAAKyrE,aAC/CzrE,KAAK6gC,OAAO,gBAAiB,UAAW7gC,KAAK0rE,WAC7C1rE,KAAK6gC,OAAO,mBAAoB,UAAW7gC,KAAK2rE,oBAClD,GACC,CACDjpE,IAAK,SACLsB,MAAO,WACL,MAAuB,WAAnBsY,EAAQC,QAAkE,WAA3Cvc,KAAKwvB,aAAa8M,qBAC5C,GAEF,iCAAiC77B,OAA4B,UAArBT,KAAKyI,OAAOwsB,KAAmB,aAAe,GAAI,sYACnG,IACE,CAAC,CACHvyB,IAAK,aACLsD,IAAK,WACH,MAAO,iBACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLiE,MAAO,EACP+iE,UAAW,EACXtD,OAAQ,GACRwC,YAAa,GACbD,aAAa,EACb9B,sBAAsB,EACtBoC,iBAAiB,EACjBE,oBAAoB,EACpBx3C,KAAM,GACNsD,SAAS,EACT5jB,MAAO,IACPC,OAAQ,GAEZ,KAEKs1D,CACT,CA1csC,CA0cpC33C,ICpdE06C,GAA4B,SAASz6C,GACvC,EAAU06C,EAAY16C,GACtB,IAAI7L,EAAS,EAAaumD,GAC1B,SAASA,EAAWxhE,GAClB,IAAIkb,EAMJ,OALA,EAAgB5mB,KAAMktE,GACtBtmD,EAAQD,EAAO7mB,KAAKE,KAAM0L,GAC1Bkb,EAAMumD,MAAQ,EACdvmD,EAAMogD,SAAW,KACjBpgD,EAAMwmD,aAAe,CAAC,EACfxmD,CACT,CA4KA,OA3KA,EAAasmD,EAAY,CAAC,CACxBxqE,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACTA,KAAK4pD,QACP5pD,KAAKqtE,gBAEPrtE,KAAKsoB,GAAG,CAACtG,KAAkB,WACzB,IAAIsrD,EAAgBvlD,EAAOtf,OAAQ8kE,EAAUD,EAAcC,QAASvG,EAAWsG,EAActG,SAC7Fj/C,EAAO6hC,SAAW7hC,EAAOi/C,SAAWA,EAAW,EAAIA,EAAWt6D,KAAKkF,MAA+B,IAAzBmW,EAAOle,OAAO0Q,SAAiBgzD,GAAW,IACrH,GACF,GACC,CACD7qE,IAAK,YACLsB,MAAO,SAAmByE,GACxB,IAAIuf,EAAShoB,KACb,GAAKyI,EAAL,CAGA,IAAI3G,EAAO3C,OAAO2C,KAAK2G,GACnB3G,EAAKpC,OAAS,IAGlBoC,EAAKW,SAAQ,SAASC,GACpBslB,EAAOvf,OAAO/F,GAAO+F,EAAO/F,EAC9B,IACA1C,KAAK4pD,QAAU5pD,KAAKqtE,gBARpB,CASF,GACC,CACD3qE,IAAK,SACLsD,IAAK,WACH,IAAIm6B,EAAengC,KAAKyI,OAAQkgB,EAAOwX,EAAaxX,KAAM4kD,EAAUptC,EAAaotC,QACjF,OAAO5kD,GAAQA,EAAKjpB,OAAS,GAAK6tE,EAAU,CAC9C,GACC,CACD7qE,IAAK,gBACLsB,MAAO,WACL,IAAI88B,EAAgB9gC,KAAKyI,OAAQkM,EAAQmsB,EAAcnsB,MAAOC,EAASksB,EAAclsB,OAAQ24D,EAAUzsC,EAAcysC,QAASvG,EAAWlmC,EAAckmC,SACvJhnE,KAAKmtE,MAAQx4D,EAAQC,EAAS,IAC9B5U,KAAKgnE,SAAWA,GAAYt6D,KAAKkF,MAAM5R,KAAK6J,OAAO0Q,SAAWgzD,GAC9DvtE,KAAKotE,aAAe,CAAC,CACvB,GACC,CACD1qE,IAAK,gBACLsB,MAAO,SAAuBiG,GAC5B,OAAOA,GAAS,GAAKA,EAAQjK,KAAKyI,OAAOkgB,KAAKjpB,OAASM,KAAKyI,OAAOkgB,KAAK1e,GAAS,EACnF,GACC,CACDvH,IAAK,UACLsB,MAAO,SAAiBiG,GACtB,IAAIge,EAASjoB,KACb,IAAIA,KAAKotE,aAAanjE,GAAtB,CAGA,IAAI0e,EAAO3oB,KAAKyI,OAAOkgB,KACnBvhB,EAAMuhB,EAAKjpB,OACX2G,EAAM,GACV4D,EAAQ,GAAK5D,EAAIhE,KAAK4H,EAAQ,GAC9B5D,EAAIhE,KAAK4H,GACTA,EAAQ,GAAKA,EAAQ7C,EAAM,GAAKf,EAAIhE,KAAK4H,EAAQ,GACjD5D,EAAIkK,KAAI,SAAS3B,IACVqZ,EAAOmlD,aAAax+D,IAASA,GAAQ,GAAKA,EAAOxH,IACpD6gB,EAAOmlD,aAAax+D,GAAQ,EAC5BxE,EAAK+M,WAAWwR,EAAK/Z,IAAO,WAC1BqZ,EAAOmlD,aAAax+D,GAAQ,CAC9B,IAEJ,GAdA,CAeF,GACC,CACDlM,IAAK,cACLsB,MAAO,SAAqB8I,GAC1B,IAAI0gE,EAAiB/tE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAClFguE,EAAkBhuE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACnFkrC,EAAgB3qC,KAAKyI,OAAQ8kE,EAAU5iC,EAAc4iC,QAASG,EAAM/iC,EAAc+iC,IAAKC,EAAMhjC,EAAcgjC,IAAKh5D,EAAQg2B,EAAch2B,MAAOC,EAAS+1B,EAAc/1B,OACxK5U,KAAKgnE,SAAWt6D,KAAKkF,MAAM5R,KAAK6J,OAAO0Q,SAAWgzD,GAClD,IAAItjE,EAAQyC,KAAK4E,KAAKxE,EAAM9M,KAAKgnE,UACjC/8D,EAAQA,EAAQsjE,EAAUA,EAAUtjE,EACpC,IAAI2jE,EAAW3jE,EAAQyjE,EAAMC,EAAM,EAAIjhE,KAAK4E,KAAKrH,GAASyjE,EAAMC,IAAQ,EACpEE,EAAc5jE,EAAQ2jE,GAAYD,EAAMD,GACxCI,EAAWD,EAAc,EAAInhE,KAAK4E,KAAKu8D,EAAcF,GAAO,EAAI,EAChEI,EAAWF,EAAc,EAAIA,EAAcC,EAAWH,EAAM,EAAI,EAChEK,EAAS,EACTC,EAAU,EACd,GAAIT,GAAkBC,EAAiB,CACrC,IAAIrd,EAAMod,EAAiBC,EACvBrd,EAAMz7C,EAAQC,GAChBq5D,EAAUR,EACVO,EAASC,GAAWt5D,EAAQC,KAE5Bo5D,EAASR,EACTS,EAAUD,GAAUr5D,EAAQC,GAEhC,MAAY64D,EAGAD,IACVS,EAAUR,GAAmB74D,EAC7Bo5D,EAASC,GAAWt5D,EAAQC,KAJ5Bo5D,EAASR,GAAkB74D,EAC3Bs5D,EAAUD,GAAUr5D,EAAQC,IAK9B,IAAItB,EAAMtT,KAAKkuE,cAAcN,GAC7B,MAAO,CACLA,WACAE,WACAC,WACAz6D,MACAsB,OAAQq5D,EACRt5D,MAAOq5D,EACPh5D,MAAO,CACLzB,gBAAiB,OAAO9S,OAAO6S,EAAK,KACpC8B,eAAgB,GAAG3U,OAAOutE,EAASL,EAAK,WACxCQ,mBAAoB,IAAI1tE,OAAOstE,EAAWC,EAAQ,QAAQvtE,OAAOqtE,EAAWG,EAAS,MACrFt5D,MAAO,GAAGlU,OAAOutE,EAAQ,MACzBp5D,OAAQ,GAAGnU,OAAOwtE,EAAS,OAGjC,GACC,CACDvrE,IAAK,SACLsB,MAAO,SAAgBwK,EAAK1B,GAC1B,IAAI0gE,EAAiB/tE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAClFguE,EAAkBhuE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACnF2uE,EAAc3uE,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,GAC/E4tC,EAAgBrtC,KAAKyI,OAAQ8kE,EAAUlgC,EAAckgC,QAAS5kD,EAAO0kB,EAAc1kB,KACvF,KAAI4kD,GAAW,IAAM5kD,GAAwB,IAAhBA,EAAKjpB,OAAlC,CAGA,IAAImb,EAAM7a,KAAKquE,YAAYvhE,EAAK0gE,EAAgBC,GAChDztE,KAAKsqB,QAAQzP,EAAI+yD,UACjBzuE,OAAO2C,KAAK+Y,EAAI7F,OAAOzE,KAAI,SAAS7N,GAClC8L,EAAIwG,MAAMtS,GAAOmY,EAAI7F,MAAMtS,EAC7B,IACAvD,OAAO2C,KAAKssE,GAAa79D,KAAI,SAAS7N,GACpC8L,EAAIwG,MAAMtS,GAAO0rE,EAAY1rE,EAC/B,GARA,CASF,GACC,CACDA,IAAK,eACLsB,MAAO,WACL,IAAIq1D,EAAY55D,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAClFO,KAAKiyC,UAAUonB,EACjB,GACC,CACD32D,IAAK,kBACLsB,MAAO,SAAyB0W,EAAMhM,GACpC,IAAIF,EAAMpE,EAAKgE,UAAU,eAAgB,GAAI,CAAC,EAAG,aAAa3N,OAAOiO,IAErE,OADAgM,GAAQA,EAAKC,YAAYnM,GAClBA,CACT,IACE,CAAC,CACH9L,IAAK,aACLsD,IAAK,WACH,MAAO,WACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLs1C,QAAQ,EACR3yB,KAAM,GACN4kD,QAAS,EACTI,IAAK,EACLD,IAAK,EACL94D,OAAQ,GACRD,MAAO,IACPmG,MAAO,EACPpM,UAAW,GACXk1D,cAAc,EAElB,KAEKsJ,CACT,CAxLgC,CAwL9B36C,ICzLF,SAAS+7C,GAAWtkB,GAClB,OAAOA,EAAQ,cAAcvpD,OAAOupD,EAAO,KAAO,EACpD,CACA,IAAIukB,GAA+B,SAAS96C,GAC1C,EAAU+6C,EAAe/6C,GACzB,IAAI9M,EAAS,EAAa6nD,GAC1B,SAASA,IAEP,OADA,EAAgBxuE,KAAMwuE,GACf7nD,EAAO5mB,MAAMC,KAAMP,UAC5B,CAgDA,OA/CA,EAAa+uE,EAAe,CAAC,CAC3B9rE,IAAK,cACLsB,MAAO,WACP,GACC,CACDtB,IAAK,SACLsB,MAAO,WACL,IAAI6mB,EAAOprB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAC1EoxD,OAAQ,EACRxmC,OAAQ,GAEN9P,EAAW9a,UAAUC,OAAS,EAAID,UAAU,QAAK,EAChD8a,GAAava,KAAK0a,OAGnBmQ,EAAKgmC,SACP7wD,KAAK20B,KAAK,0BAA0B3f,MAAML,MAAQ,GAAGlU,OAAOoqB,EAAKgmC,OAASt2C,EAAW,IAAK,MAExFsQ,EAAKR,SACPrqB,KAAK20B,KAAK,2BAA2B3f,MAAML,MAAQ,GAAGlU,OAAOoqB,EAAKR,OAAS9P,EAAW,IAAK,MAE/F,GACC,CACD7X,IAAK,SACLsB,MAAO,WACL,GAAKhE,KAAKwvB,aAAag6B,UAAaxpD,KAAKwvB,aAAa8N,aAAtD,CAGA,IAAIsB,EAAc5+B,KAAKwvB,aAAaoP,YAChC8T,EAAS,CACXme,OAAQyd,GAAW1vC,EAAYG,aAC/B1U,OAAQikD,GAAW1vC,EAAYE,aAC/B0qB,SAAU8kB,GAAW1vC,EAAYC,gBAEnC,MAAO,qDAAqDp+B,OAAOiyC,EAAO8W,SAAU,0EAA0E/oD,OAAOiyC,EAAOme,OAAQ,qGAAqGpwD,OAAOiyC,EAAOroB,OAAQ,wDAP/S,CAQF,IACE,CAAC,CACH3nB,IAAK,aACLsD,IAAK,WACH,MAAO,cACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CAAC,CACV,KAEKwoE,CACT,CAvDmC,CAuDjCj8C,ICxDEk8C,GAAQ,CACVC,UAAW,WACX55B,YAAa,aACb65B,WAAY,YACZC,OAAQ,UAEV,SAASC,KACP,IACE,OAAOj5D,SAAS5N,OAAOgS,YAAYlN,MAAO,GAC5C,CAAE,MAAOtM,GACP,OAAO,IAAIqM,MAAOkN,SACpB,CACF,CACA,SAAS+0D,KACP,IACE,IAAIC,EAAMthE,SAASgB,cAAc,UAAUkyD,WAC3C,QAAIoO,CAIN,CAAE,MAAOvuE,GACP,OAAO,CACT,CACF,CACA,IAAIwuE,GAAkB,KAClBC,GAA4B,SAASx7C,GACvC,EAAUy7C,EAAYz7C,GACtB,IAAI9M,EAAS,EAAauoD,GAC1B,SAASA,IACP,IAAItoD,EACJ,EAAgB5mB,KAAMkvE,GACtB,IAAK,IAAIpmE,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GA4DzB,OA1DA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,gBAAgB,SAASpmB,GACjEomB,EAAM/c,SAGX+c,EAAMuoD,YAAcvoD,EAAMne,OAAO2mE,gBACjCxoD,EAAMyoD,OACNzoD,EAAM0oD,mBAAmB9uE,GACzBomB,EAAM8B,IAAI9G,GAAagF,EAAM0oD,oBAC7B1oD,EAAM0B,GAAG1G,GAAagF,EAAM0oD,oBAC9B,IACA3sE,EAAgByC,EAAuBwhB,GAAQ,sBAAsB,SAASpmB,GAC3C,YAA7BiN,SAAS8hE,gBACX3oD,EAAM4oD,oBAAsB5oD,EAAM1c,QACI,WAA7BuD,SAAS8hE,iBAClB3oD,EAAMyoD,MAEV,IACA1sE,EAAgByC,EAAuBwhB,GAAQ,sBAAsB,SAASpmB,GAC5E,GAAIomB,EAAMuoD,YAAc,EACtBvoD,EAAM6oD,aACN7oD,EAAMuoD,kBACD,CACLvoD,EAAM8oD,WAAY,EAClB9oD,EAAM8B,IAAI9G,GAAagF,EAAM0oD,oBAC7B,IAAIK,EAAgB/oD,EAAMne,OAAOknE,eAChC/oD,EAAM/c,OAAO6b,QAAUkB,EAAM4oD,oBAAsB5oD,EAAM1c,MAAM,EAAGylE,EACrE,CACF,IACAhtE,EAAgByC,EAAuBwhB,GAAQ,SAAS,SAASnb,EAAMu7D,GACrE,IAAIvtD,EAAQmN,EAAM/c,OAAO4P,MACrBq+B,EAAO+2B,KACPe,EAAUhpD,EAAMipD,oBAAoBp2D,GACnCm2D,GAAYhpD,EAAM85C,YAGlBsG,IACHA,EAAWpgD,EAAMogD,UAEnBpgD,EAAMyoD,OACF51D,EAAM63B,YAAc73B,EAAMw3B,cAC5BrqB,EAAMkpD,QAAUr2D,EAAMw3B,YAAc,EAAIr7B,SAAS6D,EAAM63B,WAAa73B,EAAMw3B,YAAc,IAAK,IAAM,GAC/FrqB,EAAMne,OAAOwsB,OAASw5C,GAAMC,WAGrB52B,EAAOlxB,EAAMmpD,SAAW/I,KAFjCvtD,GAASA,EAAM63B,YAAc1qB,EAAM6tB,OAAOm7B,EAAShpD,EAAMkpD,SACzDlpD,EAAMmpD,QAAUj4B,IAMpBlxB,EAAMvN,QAA8B,UAApBuN,EAAMopD,UAAwB5lE,EAAK4B,WAAW5G,EAAuBwhB,GAAQA,EAAM1c,MAAO88D,GAAY58D,EAAKmB,sBAAsBqb,EAAM1c,OACzJ,IACAvH,EAAgByC,EAAuBwhB,GAAQ,QAAQ,WACjDA,EAAMvN,UACY,UAApBuN,EAAMopD,UAAwB5lE,EAAK+B,aAAa/G,EAAuBwhB,GAAQA,EAAMvN,SAAWjP,EAAK2B,qBAAqB6a,EAAMvN,SAChIuN,EAAMvN,QAAU,KAEpB,IACOuN,CACT,CA8QA,OA7QA,EAAasoD,EAAY,CAAC,CACxBxsE,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,MACuB,IAAhCA,KAAKwvB,aAAaygD,YACpBjwE,KAAKyI,OAAO8vB,SAAU,GAEnB22C,EAAW/wD,YACdne,KAAKyI,OAAO8vB,SAAU,GAExB,IAAI4H,EAAengC,KAAKyI,OAAQ8vB,EAAU4H,EAAa5H,QAAStD,EAAOkL,EAAalL,KAAMi7C,EAAY/vC,EAAa+vC,UAC/G33C,IAGJv4B,KAAKuxC,KAAO,CACV58B,MAAO,EACPC,OAAQ,EACRu7D,OAAQ,EACRC,QAAS,EACTz3D,EAAG,EACHC,EAAG,EACH2vB,GAAI,GAENvoC,KAAKgnD,SAAU,EACfhnD,KAAK0vE,WAAY,EACjB1vE,KAAK8vE,QAAU,EACf9vE,KAAK+vE,QAAU,EACf/vE,KAAKgnE,SAAWpxD,SAAS,IAAMs6D,EAAW,IAC1ClwE,KAAKygE,OAAS,KACdzgE,KAAK0gE,UAAY,KACjB1gE,KAAKmvE,YAAc,EACnBnvE,KAAKgwE,UAAYhwE,KAAKyI,OAAOwsB,OAASw5C,GAAMC,WAAa1uE,KAAKgnE,UAAY,IAAM,QAAU,YAC1FhnE,KAAK6vB,KAAK3M,IAAU,WACb6E,EAAOle,SAGZke,EAAO0O,OACP1O,EAAOsoD,iBACFtoD,EAAOle,OAAO6b,QACjBqC,EAAO7d,QAEX,IACI+qB,IAASw5C,GAAMG,SAGf35C,IAASw5C,GAAM35B,cACjB90C,KAAKsoB,GAAG/F,IAAS,WACfwF,EAAOsnD,MACT,IACArvE,KAAKsoB,GAAGjH,IAAM,WACZ,IAAIsuD,EAAgB5nD,EAAOtf,OAAOknE,cAClC5nD,EAAOynD,oBAAsBznD,EAAO7d,MAAM,EAAGylE,EAC/C,IACA3vE,KAAKsoB,GAAG9G,IAAO,WACbuG,EAAOsnD,MACT,KAEFrvE,KAAKsoB,GAAGpG,GAAaliB,KAAKswE,cAC1BtwE,KAAKsoB,GAAGhG,IAAY,WAClByF,EAAO2nD,WAAY,EACnB3nD,EAAOsnD,MACT,IACA5hE,SAAS8a,iBAAiB,mBAAoBvoB,KAAKuwE,qBACrD,GACC,CACD7tE,IAAK,YACLsB,MAAO,SAAmByE,GACxB,IAAIuf,EAAShoB,KACbb,OAAO2C,KAAK2G,GAAQhG,SAAQ,SAASC,GACvB,SAARA,GAAkB+F,EAAO/F,KAASslB,EAAOvf,OAAO/F,GAClDslB,EAAO6R,SAASpxB,EAAO/F,IACN,cAARA,EACTslB,EAAOg/C,SAAWpxD,SAAS,IAAMnN,EAAO/F,GAAM,IAC7B,YAARA,GAAqB+F,EAAO/F,IACrCslB,EAAOqnD,OAETrnD,EAAOvf,OAAO/F,GAAO+F,EAAO/F,EAC9B,GACF,GACC,CACDA,IAAK,OACLsB,MAAO,SAAc0mC,GACnB,IAAI7gC,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OACxCzI,KAAKwwE,aAAetB,EAAWuB,sBAC/B,IACE,IAAI59C,EAAS6X,GAASjiC,EAAOiS,KACxBmY,IACHA,EAAUpqB,EAAOioE,eAA8B7mE,EAAOk/B,gBAArBl/B,EAAO6Q,MAE1CmY,EAAOuC,mBAAmB,aAAc,gDAAgD30B,OAAOgI,EAAOwB,MAAO,yDAC7GjK,KAAK0a,KAAOmY,EAAO3jB,SAAS,GAC5BlP,KAAKygE,OAASzgE,KAAK20B,KAAK,UACnB30B,KAAKwwE,eACRxwE,KAAKygE,OAAOzrD,MAAM/S,OAASwG,EAAOxG,OAClCjC,KAAKygE,OAAOzrD,MAAM27D,aAAeloE,EAAOxG,QAE1CjC,KAAK4wE,KAAO5wE,KAAK20B,KAAK,UACtBlsB,EAAOooE,UAAY7wE,KAAK4wE,KAAK57D,MAAM87D,WAAaroE,EAAOsoE,QACvD/wE,KAAK0gE,UAAY1gE,KAAKygE,OAAOE,WAAW,KAC1C,CAAE,MAAOngE,GACPgI,EAASe,SAAS,mBAAoB/I,EACxC,CACF,GACC,CACDkC,IAAK,WACLsB,MAAO,SAAkB0W,GACvB,IAAI6d,EAAUv4B,KAAKyI,OAAO8vB,QAC1B,GAAKA,GAAYv4B,KAAK0a,KAAtB,CAGA1a,KAAKqvE,OACL,IAAIj4C,EAAKp3B,KAAK0a,KAAO1a,KAAK0a,KAAK8tD,cAAgB,KAI/C,GAHIpxC,IAAO1c,GACT0c,EAAG/N,YAAYrpB,KAAK0a,MAEjBA,EAAL,CAIA1a,KAAKy2B,KAAK/b,GACV1a,KAAKyvE,aACL,IAAIE,EAAgB3vE,KAAKyI,OAAOknE,cAChC3vE,KAAKwvE,oBAAsBxvE,KAAKkK,MAAM,EAAGylE,EAJzC,MAFE3vE,KAAK0a,KAAO,IAPd,CAcF,GACC,CACDhY,IAAK,sBACLsB,MAAO,SAA6ByV,GAClC,IAAKA,EACH,OAAO,KAET,IAAIu3D,EAAUv3D,GAASA,aAAiBzR,OAAOipE,iBAAmBx3D,EAAQA,EAAMgnD,OAAShnD,EAAMgnD,OAAShnD,EAAMy3D,SAAWz3D,EAAMy3D,SAAW,KAC1I,GAAIF,IAAiC,WAApB10D,EAAQI,UAAwBtS,EAAKoP,MAAMw3D,IAC1D,OAAOA,EAET,IAAIG,EAAWH,EAAUA,EAAQ7iE,QAAQ0O,cAAgB,GACzD,MAAiB,WAAbs0D,GAAsC,QAAbA,EACpBH,EAEF,IACT,GACC,CACDtuE,IAAK,iBACLsB,MAAO,WACL,IAAIq4B,EAASr8B,KAAKwvB,aAAa6M,OAC/B,GAAIA,EAAQ,CACV,IAAI/oB,EAA8B,WAAxBlJ,EAAKkG,OAAO+rB,GAAuBA,EAAwC,WAA/BjyB,EAAKkG,OAAO+rB,EAAOA,QAAuBA,EAAOA,OAAS,KAChHr8B,KAAKoxE,UAAU99D,EACjB,CACF,GACC,CACD5Q,IAAK,mBACLsB,MAAO,WACL,IAAIixB,EAAOj1B,KAAKyI,OAAOwsB,KACvB,OAAOj1B,KAAK0vE,YAAc1vE,KAAK6J,OAAO6b,QAAUuP,IAASw5C,GAAM35B,aAAe7f,IAASw5C,GAAMG,MAC/F,GACC,CACDlsE,IAAK,aACLsB,MAAO,WACL,IAAIyV,EAAQzZ,KAAK6J,OAAO4P,MACxB,GAAKA,EAAM63B,YAAe73B,EAAMw3B,YAAhC,CAGAjxC,KAAK8vE,QAAUl6D,SAAS6D,EAAM63B,WAAa73B,EAAMw3B,YAAc,IAAK,IACpE,IAAI2+B,EAAU5vE,KAAK6vE,oBAAoBp2D,GACvCm2D,GAAW5vE,KAAKy0C,OAAOm7B,EAAS5vE,KAAK8vE,QAHrC,CAIF,GACC,CACDptE,IAAK,YACLsB,MAAO,SAAmBsP,GACxB,IAAI2U,EAASjoB,KACb,GAAKsT,EAAL,CAGA,IAAI+9D,EAAwBrxE,KAAKygE,OAAO11B,wBAAyBp2B,EAAQ08D,EAAsB18D,MAAOC,EAASy8D,EAAsBz8D,OACjI08D,EAAQ,IAAItpE,OAAOuP,MACvB+5D,EAAMl6D,OAAS,WACb,GAAK6Q,EAAOw4C,SAAUx4C,EAAO5O,UAAW4O,EAAO++B,QAA/C,CAGA/+B,EAAOw4C,OAAO7rD,OAASA,EACvBqT,EAAOw4C,OAAO9rD,MAAQA,EACtB,IAAI4zB,EAAK3yB,SAASjB,EAAQC,EAAS,IAAK,IACxCqT,EAAOwsB,OAAO68B,EAAO/oC,GACrB+oC,EAAQ,IALR,CAMF,EACAA,EAAMr+D,IAAMK,CAbZ,CAcF,GACC,CACD5Q,IAAK,SACLsB,MAAO,SAAgByV,EAAO83D,GAC5B,GAAKvxE,KAAKygE,QAAWzgE,KAAK0gE,WAAc6Q,EAGxC,IACE,IAAIhgC,EAAOvxC,KAAKuxC,KAAM9oC,EAASzI,KAAKyI,OAChC+oE,EAAyBxxE,KAAKygE,OAAO11B,wBAAyBp2B,EAAQ68D,EAAuB78D,MAAOC,EAAS48D,EAAuB58D,OACxI,GAAID,IAAU48B,EAAK58B,OAASC,IAAW28B,EAAK38B,QAAU28B,EAAKhJ,KAAOgpC,EAAU,CAC1E,IAAIhpC,EAAK3yB,SAASjB,EAAQC,EAAS,IAAK,IACxC28B,EAAKhJ,GAAKgpC,EACVhgC,EAAK58B,QAAUA,IAAU48B,EAAK58B,MAAQ3U,KAAKygE,OAAO9rD,MAAQA,GAC1D48B,EAAK38B,SAAWA,IAAW28B,EAAK38B,OAAS5U,KAAKygE,OAAO7rD,OAASA,GAC9D,IAAIw7D,EAAUx7D,EACVu7D,EAASx7D,EACT4zB,EAAKgpC,EACPpB,EAASv6D,SAAShB,EAAS28D,EAAW,IAAK,IAClChpC,EAAKgpC,IACdnB,EAAUx6D,SAAiB,IAARjB,EAAc48D,EAAU,KAE7ChgC,EAAK4+B,OAASA,EAAS1nE,EAAOgpE,SAC9BlgC,EAAK6+B,QAAUA,EAAU3nE,EAAOgpE,SAChClgC,EAAK54B,GAAKhE,EAAQ48B,EAAK4+B,QAAU,EACjC5+B,EAAK34B,GAAKhE,EAAS28B,EAAK6+B,SAAW,CACrC,CACApwE,KAAKwwE,eAAiBxwE,KAAK0gE,UAAUz+D,OAASwG,EAAOxG,QACrDjC,KAAK0gE,UAAUmB,UAAUpoD,EAAO83B,EAAK54B,EAAG44B,EAAK34B,EAAG24B,EAAK4+B,OAAQ5+B,EAAK6+B,QACpE,CAAE,MAAO5vE,GACPgI,EAASe,SAAS,mBAAoB/I,EACxC,CACF,GACC,CACDkC,IAAK,UACLsB,MAAO,WACLhE,KAAKqvE,OACL5hE,SAASgb,oBAAoB,mBAAoBzoB,KAAKuwE,oBACtDvwE,KAAK0gE,UAAY,KACjB1gE,KAAKygE,OAAS,IAChB,GACC,CACD/9D,IAAK,SACLsB,MAAO,WACL,MAAO,EACT,IACE,CAAC,CACHtB,IAAK,aACLsD,IAAK,WACH,MAAO,WACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL0qE,eAAe,EACfn4C,SAAS,EACTtuB,OAAQ,EACRgrB,KAAM,YACNi7C,UAAW,GACXjuE,OAAQ,aACRmtE,gBAAiB,EACjBO,cAAe,EACfkB,SAAS,EACTY,SAAU,IACVV,OAAQ,kBAEZ,GACC,CACDruE,IAAK,YACLsD,IAAK,WACH,MAA+B,mBAApBgpE,KAGXA,GAAkBF,MAFTE,EAIX,GACC,CACDtsE,IAAK,sBACLsB,MAAO,WACL,QAA6B,WAApBsY,EAAQI,SAA4C,YAApBJ,EAAQI,QACnD,KAEKwyD,CACT,CAnVgC,CAmV9B38C,IClXEm/C,GAAK,CACPzwC,KAAM,QACNC,KAAM,CACJ5gB,YAAa,CACX6gB,QAAS,CACPrgB,KAAM,EACNM,IAAK,UAEPggB,IAAK,CACHtgB,KAAM,EACNM,IAAK,SAEPigB,MAAO,CACLvgB,KAAM,EACNM,IAAK,QAEP1P,OAAQ,CACNoP,KAAM,EACNM,IAAK,QAEPkgB,QAAS,CACPxgB,KAAM,EACNM,IAAK,QAEPmgB,QAAS,CACPzgB,KAAM,EACNM,IAAK,QAEPyW,QAAS,CACP/W,KAAM,EACNM,IAAK,QAEPogB,MAAO,CACL1gB,KAAM,EACNM,IAAK,SAGTqgB,aAAc,mBACdC,cAAe,eACfC,kBAAmB,oCACnBC,iBAAkB,kBAClBC,iBAAkB,aAClBC,cAAe,aACfC,aAAc,0BACdC,gBAAiB,YACjBC,kBAAmB,aACnBC,kBAAmB,YACnBC,kBAAmB,OACnBC,iBAAkB,OAClBC,4BAA6B,cAC7Blf,OAAQ,KACR1B,MAAO,cACP6gB,UAAW,KACXC,WAAY,KACZC,cAAe,MACfC,cAAe,KACfC,YAAa,KACbC,YAAa,OACbC,gBAAiB,OACjBC,oBAAqB,OACrBC,mBAAoB,SACpBC,uBAAwB,SACxBC,UAAW,KACXC,IAAK,MACLC,WAAY,KACZC,KAAM,OACNC,IAAK,KACLC,KAAM,KACNC,UAAW,YACXC,WAAY,MACZC,aAAc,MACdC,QAAS,KACTC,QAAS,MACTC,SAAU,OCpEVguC,GAAO,OACP,GAAe/sD,GACfgtD,GAAwB,SAASp/C,GACnC,EAAUq/C,EAAQr/C,GAClB,IAAI7L,EAAS,EAAakrD,GAC1B,SAASA,IACP,IAAIjrD,EACJ,EAAgB5mB,KAAM6xE,GACtB,IAAK,IAAI/oE,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAiCzB,OA/BA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,sBAAsB,SAASkrD,GAC5E,IAAIrmE,EAAOmb,EAAMmrD,WACbC,EAAU7yE,OAAOC,OAAO,CAAC,EAAG0yE,EAAY,CAC1C1wD,IAAK0wD,EAAW1wD,KAAO0wD,EAAW/hD,SAEpCnJ,EAAMqrD,OAAON,IAAMtvE,KAAKC,EAAeA,EAAe,CACpDkI,KAAM,cACLiB,GAAO,CAAC,EAAG,CACZumE,YAEJ,IACArvE,EAAgByC,EAAuBwhB,GAAQ,YAAY,WACzDA,EAAMgtC,OACR,IACAjxD,EAAgByC,EAAuBwhB,GAAQ,eAAe,SAASiE,GACrEjE,EAAMxe,KAAKyiB,EACb,IACAloB,EAAgByC,EAAuBwhB,GAAQ,kBAAkB,WAC/D,IAAIsrD,EAAQtrD,EAAMurD,WACdC,EAAO,IAAIC,KAAK,CAACC,KAAKC,UAAUL,IAAS,CAC3C1nE,KAAM,qBAEJgoE,EAAcxqE,OAAOyqE,IAAIC,gBAAgBN,GACzCO,EAAOllE,SAASgB,cAAc,KAClCkkE,EAAK39D,MAAMqB,QAAU,OACrBs8D,EAAKzqE,KAAOsqE,EACZG,EAAK10C,SAAW,aAChB00C,EAAKC,UAAW,EAChBD,EAAKvpB,OACP,IACOxiC,CACT,CA+IA,OA9IA,EAAairD,EAAQ,CAAC,CACpBnvE,IAAK,WACLsB,MAAO,WACL,MAAO,CACL6uE,UAAWhmE,KAAKC,MAChBgmE,YAAY,IAAIjmE,MAAOkmE,cAE3B,GACC,CACDrwE,IAAK,cACLsB,MAAO,WACLhE,KAAK4zD,QACL5zD,KAAKsoB,GAAGhE,GAAatkB,KAAKgzE,oBAC1BhzE,KAAKsoB,GAAG,GAAazD,WAAY7kB,KAAKizE,aACtCjzE,KAAKsoB,GAAG,GAAaxD,eAAgB9kB,KAAKkzE,gBAC1ClzE,KAAKsoB,GAAG,GAAavD,YAAa/kB,KAAK82C,SACzC,GACC,CACDp0C,IAAK,UACLsB,MAAO,WACLhE,KAAKqwB,QACP,GACC,CACD3tB,IAAK,gBACLsB,MAAO,WACLhE,KAAKkzE,gBACP,GACC,CACDxwE,IAAK,OACLsB,MAAO,SAAc6mB,GACfA,EAAKsoD,QACPnzE,KAAKozE,aAAavoD,GAElB7qB,KAAKqzE,MAAMxoD,EAEf,GACC,CACDnoB,IAAK,QACLsB,MAAO,SAAe6mB,GACpB,IAAIpf,EAAOzL,KAAK+xE,WAChB/xE,KAAKiyE,OAAON,IAAMtvE,KAAKC,EAAeA,EAAe,CAAC,EAAGmJ,GAAO,CAAC,EAAG,CAClEumE,QAASnnD,IAEb,GACC,CACDnoB,IAAK,eACLsB,MAAO,SAAsB6mB,GAC3B,GAAIA,GAAQA,EAAKyoD,QAAS,CACxB,IAAIC,EAAQ1mE,KAAKC,MACb0mE,EAAMD,EAAQ1oD,EAAKyoD,QACnBH,EAAU7wE,EAAe,CAC3BmxE,IAAK,WACLD,MACAtsE,KAAM2jB,EAAK3jB,MAAQ2jB,EAAKzJ,IACxBsyD,GAAI,IACJxlE,IAAK,EACLylE,IAAK,EACLC,GAAI/oD,EAAKyoD,QACTH,SAAS,GACRtoD,GACH7qB,KAAKqzE,MAAMF,EACb,MACElqE,QAAQX,KAAK,gDAEjB,GACC,CACD5F,IAAK,QACLsB,MAAO,WACL,IAAI6vE,EACJ7zE,KAAKiyE,QAAU4B,EAAe,CAAC,EAAGlxE,EAAgBkxE,EAAclC,GAAM,IAAKhvE,EAAgBkxE,EAAc,QAAS,CAAC,GAAIA,EACzH,GACC,CACDnxE,IAAK,WACLsB,MAAO,WAIL,IAHA,IAAI6F,EAAS7J,KAAK6J,OACdiqE,EAAYjqE,EAAO2W,MACnBtI,EAAW,GACNrX,EAAI,EAAGA,EAAIizE,EAAU57D,SAASxY,OAAQmB,IAC7CqX,EAAS7V,KAAK,CACZ6H,MAAO4pE,EAAU57D,SAAShO,MAAMrJ,GAChCsJ,IAAK2pE,EAAU57D,SAAS/N,IAAItJ,KAGhC,IAAIkzE,EAAY,CACdn4D,YAAak4D,EAAUl4D,YACvB+E,WAAYmzD,EAAUnzD,WACtBzI,WACAwN,OAAQouD,EAAUpuD,OAClBjF,MAAOqzD,EAAUrzD,OAGnB,OADAzgB,KAAKiyE,OAAOzxD,MAAQuzD,EACb,CACLC,IAAKh0E,KAAKiyE,OACVgC,SAAUj0E,KAAKk0E,gBACff,QAASnzE,KAAKm0E,cAElB,GACC,CACDzxE,IAAK,gBACLsB,MAAO,WACL,IAAIowE,EAAUp0E,KAAKiyE,OAAON,IACtB0C,EAAOD,EAAQ7jE,KAAI,SAAS+jE,GAC9B,IAAIzpD,EAAOypD,EAAKtC,QAAQnnD,KACpBzJ,EAAM,GACV,IACMyJ,aAAgBsI,MAClB/R,EAAMyJ,EAAKzJ,SACO,IAATyJ,IACTzJ,EAAMkxD,KAAKC,UAAU1nD,GAEzB,CAAE,MAAOxiB,GACPY,QAAQC,IAAI,MAAOb,EACrB,CACA,MAAO,IAAI5H,OAAO6zE,EAAKxB,WAAY,QAAQryE,OAAO6zE,EAAKtC,QAAQ5wD,IAAK,KAAK3gB,OAAO2gB,EAAK,IACvF,IACA,OAAOizD,CACT,GACC,CACD3xE,IAAK,cACLsB,MAAO,WACL,IAAImvE,EAAU,CACZoB,YAAa,IAEXH,EAAUp0E,KAAKiyE,OAAON,IAM1B,OALAyC,EAAQ3xE,SAAQ,SAAS6xE,GACnBA,EAAKtC,QAAQmB,SACfA,EAAQoB,YAAYlyE,KAAKiyE,EAAKtC,QAElC,IACOmB,CACT,IACE,CAAC,CACHzwE,IAAK,aACLsD,IAAK,WACH,MAAO,OACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CAAC,CACV,KAEK6rE,CACT,CAzL4B,CAyL1B3iD,IC3LEslD,GAA0B,SAAShiD,GACrC,EAAUiiD,EAAUjiD,GACpB,IAAI7L,EAAS,EAAa8tD,GAC1B,SAASA,IACP,IAAI7tD,EACJ,EAAgB5mB,KAAMy0E,GACtB,IAAK,IAAI3rE,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAuDzB,OArDA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,aAAa,WAC1D,IAAImZ,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OAAQpB,EAASs3B,EAAsBt3B,OACjI,GAAIoB,EAAO2W,MAAMG,aAAejH,iBAAiB+nB,aAAjD,CAGA,GAAI53B,EAAO2W,MAAMgK,SACf,IAAK5D,EAAM8tD,qBACT,YAGF9tD,EAAM8tD,sBAAuB,EAE/B,IAAI7qE,EAAO2W,MAAMkF,QAAuC,IAA7B7b,EAAO2W,MAAM5E,cAAqBgL,EAAM+tD,UAAnE,CAGA,IAAIz8D,EAAWrO,EAAO2W,MAAMtI,SACxB08D,EAAgBnsE,EAAOmsE,eAAiB,GACxCC,EAAwBpsE,EAAOosE,uBAAyB,GACxDj5D,EAAc/R,EAAO2W,MAAM5E,YAC3BsjD,EAAMt4C,EAAMkuD,UAAU58D,EAAU0D,EAAai5D,GACjD,GAAY,OAAR3V,GAAwB,IAARA,EAApB,CAGAj2D,QAAQC,IAAI,wBAAyBgP,EAAShO,MAAMg1D,GAAMhnD,EAAS/N,IAAI+0D,IACvE,IAAI6V,EAAS78D,EAAShO,MAAMg1D,GAAO,GAC/B8V,EAAUnrE,EAAO2W,MAAMjG,SAC3B,KAAIw6D,EAASC,GAAb,CAGA,IAAIC,EAAWF,EAASn5D,EACpBs5D,EAAaD,GAAYL,EACzBK,EAAWR,EAASU,uBAGpBD,KACwB,IAAtBzsE,EAAO2sE,aACTvrE,EAAO2W,MAAM5E,YAAcgL,EAAMyuD,SAAWN,EAAS,GAAMA,GAE7DnuD,EAAM/c,QAAU+c,EAAM/c,OAAOsb,KAAK,aAClClc,QAAQC,IAAI,mBAAoBg2D,EAAK,eAAgBgW,EAAY,gBAAiBrrE,EAAO2W,MAAM5E,YAAa,aAAcA,EAAc/R,EAAO2W,MAAM5E,aACtI,MAAXm5D,GACFlrE,GAAUA,EAAOsb,KAAK,MAAO,CAC3B3a,KAAM,WACN8qE,SAAU,MACVlrC,IAAKvgC,EAAOpB,OAAO2hC,IACnBhqB,IAAK,CACHm1D,cAAe7oE,KAAKoF,MAAe,IAATijE,MAlBlC,CANA,CARA,CAVA,CA+CF,IACOnuD,CACT,CAsEA,OArEA,EAAa6tD,EAAU,CAAC,CACtB/xE,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACTo1E,EAAap1E,KAAKyI,OAAO2sE,YACV,IAAfA,IAGJp1E,KAAK20E,WAAY,EACjB30E,KAAK00E,sBAAuB,EAC5B10E,KAAKq1E,SAAW,4BAA4BluE,KAAKyG,UAAUgP,aAAe,SAASzV,KAAKyG,UAAUgP,aAAe,aAAazV,KAAKyG,UAAU4P,UAC7Ixd,KAAKsoB,GAAGzG,GAAS7hB,KAAKw1E,WACtBx1E,KAAKsoB,GAAGjH,IAAM,WACZ0G,EAAO4sD,WAAY,CACrB,IACA30E,KAAKsoB,GAAG5G,IAAS,WACfqG,EAAO2sD,sBAAuB,CAChC,IACF,GACC,CACDhyE,IAAK,YACLsB,MAAO,SAAmBkU,EAAUzM,EAAMgqE,GACxC,IAAKv9D,IAAaA,EAASxY,OACzB,OAAO,KAET,GAAwB,IAApBwY,EAASxY,QAAgBwY,EAAS/N,IAAI,GAAK+N,EAAShO,MAAM,GAAK,KACjE,OAAO,KAIT,IAFA,IAAIwrE,EAAe11E,KAAK21E,aAAaz9D,GACjCgnD,EAAM,KACDr+D,EAAI,EAAGA,EAAI60E,EAAah2E,OAAQmB,IAAK,CAC5C,IAAI+N,EAAO8mE,EAAa70E,GACxB,GAAI+N,EAAK1E,MAAQuB,IAAe,IAAN5K,GAAW60E,EAAa70E,EAAI,GAAGsJ,IAAMsB,GAAQgqE,GAAY,CACjFvW,EAAMr+D,EACN,KACF,CACF,CACA,OAAOq+D,CACT,GACC,CACDx8D,IAAK,eACLsB,MAAO,SAAsBzE,GAC3B,IAAKA,EACH,MAAO,GAGT,IADA,IAAIyX,EAAM,GACDnW,EAAI,EAAGA,EAAItB,EAAEG,OAAQmB,IAC5BmW,EAAI3U,KAAK,CACP6H,MAAO3K,EAAE2K,MAAMrJ,GACfsJ,IAAK5K,EAAE4K,IAAItJ,KAGf,OAAOmW,CACT,IACE,CAAC,CACHtU,IAAK,aACLsD,IAAK,WACH,MAAO,SACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLovE,YAAY,EACZR,cAAe,GACfC,sBAAuB,GAE3B,KAEKJ,CACT,CAtI8B,CAsI5BliD,IACFiiD,GAAQW,sBAAwB,KCvIhC,IAAIS,GAAqC,SAASpjD,GAChD,EAAUqjD,EAAqBrjD,GAC/B,IAAI7L,EAAS,EAAakvD,GAC1B,SAASA,IACP,IAAIjvD,EACJ,EAAgB5mB,KAAM61E,GACtB,IAAK,IAAI/sE,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAiCzB,OA/BA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,aAAa,WAC1D,IAAImZ,EAAwB36B,EAAuBwhB,GAAQne,EAASs3B,EAAsBt3B,OACtFme,EAAMkvD,QAAUrtE,EAAOstE,YAAcnvD,EAAM0hC,QAA0C,IAAjC7/C,EAAOutE,wBAG/DpvD,EAAM0hC,MAAQt8C,WAAW4a,EAAMqvD,OAA6B,IAArBxtE,EAAOytE,aAChD,IACAvzE,EAAgByC,EAAuBwhB,GAAQ,UAAU,WACvD,IAAIsZ,EAAyB96B,EAAuBwhB,GAAQ/c,EAASq2B,EAAuBr2B,OAAQpB,EAASy3B,EAAuBz3B,OAGpI,GAFA0D,aAAaya,EAAM0hC,OACnB1hC,EAAM0hC,MAAQ,OACV1hC,EAAMkvD,QAAUrtE,EAAOstE,aAA+C,IAAjCttE,EAAOutE,0BAG5CnsE,EAAO2W,MAAMkF,QAAuC,IAA7B7b,EAAO2W,MAAM5E,cAAqBgL,EAAM+tD,WAAnE,CAGA/tD,EAAMquD,SAAWxsE,EAAOwsE,UAAYruD,EAAMkvD,QAAU,GAChDlvD,EAAMkvD,UAAYrtE,EAAOwsE,UAAYruD,EAAMquD,SAAW,IACxDruD,EAAMquD,SAAW,GAEnB,IAAIF,EAASlrE,EAAO+R,YAAcgL,EAAMquD,SACpCD,EAAUnrE,EAAO2W,MAAMjG,SACvBw6D,EAASC,IAGb/rE,QAAQC,IAAI,+BAAgCW,EAAO+R,YAAa,YAAam5D,GAC7EnuD,EAAMkvD,UACNjsE,EAAO+R,YAAcm5D,EAZrB,CAaF,IACOnuD,CACT,CAuCA,OAtCA,EAAaivD,EAAqB,CAAC,CACjCnzE,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACTmgC,EAAengC,KAAKyI,OAAQutE,EAAwB71C,EAAa61C,sBAAuBf,EAAW90C,EAAa80C,UACtF,IAA1Be,IAGJh2E,KAAK20E,WAAY,EACjB30E,KAAK81E,QAAU,EACf91E,KAAKsoD,MAAQ,KACbtoD,KAAKi1E,SAAWA,EAChBj1E,KAAKsoB,GAAGzG,GAAS7hB,KAAKyqB,WACtBzqB,KAAKsoB,GAAG,CAAChH,GAASQ,KAAU,WAC1B3V,aAAa4b,EAAOugC,OACpBvgC,EAAOugC,MAAQ,KACfvgC,EAAOktD,SAAWltD,EAAOtf,OAAOwsE,QAClC,IACAj1E,KAAKsoB,GAAGjH,IAAM,WACZ0G,EAAO4sD,WAAY,CACrB,IACF,IACE,CAAC,CACHjyE,IAAK,aACLsD,IAAK,WACH,MAAO,oBACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACLgwE,uBAAuB,EACvBE,YAAa,GACbjB,SAAU,EACVc,WAAY,EAEhB,KAEKF,CACT,CAjFyC,CAiFvCtjD,ICjFE4jD,GAAqB,MACrBC,GAAa,CAAC,OACdC,GAA4B,SAAS7jD,GACvC,EAAU8jD,EAAY9jD,GACtB,IAAI7L,EAAS,EAAa2vD,GAC1B,SAASA,IACP,IAAI1vD,EACJ,EAAgB5mB,KAAMs2E,GACtB,IAAK,IAAIxtE,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAgHzB,OA9GA4d,EAAQD,EAAO7mB,KAAKC,MAAM4mB,EAAQ,CAAC3mB,MAAMS,OAAOiL,IAChD/I,EAAgByC,EAAuBwhB,GAAQ,YAAY,WACzD,IAAIpc,EAAO/K,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK02E,GAC5E,IAAKvvD,EAAM2vD,iBAAmB3vD,EAAM2vD,eAAe/rE,GACjD,OAAO,EACT,GAAIoc,EAAM2vD,eAAe/rE,GAAM9K,QAAU,EACvC,OAAO,EACT,IAAIi0C,EAAQ,EAIZ,OAHA/sB,EAAM2vD,eAAe/rE,GAAM+F,KAAI,SAAS3B,GACtC+kC,GAAS/kC,CACX,IACOlC,KAAKoF,MAAM6hC,EAAQ/sB,EAAM2vD,eAAe/rE,GAAM9K,OACvD,IACAiD,EAAgByC,EAAuBwhB,GAAQ,cAAc,WACvDxc,EAAKoP,MAAMoN,EAAM/c,OAAO4P,SAG5BmN,EAAM4vD,gBACN5vD,EAAM6vD,IAAM,EACZ7vD,EAAM0hC,MAAQt8C,WAAW4a,EAAM8vD,UAAW9vD,EAAMne,OAAOkuE,cACzD,IACAh0E,EAAgByC,EAAuBwhB,GAAQ,iBAAiB,WAC9DA,EAAM2vD,eAAiB,CAAC,EACxBH,GAAW3zE,SAAQ,SAAS+H,GAC1Boc,EAAM2vD,eAAe/rE,GAAQ,EAC/B,GACF,IACA7H,EAAgByC,EAAuBwhB,GAAQ,sBAAsB,SAASiE,GAC5EA,EAAK+rD,OAAShwD,EAAMiwD,WAAWhsD,EAAK+rD,MAAO/rD,EAAKrgB,MAAQ2rE,GAC1D,IACAxzE,EAAgByC,EAAuBwhB,GAAQ,aAAa,WAG1D,GAFAza,aAAaya,EAAM0hC,OACnB1hC,EAAM0hC,MAAQ,KACT1hC,EAAM/c,QAAW+c,EAAMne,OAAOquE,UAAnC,CAEA,IAAI32C,EAAevZ,EAAMne,OAAQ6K,EAAM6sB,EAAa7sB,IAAKyjE,EAAW52C,EAAa42C,SAAUC,EAAU72C,EAAa62C,QAASL,EAAex2C,EAAaw2C,aACnJM,EAAe3jE,GAAOA,EAAIhT,QAAQ,KAAO,EAAI,WAAa,YAAcuM,KAAKC,MACjF,KAAI8Z,EAAM6vD,KAAOO,GAAjB,CAGApwD,EAAM6vD,MACN,IACE,IAAIvsE,GAAQ,IAAI2C,MAAOkN,UACnB5P,EAAM,KACN+sE,EAAM,IAAIC,eACdvwD,EAAMswD,IAAMA,EACZA,EAAIlrD,KAAK,MAAOirD,GAChB,IAAIG,EAAU,CAAC,EACXl9D,EAASxN,KAAKoF,MAAsB,GAAhBpF,KAAKwN,UAC7Bk9D,EAAQC,MAAQ,SAAWn9D,EAAS,KAAO68D,EAAW78D,GAClDk9D,GACFj4E,OAAO2C,KAAKs1E,GAAS30E,SAAQ,SAAS8mB,GACpC2tD,EAAII,iBAAiB/tD,EAAG6tD,EAAQ7tD,GAClC,IAEF2tD,EAAIK,mBAAqB,WACvB,GAAuB,IAAnBL,EAAIv2D,WAAkB,CACxBiG,EAAMswD,IAAM,KACZ/sE,GAAM,IAAI0C,MAAOkN,UACjB,IAAImiC,EAAOg7B,EAAIM,kBAAkB,kBAAoB,KAAO,EACxDZ,EAAQlqE,KAAKkF,MAAa,IAAPsqC,GAAc/xC,EAAMD,IAC3C0c,EAAMiwD,WAAWD,GACjBhwD,EAAM0hC,MAAQt8C,WAAW4a,EAAM8vD,UAAWC,EAC5C,CACF,EACAO,EAAIO,MACN,CAAE,MAAOj3E,GACPyI,QAAQZ,MAAM7H,EAChB,CA7BA,CALQ,CAmCV,IACAmC,EAAgByC,EAAuBwhB,GAAQ,cAAc,SAASgwD,GACpE,IAAIpsE,EAAO/K,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK02E,GAC5E,GAAKvvD,EAAM2vD,gBAAmB3vD,EAAM2vD,eAAe/rE,GAAnD,CAEA,IAAIktE,EAAe9wD,EAAMne,OAAOivE,aAC5B9wD,EAAM2vD,eAAe/rE,GAAM9K,QAAUg4E,GACvC9wD,EAAM2vD,eAAe/rE,GAAMmtE,QAE7B/wD,EAAM2vD,eAAe/rE,GAAMnI,KAAKu0E,GAChC,IAAI72C,EAAwB36B,EAAuBwhB,GAAQ/c,EAASk2B,EAAsBl2B,OACtFA,IACFW,IAAS2rE,GAAqBtsE,EAAO+tE,cAAgBhB,EAAQ/sE,EAAO+c,EAAMixD,aAAa,WAAYrtE,IAASosE,GAE9GhwD,EAAMkxD,YAAYttE,EAVV,CAWV,IACA7H,EAAgByC,EAAuBwhB,GAAQ,eAAe,WAC5D,IAAIpc,EAAO/K,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK02E,GACxES,EAAQhwD,EAAMmxD,SAASvtE,GACvB01B,EAAyB96B,EAAuBwhB,GAAQ/c,EAASq2B,EAAuBr2B,OAC5F,GAAIA,EACF,GAAIW,IAAS2rE,GACNtsE,EAAOmuE,UAAYpB,IAAU/sE,EAAOmuE,WACvCnuE,EAAOmuE,SAAWpB,EAClB/sE,EAAOsb,KAAK7B,GAAuB,CACjCszD,QACAgB,cAAe/tE,EAAO+tE,qBAGrB,CACL,IAAIK,EAAYrxD,EAAMixD,aAAa,MAAOrtE,GACrCX,EAAOouE,IAAcrB,IAAU/sE,EAAOouE,KACzCpuE,EAAOouE,GAAarB,EACpB/sE,EAAOsb,KAAK7B,GAAuB,CACjCszD,QACAgB,cAAe/tE,EAAO+tE,gBAG5B,CAEJ,IACOhxD,CACT,CA6EA,OA5EA,EAAa0vD,EAAY,CAAC,CACxB5zE,IAAK,cACLsB,MAAO,WACL,IAAI88B,EAAgB9gC,KAAKyI,OAAQquE,EAAYh2C,EAAcg2C,UAAWoB,EAAmBp3C,EAAco3C,kBAC7E,OAArBA,QAAkD,IAArBA,OAA8B,EAASA,EAAiBx4E,QAAU,GAClG02E,GAAW/zE,KAAKtC,MAAMq2E,GAAYhwE,EAAmB8xE,IAEvDl4E,KAAKw2E,gBACLx2E,KAAKsoB,GAAG,kBAAmBtoB,KAAKm4E,oBAChCn4E,KAAKsoD,MAAQ,KACbtoD,KAAKy2E,IAAM,EACXz2E,KAAKk3E,IAAM,KACNJ,GAGL92E,KAAKsoB,GAAG,CAACpG,GAAaiB,IAASnjB,KAAK4L,WACtC,GACC,CACDlJ,IAAK,eACLsB,MAAO,SAAsBo0E,EAAY5tE,GACvC,OAAO4tE,EAAa,QAAU5tE,EAAK6d,aACrC,GACC,CACD3lB,IAAK,YACLsD,IAAK,WACH,OAAOhG,KAAKyI,OAAOquE,SACrB,EACAntD,IAAK,SAAa3lB,GAEhB,GADAhE,KAAKyI,OAAOquE,UAAY9yE,GACnBA,GAAShE,KAAKsoD,MAGjB,OAFAn8C,aAAanM,KAAKsoD,YAClBtoD,KAAKsoD,MAAQ,MAGf,GAAItoD,KAAKyI,OAAOquE,UAAW,CACzB,GAAI92E,KAAKsoD,MACP,OACFtoD,KAAKsoD,MAAQt8C,WAAWhM,KAAK02E,UAAW12E,KAAKyI,OAAOkuE,aACtD,CACF,GACC,CACDj0E,IAAK,UACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACbA,KAAK0oB,IAAI,kBAAmB1oB,KAAKm4E,oBACjCn4E,KAAK0oB,IAAI,CAACxG,GAAaiB,IAASnjB,KAAK4L,YACrCwqE,GAAW3zE,SAAQ,SAAS+H,GAC1Bud,EAAOwuD,gBAAkBxuD,EAAOwuD,eAAe/rE,KAAUud,EAAOwuD,eAAe/rE,GAAQ,GACzF,IACAxK,KAAKu2E,iBAAmBv2E,KAAKu2E,eAAiB,CAAC,GAC/CpqE,aAAanM,KAAKsoD,OAClBtoD,KAAKsoD,MAAQ,KACTtoD,KAAKk3E,KAA+B,IAAxBl3E,KAAKk3E,IAAIv2D,aACvB3gB,KAAKk3E,IAAIlqE,QAAUhN,KAAKk3E,IAAIlqE,SAC5BhN,KAAKk3E,IAAM,KAEf,IACE,CAAC,CACHx0E,IAAK,aACLsD,IAAK,WACH,MAAO,WACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL8wE,WAAW,EACXE,QAAS,EACTD,SAAU,OACVJ,aAAc,IACdrjE,IAAK,GACLokE,aAAc,EACdQ,iBAAkB,GAEtB,KAEK5B,CACT,CAtMgC,CAsM9B/jD,ICxME8lD,GAA4B,SAAS7lD,GACvC,EAAU8lD,EAAY9lD,GACtB,IAAI7L,EAAS,EAAa2xD,GAC1B,SAASA,IAEP,OADA,EAAgBt4E,KAAMs4E,GACf3xD,EAAO5mB,MAAMC,KAAMP,UAC5B,CAuIA,OAtIA,EAAa64E,EAAY,CAAC,CACxB51E,IAAK,cACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACR6J,EAAS7J,KAAK6J,OAAQpB,EAASzI,KAAKyI,OAMxC,GALAzI,KAAKsoD,MAAQ,KACbtoD,KAAKu4E,mBAAqB,EAC1Bv4E,KAAKw4E,mBAAqB,EAC1Bx4E,KAAKy4E,gBAAkB,KACvBz4E,KAAK04E,SAAW,IACZjwE,EAAOmqE,SAAX,CAEA,IAAI5+B,EAA0BnqC,EAAO2W,MAAMwzB,wBACtCA,IAELh0C,KAAKsoB,GAAGjH,IAAM,WACZuF,EAAM+xD,YACR,IACA34E,KAAKsoB,GAAG9G,IAAO,WACboF,EAAMgyD,WACR,IACA54E,KAAKsoB,GAAG/G,IAAO,WACbqF,EAAMgyD,WACR,IACA54E,KAAKsoB,GAAG/F,IAAS,WACfqE,EAAMgyD,WACR,IAfQ,CAgBV,GACC,CACDl2E,IAAK,aACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACbA,KAAK44E,YACL54E,KAAK64E,OAAS7sE,YAAW,WACvB+b,EAAO+wD,kBACP/wD,EAAO4wD,YACT,GAAG34E,KAAKyI,OAAOswE,KACjB,GACC,CACDr2E,IAAK,YACLsB,MAAO,WACLmI,aAAanM,KAAK64E,QAClB74E,KAAK64E,OAAS,IAChB,GACC,CACDn2E,IAAK,cACLsB,MAAO,SAAqBg1E,EAAkB7kC,EAAkBD,EAAoB+kC,GAClF,IAAIz4D,EAAQxgB,KAAK6J,OAAO2W,MACpB04D,EAASzrE,SAASyrE,OAClBxzD,EAASlF,EAAMkF,OACnB,GAAsB,mBAAXwzD,IAAyBA,IAAWxzD,EAAQ,CAKrD,IAJA,IAAIgnB,EAAUlsB,EAAM5E,YAChB1D,EAAWsI,EAAMtI,SACjBihE,GAAe,EACfC,EAAO,GACFv4E,EAAI,EAAGA,EAAIqX,EAASxY,OAAQmB,IAAK,CACxC,IAAIqJ,EAAQgO,EAAShO,MAAMrJ,GACvBsJ,EAAM+N,EAAS/N,IAAItJ,GAKvB,GAJAu4E,EAAK/2E,KAAK,CACR6H,QACAC,QAEED,GAASwiC,GAAWA,GAAWviC,EAAM,EAAG,CAC1CgvE,GAAe,EACf,KACF,CACF,CACyB,IAArB34D,EAAMG,YAAoBw4D,IACxBn5E,KAAKw4E,mBAAqBx4E,KAAKyI,OAAO4wE,YACxCr5E,KAAKmlB,KAAKH,GAAWhlB,KAAK04E,UAC1B14E,KAAKs5E,UAEDN,GAAoBh5E,KAAKyI,OAAO8wE,aAClCv5E,KAAKw4E,qBACLx4E,KAAK04E,SAASr2E,KAAK,CACjB+2E,OACAx9D,YAAa4E,EAAM5E,YACnBo9D,mBACA7kC,mBACAD,qBACA+kC,mBAGFj5E,KAAKs5E,SAIb,CACF,GACC,CACD52E,IAAK,SACLsB,MAAO,WACLhE,KAAK04E,SAAW,GAChB14E,KAAKw4E,mBAAqB,CAC5B,GACC,CACD91E,IAAK,kBACLsB,MAAO,WACL,GAAKhE,KAAK6J,OAAO2W,MAAjB,CAGA,IAAIg5D,EAAwBx5E,KAAK6J,OAAO2W,MAAMwzB,0BAA2BG,EAAmBqlC,EAAsBrlC,iBAAkBD,EAAqBslC,EAAsBtlC,mBAC3KulC,EAAWz/D,YAAYlN,MAC3B,GAAIqnC,GACEn0C,KAAKy4E,gBAAiB,CACxB,IAAIiB,EAAavlC,EAAmBn0C,KAAKu4E,mBACrCU,EAAgBQ,EAAWz5E,KAAKy4E,gBACpCz4E,KAAK25E,YAAYD,EAAYvlC,EAAkBD,EAAoB+kC,EACrE,CAEFj5E,KAAKu4E,mBAAqBpkC,EAC1Bn0C,KAAKy4E,gBAAkBgB,CAXvB,CAYF,GACC,CACD/2E,IAAK,UACLsB,MAAO,WACLhE,KAAK44E,WACP,IACE,CAAC,CACHl2E,IAAK,aACLsD,IAAK,WACH,MAAO,WACT,GACC,CACDtD,IAAK,gBACLsD,IAAK,WACH,MAAO,CACL4sE,UAAU,EACVmG,KAAM,IACNM,WAAY,EACZE,YAAa,EAEjB,KAEKjB,CACT,CA9IgC,CA8I9B/lD,IC5GFwS,GAAKN,IAAIitC,IACT,IAAIkI,GAAgC,GAAa,SAASC,EAAejvE,EAAS4kB,GAChF,IAAIsqD,EAAeC,EAAgBC,EACnC,EAAgBh6E,KAAM65E,GACtB,IAAII,EAAezqD,GAAsD,WAAtCA,EAAa8M,qBAC5CH,EAAS3M,EAAa2M,OACtB+9C,EAAa/9C,EAAS,GAAK,CAACo8B,GAAsB9G,GAAU8c,GAActE,GAAiBvS,IAC3FyiB,EAAe,GAAG15E,OAAOy5E,EAAY,CAACjkB,GAAMY,GAAYmF,GAAQgD,GAAc+F,GAAgBO,GAAc9F,GAAUO,GAAY9F,GAAQh3B,KAC1Im3C,EAAS,CAAC/hC,GAAQM,GAAQc,GAAOsV,GAASjU,GAAOqrB,GAAaM,GAAQwG,GAAWprB,IACrF7hD,KAAKuuB,QAAU,CAACqjD,GAAOz8B,IAAU10C,OAAO2F,EAAmB+zE,GAAeC,EAAQ,CAAC5F,GAASoB,KAC5F,IAAI3gD,EAAOglD,EAAe,SAAW39D,EAAQC,OAC7C,OAAQ0Y,GACN,IAAK,MACF6kD,EAAgB95E,KAAKuuB,SAASlsB,KAAKtC,MAAM+5E,EAAe,CAACjuB,GAAU9I,GAAU8iB,GAAewQ,GAAWgC,KACxG,MACF,IAAK,UACF0B,EAAiB/5E,KAAKuuB,SAASlsB,KAAKtC,MAAMg6E,EAAgB,CAACpzB,KAC5D,MACF,SACGqzB,EAAiBh6E,KAAKuuB,SAASlsB,KAAKtC,MAAMi6E,EAAgB,CAACnuB,GAAU9I,GAAU8iB,MAEhFvpD,EAAQE,GAAGe,QAAmB,OAAT0X,IACvBj1B,KAAKuuB,QAAQlsB,KAAK4sE,IAEhB3yD,EAAQE,GAAGe,QACbvd,KAAKuuB,QAAQlsB,KAAK0gD,IAEpB/iD,KAAK09B,QAAU,GACf19B,KAAKugB,KAAO,EACd,ICzDI85D,GAA+B,SAASC,GAC1C,EAAUC,EAAeD,GACzB,IAAI3zD,EAAS,EAAa4zD,GAC1B,SAASA,IAEP,OADA,EAAgBv6E,KAAMu6E,GACf5zD,EAAO5mB,MAAMC,KAAMP,UAC5B,CACA,OAAO,EAAa86E,EACtB,CARmC,CAQjC30C,ICnBF,SAAS40C,GAAsBn0E,EAAKxF,GAClC,IAAIyX,EAAK,MAAQjS,EAAM,KAAO,oBAAsBpD,QAAUoD,EAAIpD,OAAOC,WAAamD,EAAI,cAC1F,GAAI,MAAQiS,EAAI,CACd,IAAIyrB,EAAIza,EAAI49B,EAAIhmC,EAAIu5D,EAAO,GAAIC,GAAK,EAAMlgB,GAAK,EAC/C,IACE,GAAItT,GAAM5uC,EAAKA,EAAGxY,KAAKuG,IAAMinB,KAAM,IAAMzsB,EAAG,CAC1C,GAAI1B,OAAOmZ,KAAQA,EACjB,OACFoiE,GAAK,CACP,MACE,OAASA,GAAM32C,EAAKmjB,EAAGpnD,KAAKwY,IAAKqiE,QAAUF,EAAKp4E,KAAK0hC,EAAG//B,OAAQy2E,EAAK/6E,SAAWmB,GAAI65E,GAAK,GAE7F,CAAE,MAAOtrE,GACPorD,GAAK,EAAMlxC,EAAKla,CAClB,CAAE,QACA,IACE,IAAKsrE,GAAM,MAAQpiE,EAAGsiE,SAAW15D,EAAK5I,EAAGsiE,SAAUz7E,OAAO+hB,KAAQA,GAChE,MACJ,CAAE,QACA,GAAIs5C,EACF,MAAMlxC,CACV,CACF,CACA,OAAOmxD,CACT,CACF,CACA,SAAS,GAAQ74E,EAAQC,GACvB,IAAIC,EAAO3C,OAAO2C,KAAKF,GACvB,GAAIzC,OAAO4C,sBAAuB,CAChC,IAAIC,EAAU7C,OAAO4C,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAASC,GACnD,OAAO/C,OAAOgD,yBAAyBP,EAAQM,GAAKE,UACtD,KAAKN,EAAKO,KAAKtC,MAAM+B,EAAME,EAC7B,CACA,OAAOF,CACT,CACA,SAAS,GAAeS,GACtB,IAAK,IAAI1B,EAAI,EAAGA,EAAIpB,UAAUC,OAAQmB,IAAK,CACzC,IAAI2B,EAAS,MAAQ/C,UAAUoB,GAAKpB,UAAUoB,GAAK,CAAC,EACpDA,EAAI,EAAI,GAAQ1B,OAAOqD,IAAS,GAAMC,SAAQ,SAASC,GACrD,GAAgBH,EAAQG,EAAKF,EAAOE,GACtC,IAAKvD,OAAOyD,0BAA4BzD,OAAO0D,iBAAiBN,EAAQpD,OAAOyD,0BAA0BJ,IAAW,GAAQrD,OAAOqD,IAASC,SAAQ,SAASC,GAC3JvD,OAAO2D,eAAeP,EAAQG,EAAKvD,OAAOgD,yBAAyBK,EAAQE,GAC7E,GACF,CACA,OAAOH,CACT,CACA,SAASs4E,KACPA,GAAsB,WACpB,OAAO75E,CACT,EACA,IAAIA,EAAU,CAAC,EAAG85E,EAAK37E,OAAOS,UAAWm7E,EAASD,EAAGj7E,eAAgBiD,EAAiB3D,OAAO2D,gBAAkB,SAASE,EAAKN,EAAKyD,GAChInD,EAAIN,GAAOyD,EAAKnC,KAClB,EAAGg3E,EAAU,mBAAqB/3E,OAASA,OAAS,CAAC,EAAGg4E,EAAiBD,EAAQ93E,UAAY,aAAcg4E,EAAsBF,EAAQG,eAAiB,kBAAmBC,EAAoBJ,EAAQK,aAAe,gBACxN,SAASC,EAAOt4E,EAAKN,EAAKsB,GACxB,OAAO7E,OAAO2D,eAAeE,EAAKN,EAAK,CACrCsB,QACA5B,YAAY,EACZuB,cAAc,EACdC,UAAU,IACRZ,EAAIN,EACV,CACA,IACE44E,EAAO,CAAC,EAAG,GACb,CAAE,MAAOlsE,GACPksE,EAAS,SAASt4E,EAAKN,EAAKsB,GAC1B,OAAOhB,EAAIN,GAAOsB,CACpB,CACF,CACA,SAASu3E,EAAKC,EAASC,EAASp2E,EAAMq2E,GACpC,IAAIC,EAAiBF,GAAWA,EAAQ77E,qBAAqBg8E,EAAYH,EAAUG,EAAWC,EAAY18E,OAAOgF,OAAOw3E,EAAe/7E,WAAYkU,EAAU,IAAIgoE,EAAQJ,GAAe,IACxL,OAAO54E,EAAe+4E,EAAW,UAAW,CAC1C73E,MAAO+3E,EAAiBP,EAASn2E,EAAMyO,KACrC+nE,CACN,CACA,SAASG,EAAS5gE,EAAIpY,EAAK8E,GACzB,IACE,MAAO,CACL0C,KAAM,SACN1C,IAAKsT,EAAGtb,KAAKkD,EAAK8E,GAEtB,CAAE,MAAOsH,GACP,MAAO,CACL5E,KAAM,QACN1C,IAAKsH,EAET,CACF,CACApO,EAAQu6E,KAAOA,EACf,IAAIU,EAAmB,CAAC,EACxB,SAASL,IACT,CACA,SAASM,IACT,CACA,SAASC,IACT,CACA,IAAIC,EAAoB,CAAC,EACzBd,EAAOc,EAAmBnB,GAAgB,WACxC,OAAOj7E,IACT,IACA,IAAIq8E,EAAWl9E,OAAOqF,eAAgB83E,EAA0BD,GAAYA,EAASA,EAASE,EAAO,MACrGD,GAA2BA,IAA4BxB,GAAMC,EAAOj7E,KAAKw8E,EAAyBrB,KAAoBmB,EAAoBE,GAC1I,IAAIE,EAAKL,EAA2Bv8E,UAAYg8E,EAAUh8E,UAAYT,OAAOgF,OAAOi4E,GACpF,SAASK,EAAsB78E,GAC7B,CAAC,OAAQ,QAAS,UAAU6C,SAAQ,SAASi6E,GAC3CpB,EAAO17E,EAAW88E,GAAQ,SAAS50E,GACjC,OAAO9H,KAAK28E,QAAQD,EAAQ50E,EAC9B,GACF,GACF,CACA,SAAS80E,EAAcf,EAAWgB,GAChC,SAASC,EAAOJ,EAAQ50E,EAAKoX,EAASiZ,GACpC,IAAI4kD,EAASf,EAASH,EAAUa,GAASb,EAAW/zE,GACpD,GAAI,UAAYi1E,EAAOvyE,KAAM,CAC3B,IAAI9E,EAASq3E,EAAOj1E,IAAK9D,EAAQ0B,EAAO1B,MACxC,OAAOA,GAAS,iBAAmBA,GAAS+2E,EAAOj7E,KAAKkE,EAAO,WAAa64E,EAAY39D,QAAQlb,EAAMg5E,SAASzvD,MAAK,SAAS0vD,GAC3HH,EAAO,OAAQG,EAAQ/9D,EAASiZ,EAClC,IAAG,SAAS/oB,GACV0tE,EAAO,QAAS1tE,EAAK8P,EAASiZ,EAChC,IAAK0kD,EAAY39D,QAAQlb,GAAOupB,MAAK,SAAS2vD,GAC5Cx3E,EAAO1B,MAAQk5E,EAAWh+D,EAAQxZ,EACpC,IAAG,SAAS2C,GACV,OAAOy0E,EAAO,QAASz0E,EAAO6W,EAASiZ,EACzC,GACF,CACAA,EAAO4kD,EAAOj1E,IAChB,CACA,IAAIq1E,EACJr6E,EAAe9C,KAAM,UAAW,CAC9BgE,MAAO,SAAS04E,EAAQ50E,GACtB,SAASs1E,IACP,OAAO,IAAIP,GAAY,SAAS39D,EAASiZ,GACvC2kD,EAAOJ,EAAQ50E,EAAKoX,EAASiZ,EAC/B,GACF,CACA,OAAOglD,EAAkBA,EAAkBA,EAAgB5vD,KAAK6vD,EAA4BA,GAA8BA,GAC5H,GAEJ,CACA,SAASrB,EAAiBP,EAASn2E,EAAMyO,GACvC,IAAIq2B,EAAQ,iBACZ,OAAO,SAASuyC,EAAQ50E,GACtB,GAAI,cAAgBqiC,EAClB,MAAM,IAAIhX,MAAM,gCAClB,GAAI,cAAgBgX,EAAO,CACzB,GAAI,UAAYuyC,EACd,MAAM50E,EACR,OAAOu1E,GACT,CACA,IAAKvpE,EAAQ4oE,OAASA,EAAQ5oE,EAAQhM,IAAMA,IAAS,CACnD,IAAImsB,EAAWngB,EAAQmgB,SACvB,GAAIA,EAAU,CACZ,IAAIqpD,EAAiBC,EAAoBtpD,EAAUngB,GACnD,GAAIwpE,EAAgB,CAClB,GAAIA,IAAmBrB,EACrB,SACF,OAAOqB,CACT,CACF,CACA,GAAI,SAAWxpE,EAAQ4oE,OACrB5oE,EAAQ0pE,KAAO1pE,EAAQ2pE,MAAQ3pE,EAAQhM,SACpC,GAAI,UAAYgM,EAAQ4oE,OAAQ,CACnC,GAAI,mBAAqBvyC,EACvB,MAAMA,EAAQ,YAAar2B,EAAQhM,IACrCgM,EAAQ4pE,kBAAkB5pE,EAAQhM,IACpC,KACE,WAAagM,EAAQ4oE,QAAU5oE,EAAQ6pE,OAAO,SAAU7pE,EAAQhM,KAClEqiC,EAAQ,YACR,IAAI4yC,EAASf,EAASR,EAASn2E,EAAMyO,GACrC,GAAI,WAAaipE,EAAOvyE,KAAM,CAC5B,GAAI2/B,EAAQr2B,EAAQ6mE,KAAO,YAAc,iBAAkBoC,EAAOj1E,MAAQm0E,EACxE,SACF,MAAO,CACLj4E,MAAO+4E,EAAOj1E,IACd6yE,KAAM7mE,EAAQ6mE,KAElB,CACA,UAAYoC,EAAOvyE,OAAS2/B,EAAQ,YAAar2B,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAMi1E,EAAOj1E,IAClG,CACF,CACF,CACA,SAASy1E,EAAoBtpD,EAAUngB,GACrC,IAAI8pE,EAAa9pE,EAAQ4oE,OAAQA,EAASzoD,EAAS/wB,SAAS06E,GAC5D,QAAI,IAAWlB,EACb,OAAO5oE,EAAQmgB,SAAW,KAAM,UAAY2pD,GAAc3pD,EAAS/wB,SAAS03E,SAAW9mE,EAAQ4oE,OAAS,SAAU5oE,EAAQhM,SAAM,EAAQy1E,EAAoBtpD,EAAUngB,GAAU,UAAYA,EAAQ4oE,SAAW,WAAakB,IAAe9pE,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAM,IAAIvE,UAAU,oCAAsCq6E,EAAa,aAAc3B,EACpW,IAAIc,EAASf,EAASU,EAAQzoD,EAAS/wB,SAAU4Q,EAAQhM,KACzD,GAAI,UAAYi1E,EAAOvyE,KACrB,OAAOsJ,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAMi1E,EAAOj1E,IAAKgM,EAAQmgB,SAAW,KAAMgoD,EACtF,IAAI7zE,EAAO20E,EAAOj1E,IAClB,OAAOM,EAAOA,EAAKuyE,MAAQ7mE,EAAQmgB,EAAS4pD,YAAcz1E,EAAKpE,MAAO8P,EAAQwZ,KAAO2G,EAAS6pD,QAAS,WAAahqE,EAAQ4oE,SAAW5oE,EAAQ4oE,OAAS,OAAQ5oE,EAAQhM,SAAM,GAASgM,EAAQmgB,SAAW,KAAMgoD,GAAoB7zE,GAAQ0L,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAM,IAAIvE,UAAU,oCAAqCuQ,EAAQmgB,SAAW,KAAMgoD,EAClW,CACA,SAAS8B,EAAaC,GACpB,IAAIC,EAAQ,CACVC,OAAQF,EAAK,IAEf,KAAKA,IAASC,EAAME,SAAWH,EAAK,IAAK,KAAKA,IAASC,EAAMG,WAAaJ,EAAK,GAAIC,EAAMI,SAAWL,EAAK,IAAKh+E,KAAKs+E,WAAWj8E,KAAK47E,EACrI,CACA,SAASM,EAAcN,GACrB,IAAIlB,EAASkB,EAAMO,YAAc,CAAC,EAClCzB,EAAOvyE,KAAO,gBAAiBuyE,EAAOj1E,IAAKm2E,EAAMO,WAAazB,CAChE,CACA,SAASjB,EAAQJ,GACf17E,KAAKs+E,WAAa,CAAC,CACjBJ,OAAQ,SACNxC,EAAYj5E,QAAQs7E,EAAc/9E,MAAOA,KAAK4zD,OAAM,EAC1D,CACA,SAAS2oB,EAAOkC,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAASxD,GAC9B,GAAIyD,EACF,OAAOA,EAAe5+E,KAAK2+E,GAC7B,GAAI,mBAAqBA,EAASnxD,KAChC,OAAOmxD,EACT,IAAK9sE,MAAM8sE,EAAS/+E,QAAS,CAC3B,IAAImB,GAAK,EAAGysB,EAAO,SAASqxD,IAC1B,OAAS99E,EAAI49E,EAAS/+E,QACpB,GAAIq7E,EAAOj7E,KAAK2+E,EAAU59E,GACxB,OAAO89E,EAAM36E,MAAQy6E,EAAS59E,GAAI89E,EAAMhE,MAAO,EAAOgE,EAC1D,OAAOA,EAAM36E,WAAQ,EAAQ26E,EAAMhE,MAAO,EAAMgE,CAClD,EACA,OAAOrxD,EAAKA,KAAOA,CACrB,CACF,CACA,MAAO,CACLA,KAAM+vD,EAEV,CACA,SAASA,IACP,MAAO,CACLr5E,WAAO,EACP22E,MAAM,EAEV,CACA,OAAOuB,EAAkBt8E,UAAYu8E,EAA4Br5E,EAAe05E,EAAI,cAAe,CACjGx4E,MAAOm4E,EACPx4E,cAAc,IACZb,EAAeq5E,EAA4B,cAAe,CAC5Dn4E,MAAOk4E,EACPv4E,cAAc,IACZu4E,EAAkB0C,YAActD,EAAOa,EAA4Bf,EAAmB,qBAAsBp6E,EAAQ69E,oBAAsB,SAASC,GACrJ,IAAIC,EAAO,mBAAqBD,GAAUA,EAAO17E,YACjD,QAAS27E,IAASA,IAAS7C,GAAqB,uBAAyB6C,EAAKH,aAAeG,EAAK73E,MACpG,EAAGlG,EAAQg+E,KAAO,SAASF,GACzB,OAAO3/E,OAAOoF,eAAiBpF,OAAOoF,eAAeu6E,EAAQ3C,IAA+B2C,EAAOp6E,UAAYy3E,EAA4Bb,EAAOwD,EAAQ1D,EAAmB,sBAAuB0D,EAAOl/E,UAAYT,OAAOgF,OAAOq4E,GAAKsC,CAC5O,EAAG99E,EAAQi+E,MAAQ,SAASn3E,GAC1B,MAAO,CACLk1E,QAASl1E,EAEb,EAAG20E,EAAsBG,EAAch9E,WAAY07E,EAAOsB,EAAch9E,UAAWs7E,GAAqB,WACtG,OAAOl7E,IACT,IAAIgB,EAAQ47E,cAAgBA,EAAe57E,EAAQk+E,MAAQ,SAAS1D,EAASC,EAASp2E,EAAMq2E,EAAamB,QACvG,IAAWA,IAAgBA,EAAc59D,SACzC,IAAIrY,EAAO,IAAIg2E,EAAcrB,EAAKC,EAASC,EAASp2E,EAAMq2E,GAAcmB,GACxE,OAAO77E,EAAQ69E,oBAAoBpD,GAAW70E,EAAOA,EAAK0mB,OAAOC,MAAK,SAAS7nB,GAC7E,OAAOA,EAAOi1E,KAAOj1E,EAAO1B,MAAQ4C,EAAK0mB,MAC3C,GACF,EAAGmvD,EAAsBD,GAAKlB,EAAOkB,EAAIpB,EAAmB,aAAcE,EAAOkB,EAAIvB,GAAgB,WACnG,OAAOj7E,IACT,IAAIs7E,EAAOkB,EAAI,YAAY,WACzB,MAAO,oBACT,IAAIx7E,EAAQc,KAAO,SAAS0U,GAC1B,IAAI5U,EAASzC,OAAOqX,GAAM1U,EAAO,GACjC,IAAK,IAAIY,KAAOd,EACdE,EAAKO,KAAKK,GACZ,OAAOZ,EAAKq9E,UAAW,SAAS7xD,IAC9B,KAAOxrB,EAAKpC,QAAU,CACpB,IAAImyB,EAAO/vB,EAAKs9E,MAChB,GAAIvtD,KAAQjwB,EACV,OAAO0rB,EAAKtpB,MAAQ6tB,EAAMvE,EAAKqtD,MAAO,EAAOrtD,CACjD,CACA,OAAOA,EAAKqtD,MAAO,EAAMrtD,CAC3B,CACF,EAAGtsB,EAAQu7E,OAASA,EAAQT,EAAQl8E,UAAY,CAC9CwD,YAAa04E,EACbloB,MAAO,SAASyrB,GACd,GAAIr/E,KAAKs/E,KAAO,EAAGt/E,KAAKstB,KAAO,EAAGttB,KAAKw9E,KAAOx9E,KAAKy9E,WAAQ,EAAQz9E,KAAK26E,MAAO,EAAO36E,KAAKi0B,SAAW,KAAMj0B,KAAK08E,OAAS,OAAQ18E,KAAK8H,SAAM,EAAQ9H,KAAKs+E,WAAW77E,QAAQ87E,IAAiBc,EAC5L,IAAK,IAAIn4E,KAAQlH,KACf,MAAQkH,EAAKkhB,OAAO,IAAM2yD,EAAOj7E,KAAKE,KAAMkH,KAAUyK,OAAOzK,EAAKD,MAAM,MAAQjH,KAAKkH,QAAQ,EACnG,EACAmoE,KAAM,WACJrvE,KAAK26E,MAAO,EACZ,IAAI4E,EAAav/E,KAAKs+E,WAAW,GAAGE,WACpC,GAAI,UAAYe,EAAW/0E,KACzB,MAAM+0E,EAAWz3E,IACnB,OAAO9H,KAAKw/E,IACd,EACA9B,kBAAmB,SAAS+B,GAC1B,GAAIz/E,KAAK26E,KACP,MAAM8E,EACR,IAAI3rE,EAAU9T,KACd,SAASsqC,EAAOo1C,EAAKC,GACnB,OAAO5C,EAAOvyE,KAAO,QAASuyE,EAAOj1E,IAAM23E,EAAW3rE,EAAQwZ,KAAOoyD,EAAKC,IAAW7rE,EAAQ4oE,OAAS,OAAQ5oE,EAAQhM,SAAM,KAAW63E,CACzI,CACA,IAAK,IAAI9+E,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAAIk8E,EAASkB,EAAMO,WAC/C,GAAI,SAAWP,EAAMC,OACnB,OAAO5zC,EAAO,OAChB,GAAI2zC,EAAMC,QAAUl+E,KAAKs/E,KAAM,CAC7B,IAAIM,EAAW7E,EAAOj7E,KAAKm+E,EAAO,YAAa4B,EAAa9E,EAAOj7E,KAAKm+E,EAAO,cAC/E,GAAI2B,GAAYC,EAAY,CAC1B,GAAI7/E,KAAKs/E,KAAOrB,EAAME,SACpB,OAAO7zC,EAAO2zC,EAAME,UAAU,GAChC,GAAIn+E,KAAKs/E,KAAOrB,EAAMG,WACpB,OAAO9zC,EAAO2zC,EAAMG,WACxB,MAAO,GAAIwB,GACT,GAAI5/E,KAAKs/E,KAAOrB,EAAME,SACpB,OAAO7zC,EAAO2zC,EAAME,UAAU,OAC3B,CACL,IAAK0B,EACH,MAAM,IAAI1sD,MAAM,0CAClB,GAAInzB,KAAKs/E,KAAOrB,EAAMG,WACpB,OAAO9zC,EAAO2zC,EAAMG,WACxB,CACF,CACF,CACF,EACAT,OAAQ,SAASnzE,EAAM1C,GACrB,IAAK,IAAIjH,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAC5B,GAAIo9E,EAAMC,QAAUl+E,KAAKs/E,MAAQvE,EAAOj7E,KAAKm+E,EAAO,eAAiBj+E,KAAKs/E,KAAOrB,EAAMG,WAAY,CACjG,IAAI0B,EAAe7B,EACnB,KACF,CACF,CACA6B,IAAiB,UAAYt1E,GAAQ,aAAeA,IAASs1E,EAAa5B,QAAUp2E,GAAOA,GAAOg4E,EAAa1B,aAAe0B,EAAe,MAC7I,IAAI/C,EAAS+C,EAAeA,EAAatB,WAAa,CAAC,EACvD,OAAOzB,EAAOvyE,KAAOA,EAAMuyE,EAAOj1E,IAAMA,EAAKg4E,GAAgB9/E,KAAK08E,OAAS,OAAQ18E,KAAKstB,KAAOwyD,EAAa1B,WAAYnC,GAAoBj8E,KAAK+/E,SAAShD,EAC5J,EACAgD,SAAU,SAAShD,EAAQsB,GACzB,GAAI,UAAYtB,EAAOvyE,KACrB,MAAMuyE,EAAOj1E,IACf,MAAO,UAAYi1E,EAAOvyE,MAAQ,aAAeuyE,EAAOvyE,KAAOxK,KAAKstB,KAAOyvD,EAAOj1E,IAAM,WAAai1E,EAAOvyE,MAAQxK,KAAKw/E,KAAOx/E,KAAK8H,IAAMi1E,EAAOj1E,IAAK9H,KAAK08E,OAAS,SAAU18E,KAAKstB,KAAO,OAAS,WAAayvD,EAAOvyE,MAAQ6zE,IAAar+E,KAAKstB,KAAO+wD,GAAWpC,CACtQ,EACA+D,OAAQ,SAAS5B,GACf,IAAK,IAAIv9E,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAC5B,GAAIo9E,EAAMG,aAAeA,EACvB,OAAOp+E,KAAK+/E,SAAS9B,EAAMO,WAAYP,EAAMI,UAAWE,EAAcN,GAAQhC,CAClF,CACF,EACA9tD,MAAO,SAAS+vD,GACd,IAAK,IAAIr9E,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAC5B,GAAIo9E,EAAMC,SAAWA,EAAQ,CAC3B,IAAInB,EAASkB,EAAMO,WACnB,GAAI,UAAYzB,EAAOvyE,KAAM,CAC3B,IAAIy1E,EAASlD,EAAOj1E,IACpBy2E,EAAcN,EAChB,CACA,OAAOgC,CACT,CACF,CACA,MAAM,IAAI9sD,MAAM,wBAClB,EACA+sD,cAAe,SAASzB,EAAUZ,EAAYC,GAC5C,OAAO99E,KAAKi0B,SAAW,CACrB/wB,SAAUq5E,EAAOkC,GACjBZ,aACAC,WACC,SAAW99E,KAAK08E,SAAW18E,KAAK8H,SAAM,GAASm0E,CACpD,GACCj7E,CACL,CACA,SAAS,GAAQgC,GAEf,OAAO,GAAU,mBAAqBC,QAAU,iBAAmBA,OAAOC,SAAW,SAASC,GAC5F,cAAcA,CAChB,EAAI,SAASA,GACX,OAAOA,GAAQ,mBAAqBF,QAAUE,EAAKC,cAAgBH,QAAUE,IAASF,OAAOrD,UAAY,gBAAkBuD,CAC7H,EAAG,GAAQH,EACb,CACA,SAASm9E,GAAmBC,EAAKlhE,EAASiZ,EAAQkoD,EAAOC,EAAQ59E,EAAKoF,GACpE,IACE,IAAIM,EAAOg4E,EAAI19E,GAAKoF,GAChB9D,EAAQoE,EAAKpE,KACnB,CAAE,MAAOqE,GAEP,YADA8vB,EAAO9vB,EAET,CACID,EAAKuyE,KACPz7D,EAAQlb,GAERib,QAAQC,QAAQlb,GAAOupB,KAAK8yD,EAAOC,EAEvC,CACA,SAASC,GAAkBnlE,GACzB,OAAO,WACL,IAAI/V,EAAOrF,KAAM0L,EAAOjM,UACxB,OAAO,IAAIwf,SAAQ,SAASC,EAASiZ,GACnC,IAAIioD,EAAMhlE,EAAGrb,MAAMsF,EAAMqG,GACzB,SAAS20E,EAAMr8E,GACbm8E,GAAmBC,EAAKlhE,EAASiZ,EAAQkoD,EAAOC,EAAQ,OAAQt8E,EAClE,CACA,SAASs8E,EAAOlxE,GACd+wE,GAAmBC,EAAKlhE,EAASiZ,EAAQkoD,EAAOC,EAAQ,QAASlxE,EACnE,CACAixE,OAAM,EACR,GACF,CACF,CACA,SAAS,GAAgBh9E,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,oCAExB,CACA,SAAS,GAAkBhB,EAAQkB,GACjC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAM/D,OAAQmB,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWtB,WAAasB,EAAWtB,aAAc,EACjDsB,EAAWC,cAAe,EACtB,UAAWD,IACbA,EAAWE,UAAW,GACxBzE,OAAO2D,eAAeP,EAAQ,GAAemB,EAAWhB,KAAMgB,EAChE,CACF,CACA,SAAS,GAAaJ,EAAaQ,EAAYC,GAQ7C,OAPID,GACF,GAAkBR,EAAY1D,UAAWkE,GACvCC,GACF,GAAkBT,EAAaS,GACjC5E,OAAO2D,eAAeQ,EAAa,YAAa,CAC9CM,UAAU,IAELN,CACT,CACA,SAAS,GAAgBN,EAAKN,EAAKsB,GAYjC,OAXAtB,EAAM,GAAeA,GACjBA,KAAOM,EACT7D,OAAO2D,eAAeE,EAAKN,EAAK,CAC9BsB,QACA5B,YAAY,EACZuB,cAAc,EACdC,UAAU,IAGZZ,EAAIN,GAAOsB,EAENhB,CACT,CACA,SAAS,GAAUiB,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIX,UAAU,sDAEtBU,EAASrE,UAAYT,OAAOgF,OAAOD,GAAcA,EAAWtE,UAAW,CACrEwD,YAAa,CACXY,MAAOC,EACPL,UAAU,EACVD,cAAc,KAGlBxE,OAAO2D,eAAemB,EAAU,YAAa,CAC3CL,UAAU,IAERM,GACF,GAAgBD,EAAUC,EAC9B,CACA,SAAS,GAAgBI,GAIvB,OAHA,GAAkBnF,OAAOoF,eAAiBpF,OAAOqF,eAAenF,OAAS,SAA0BoF,GACjG,OAAOA,EAAGC,WAAavF,OAAOqF,eAAeC,EAC/C,EACO,GAAgBH,EACzB,CACA,SAAS,GAAgBA,EAAGK,GAK1B,OAJA,GAAkBxF,OAAOoF,eAAiBpF,OAAOoF,eAAelF,OAAS,SAA0BoF,EAAIG,GAErG,OADAH,EAAGC,UAAYE,EACRH,CACT,EACO,GAAgBH,EAAGK,EAC5B,CACA,SAAS,KACP,GAAuB,qBAAZG,UAA4BA,QAAQC,UAC7C,OAAO,EACT,GAAID,QAAQC,UAAUC,KACpB,OAAO,EACT,GAAqB,oBAAVC,MACT,OAAO,EACT,IAGE,OAFAC,QAAQtF,UAAUuF,QAAQrF,KAAKgF,QAAQC,UAAUG,QAAS,IAAI,WAC9D,MACO,CACT,CAAE,MAAO1E,GACP,OAAO,CACT,CACF,CACA,SAAS,GAAuB6E,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAE3B,OAAOD,CACT,CACA,SAAS,GAA2BA,EAAMvF,GACxC,GAAIA,IAAyB,kBAATA,GAAqC,oBAATA,GAC9C,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAIyD,UAAU,4DAEtB,OAAO,GAAuB8B,EAChC,CACA,SAAS,GAAaG,GACpB,IAAIC,EAA4B,KAChC,OAAO,WACL,IAAsCC,EAAlCC,EAAQ,GAAgBH,GAC5B,GAAIC,EAA2B,CAC7B,IAAIG,EAAY,GAAgB5F,MAAMoD,YACtCsC,EAASZ,QAAQC,UAAUY,EAAOlG,UAAWmG,EAC/C,MACEF,EAASC,EAAM5F,MAAMC,KAAMP,WAE7B,OAAO,GAA2BO,KAAM0F,EAC1C,CACF,CACA,SAAS86E,GAAen6E,EAAKxF,GAC3B,OAAO4/E,GAAgBp6E,IAAQm0E,GAAsBn0E,EAAKxF,IAAM,GAA4BwF,EAAKxF,IAAM6/E,IACzG,CACA,SAAS,GAAmBr6E,GAC1B,OAAO,GAAmBA,IAAQ,GAAiBA,IAAQ,GAA4BA,IAAQ,IACjG,CACA,SAAS,GAAmBA,GAC1B,GAAI9F,MAAMmG,QAAQL,GAChB,OAAO,GAAkBA,EAC7B,CACA,SAASo6E,GAAgBp6E,GACvB,GAAI9F,MAAMmG,QAAQL,GAChB,OAAOA,CACX,CACA,SAAS,GAAiBO,GACxB,GAAsB,qBAAX3D,QAAmD,MAAzB2D,EAAK3D,OAAOC,WAA2C,MAAtB0D,EAAK,cACzE,OAAOrG,MAAMsG,KAAKD,EACtB,CACA,SAAS,GAA4BtC,EAAGwC,GACtC,GAAKxC,EAAL,CAEA,GAAiB,kBAANA,EACT,OAAO,GAAkBA,EAAGwC,GAC9B,IAAIC,EAAI5H,OAAOS,UAAUoH,SAASlH,KAAKwE,GAAG2C,MAAM,GAAI,GAGpD,MAFU,WAANF,GAAkBzC,EAAElB,cACtB2D,EAAIzC,EAAElB,YAAY8D,MACV,QAANH,GAAqB,QAANA,EACVxG,MAAMsG,KAAKvC,GACV,cAANyC,GAAqB,2CAA2CI,KAAKJ,GAChE,GAAkBzC,EAAGwC,QAD9B,CARQ,CAUV,CACA,SAAS,GAAkBT,EAAKe,IACnB,MAAPA,GAAeA,EAAMf,EAAI3G,UAC3B0H,EAAMf,EAAI3G,QACZ,IAAK,IAAImB,EAAI,EAAGwG,EAAO,IAAI9G,MAAM6G,GAAMvG,EAAIuG,EAAKvG,IAC9CwG,EAAKxG,GAAKwF,EAAIxF,GAChB,OAAOwG,CACT,CACA,SAAS,KACP,MAAM,IAAI9D,UAAU,uIACtB,CACA,SAASm9E,KACP,MAAM,IAAIn9E,UAAU,4IACtB,CACA,SAAS,GAAagE,EAAOC,GAC3B,GAAqB,kBAAVD,GAAgC,OAAVA,EAC/B,OAAOA,EACT,IAAIE,EAAOF,EAAMtE,OAAOyE,aACxB,QAAa,IAATD,EAAiB,CACnB,IAAIE,EAAMF,EAAK3H,KAAKyH,EAAOC,GAAQ,WACnC,GAAmB,kBAARG,EACT,OAAOA,EACT,MAAM,IAAIpE,UAAU,+CACtB,CACA,OAAiB,WAATiE,EAAoBI,OAASC,QAAQN,EAC/C,CACA,SAAS,GAAeO,GACtB,IAAIpF,EAAM,GAAaoF,EAAK,UAC5B,MAAsB,kBAARpF,EAAmBA,EAAMkF,OAAOlF,EAChD,CDtiBAC,EAAgB03E,GAAc,gBAAiBT,IAC/Cj3E,EAAgB03E,GAAc,OAAQjwE,GACtCzH,EAAgB03E,GAAc,UAAW/9D,GACzC3Z,EAAgB03E,GAAc,SAAUx6D,GACxCld,EAAgB03E,GAAc,SAAU,GACxC13E,EAAgB03E,GAAc,SAAU9nD,IACxC5vB,EAAgB03E,GAAc,aAAcnrD,IAC5CvsB,EAAgB03E,GAAc,OAAQt1C,IACtCpiC,EAAgB03E,GAAc,cAAe//C,IE5B7C,IAAIqmD,GAAQ,CACVl/D,MAAO,QACPm/D,KAAM,YACNt+D,WAAY,iBACZu+D,sBAAuB,2BACvBC,cAAe,oBACfC,WAAY,iBACZC,qBAAsB,2BACtBC,0BAA2B,+BAC3BC,cAAe,oBACfC,UAAW,iBACXC,SAAU,gBACVC,gBAAiB,sBACjBC,IAAK,WACLC,YAAa,iBACbC,gBAAiB,qBACjBC,UAAW,iBACXC,mBAAoB,wBACpBC,kBAAmB,uBACnBC,MAAO,aACPC,oBAAqB,yBACrBC,iBAAkB,sBAClBC,cAAe,oBACfC,iBAAkB,uBAClBC,gCAAiC,kCACjCC,2BAA4B,6BAC5BC,2BAA4B,6BAC5BC,iBAAkB,mBAClBC,qBAAsB,uBACtBC,uCAAwC,yCACxC58C,gBAAiB,mBC9BnB,SAAS,GAAQ9jC,EAAQC,GACvB,IAAIC,EAAO3C,OAAO2C,KAAKF,GACvB,GAAIzC,OAAO4C,sBAAuB,CAChC,IAAIC,EAAU7C,OAAO4C,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAASC,GACnD,OAAO/C,OAAOgD,yBAAyBP,EAAQM,GAAKE,UACtD,KAAKN,EAAKO,KAAKtC,MAAM+B,EAAME,EAC7B,CACA,OAAOF,CACT,CACA,SAAS,GAAeS,GACtB,IAAK,IAAI1B,EAAI,EAAGA,EAAIpB,UAAUC,OAAQmB,IAAK,CACzC,IAAI2B,EAAS,MAAQ/C,UAAUoB,GAAKpB,UAAUoB,GAAK,CAAC,EACpDA,EAAI,EAAI,GAAQ1B,OAAOqD,IAAS,GAAMC,SAAQ,SAASC,GACrD,GAAgBH,EAAQG,EAAKF,EAAOE,GACtC,IAAKvD,OAAOyD,0BAA4BzD,OAAO0D,iBAAiBN,EAAQpD,OAAOyD,0BAA0BJ,IAAW,GAAQrD,OAAOqD,IAASC,SAAQ,SAASC,GAC3JvD,OAAO2D,eAAeP,EAAQG,EAAKvD,OAAOgD,yBAAyBK,EAAQE,GAC7E,GACF,CACA,OAAOH,CACT,CACA,SAAS,KACP,GAAsB,WACpB,OAAOvB,CACT,EACA,IAAIA,EAAU,CAAC,EAAG85E,EAAK37E,OAAOS,UAAWm7E,EAASD,EAAGj7E,eAAgBiD,EAAiB3D,OAAO2D,gBAAkB,SAASE,EAAKN,EAAKyD,GAChInD,EAAIN,GAAOyD,EAAKnC,KAClB,EAAGg3E,EAAU,mBAAqB/3E,OAASA,OAAS,CAAC,EAAGg4E,EAAiBD,EAAQ93E,UAAY,aAAcg4E,EAAsBF,EAAQG,eAAiB,kBAAmBC,EAAoBJ,EAAQK,aAAe,gBACxN,SAASC,EAAOt4E,EAAKN,EAAKsB,GACxB,OAAO7E,OAAO2D,eAAeE,EAAKN,EAAK,CACrCsB,QACA5B,YAAY,EACZuB,cAAc,EACdC,UAAU,IACRZ,EAAIN,EACV,CACA,IACE44E,EAAO,CAAC,EAAG,GACb,CAAE,MAAOlsE,GACPksE,EAAS,SAASt4E,EAAKN,EAAKsB,GAC1B,OAAOhB,EAAIN,GAAOsB,CACpB,CACF,CACA,SAASu3E,EAAKC,EAASC,EAASp2E,EAAMq2E,GACpC,IAAIC,EAAiBF,GAAWA,EAAQ77E,qBAAqBg8E,EAAYH,EAAUG,EAAWC,EAAY18E,OAAOgF,OAAOw3E,EAAe/7E,WAAYkU,EAAU,IAAIgoE,EAAQJ,GAAe,IACxL,OAAO54E,EAAe+4E,EAAW,UAAW,CAC1C73E,MAAO+3E,EAAiBP,EAASn2E,EAAMyO,KACrC+nE,CACN,CACA,SAASG,EAAS5gE,EAAIpY,EAAK8E,GACzB,IACE,MAAO,CACL0C,KAAM,SACN1C,IAAKsT,EAAGtb,KAAKkD,EAAK8E,GAEtB,CAAE,MAAOsH,GACP,MAAO,CACL5E,KAAM,QACN1C,IAAKsH,EAET,CACF,CACApO,EAAQu6E,KAAOA,EACf,IAAIU,EAAmB,CAAC,EACxB,SAASL,IACT,CACA,SAASM,IACT,CACA,SAASC,IACT,CACA,IAAIC,EAAoB,CAAC,EACzBd,EAAOc,EAAmBnB,GAAgB,WACxC,OAAOj7E,IACT,IACA,IAAIq8E,EAAWl9E,OAAOqF,eAAgB83E,EAA0BD,GAAYA,EAASA,EAASE,EAAO,MACrGD,GAA2BA,IAA4BxB,GAAMC,EAAOj7E,KAAKw8E,EAAyBrB,KAAoBmB,EAAoBE,GAC1I,IAAIE,EAAKL,EAA2Bv8E,UAAYg8E,EAAUh8E,UAAYT,OAAOgF,OAAOi4E,GACpF,SAASK,EAAsB78E,GAC7B,CAAC,OAAQ,QAAS,UAAU6C,SAAQ,SAASi6E,GAC3CpB,EAAO17E,EAAW88E,GAAQ,SAAS50E,GACjC,OAAO9H,KAAK28E,QAAQD,EAAQ50E,EAC9B,GACF,GACF,CACA,SAAS80E,EAAcf,EAAWgB,GAChC,SAASC,EAAOJ,EAAQ50E,EAAKoX,EAASiZ,GACpC,IAAI4kD,EAASf,EAASH,EAAUa,GAASb,EAAW/zE,GACpD,GAAI,UAAYi1E,EAAOvyE,KAAM,CAC3B,IAAI9E,EAASq3E,EAAOj1E,IAAK9D,EAAQ0B,EAAO1B,MACxC,OAAOA,GAAS,iBAAmBA,GAAS+2E,EAAOj7E,KAAKkE,EAAO,WAAa64E,EAAY39D,QAAQlb,EAAMg5E,SAASzvD,MAAK,SAAS0vD,GAC3HH,EAAO,OAAQG,EAAQ/9D,EAASiZ,EAClC,IAAG,SAAS/oB,GACV0tE,EAAO,QAAS1tE,EAAK8P,EAASiZ,EAChC,IAAK0kD,EAAY39D,QAAQlb,GAAOupB,MAAK,SAAS2vD,GAC5Cx3E,EAAO1B,MAAQk5E,EAAWh+D,EAAQxZ,EACpC,IAAG,SAAS2C,GACV,OAAOy0E,EAAO,QAASz0E,EAAO6W,EAASiZ,EACzC,GACF,CACAA,EAAO4kD,EAAOj1E,IAChB,CACA,IAAIq1E,EACJr6E,EAAe9C,KAAM,UAAW,CAC9BgE,MAAO,SAAS04E,EAAQ50E,GACtB,SAASs1E,IACP,OAAO,IAAIP,GAAY,SAAS39D,EAASiZ,GACvC2kD,EAAOJ,EAAQ50E,EAAKoX,EAASiZ,EAC/B,GACF,CACA,OAAOglD,EAAkBA,EAAkBA,EAAgB5vD,KAAK6vD,EAA4BA,GAA8BA,GAC5H,GAEJ,CACA,SAASrB,EAAiBP,EAASn2E,EAAMyO,GACvC,IAAIq2B,EAAQ,iBACZ,OAAO,SAASuyC,EAAQ50E,GACtB,GAAI,cAAgBqiC,EAClB,MAAM,IAAIhX,MAAM,gCAClB,GAAI,cAAgBgX,EAAO,CACzB,GAAI,UAAYuyC,EACd,MAAM50E,EACR,OAAOu1E,GACT,CACA,IAAKvpE,EAAQ4oE,OAASA,EAAQ5oE,EAAQhM,IAAMA,IAAS,CACnD,IAAImsB,EAAWngB,EAAQmgB,SACvB,GAAIA,EAAU,CACZ,IAAIqpD,EAAiBC,EAAoBtpD,EAAUngB,GACnD,GAAIwpE,EAAgB,CAClB,GAAIA,IAAmBrB,EACrB,SACF,OAAOqB,CACT,CACF,CACA,GAAI,SAAWxpE,EAAQ4oE,OACrB5oE,EAAQ0pE,KAAO1pE,EAAQ2pE,MAAQ3pE,EAAQhM,SACpC,GAAI,UAAYgM,EAAQ4oE,OAAQ,CACnC,GAAI,mBAAqBvyC,EACvB,MAAMA,EAAQ,YAAar2B,EAAQhM,IACrCgM,EAAQ4pE,kBAAkB5pE,EAAQhM,IACpC,KACE,WAAagM,EAAQ4oE,QAAU5oE,EAAQ6pE,OAAO,SAAU7pE,EAAQhM,KAClEqiC,EAAQ,YACR,IAAI4yC,EAASf,EAASR,EAASn2E,EAAMyO,GACrC,GAAI,WAAaipE,EAAOvyE,KAAM,CAC5B,GAAI2/B,EAAQr2B,EAAQ6mE,KAAO,YAAc,iBAAkBoC,EAAOj1E,MAAQm0E,EACxE,SACF,MAAO,CACLj4E,MAAO+4E,EAAOj1E,IACd6yE,KAAM7mE,EAAQ6mE,KAElB,CACA,UAAYoC,EAAOvyE,OAAS2/B,EAAQ,YAAar2B,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAMi1E,EAAOj1E,IAClG,CACF,CACF,CACA,SAASy1E,EAAoBtpD,EAAUngB,GACrC,IAAI8pE,EAAa9pE,EAAQ4oE,OAAQA,EAASzoD,EAAS/wB,SAAS06E,GAC5D,QAAI,IAAWlB,EACb,OAAO5oE,EAAQmgB,SAAW,KAAM,UAAY2pD,GAAc3pD,EAAS/wB,SAAS03E,SAAW9mE,EAAQ4oE,OAAS,SAAU5oE,EAAQhM,SAAM,EAAQy1E,EAAoBtpD,EAAUngB,GAAU,UAAYA,EAAQ4oE,SAAW,WAAakB,IAAe9pE,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAM,IAAIvE,UAAU,oCAAsCq6E,EAAa,aAAc3B,EACpW,IAAIc,EAASf,EAASU,EAAQzoD,EAAS/wB,SAAU4Q,EAAQhM,KACzD,GAAI,UAAYi1E,EAAOvyE,KACrB,OAAOsJ,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAMi1E,EAAOj1E,IAAKgM,EAAQmgB,SAAW,KAAMgoD,EACtF,IAAI7zE,EAAO20E,EAAOj1E,IAClB,OAAOM,EAAOA,EAAKuyE,MAAQ7mE,EAAQmgB,EAAS4pD,YAAcz1E,EAAKpE,MAAO8P,EAAQwZ,KAAO2G,EAAS6pD,QAAS,WAAahqE,EAAQ4oE,SAAW5oE,EAAQ4oE,OAAS,OAAQ5oE,EAAQhM,SAAM,GAASgM,EAAQmgB,SAAW,KAAMgoD,GAAoB7zE,GAAQ0L,EAAQ4oE,OAAS,QAAS5oE,EAAQhM,IAAM,IAAIvE,UAAU,oCAAqCuQ,EAAQmgB,SAAW,KAAMgoD,EAClW,CACA,SAAS8B,EAAaC,GACpB,IAAIC,EAAQ,CACVC,OAAQF,EAAK,IAEf,KAAKA,IAASC,EAAME,SAAWH,EAAK,IAAK,KAAKA,IAASC,EAAMG,WAAaJ,EAAK,GAAIC,EAAMI,SAAWL,EAAK,IAAKh+E,KAAKs+E,WAAWj8E,KAAK47E,EACrI,CACA,SAASM,EAAcN,GACrB,IAAIlB,EAASkB,EAAMO,YAAc,CAAC,EAClCzB,EAAOvyE,KAAO,gBAAiBuyE,EAAOj1E,IAAKm2E,EAAMO,WAAazB,CAChE,CACA,SAASjB,EAAQJ,GACf17E,KAAKs+E,WAAa,CAAC,CACjBJ,OAAQ,SACNxC,EAAYj5E,QAAQs7E,EAAc/9E,MAAOA,KAAK4zD,OAAM,EAC1D,CACA,SAAS2oB,EAAOkC,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAASxD,GAC9B,GAAIyD,EACF,OAAOA,EAAe5+E,KAAK2+E,GAC7B,GAAI,mBAAqBA,EAASnxD,KAChC,OAAOmxD,EACT,IAAK9sE,MAAM8sE,EAAS/+E,QAAS,CAC3B,IAAImB,GAAK,EAAGysB,EAAO,SAASqxD,IAC1B,OAAS99E,EAAI49E,EAAS/+E,QACpB,GAAIq7E,EAAOj7E,KAAK2+E,EAAU59E,GACxB,OAAO89E,EAAM36E,MAAQy6E,EAAS59E,GAAI89E,EAAMhE,MAAO,EAAOgE,EAC1D,OAAOA,EAAM36E,WAAQ,EAAQ26E,EAAMhE,MAAO,EAAMgE,CAClD,EACA,OAAOrxD,EAAKA,KAAOA,CACrB,CACF,CACA,MAAO,CACLA,KAAM+vD,EAEV,CACA,SAASA,IACP,MAAO,CACLr5E,WAAO,EACP22E,MAAM,EAEV,CACA,OAAOuB,EAAkBt8E,UAAYu8E,EAA4Br5E,EAAe05E,EAAI,cAAe,CACjGx4E,MAAOm4E,EACPx4E,cAAc,IACZb,EAAeq5E,EAA4B,cAAe,CAC5Dn4E,MAAOk4E,EACPv4E,cAAc,IACZu4E,EAAkB0C,YAActD,EAAOa,EAA4Bf,EAAmB,qBAAsBp6E,EAAQ69E,oBAAsB,SAASC,GACrJ,IAAIC,EAAO,mBAAqBD,GAAUA,EAAO17E,YACjD,QAAS27E,IAASA,IAAS7C,GAAqB,uBAAyB6C,EAAKH,aAAeG,EAAK73E,MACpG,EAAGlG,EAAQg+E,KAAO,SAASF,GACzB,OAAO3/E,OAAOoF,eAAiBpF,OAAOoF,eAAeu6E,EAAQ3C,IAA+B2C,EAAOp6E,UAAYy3E,EAA4Bb,EAAOwD,EAAQ1D,EAAmB,sBAAuB0D,EAAOl/E,UAAYT,OAAOgF,OAAOq4E,GAAKsC,CAC5O,EAAG99E,EAAQi+E,MAAQ,SAASn3E,GAC1B,MAAO,CACLk1E,QAASl1E,EAEb,EAAG20E,EAAsBG,EAAch9E,WAAY07E,EAAOsB,EAAch9E,UAAWs7E,GAAqB,WACtG,OAAOl7E,IACT,IAAIgB,EAAQ47E,cAAgBA,EAAe57E,EAAQk+E,MAAQ,SAAS1D,EAASC,EAASp2E,EAAMq2E,EAAamB,QACvG,IAAWA,IAAgBA,EAAc59D,SACzC,IAAIrY,EAAO,IAAIg2E,EAAcrB,EAAKC,EAASC,EAASp2E,EAAMq2E,GAAcmB,GACxE,OAAO77E,EAAQ69E,oBAAoBpD,GAAW70E,EAAOA,EAAK0mB,OAAOC,MAAK,SAAS7nB,GAC7E,OAAOA,EAAOi1E,KAAOj1E,EAAO1B,MAAQ4C,EAAK0mB,MAC3C,GACF,EAAGmvD,EAAsBD,GAAKlB,EAAOkB,EAAIpB,EAAmB,aAAcE,EAAOkB,EAAIvB,GAAgB,WACnG,OAAOj7E,IACT,IAAIs7E,EAAOkB,EAAI,YAAY,WACzB,MAAO,oBACT,IAAIx7E,EAAQc,KAAO,SAAS0U,GAC1B,IAAI5U,EAASzC,OAAOqX,GAAM1U,EAAO,GACjC,IAAK,IAAIY,KAAOd,EACdE,EAAKO,KAAKK,GACZ,OAAOZ,EAAKq9E,UAAW,SAAS7xD,IAC9B,KAAOxrB,EAAKpC,QAAU,CACpB,IAAImyB,EAAO/vB,EAAKs9E,MAChB,GAAIvtD,KAAQjwB,EACV,OAAO0rB,EAAKtpB,MAAQ6tB,EAAMvE,EAAKqtD,MAAO,EAAOrtD,CACjD,CACA,OAAOA,EAAKqtD,MAAO,EAAMrtD,CAC3B,CACF,EAAGtsB,EAAQu7E,OAASA,EAAQT,EAAQl8E,UAAY,CAC9CwD,YAAa04E,EACbloB,MAAO,SAASyrB,GACd,GAAIr/E,KAAKs/E,KAAO,EAAGt/E,KAAKstB,KAAO,EAAGttB,KAAKw9E,KAAOx9E,KAAKy9E,WAAQ,EAAQz9E,KAAK26E,MAAO,EAAO36E,KAAKi0B,SAAW,KAAMj0B,KAAK08E,OAAS,OAAQ18E,KAAK8H,SAAM,EAAQ9H,KAAKs+E,WAAW77E,QAAQ87E,IAAiBc,EAC5L,IAAK,IAAIn4E,KAAQlH,KACf,MAAQkH,EAAKkhB,OAAO,IAAM2yD,EAAOj7E,KAAKE,KAAMkH,KAAUyK,OAAOzK,EAAKD,MAAM,MAAQjH,KAAKkH,QAAQ,EACnG,EACAmoE,KAAM,WACJrvE,KAAK26E,MAAO,EACZ,IAAI4E,EAAav/E,KAAKs+E,WAAW,GAAGE,WACpC,GAAI,UAAYe,EAAW/0E,KACzB,MAAM+0E,EAAWz3E,IACnB,OAAO9H,KAAKw/E,IACd,EACA9B,kBAAmB,SAAS+B,GAC1B,GAAIz/E,KAAK26E,KACP,MAAM8E,EACR,IAAI3rE,EAAU9T,KACd,SAASsqC,EAAOo1C,EAAKC,GACnB,OAAO5C,EAAOvyE,KAAO,QAASuyE,EAAOj1E,IAAM23E,EAAW3rE,EAAQwZ,KAAOoyD,EAAKC,IAAW7rE,EAAQ4oE,OAAS,OAAQ5oE,EAAQhM,SAAM,KAAW63E,CACzI,CACA,IAAK,IAAI9+E,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAAIk8E,EAASkB,EAAMO,WAC/C,GAAI,SAAWP,EAAMC,OACnB,OAAO5zC,EAAO,OAChB,GAAI2zC,EAAMC,QAAUl+E,KAAKs/E,KAAM,CAC7B,IAAIM,EAAW7E,EAAOj7E,KAAKm+E,EAAO,YAAa4B,EAAa9E,EAAOj7E,KAAKm+E,EAAO,cAC/E,GAAI2B,GAAYC,EAAY,CAC1B,GAAI7/E,KAAKs/E,KAAOrB,EAAME,SACpB,OAAO7zC,EAAO2zC,EAAME,UAAU,GAChC,GAAIn+E,KAAKs/E,KAAOrB,EAAMG,WACpB,OAAO9zC,EAAO2zC,EAAMG,WACxB,MAAO,GAAIwB,GACT,GAAI5/E,KAAKs/E,KAAOrB,EAAME,SACpB,OAAO7zC,EAAO2zC,EAAME,UAAU,OAC3B,CACL,IAAK0B,EACH,MAAM,IAAI1sD,MAAM,0CAClB,GAAInzB,KAAKs/E,KAAOrB,EAAMG,WACpB,OAAO9zC,EAAO2zC,EAAMG,WACxB,CACF,CACF,CACF,EACAT,OAAQ,SAASnzE,EAAM1C,GACrB,IAAK,IAAIjH,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAC5B,GAAIo9E,EAAMC,QAAUl+E,KAAKs/E,MAAQvE,EAAOj7E,KAAKm+E,EAAO,eAAiBj+E,KAAKs/E,KAAOrB,EAAMG,WAAY,CACjG,IAAI0B,EAAe7B,EACnB,KACF,CACF,CACA6B,IAAiB,UAAYt1E,GAAQ,aAAeA,IAASs1E,EAAa5B,QAAUp2E,GAAOA,GAAOg4E,EAAa1B,aAAe0B,EAAe,MAC7I,IAAI/C,EAAS+C,EAAeA,EAAatB,WAAa,CAAC,EACvD,OAAOzB,EAAOvyE,KAAOA,EAAMuyE,EAAOj1E,IAAMA,EAAKg4E,GAAgB9/E,KAAK08E,OAAS,OAAQ18E,KAAKstB,KAAOwyD,EAAa1B,WAAYnC,GAAoBj8E,KAAK+/E,SAAShD,EAC5J,EACAgD,SAAU,SAAShD,EAAQsB,GACzB,GAAI,UAAYtB,EAAOvyE,KACrB,MAAMuyE,EAAOj1E,IACf,MAAO,UAAYi1E,EAAOvyE,MAAQ,aAAeuyE,EAAOvyE,KAAOxK,KAAKstB,KAAOyvD,EAAOj1E,IAAM,WAAai1E,EAAOvyE,MAAQxK,KAAKw/E,KAAOx/E,KAAK8H,IAAMi1E,EAAOj1E,IAAK9H,KAAK08E,OAAS,SAAU18E,KAAKstB,KAAO,OAAS,WAAayvD,EAAOvyE,MAAQ6zE,IAAar+E,KAAKstB,KAAO+wD,GAAWpC,CACtQ,EACA+D,OAAQ,SAAS5B,GACf,IAAK,IAAIv9E,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAC5B,GAAIo9E,EAAMG,aAAeA,EACvB,OAAOp+E,KAAK+/E,SAAS9B,EAAMO,WAAYP,EAAMI,UAAWE,EAAcN,GAAQhC,CAClF,CACF,EACA9tD,MAAO,SAAS+vD,GACd,IAAK,IAAIr9E,EAAIb,KAAKs+E,WAAW5+E,OAAS,EAAGmB,GAAK,IAAKA,EAAG,CACpD,IAAIo9E,EAAQj+E,KAAKs+E,WAAWz9E,GAC5B,GAAIo9E,EAAMC,SAAWA,EAAQ,CAC3B,IAAInB,EAASkB,EAAMO,WACnB,GAAI,UAAYzB,EAAOvyE,KAAM,CAC3B,IAAIy1E,EAASlD,EAAOj1E,IACpBy2E,EAAcN,EAChB,CACA,OAAOgC,CACT,CACF,CACA,MAAM,IAAI9sD,MAAM,wBAClB,EACA+sD,cAAe,SAASzB,EAAUZ,EAAYC,GAC5C,OAAO99E,KAAKi0B,SAAW,CACrB/wB,SAAUq5E,EAAOkC,GACjBZ,aACAC,WACC,SAAW99E,KAAK08E,SAAW18E,KAAK8H,SAAM,GAASm0E,CACpD,GACCj7E,CACL,CACA,SAAS,GAAQgC,GAEf,OAAO,GAAU,mBAAqBC,QAAU,iBAAmBA,OAAOC,SAAW,SAASC,GAC5F,cAAcA,CAChB,EAAI,SAASA,GACX,OAAOA,GAAQ,mBAAqBF,QAAUE,EAAKC,cAAgBH,QAAUE,IAASF,OAAOrD,UAAY,gBAAkBuD,CAC7H,EAAG,GAAQH,EACb,CACA,SAAS,GAAmBo9E,EAAKlhE,EAASiZ,EAAQkoD,EAAOC,EAAQ59E,EAAKoF,GACpE,IACE,IAAIM,EAAOg4E,EAAI19E,GAAKoF,GAChB9D,EAAQoE,EAAKpE,KACnB,CAAE,MAAOqE,GAEP,YADA8vB,EAAO9vB,EAET,CACID,EAAKuyE,KACPz7D,EAAQlb,GAERib,QAAQC,QAAQlb,GAAOupB,KAAK8yD,EAAOC,EAEvC,CACA,SAAS,GAAkBllE,GACzB,OAAO,WACL,IAAI/V,EAAOrF,KAAM0L,EAAOjM,UACxB,OAAO,IAAIwf,SAAQ,SAASC,EAASiZ,GACnC,IAAIioD,EAAMhlE,EAAGrb,MAAMsF,EAAMqG,GACzB,SAAS20E,EAAMr8E,GACb,GAAmBo8E,EAAKlhE,EAASiZ,EAAQkoD,EAAOC,EAAQ,OAAQt8E,EAClE,CACA,SAASs8E,EAAOlxE,GACd,GAAmBgxE,EAAKlhE,EAASiZ,EAAQkoD,EAAOC,EAAQ,QAASlxE,EACnE,CACAixE,OAAM,EACR,GACF,CACF,CACA,SAAS,GAAgBh9E,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,oCAExB,CACA,SAAS,GAAkBhB,EAAQkB,GACjC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAM/D,OAAQmB,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWtB,WAAasB,EAAWtB,aAAc,EACjDsB,EAAWC,cAAe,EACtB,UAAWD,IACbA,EAAWE,UAAW,GACxBzE,OAAO2D,eAAeP,EAAQ,GAAemB,EAAWhB,KAAMgB,EAChE,CACF,CACA,SAAS,GAAaJ,EAAaQ,EAAYC,GAQ7C,OAPID,GACF,GAAkBR,EAAY1D,UAAWkE,GACvCC,GACF,GAAkBT,EAAaS,GACjC5E,OAAO2D,eAAeQ,EAAa,YAAa,CAC9CM,UAAU,IAELN,CACT,CACA,SAAS,GAAgBN,EAAKN,EAAKsB,GAYjC,OAXAtB,EAAM,GAAeA,GACjBA,KAAOM,EACT7D,OAAO2D,eAAeE,EAAKN,EAAK,CAC9BsB,QACA5B,YAAY,EACZuB,cAAc,EACdC,UAAU,IAGZZ,EAAIN,GAAOsB,EAENhB,CACT,CACA,SAAS,GAAUiB,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIX,UAAU,sDAEtBU,EAASrE,UAAYT,OAAOgF,OAAOD,GAAcA,EAAWtE,UAAW,CACrEwD,YAAa,CACXY,MAAOC,EACPL,UAAU,EACVD,cAAc,KAGlBxE,OAAO2D,eAAemB,EAAU,YAAa,CAC3CL,UAAU,IAERM,GACF,GAAgBD,EAAUC,EAC9B,CACA,SAAS,GAAgBI,GAIvB,OAHA,GAAkBnF,OAAOoF,eAAiBpF,OAAOqF,eAAenF,OAAS,SAA0BoF,GACjG,OAAOA,EAAGC,WAAavF,OAAOqF,eAAeC,EAC/C,EACO,GAAgBH,EACzB,CACA,SAAS,GAAgBA,EAAGK,GAK1B,OAJA,GAAkBxF,OAAOoF,eAAiBpF,OAAOoF,eAAelF,OAAS,SAA0BoF,EAAIG,GAErG,OADAH,EAAGC,UAAYE,EACRH,CACT,EACO,GAAgBH,EAAGK,EAC5B,CACA,SAAS,KACP,GAAuB,qBAAZG,UAA4BA,QAAQC,UAC7C,OAAO,EACT,GAAID,QAAQC,UAAUC,KACpB,OAAO,EACT,GAAqB,oBAAVC,MACT,OAAO,EACT,IAGE,OAFAC,QAAQtF,UAAUuF,QAAQrF,KAAKgF,QAAQC,UAAUG,QAAS,IAAI,WAC9D,MACO,CACT,CAAE,MAAO1E,GACP,OAAO,CACT,CACF,CACA,SAAS+hF,GAAWC,EAAQ92E,EAAM+2E,GAchC,OAZEF,GADE,KACWz9E,QAAQC,UAAU1F,OAElB,SAAqBqjF,EAASl1D,EAAOm1D,GAChD,IAAIrjF,EAAI,CAAC,MACTA,EAAE+C,KAAKtC,MAAMT,EAAGkuB,GAChB,IAAIlqB,EAAcs/E,SAASvjF,KAAKU,MAAM2iF,EAASpjF,GAC3C+D,EAAW,IAAIC,EAGnB,OAFIq/E,GACF,GAAgBt/E,EAAUs/E,EAAO/iF,WAC5ByD,CACT,EAEKk/E,GAAWxiF,MAAM,KAAMN,UAChC,CACA,SAASojF,GAAkBznE,GACzB,OAAgE,IAAzDwnE,SAAS57E,SAASlH,KAAKsb,GAAI9a,QAAQ,gBAC5C,CACA,SAAS,GAAiBmiF,GACxB,IAAIK,EAAwB,oBAARC,IAAqC,IAAIA,SAAQ,EAyBrE,OAxBA,GAAmB,SAA2BJ,GAC5C,GAAe,OAAXA,IAAoBE,GAAkBF,GACxC,OAAOA,EACT,GAAsB,oBAAXA,EACT,MAAM,IAAIp/E,UAAU,sDAEtB,GAAsB,qBAAXu/E,EAAwB,CACjC,GAAIA,EAAOE,IAAIL,GACb,OAAOG,EAAO98E,IAAI28E,GACpBG,EAAOn5D,IAAIg5D,EAAQM,EACrB,CACA,SAASA,IACP,OAAOV,GAAWI,EAAQljF,UAAW,GAAgBO,MAAMoD,YAC7D,CASA,OARA6/E,EAAQrjF,UAAYT,OAAOgF,OAAOw+E,EAAO/iF,UAAW,CAClDwD,YAAa,CACXY,MAAOi/E,EACP7gF,YAAY,EACZwB,UAAU,EACVD,cAAc,KAGX,GAAgBs/E,EAASN,EAClC,EACO,GAAiBF,EAC1B,CACA,SAASS,GAA8B1gF,EAAQ2gF,GAC7C,GAAc,MAAV3gF,EACF,MAAO,CAAC,EACV,IAEIE,EAAK7B,EAFL0B,EAAS,CAAC,EACV6gF,EAAajkF,OAAO2C,KAAKU,GAE7B,IAAK3B,EAAI,EAAGA,EAAIuiF,EAAW1jF,OAAQmB,IACjC6B,EAAM0gF,EAAWviF,GACbsiF,EAAS7iF,QAAQoC,IAAQ,IAE7BH,EAAOG,GAAOF,EAAOE,IAEvB,OAAOH,CACT,CACA,SAAS8gF,GAAyB7gF,EAAQ2gF,GACxC,GAAc,MAAV3gF,EACF,MAAO,CAAC,EACV,IACIE,EAAK7B,EADL0B,EAAS2gF,GAA8B1gF,EAAQ2gF,GAEnD,GAAIhkF,OAAO4C,sBAAuB,CAChC,IAAIuhF,EAAmBnkF,OAAO4C,sBAAsBS,GACpD,IAAK3B,EAAI,EAAGA,EAAIyiF,EAAiB5jF,OAAQmB,IACvC6B,EAAM4gF,EAAiBziF,GACnBsiF,EAAS7iF,QAAQoC,IAAQ,GAExBvD,OAAOS,UAAU2jF,qBAAqBzjF,KAAK0C,EAAQE,KAExDH,EAAOG,GAAOF,EAAOE,GAEzB,CACA,OAAOH,CACT,CACA,SAAS,GAAuB8C,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAE3B,OAAOD,CACT,CACA,SAAS,GAA2BA,EAAMvF,GACxC,GAAIA,IAAyB,kBAATA,GAAqC,oBAATA,GAC9C,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAIyD,UAAU,4DAEtB,OAAO,GAAuB8B,EAChC,CACA,SAAS,GAAaG,GACpB,IAAIC,EAA4B,KAChC,OAAO,WACL,IAAsCC,EAAlCC,EAAQ,GAAgBH,GAC5B,GAAIC,EAA2B,CAC7B,IAAIG,EAAY,GAAgB5F,MAAMoD,YACtCsC,EAASZ,QAAQC,UAAUY,EAAOlG,UAAWmG,EAC/C,MACEF,EAASC,EAAM5F,MAAMC,KAAMP,WAE7B,OAAO,GAA2BO,KAAM0F,EAC1C,CACF,CACA,SAAS,GAAe9D,EAAQkE,GAC9B,OAAQ3G,OAAOS,UAAUC,eAAeC,KAAK8B,EAAQkE,GAEnD,GADAlE,EAAS,GAAgBA,GACV,OAAXA,EACF,MAEJ,OAAOA,CACT,CACA,SAAS,KAeP,OAbE,GADqB,qBAAZkD,SAA2BA,QAAQkB,IACrClB,QAAQkB,IAAI3G,OAEZ,SAAekD,EAAQuD,EAAUG,GACtC,IAAIC,EAAO,GAAe3D,EAAQuD,GAClC,GAAKI,EAAL,CAEA,IAAIC,EAAOhH,OAAOgD,yBAAyB+D,EAAMJ,GACjD,OAAIK,EAAKH,IACAG,EAAKH,IAAIlG,KAAKL,UAAUC,OAAS,EAAI6C,EAAS0D,GAEhDE,EAAKnC,KALJ,CAMV,EAEK,GAAKjE,MAAMC,KAAMP,UAC1B,CACA,SAAS,GAA4B6E,EAAGwC,GACtC,GAAKxC,EAAL,CAEA,GAAiB,kBAANA,EACT,OAAO,GAAkBA,EAAGwC,GAC9B,IAAIC,EAAI5H,OAAOS,UAAUoH,SAASlH,KAAKwE,GAAG2C,MAAM,GAAI,GAGpD,MAFU,WAANF,GAAkBzC,EAAElB,cACtB2D,EAAIzC,EAAElB,YAAY8D,MACV,QAANH,GAAqB,QAANA,EACVxG,MAAMsG,KAAKvC,GACV,cAANyC,GAAqB,2CAA2CI,KAAKJ,GAChE,GAAkBzC,EAAGwC,QAD9B,CARQ,CAUV,CACA,SAAS,GAAkBT,EAAKe,IACnB,MAAPA,GAAeA,EAAMf,EAAI3G,UAC3B0H,EAAMf,EAAI3G,QACZ,IAAK,IAAImB,EAAI,EAAGwG,EAAO,IAAI9G,MAAM6G,GAAMvG,EAAIuG,EAAKvG,IAC9CwG,EAAKxG,GAAKwF,EAAIxF,GAChB,OAAOwG,CACT,CACA,SAASm8E,GAA2Bl/E,EAAGm/E,GACrC,IAAIC,EAAuB,qBAAXzgF,QAA0BqB,EAAErB,OAAOC,WAAaoB,EAAE,cAClE,IAAKo/E,EAAI,CACP,GAAInjF,MAAMmG,QAAQpC,KAAOo/E,EAAK,GAA4Bp/E,KAAOm/E,GAAkBn/E,GAAyB,kBAAbA,EAAE5E,OAAqB,CAChHgkF,IACFp/E,EAAIo/E,GACN,IAAI7iF,EAAI,EACJ8iF,EAAI,WACR,EACA,MAAO,CACLjsC,EAAGisC,EACH58E,EAAG,WACD,OAAIlG,GAAKyD,EAAE5E,OACF,CACLi7E,MAAM,GAEH,CACLA,MAAM,EACN32E,MAAOM,EAAEzD,KAEb,EACAL,EAAG,SAASA,GACV,MAAMA,CACR,EACAE,EAAGijF,EAEP,CACA,MAAM,IAAIpgF,UAAU,wIACtB,CACA,IAA6C6L,EAAzCw0E,GAAmB,EAAMC,GAAS,EACtC,MAAO,CACLnsC,EAAG,WACDgsC,EAAKA,EAAG5jF,KAAKwE,EACf,EACAyC,EAAG,WACD,IAAI+8E,EAAOJ,EAAGp2D,OAEd,OADAs2D,EAAmBE,EAAKnJ,KACjBmJ,CACT,EACAtjF,EAAG,SAASA,GACVqjF,GAAS,EACTz0E,EAAM5O,CACR,EACAE,EAAG,WACD,IACOkjF,GAAiC,MAAbF,EAAG9I,QAC1B8I,EAAG9I,QACP,CAAE,QACA,GAAIiJ,EACF,MAAMz0E,CACV,CACF,EAEJ,CACA,SAAS,GAAa7H,EAAOC,GAC3B,GAAqB,kBAAVD,GAAgC,OAAVA,EAC/B,OAAOA,EACT,IAAIE,EAAOF,EAAMtE,OAAOyE,aACxB,QAAa,IAATD,EAAiB,CACnB,IAAIE,EAAMF,EAAK3H,KAAKyH,EAAOC,GAAQ,WACnC,GAAmB,kBAARG,EACT,OAAOA,EACT,MAAM,IAAIpE,UAAU,+CACtB,CACA,OAAiB,WAATiE,EAAoBI,OAASC,QAAQN,EAC/C,CACA,SAAS,GAAeO,GACtB,IAAIpF,EAAM,GAAaoF,EAAK,UAC5B,MAAsB,kBAARpF,EAAmBA,EAAMkF,OAAOlF,EAChD,CCrqBA,IAAIqhF,GAAgB,CAClB,MAAS,EACT,IAAO,EACP,KAAQ,EACR,MAAS,GAEPC,GAAe,OACfC,GAAc,CAAC,UAAW,SAAU,SAAU,YAAa,OAAQ,OAAQ,UAC3EC,GAAyB,WAC3B,SAASC,EAAQj9E,EAAMuB,GACrB,GAAgBzI,KAAMmkF,GACtBnkF,KAAKkH,KAAOA,GAAQ,GACpBlH,KAAKokF,QAAU,IAAI3jF,OAAOT,KAAKkH,KAAM,KACrClH,KAAKqkF,eAA4B,OAAX57E,QAA8B,IAAXA,OAAoB,EAASA,EAAO47E,gBAAkB,EAC/FrkF,KAAKskF,YAAyB,OAAX77E,QAA8B,IAAXA,OAAoB,EAASA,EAAO67E,aAAeN,GACzFhkF,KAAKukF,QAAU,EACfvkF,KAAKwkF,aAAe,EACtB,CAkHA,OAjHA,GAAaL,EAAS,CAAC,CACrBzhF,IAAK,QACLsB,MAAO,WAEL,IADA,IAAI6E,EACKC,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,GAEzBhJ,KAAKykF,SAAS1kF,MAAMC,KAAM,CAAC+jF,GAAcW,OAAOjkF,OAAOiL,IACnDy4E,EAAQvR,WAEX/pE,EAAWI,SAASP,MAAM3I,MAAM8I,EAAU,CAAC7I,KAAKokF,QAAS,MAAW3jF,OAAOiL,GAC9E,GACC,CACDhJ,IAAK,MACLsB,MAAO,WAEL,IADA,IAAIoF,EACKC,EAAQ5J,UAAUC,OAAQgM,EAAO,IAAInL,MAAM8I,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFoC,EAAKpC,GAAS7J,UAAU6J,GAE1BtJ,KAAKykF,SAAS1kF,MAAMC,KAAM,CAAC+jF,GAAcY,KAAKlkF,OAAOiL,IACjDy4E,EAAQvR,WAEXxpE,EAAYH,SAASC,IAAInJ,MAAMqJ,EAAW,CAACpJ,KAAKokF,QAAS,MAAW3jF,OAAOiL,GAC9E,GACC,CACDhJ,IAAK,OACLsB,MAAO,WAEL,IADA,IAAIwF,EACKE,EAAQjK,UAAUC,OAAQgM,EAAO,IAAInL,MAAMmJ,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpF+B,EAAK/B,GAASlK,UAAUkK,GAE1B3J,KAAKykF,SAAS1kF,MAAMC,KAAM,CAAC+jF,GAAca,MAAMnkF,OAAOiL,IAClDy4E,EAAQvR,WAEXppE,EAAYP,SAASX,KAAKvI,MAAMyJ,EAAW,CAACxJ,KAAKokF,QAAS,MAAW3jF,OAAOiL,GAC/E,GACC,CACDhJ,IAAK,QACLsB,MAAO,WAEL,IADA,IAAI6gF,EACK35D,EAAQzrB,UAAUC,OAAQgM,EAAO,IAAInL,MAAM2qB,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFzf,EAAKyf,GAAS1rB,UAAU0rB,GAE1BnrB,KAAKykF,SAAS1kF,MAAMC,KAAM,CAAC+jF,GAActiE,OAAOhhB,OAAOiL,IACnDy4E,EAAQvR,WAEXiS,EAAY57E,SAASZ,MAAMtI,MAAM8kF,EAAW,CAAC7kF,KAAKokF,QAAS,MAAW3jF,OAAOiL,GAChF,GACC,CACDhJ,IAAK,WACLsB,MAAO,SAAkBqgF,GACvB,KAAIA,EAAgBrkF,KAAKqkF,eAAzB,CAEA,IAAI1tE,EAAO,GACX,IACE,IAAK,IAAImY,EAAQrvB,UAAUC,OAAQolF,EAAU,IAAIvkF,MAAMuuB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAC3G+1D,EAAQ/1D,EAAQ,GAAKtvB,UAAUsvB,GAEjC,IAAIg2D,EAAaD,EAAQv0E,KAAI,SAAS3B,GACpC,OAAOo2E,GAAQp2E,EACjB,IACA+H,EAAO3W,KAAKokF,QAAU,KAAY9R,KAAKC,UAAUwS,EACnD,CAAE,MAAOvkF,GACP,MACF,CAKA,GAJI6jF,GAAiBrkF,KAAKqkF,gBACxBrkF,KAAKukF,SAAW5tE,EAAKjX,OACrBM,KAAKwkF,aAAaniF,KAAKsU,IAErB3W,KAAKukF,QAAUvkF,KAAKskF,WAAY,CAClC,IAAIW,EAASjlF,KAAKwkF,aAAa7M,QAC/B33E,KAAKukF,SAAWU,EAAOvlF,MACzB,CApBQ,CAqBV,GACC,CACDgD,IAAK,cACLsB,MAAO,WACL,IAAI8gF,EAAU9kF,KAAKwkF,aAAah0E,KAAK,MAErC,OADAxQ,KAAK4zD,QACEkxB,CACT,GACC,CACDpiF,IAAK,QACLsB,MAAO,WACLhE,KAAKwkF,aAAe,GACpBxkF,KAAKukF,QAAU,CACjB,GACC,CACD7hF,IAAK,QACLsB,MAAO,WACL,IAAIkhF,EACAf,EAAQvR,WAEZ3pE,QAAQk8E,MAAMnlF,KAAKokF,UAClBc,EAAYj8E,SAASm8E,MAAMrlF,MAAMmlF,EAAWzlF,WAC7CwJ,QAAQo8E,WACV,GACC,CACD3iF,IAAK,cACLsB,MAAO,SAAqBwS,GAC1BxW,KAAKqkF,cAAgB7tE,CACvB,IACE,CAAC,CACH9T,IAAK,SACLsB,MAAO,WACLmgF,EAAQvR,UAAW,CACrB,GACC,CACDlwE,IAAK,UACLsB,MAAO,WACLmgF,EAAQvR,UAAW,CACrB,KAEKuR,CACT,CA5H6B,GA8H7B,SAAS,KACP,OAAO,IAAIt3E,MAAOy4E,gBACpB,CACA,SAASC,GAAY/uE,GACnB,GAAqB,WAAjB,GAAQA,GACV,OAAOA,EAET,IAAIgvE,EAAUrmF,OAAOS,UAAUoH,SAASlH,KAAK0W,GAAKvP,MAAM,GAAI,GAC5D,OAAQu+E,GACN,IAAK,QACL,IAAK,aACL,IAAK,cACH,OAAOA,EAAU,IAAMhvE,EAAI9W,OAAS,IACtC,IAAK,SACH,MAAO,KACT,QACE,OAAO8lF,EAEb,CACA,SAASR,GAAQhiF,EAAKyiF,EAAUC,GACzBA,IACHA,EAAQ,GACLD,IACHA,EAAW,GACb,IAAI//E,EAAS,CAAC,EACd,IAAK1C,GAAwB,WAAjB,GAAQA,GAClB,OAAOA,EAET,IAAIwiF,EAAUrmF,OAAOS,UAAUoH,SAASlH,KAAKkD,GAAKiE,MAAM,GAAI,GAC5D,IAAKg9E,GAAY0B,SAASH,GACxB,OAAOA,EAET,KAAIE,EAAQD,GAAZ,CAGA,IAAK,IAAI/iF,KAAOM,EACV7D,OAAOS,UAAUC,eAAeC,KAAKkD,EAAKN,KACxCgjF,IAAUD,EACZ//E,EAAOhD,GAAO6iF,GAAYviF,EAAIN,IACC,WAAtB,GAAQM,EAAIN,IACrBgD,EAAOhD,GAAOsiF,GAAQhiF,EAAIN,GAAM+iF,EAAUC,EAAQ,GAElDhgF,EAAOhD,GAAOM,EAAIN,IAIxB,OAAOgD,CAZP,CAaF,CAhDA,GAAgBw+E,GAAQ,YAAY,GCrIpC,ICAI0B,GDAAC,GAAyB,WAC3B,SAASC,IACP,GAAgB9lF,KAAM8lF,EACxB,CAoHA,OAnHA,GAAaA,EAAS,KAAM,CAAC,CAC3BpjF,IAAK,QACLsB,MAAO,SAAe+hF,GACpB,OAAKA,GAAQA,EAAIrmF,OAEE,IAAfqmF,EAAIrmF,QAAgBqmF,EAAI57E,IAAI,GAAK47E,EAAI77E,MAAM,GAAK,MAEjC,IAAf67E,EAAIrmF,QAAgBqmF,EAAI77E,MAAM,GAAK,EAD9B,EAGF67E,EAAI77E,MAAM,GALR,CAMX,GACC,CACDxH,IAAK,MACLsB,MAAO,SAAa+hF,GAClB,OAAKA,GAAQA,EAAIrmF,OAEE,IAAfqmF,EAAIrmF,QAAgBqmF,EAAI57E,IAAI,GAAK47E,EAAI77E,MAAM,GAAK,KAC3C,EACF67E,EAAI57E,IAAI47E,EAAIrmF,OAAS,GAHnB,CAIX,GACC,CACDgD,IAAK,MACLsB,MAAO,SAAazE,GAClB,GAAKA,EAEL,IACE,OAAOA,EAAE2Y,QACX,CAAE,MAAO7P,GACT,CACF,GACC,CACD3F,IAAK,UACLsB,MAAO,SAAiB+hF,EAAKC,GAC3B,IAAKD,IAAQA,EAAIrmF,OACf,MAAO,GAET,IADA,IAAIumF,EAAW,GACNplF,EAAI,EAAGqlF,EAAIH,EAAIrmF,OAAQmB,EAAIqlF,EAAGrlF,IAAK,CAC1C,IAAIslF,EAASF,EAASvmF,OACtB,GAAKymF,GAAWH,EAET,CACL,IAAIrsB,EAAOssB,EAASE,EAAS,GACzBC,EAAUzsB,EAAK,GACfzvD,EAAQ67E,EAAI77E,MAAMrJ,GACtB,GAAIqJ,EAAQk8E,GAAWJ,EAAS,CAC9B,IAAI77E,EAAM47E,EAAI57E,IAAItJ,GACdsJ,EAAMi8E,IACRzsB,EAAK,GAAKxvD,EAEd,MACE87E,EAAS5jF,KAAK,CAAC0jF,EAAI77E,MAAMrJ,GAAIklF,EAAI57E,IAAItJ,IAEzC,MAbEolF,EAAS5jF,KAAK,CAAC0jF,EAAI77E,MAAMrJ,GAAIklF,EAAI57E,IAAItJ,IAczC,CACA,OAAOolF,CACT,GACC,CACDvjF,IAAK,cACLsB,MAAO,SAAqBqiF,GAC1B,OAAKA,GAAYA,EAAQ3mF,OAElB2mF,EAAQhmF,QAAO,SAASf,EAAGE,GAChC,OAAOF,GAAKE,EAAE,GAAKA,EAAE,GACvB,GAAG,GAHM,CAIX,GACC,CACDkD,IAAK,OACLsB,MAAO,SAAc+hF,GACnB,IAAIlrE,EAAMpb,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACvEumF,EAAUvmF,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAC/E,IAAKsmF,IAAQA,EAAIrmF,OACf,MAAO,CACLwK,MAAO,EACPC,IAAK,EACLk8E,QAAS,IAUb,IARA,IAAIn8E,EAAQ,EACRC,EAAM,EACNF,EAAQ,EACRq8E,EAAY,EACZC,EAAU,EACVC,EAAY,EACZC,EAAU,EACVJ,EAAUP,EAAQO,QAAQN,EAAKC,GAC1BnlF,EAAI,EAAGqlF,EAAIG,EAAQ3mF,OAAQmB,EAAIqlF,EAAGrlF,IAAK,CAC9C,IAAI+N,EAAOy3E,EAAQxlF,GACnB,GAAIga,EAAMmrE,GAAWp3E,EAAK,IAAMiM,GAAOjM,EAAK,GAC1C1E,EAAQ0E,EAAK,GACbzE,EAAMyE,EAAK,GACX3E,EAAQpJ,MACH,IAAIga,EAAMmrE,EAAUp3E,EAAK,GAAI,CAClC03E,EAAY13E,EAAK,GACjB23E,EAAU33E,EAAK,GACf,KACF,CAAWiM,EAAMmrE,EAAUp3E,EAAK,KAC9B43E,EAAY53E,EAAK,GACjB63E,EAAU73E,EAAK,GACjB,CACF,CACA,MAAO,CACL1E,QACAC,MACAF,QACAo8E,UACAC,YACAC,UACAC,YACAC,UACA7qE,YAAaf,EACb6rE,OAAQ7rE,EAAM3Q,EACdy8E,UAAWx8E,EAAMA,EAAM0Q,EAAM,EAC7Bnb,OAAQomF,EAAQc,aAAed,EAAQc,YAAYP,GAEvD,KAEKP,CACT,CAxH6B,GCCzBe,GAAM,CACRC,SAAU,WACVC,QAAS,UACTC,gBAAiB,kBACjBC,kBAAmB,oBACnBC,iBAAkB,mBAClBC,8BAA+B,gCAC/BC,MAAO,QACPC,MAAO,QACPC,MAAO,QACPC,IAAK,MACLC,MAAO,QACPC,QAAS,UACTC,UAAW,CACTC,IAAK,MACLC,IAAK,MACLC,IAAK,MACLC,KAAM,OACNC,WAAY,aACZC,kBAAmB,oBACnBC,UAAW,YACXC,SAAU,WACVC,OAAQ,SACRC,KAAM,OACNC,QAAS,UACTC,eAAgB,iBAChBC,WAAY,aACZC,WAAY,aACZC,KAAM,OACNC,iBAAkB,mBAClBC,kBAAmB,oBACnBC,sBAAuB,wBACvB1mD,kBAAmB,oBACnBC,kBAAmB,oBACnBC,iBAAkB,mBAClBC,4BAA6B,8BAC7BwmD,8BAA+B,gCAC/BC,oBAAqB,wBAGrBC,IAAYnD,GAAY,CAAC,EAAG,GAAgBA,GAAWiB,GAAIC,SAAU,CACvEc,IAAK,KACLQ,KAAM,OACJ,GAAgBxC,GAAWiB,GAAIE,QAAS,MAAO,GAAgBnB,GAAWiB,GAAIG,gBAAiB,MAAO,GAAgBpB,GAAWiB,GAAII,kBAAmB,MAAO,GAAgBrB,GAAWiB,GAAIK,iBAAkB,MAAO,GAAgBtB,GAAWiB,GAAIM,8BAA+B,MAAO,GAAgBvB,GAAWiB,GAAIO,MAAO,CACpUO,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,KAAM,KACNW,KAAM,OACJ,GAAgB7C,GAAWiB,GAAIQ,MAAO,CACxCS,KAAM,KACND,IAAK,OACH,GAAgBjC,GAAWiB,GAAIS,MAAO,CACxCplD,kBAAmB,KACnBC,kBAAmB,KACnBC,iBAAkB,KAClBC,4BAA6B,KAC7BwmD,8BAA+B,KAC/BC,oBAAqB,KACrBf,WAAY,KACZC,kBAAmB,KACnBC,UAAW,KACXC,SAAU,KACVK,WAAY,KACZC,WAAY,OACV,GAAgB5C,GAAWiB,GAAIU,IAAK,CACtCc,QAAS,KACTC,eAAgB,OACd,GAAgB1C,GAAWiB,GAAIW,MAAO,KAAM,GAAgB5B,GAAWiB,GAAIY,QAAS,CACtFiB,iBAAkB,KAClBC,kBAAmB,KACnBC,sBAAuB,OACrBhD,IACAoD,GAAiC,SAASC,GAC5C,GAAUC,EAAiBD,GAC3B,IAAItiE,EAAS,GAAauiE,GAC1B,SAASA,EAAgB1+E,EAAM2+E,EAASC,EAAQpX,EAAS5wD,GACvD,IAAIwF,EAYJ,OAXA,GAAgB5mB,KAAMkpF,GACtBtiE,EAAQD,EAAO7mB,KAAKE,KAAMohB,IAAmB,OAAXgoE,QAA8B,IAAXA,OAAoB,EAASA,EAAOxgF,UACzFge,EAAM5G,UAAYxV,IAASq8E,GAAIG,gBAAkBH,GAAIE,QAAUv8E,EAC/Doc,EAAMzG,YAAcipE,EACpBxiE,EAAMxG,IAAM4xD,EACZprD,EAAM3G,UAAY8oE,GAASv+E,GAAM2+E,IAAYJ,GAASv+E,GACtDoc,EAAM1G,aAAe0G,EAAMhe,QACtBge,EAAM3G,YACT2G,EAAM5G,UAAY6mE,GAAIW,MACtB5gE,EAAM3G,UAAY8oE,GAASniE,EAAM5G,YAE5B4G,CACT,CAyBA,OAxBA,GAAasiE,EAAiB,KAAM,CAAC,CACnCxmF,IAAK,SACLsB,MAAO,SAAgBwG,EAAM2+E,EAASC,EAAQpX,EAAS5wD,GACrD,OAAI5W,aAAgB0+E,EACX1+E,GACEA,aAAgB2oB,QACzBi2D,EAAS5+E,EACTA,EAAO,IAEJA,IACHA,EAAOq8E,GAAIW,OACN,IAAI0B,EAAgB1+E,EAAM2+E,EAASC,EAAQpX,EAAS5wD,GAC7D,GACC,CACD1e,IAAK,UACLsB,MAAO,SAAiBqE,GACtB,IAAIghF,EACJ,OAAO,IAAIH,EAA0B,OAAV7gF,QAA4B,IAAVA,GAAoBA,EAAMihF,UAAYzC,GAAIG,gBAAkBH,GAAIE,QAAS,KAAM1+E,aAAiB8qB,MAAQ9qB,EAAQ,KAAM,CACjKiL,IAAe,OAAVjL,QAA4B,IAAVA,OAAmB,EAASA,EAAMiL,IACzDi2E,SAAoB,OAAVlhF,QAA4B,IAAVA,OAAmB,EAASA,EAAMkhF,SAC9DC,SAAoB,OAAVnhF,QAA4B,IAAVA,GAAmE,QAAtCghF,EAAkBhhF,EAAMkhF,gBAA0C,IAApBF,OAAxD,EAA8FA,EAAgBn/D,QAEjK,KAEKg/D,CACT,CA3CqC,CA2CnB,GAAiB/1D,QCtHnC,SAASs2D,GAAejpE,GACtB,OAAOA,IAAUA,EAAMkF,SAAWlF,EAAMC,OAAgC,IAAvBD,EAAM2F,cAA2C,IAArB3F,EAAMG,UACrF,CACA,SAASqzB,GAAwBv6B,GAC/B,IAAKA,EACH,MAAO,CAAC,EACV,GAA6C,oBAAlCA,EAAMu6B,wBAAwC,CACvD,IAAI5rC,EAAOqR,EAAMu6B,0BACjB,MAAO,CACLE,mBAAoB9rC,EAAK8rC,oBAAsB9rC,EAAKgsC,qBACpDD,iBAAkB/rC,EAAK+rC,iBACvBu1C,aAActhF,EAAKshF,aAEvB,CACA,MAAO,CACLx1C,mBAAoBz6B,EAAMkwE,wBAC1Bx1C,iBAAkB16B,EAAMmwE,wBACxBF,aAAc1vE,YAAYlN,MAE9B,CACA,SAAS+8E,KACP,IAAK,IAAI/gF,EAAOrJ,UAAUC,OAAQ2G,EAAM,IAAI9F,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC9E3C,EAAI2C,GAAQvJ,UAAUuJ,GAGxB,GADA3C,EAAMA,EAAIpE,OAAOiD,SACbmB,EAAI3G,OAAS,EACf,OAAO2G,EAAI,GACb,IAAIwkB,EAAO,IAAIi/D,WAAWzjF,EAAIhG,QAAO,SAASsE,EAAGnF,GAC/C,OAAOmF,EAAInF,EAAEuqF,UACf,GAAG,IACCC,EAAU,EAKd,OAJA3jF,EAAI5D,SAAQ,SAAS9C,GACnBkrB,EAAKlB,IAAIhqB,EAAGqqF,GACZA,GAAWrqF,EAAEoqF,UACf,IACOl/D,CACT,CACA,SAASo/D,KACP,IAAIt0D,EAAIl2B,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzE,OAAO,IAAIwf,SAAQ,SAASC,GAC1B,OAAOlT,WAAWkT,EAASyW,EAC7B,GACF,CCxCA,IAAIu0D,GAA6B,WAC/B,SAASC,EAAYC,GACnB,IAAIxjE,EAAQ5mB,KACZ,GAAgBA,KAAMmqF,GACtB,GAAgBnqF,KAAM,UAA2B,IAAIqqF,KACrDrqF,KAAKoqF,QAAUA,EACfA,EAAQ9hE,GAAGq4D,GAAMW,KAAK,SAASgJ,GACzBA,GACF1jE,EAAM2jE,QAAQ16E,IAAIy6E,EACtB,GACF,CAiCA,OAhCA,GAAaH,EAAa,CAAC,CACzBznF,IAAK,QACLsB,MAAO,SAAgB4X,EAAaugB,GAClC,IAAIpU,EAAS/nB,KACb,GAAoB,OAAhB4b,QAAwC,IAAhBA,GAA2B5b,KAAKuqF,QAAQruC,KAApE,CAEA,IAAIvvC,EAAMiP,EAAc,GACpBvO,EAAMuO,EAAc,GACpB4uE,EAAU,GACdxqF,KAAKuqF,QAAQ9nF,SAAQ,SAAS6nF,GACxBA,EAAI7+E,MAAQkB,GAAO29E,EAAI7+E,MAAQ4B,GACjCm9E,EAAQnoF,KAAKioF,EAEjB,IACAE,EAAQ/nF,SAAQ,SAAS6nF,GACvBviE,EAAOwiE,QAAQz9D,OAAOw9D,GACtBviE,EAAOqiE,QAAQjlE,KAAKw7D,GAAMY,YAAa+I,EACzC,IACKnuD,GAELn8B,KAAKuqF,QAAQ9nF,SAAQ,SAASi1C,GACxBA,EAAEjsC,KAAOmQ,EAAc,GACzBmM,EAAOwiE,QAAQz9D,OAAO4qB,EAE1B,GAnBQ,CAoBV,GACC,CACDh1C,IAAK,QACLsB,MAAO,WACLhE,KAAKuqF,QAAQx9D,OACf,KAEKo9D,CACT,CA5CiC,GCA7BM,GAA6B,WAC/B,SAASC,IACP,GAAgB1qF,KAAM0qF,GACtB,GAAgB1qF,KAAM,mBAAoB,EAC5C,CA2BA,OA1BA,GAAa0qF,EAAa,CAAC,CACzBhoF,IAAK,KACLsB,MAAO,SAAawc,GAClB,IAAImqE,EAAkBlrF,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACnF08B,EAAS18B,UAAUC,OAAS,EAAID,UAAU,QAAK,EAC/CmrF,EAAgBnrF,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACrF,GAAK+gB,EAAL,CAEA,IAAI5E,EAAc4E,EAAM5E,YACpBm5D,EAAS,EACb,GAAI/0E,KAAK6qF,mBAAqBjvE,EAAa,CACzC,IAAIxT,EAAOy9E,GAAOz9E,KAAKy9E,GAAO7/E,IAAIwa,GAAQ5E,GAC1C,IAAKxT,EAAKi+E,QAAQ3mF,OAChB,OACEy8B,GAAU/zB,EAAKk+E,WAAal+E,EAAKk+E,WAAal+E,EAAKk+E,UAAY1qE,EAAc+uE,EAC/E5V,EAAS3sE,EAAKk+E,UAAY,GACjBl+E,EAAK+B,KAAO/B,EAAK+B,IAAMyR,EAAcgvE,IAAkBpqE,EAAMgK,UACtEuqD,EAASn5D,EAAc,GAE3B,CACA5b,KAAK6qF,iBAAmBjvE,EACpBm5D,GAAUn5D,IAAgBm5D,IAC5Bv0D,EAAM5E,YAAcm5D,EAfd,CAiBV,KAEK2V,CACT,CAhCiC,GCI7B,GAAwB,WAC1B,SAAS7Y,EAAOiZ,GACd,GAAgB9qF,KAAM6xE,GACtB,GAAgB7xE,KAAM,aAAc,IACpC,GAAgBA,KAAM,aAAc,IACpC,GAAgBA,KAAM,aAAc,IACpC,GAAgBA,KAAM,SAAU,IAChC,GAAgBA,KAAM,MAAO,GAC7B,GAAgBA,KAAM,UAAW,GACjC,GAAgBA,KAAM,QAAS,GAC/B,GAAgBA,KAAM,SAAU,GAChC,GAAgBA,KAAM,aAAc,GACpC,GAAgBA,KAAM,eAAgB,GACtC,GAAgBA,KAAM,MAAO,GAC7B,GAAgBA,KAAM,sBAAuB,GAC7C,GAAgBA,KAAM,0BAA2B,GACjD,GAAgBA,KAAM,eAAgB,GACtCA,KAAK+qF,WAAaD,CACpB,CA0FA,OAzFA,GAAajZ,EAAQ,CAAC,CACpBnvE,IAAK,WACLsB,MAAO,WACL,MAAO,CACLgnF,WAAYhrF,KAAKgrF,WACjBC,WAAYjrF,KAAKirF,WACjBC,WAAYlrF,KAAKkrF,WACjB9xE,OAAQpZ,KAAKoZ,OACb+xE,IAAKnrF,KAAKmrF,IACVx9C,QAAS3tC,KAAK2tC,QACdh5B,MAAO3U,KAAK2U,MACZC,OAAQ5U,KAAK4U,OACbw2E,WAAYprF,KAAKorF,WACjBC,aAAcrrF,KAAKqrF,aACnBC,IAAKtrF,KAAKsrF,IAEd,GACC,CACD5oF,IAAK,gBACLsB,MAAO,SAAuBunF,GAC5BvrF,KAAKgrF,WAAaO,CACpB,GACC,CACD7oF,IAAK,uBACLsB,MAAO,SAA8B6sC,GACnC,IAAI26C,EACA3gE,EAAOgmB,EAAKhmB,KACZsgE,EAAe,OAATtgE,QAA0B,IAATA,GAAoE,QAAxC2gE,EAAmB3gE,EAAK4gE,kBAA6C,IAArBD,OAA1D,EAAiGA,EAAiBE,UAC3JP,GAAOA,EAAM,GAAKA,EAAM,MAC1BnrF,KAAKmrF,IAAMA,EAEf,GACC,CACDzoF,IAAK,eACLsB,MAAO,SAAsB2nF,GAK3B,GAJA3rF,KAAK2U,MAAQg3E,EAAMh3E,MACnB3U,KAAK4U,OAAS+2E,EAAM/2E,OACpB5U,KAAKkrF,WAAaS,EAAMC,MACxB5rF,KAAKgrF,WAAaW,EAAMrzD,UACpBqzD,EAAME,QAAUF,EAAMG,OAAQ,CAChC,IAAIX,EAAMQ,EAAME,OAASF,EAAMG,OAC3BX,EAAM,GAAKA,EAAM,MACnBnrF,KAAKmrF,IAAMA,EAEf,CACF,GACC,CACDzoF,IAAK,eACLsB,MAAO,SAAsB2nF,GAC3B3rF,KAAKirF,WAAaU,EAAMC,MACxB5rF,KAAKorF,WAAaO,EAAMI,WACxB/rF,KAAKqrF,aAAeM,EAAMN,YAC5B,GACC,CACD3oF,IAAK,YACLsB,MAAO,SAAmBgoF,GACxBhsF,KAAKoZ,OAAS4yE,EAAYp8E,MAAM,KAAK3I,MAAM,EAAG,GAAG,EACnD,GACC,CACDvE,IAAK,gBACLsB,MAAO,SAAuBioF,GAC5B,IAAIrlE,EAAQ5mB,KACZ,KAAKA,KAAKmrF,KAAOnrF,KAAKmrF,KAAO,MACvBc,EAAQvsF,OAAQ,CAClB,IAAI6a,EAAW0xE,EAAQ5rF,QAAO,SAASf,EAAGC,GACxC,OAAOD,EAAKC,EAAEgb,QAChB,GAAG,GAAK0xE,EAAQvsF,OAChBM,KAAKmrF,IAAMz+E,KAAKkF,MAAM5R,KAAK+qF,WAAaxwE,EAC1C,CAEF0xE,EAAQxpF,SAAQ,SAASypF,IACI,IAAvBtlE,EAAMulE,cACRvlE,EAAMulE,YAAcD,EAAOE,OAEzBF,EAAOE,QAAUxlE,EAAMulE,aACzBvlE,EAAM0kE,MAER1kE,EAAMylE,yBAA2BH,EAAO3xE,UAAYqM,EAAMmkE,WAAa,KACvEnkE,EAAM0lE,qBAAuBJ,EAAOK,MAAMlsF,QAAO,SAASf,EAAGE,GAC3D,OAAOF,EAAKE,EAAEE,MAChB,GAAG,GACCknB,EAAMylE,yBAA2B,MACnCzlE,EAAM+mB,QAAsC,EAA5B/mB,EAAM0lE,oBACtB1lE,EAAMylE,wBAA0B,EAChCzlE,EAAM0lE,oBAAsB,EAEhC,GACF,KAEKza,CACT,CA7G4B,GA8GxB2a,GAAoC,WACtC,SAASC,EAAmBC,GAC1B,IAAI5B,EAAYrrF,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,IACjF,GAAgBO,KAAMysF,GACtB,GAAgBzsF,KAAM,QAAS,MAC/B,GAAgBA,KAAM,WAAY,IAClCA,KAAK2sF,MAAQD,EACb1sF,KAAK+qF,WAAaD,EAClB9qF,KAAKiyE,OAAS,IAAI,GAAM6Y,GACxB9qF,KAAK4pC,aACP,CA2CA,OA1CA,GAAa6iD,EAAoB,CAAC,CAChC/pF,IAAK,WACLsB,MAAO,WACL,IAAI4oF,EAAaC,EAAcC,EAAuBC,EAAcC,EAAuBC,EAAcC,EACrGC,GAAwC,QAA9BP,EAAc5sF,KAAK2sF,aAAmC,IAAhBC,OAAyB,EAASA,EAAYpsE,QAAU,CAAC,EAAG4sE,EAAoBD,EAAMvxE,YAAaA,OAAoC,IAAtBwxE,EAA+B,EAAIA,EAAmBC,EAAkBF,EAAMG,UAAWA,OAAgC,IAApBD,EAA6B,EAAIA,EAC3S,OAAO,GAAe,GAAe,CAAC,EAAGrtF,KAAKiyE,OAAOE,YAAa,CAAC,EAAG,CACpEob,eAAgD,QAA/BV,EAAe7sF,KAAK2sF,aAAoC,IAAjBE,GAAwF,QAApDC,EAAwBD,EAAaW,iBAAiD,IAA1BV,OAAtE,EAAkHA,EAAsBhtF,KAAK+sF,GAAcjW,QAAU,EACvPoB,UAA2C,QAA/B+U,EAAe/sF,KAAK2sF,aAAoC,IAAjBI,GAAwF,QAApDC,EAAwBD,EAAaS,iBAAiD,IAA1BR,OAAtE,EAAkHA,EAAsBltF,KAAKitF,GAAc/U,WAAa,EACrPp8D,cACA6xE,WAA4C,QAA/BR,EAAejtF,KAAK2sF,aAAoC,IAAjBM,GAA2F,QAAvDC,EAAwBD,EAAaS,oBAAoD,IAA1BR,OAAzE,EAAqHA,EAAsBvG,YAAc,EACvO2G,aAEJ,GACC,CACD5qF,IAAK,cACLsB,MAAO,WACL,IAAI+jB,EAAS/nB,KACbA,KAAK2sF,MAAMrkE,GAAGq4D,GAAMoB,eAAe,SAAS4L,GAC1C,IAAIC,EAAaD,EAAMC,WACvB,OAAO7lE,EAAOkqD,OAAO4b,cAAcD,EAAW3B,QAChD,IACAjsF,KAAK2sF,MAAMrkE,GAAGq4D,GAAMa,iBAAiB,SAAS32D,GAC5C9C,EAAOkqD,OAAO6b,qBAAqBjjE,EACrC,IACA7qB,KAAK2sF,MAAMrkE,GAAGq4D,GAAMU,iBAAiB,SAAS7gF,GAC7B,UAAXA,EAAEgK,KACJud,EAAOkqD,OAAO8b,aAAavtF,EAAEmrF,OAE7B5jE,EAAOkqD,OAAO+b,aAAaxtF,EAAEmrF,MAEjC,IACA3rF,KAAK2sF,MAAMrkE,GAAGq4D,GAAMC,MAAM,SAASpgF,GACjCunB,EAAOkqD,OAAOgc,UAAUztF,EAAEwrF,YAC5B,GACF,GACC,CACDtpF,IAAK,QACLsB,MAAO,WACLhE,KAAKkuF,SAAW,GAChBluF,KAAKiyE,OAAS,IAAI,GAAMjyE,KAAK+qF,WAC/B,KAEK0B,CACT,CAtDwC,GCpHxC,SAAS0B,KACP,IAAIxmF,EAAKymF,EACLC,EAAU,IAAIpvE,SAAQ,SAASC,EAASiZ,GAC1CxwB,EAAMuX,EACNkvE,EAAMj2D,CACR,IAUA,OATAk2D,EAAQC,MAAO,EACfD,EAAQnvE,QAAU,WAEhB,OADAmvE,EAAQC,MAAO,EACR3mF,EAAI5H,WAAM,EAAQN,UAC3B,EACA4uF,EAAQl2D,OAAS,WAEf,OADAk2D,EAAQC,MAAO,EACRF,EAAIruF,WAAM,EAAQN,UAC3B,EACO4uF,CACT,CACA,SAAS,KACP,IACE,OAAOz4E,SAASoE,YAAYlN,MAAO,GACrC,CAAE,MAAOtM,GACP,OAAO,IAAIqM,MAAOkN,SACpB,CACF,CCvBA,IAAIw0E,GAA8B,qBAAXvmF,OCMvB,SAASwmF,KACP,IACE,OAAOD,GAAYvmF,OAAOwW,YAAc,IAC1C,CAAE,MAAOhe,GACT,CACF,CACA,IAAI,GAAcguF,KAIdC,GAAU,CACZC,OAAQ,eACRC,OAAQ,eACRC,gBAAiB,kBAefC,GAAsB,WACxB,SAASC,EAAKtuE,EAAO/X,GACnB,IAAIsf,EAAS/nB,KACb,GAAgBA,KAAM8uF,GACtB,GAAgB9uF,KAAM,QAAS,MAC/B,GAAgBA,KAAM,cAAe,MACrC,GAAgBA,KAAM,eAAgBmuF,MACtC,GAAgBnuF,KAAM,SAA0Bb,OAAOgF,OAAO,OAC9D,GAAgBnE,KAAM,gBAAiCb,OAAOgF,OAAO,OACrE,GAAgBnE,KAAM,eAAgB,CAAC,GACvC,GAAgBA,KAAM,MAAO,GAC7B,GAAgBA,KAAM,QAAS,GAC/B,GAAgBA,KAAM,UAAW,MACjC,GAAgBA,KAAM,UAAW,MACjC,GAAgBA,KAAM,OAAQ,MAC9B,GAAgBA,KAAM,kBAAkB,SAASwK,GAC/C,IAAIukF,EAAQhnE,EAAOinE,OAAOxkF,GAC1B,GAAIukF,EAAO,CACT,IAAIE,EAAKF,EAAM,GAIf,IAHc,OAAPE,QAAsB,IAAPA,OAAgB,EAASA,EAAGC,UAAYT,GAAQG,iBACpEG,EAAMpX,QAEJsX,EAAI,CACN,IAAIE,EAAW,KAAYpnE,EAAOqnE,MAClCrnE,EAAOrJ,QAAQhW,MAAM,YAAaumF,EAAGC,OAAQC,EAAUF,EAAGn7E,SAC1Dm7E,EAAGZ,QAAQnvE,QAAQ,CACjBhY,KAAM+nF,EAAGC,OACTp7E,QAASm7E,EAAGn7E,QACZq7E,aAEFpnE,EAAOsnE,YAAY7kF,EACrB,CACF,CACF,IACA,GAAgBxK,KAAM,oBAAoB,SAASwK,EAAMyH,GACvD,IAAI88E,EAAQhnE,EAAOinE,OAAOxkF,GAC1B,GAAIukF,EAAO,CACT,IAAIE,EAAKF,EAAM,GACXE,IACFlnE,EAAOrJ,QAAQrW,MAAM,cAAemC,EAAMykF,EAAGC,OAAQD,EAAGn7E,SACxDm7E,EAAGZ,QAAQl2D,OAAO,IAAI6wD,GAAenC,GAAIS,MAAOT,GAAIa,UAAUM,kBAAmB/1E,IAErF,CACF,IACAjS,KAAK+lC,QAAU5mC,OAAOC,OAAO0vF,EAAKhzD,mBAAoBrzB,GAClD+X,GACFxgB,KAAKsvF,UAAU9uE,GACjBxgB,KAAK0e,QAAU,IAAIwlE,GAAO,OACtBlkF,KAAK+lC,QAAQwpD,SACfrL,GAAOsL,QAEX,CAwgBA,OAvgBA,GAAaV,EAAM,CAAC,CAClBpsF,IAAK,WACLsD,IAAK,WACH,IAAIypF,EACJ,MAAqI,UAAlF,QAA1CA,EAAoBzvF,KAAK0vF,mBAA+C,IAAtBD,OAA+B,EAASA,EAAkB9uE,WACvH,GACC,CACDje,IAAK,MACLsD,IAAK,WACH,OAAOhG,KAAK2vF,IACd,GACC,CACDjtF,IAAK,WACLsD,IAAK,WACH,IAAI4pF,EACJ,OAAoD,QAA3CA,EAAqB5vF,KAAK0vF,mBAAgD,IAAvBE,OAAgC,EAASA,EAAmBr1E,YAAc,CACxI,GACC,CACD7X,IAAK,UACLsD,IAAK,WACH,QAAOhG,KAAK0vF,aAA8C,UAAhC1vF,KAAK0vF,YAAY/uE,UAC7C,GACC,CACDje,IAAK,SACLsB,MAAO,SAAgBwG,GACrB,OAAOA,EAAOxK,KAAK6vF,aAAarlF,GAAQxK,KAAK6vF,aAAaf,EAAKgB,MACjE,GACC,CACDptF,IAAK,iBACLsB,MAAO,SAAwBuW,GAC7B,IAAIyN,EAAShoB,KACT+vF,EAAmB/vF,KAAK0vF,aAAe1vF,KAAK0vF,YAAYn1E,SAAWA,EACvE,GAAIva,KAAK0vF,aAAe1vF,KAAK0vF,YAAYn1E,SAAWA,EAAU,CAC5D,IAAIkzE,EAAY,EAOhB,GANAtuF,OAAO2C,KAAK9B,KAAKgwF,eAAevtF,SAAQ,SAAS8mB,GAC/C,IACEkkE,EAAY/gF,KAAKW,IAAI2a,EAAOylE,UAAUlkE,IAAM,EAAGkkE,EACjD,CAAE,MAAOplF,GACT,CACF,IACIkS,EAAWkzE,EACb,OAAOxuE,QAAQC,SAEnB,CACA,OAAOlf,KAAKiwF,oBAAmB,WACzBjoE,EAAOxN,QACTwN,EAAOtJ,QAAQhW,MAAM,iCAGnBsf,EAAO0nE,cACT1nE,EAAO0nE,YAAYn1E,SAAWA,EAC9ByN,EAAOtJ,QAAQhW,MAAM,2BAEzB,GAAG+lF,GAAQG,gBAAiB,CAC1BmB,oBAEJ,GACC,CACDrtF,IAAK,OACLsB,MAAO,WACL,IAAIikB,EAASjoB,KACb,GAAIA,KAAKkwF,aAAa5B,OAAStuF,KAAKmwF,UAAYnwF,KAAK0vF,YAAa,CAChE,IAAIU,EAAKpwF,KAAK0vF,YACVW,EAAS,SAASC,IACpB,IAAInB,EAAW,KAAYlnE,EAAOsoE,IAClCtoE,EAAOvJ,QAAQhW,MAAM,WAAYymF,GACjCiB,EAAG3nE,oBAAoB,aAAc6nE,GACrCroE,EAAOioE,aAAahxE,QAAQ,CAC1BiwE,YAEJ,EACAiB,EAAG7nE,iBAAiB,aAAc8nE,GAClCrwF,KAAKkwF,aAAe/B,IACtB,CACA,OAAOnuF,KAAKkwF,YACd,GACC,CACDxtF,IAAK,YACLsB,MAAO,WACL,IAAIwsF,EAAa,GAAkC,KAAsBxR,MAAK,SAASyR,EAAQjwE,GAC7F,IACI4vE,EAAIC,EADJ7nE,EAASxoB,KAEb,OAAO,KAAsBu7E,MAAK,SAAkBmV,GAClD,MAAO,SACGA,EAASpR,KAAOoR,EAASpjE,MAC/B,KAAK,EACH,IAAMttB,KAAK0vF,cAAe1vF,KAAKwgB,MAAQ,CACrCkwE,EAASpjE,KAAO,EAChB,KACF,CAEA,OADAojE,EAASpjE,KAAO,EACTttB,KAAK2wF,cACd,KAAK,EACH,GAAOnwE,GAAU,GAAc,CAC7BkwE,EAASpjE,KAAO,EAChB,KACF,CACA,MAAM,IAAI6F,MAAM,6CAClB,KAAK,EAgBH,OAfAnzB,KAAKwgB,MAAQA,EACb4vE,EAAKpwF,KAAK0vF,YAAc,IAAI,GAC5B1vF,KAAKuwF,IAAM,KACXF,EAAS,SAASC,IAChB,IAAInB,EAAW,KAAY3mE,EAAO+nE,IAClC/nE,EAAO9J,QAAQhW,MAAM,YACrB0nF,EAAG3nE,oBAAoB,aAAc6nE,GACrC7d,IAAIme,gBAAgBpwE,EAAMvN,KAC1BuV,EAAO0nE,aAAahxE,QAAQ,CAC1BiwE,YAEJ,EACAiB,EAAG7nE,iBAAiB,aAAc8nE,GAClCrwF,KAAK2vF,KAAOld,IAAIC,gBAAgB0d,GAChC5vE,EAAMvN,IAAMjT,KAAK2vF,KACVe,EAAS/S,OAAO,SAAU39E,KAAKkwF,cACxC,KAAK,GACL,IAAK,MACH,OAAOQ,EAASrhB,OAExB,GAAGohB,EAASzwF,KACd,KACA,SAASsvF,EAAUpoC,GACjB,OAAOspC,EAAWzwF,MAAMC,KAAMP,UAChC,CACA,OAAO6vF,CACT,CA/CO,IAgDN,CACD5sF,IAAK,cACLsB,MAAO,WACL,IAAI6sF,EAAe,GAAkC,KAAsB7R,MAAK,SAAS8R,IACvF,IACIV,EAAIW,EAAaC,EADjBpoE,EAAS5oB,KAEb,OAAO,KAAsBu7E,MAAK,SAAmB0V,GACnD,MAAO,SACGA,EAAU3R,KAAO2R,EAAU3jE,MACjC,KAAK,EAIH,GAHKttB,KAAKkwF,aAAa5B,MACrBtuF,KAAKkwF,aAAahxE,UACpBkxE,EAAKpwF,KAAK0vF,YACNU,EAAI,CAYN,GAXAjxF,OAAO2C,KAAK9B,KAAKgvF,QAAQvsF,SAAQ,SAASkzB,GACxC,IAAIo5D,EAAQnmE,EAAOomE,OAAOr5D,GACtBo5D,GACFA,EAAMtsF,SAAQ,SAASkW,GACrB,IAAIu4E,EAAYC,EAChB,OAAoC,QAA5BD,EAAav4E,EAAE01E,eAAoC,IAAf6C,GAA+E,QAA7CC,EAAqBD,EAAWhyE,eAA4C,IAAvBiyE,OAA/D,EAAwGA,EAAmBrxF,KAAKoxF,EACtM,GAEJ,IACAH,IAAgB/wF,KAAKwgB,OAASxgB,KAAKwgB,MAAMG,YAAc,EACvDqwE,EAA4B,SAAlBZ,EAAGzvE,WACTowE,GAAeC,EACjB,IACEZ,EAAGgB,aACL,CAAE,MAAO/oF,GACT,CAEFlJ,OAAO2C,KAAK9B,KAAKgwF,eAAevtF,SAAQ,SAAS8mB,GAC/C,IACE6mE,EAAGiB,mBAAmBzoE,EAAOonE,cAAczmE,GAC7C,CAAE,MAAOlhB,GACT,CACF,GACF,CACA,GAAIrI,KAAKwgB,MAAO,CACdxgB,KAAKwgB,MAAMqI,gBAAgB,OAC3B,IACE7oB,KAAKwgB,MAAMsI,MACb,CAAE,MAAOzgB,GACT,CACArI,KAAKwgB,MAAQ,IACf,CACAxgB,KAAK0vF,YAAc,KACnB1vF,KAAKkwF,aAAe/B,KACpBnuF,KAAKgvF,OAAyB7vF,OAAOgF,OAAO,MAC5CnE,KAAKgwF,cAAgC7wF,OAAOgF,OAAO,MACrD,KAAK,EACL,IAAK,MACH,OAAO8sF,EAAU5hB,OAEzB,GAAGyhB,EAAU9wF,KACf,KACA,SAAS2wF,IACP,OAAOE,EAAa9wF,MAAMC,KAAMP,UAClC,CACA,OAAOkxF,CACT,CA1DO,IA2DN,CACDjuF,IAAK,eACLsB,MAAO,SAAsBwG,EAAM8mF,GACjC,IAAItxF,KAAKgwF,cAAcxlF,IAAUxK,KAAK0vF,YAAtC,CAEA,IAAI6B,EACJ,IACEA,EAAKvxF,KAAKgwF,cAAcxlF,GAAQxK,KAAK0vF,YAAY8B,gBAAgBF,EACnE,CAAE,MAAOjpF,GACP,MAAM,IAAI2gF,GAAenC,GAAIS,MAAOT,GAAIa,UAAUK,WAAY1/E,EAChE,CACAkpF,EAAGD,SAAWA,EACdC,EAAGhpE,iBAAiB,YAAavoB,KAAKyxF,eAAepyF,KAAKW,KAAMwK,IAChE+mF,EAAGhpE,iBAAiB,QAASvoB,KAAK0xF,iBAAiBryF,KAAKW,KAAMwK,GATtD,CAUV,GACC,CACD9H,IAAK,aACLsB,MAAO,SAAoBwG,EAAM8mF,GAC/B,IAAI18D,EAAS50B,KACTuxF,EAAKvxF,KAAKgwF,cAAcxlF,GAC5B,OAAKxK,KAAK0vF,aAAgB6B,GAAMA,EAAGD,WAAaA,EAEnB,oBAAlBC,EAAGI,WACL1yE,QAAQkZ,SACVn4B,KAAK4xF,WAAWpnF,GAAM,WAC3B+mF,EAAGI,WAAWL,GACdC,EAAGD,SAAWA,EACd18D,EAAO68D,eAAejnF,EACxB,GAAG,aAAc,CACf8mF,aAROryE,QAAQC,SAUnB,GACC,CACDxc,IAAK,uBACLsB,MAAO,SAA8BwG,EAAM8mF,GAEzC,OADAtxF,KAAK6xF,aAAarnF,EAAM8mF,GACjBtxF,KAAK2xF,WAAWnnF,EAAM8mF,EAC/B,GACC,CACD5uF,IAAK,SACLsB,MAAO,SAAgBwG,EAAMsnF,EAAQh+E,GACnC,IAAIq4B,EAASnsC,KACb,OAAK8xF,GAAWA,EAAO/H,YAGlB/pF,KAAKgwF,cAAcxlF,GAEjBxK,KAAK4xF,WAAWpnF,GAAM,WAC3B,IAAIunF,EACC5lD,EAAOujD,cAAevjD,EAAO3rB,MAAMnY,QAExC8jC,EAAOztB,QAAQhW,MAAM,mBAAoBoL,GACzCq4B,EAAOijD,MAAQ,KAC0C,QAAxD2C,EAAwB5lD,EAAO6jD,cAAcxlF,UAA6C,IAA1BunF,GAA4CA,EAAsBC,aAAaF,GAClJ,GAAGrD,GAAQC,OAAQ56E,GAXVmL,QAAQC,SAYnB,GACC,CACDxc,IAAK,SACLsB,MAAO,SAAgBwG,EAAM4yB,EAAW60D,EAASn+E,GAC/C,IAAI04B,EAASxsC,KACTkyF,GAAe,EAInB,OAHIlyF,KAAK6vF,aAAarlF,KACpB0nF,GAAe,GAEVlyF,KAAK4xF,WAAWpnF,GAAM,WAC3B,GAAKgiC,EAAOkjD,cAAeljD,EAAOhsB,MAAMnY,MAAxC,CAEA,IAAIkpF,EAAK/kD,EAAOwjD,cAAcxlF,GAC1B4yB,GAAa60D,IAAYV,EAC3B/kD,EAAOilD,eAAejnF,IAGxBgiC,EAAO4iD,MAAQ,KACf5iD,EAAO9tB,QAAQhW,MAAM,mBAAoB8B,EAAM4yB,EAAW60D,EAASn+E,GACnEy9E,EAAGxhF,OAAOqtB,EAAW60D,GARb,CASV,GAAGxD,GAAQE,OAAQ76E,EAASo+E,EAC9B,GACC,CACDxvF,IAAK,cACLsB,MAAO,SAAqBo5B,EAAW60D,GACrC,IACIttF,EADAmoC,EAAU9sC,KAKd,OAHAb,OAAO2C,KAAK9B,KAAKgwF,eAAevtF,SAAQ,SAAS8mB,GAC/C5kB,EAAImoC,EAAQ/8B,OAAOwZ,EAAG6T,EAAW60D,EACnC,IACOttF,GAAKsa,QAAQC,SACtB,GACC,CACDxc,IAAK,iBACLsB,MAAO,WACL,IACIW,EADAuoC,EAAUltC,KAMd,OAJAb,OAAO2C,KAAK9B,KAAKgwF,eAAevtF,SAAQ,SAAS8mB,GAC/C,IAAIgoE,EAAKrkD,EAAQ8iD,cAAczmE,GAC/B5kB,EAAIuoC,EAAQn9B,OAAOwZ,EAAG,EAAGs8D,GAAO17E,IAAI07E,GAAO7/E,IAAIurF,IACjD,IACO5sF,CACT,GACC,CACDjC,IAAK,gBACLsB,MAAO,SAAuBwG,EAAM2nF,GAClC,IAAIC,EACJpyF,KAAK0e,QAAQhW,MAAM,0BACnB,IAAIqmF,EAAQ/uF,KAAKgvF,OAAOxkF,GACxB,GAAI2nF,GAAYpD,EACd/uF,KAAKgvF,OAAOxkF,GAAQ,QAGtB,GAAKukF,GAAUA,EAAMvkF,MAASukF,EAAMrvF,OAAS,GAA7C,CAEA,IAAI2yF,EAAY,GAChBtD,EAAMtsF,SAAQ,SAASwsF,GACjBA,EAAGn7E,SAAWm7E,EAAGn7E,QAAQw+E,QAC3BD,EAAUhwF,KAAK4sF,EAEnB,IACAjvF,KAAKgvF,OAAOxkF,GAAQukF,EAAM9nF,MAAM,EAAG,GACnCorF,EAAU3yF,OAAS,IAAM0yF,EAAoBpyF,KAAKgvF,OAAOxkF,IAAOnI,KAAKtC,MAAMqyF,EAAmBC,EARtF,CASV,GACC,CACD3vF,IAAK,cACLsB,MAAO,SAAqBw6D,GAC1B,IAAIrxB,EAAUntC,KACd,OAAKA,KAAK0vF,aAA+C,SAAhC1vF,KAAK0vF,YAAY/uE,WAEnC3gB,KAAKiwF,oBAAmB,WAC7B,IAAIG,EAAKjjD,EAAQuiD,YACZU,GAAwB,SAAlBA,EAAGzvE,aAEdwsB,EAAQzuB,QAAQhW,MAAM,yBAClB81D,EACF4xB,EAAGgB,YAAY5yB,GAEf4xB,EAAGgB,cAEP,GAAG,eAXMnyE,QAAQC,SAYnB,GACC,CACDxc,IAAK,uBACLsB,MAAO,SAA8BkG,EAAOC,GAC1C,IAAIimF,EAAKpwF,KAAK0vF,YACVxlF,EAAQ,GAAKC,EAAMD,GAAkB,OAAPkmF,QAAsB,IAAPA,IAAiBA,EAAGmC,sBAA2C,SAAlBnC,EAAGzvE,YAEjGyvE,EAAGmC,qBAAqBroF,EAAOC,EACjC,GACC,CACDzH,IAAK,kBACLsB,MAAO,SAAyBwG,GAC9B,OAAOxK,KAAKgwF,cAAcxlF,EAC5B,GACC,CACD9H,IAAK,WACLsB,MAAO,SAAkBwG,GACvB,OAAOq7E,GAAO7/E,IAAIhG,KAAKgwF,cAAcxlF,GACvC,GACC,CACD9H,IAAK,cACLsB,MAAO,SAAqBwG,GAC1B,OAAOq7E,GAAO37E,MAAMlK,KAAKkY,SAAS1N,GACpC,GACC,CACD9H,IAAK,YACLsB,MAAO,SAAmBwG,GACxB,OAAOq7E,GAAO17E,IAAInK,KAAKkY,SAAS1N,GAClC,GACC,CACD9H,IAAK,aACLsB,MAAO,SAAoBwG,EAAMuT,EAAMmxE,EAAQp7E,EAASo+E,GACtD,IAAI9kD,EAAUptC,KACd,IAAKA,KAAK0vF,YACR,OAAOzwE,QAAQC,UACjB,IAAI6vE,EAAQ/uF,KAAKgvF,OAAOxkF,GAAQxK,KAAKgvF,OAAOxkF,IAAS,GACjDykF,EAAK,CACPlxE,OACAswE,QAASF,KACTe,SACAp7E,WAoBF,OAlBIo+E,GACFnD,EAAMz6E,OAAO,EAAG,EAAG26E,GACnBjvF,KAAK6vF,aAAarlF,IAAQ,EAC1BxK,KAAKqvF,YAAY7kF,IAEjBukF,EAAM1sF,KAAK4sF,GAETjvF,KAAKmwF,UAAYnwF,KAAKwa,QACH,IAAjBu0E,EAAMrvF,QACRM,KAAKqvF,YAAY7kF,GAGnBxK,KAAKkwF,aAAa3iE,MAAK,WACA,IAAjBwhE,EAAMrvF,QACR0tC,EAAQiiD,YAAY7kF,EAExB,IAEKykF,EAAGZ,OACZ,GACC,CACD3rF,IAAK,qBACLsB,MAAO,WACL,IAAIwuF,EAAsB,GAAkC,KAAsBxT,MAAK,SAASyT,EAAS10E,EAAMmxE,EAAQp7E,GACrH,IACI4+E,EAAOC,EADPnlD,EAAUxtC,KAEd,OAAO,KAAsBu7E,MAAK,SAAmBqX,GACnD,MAAO,SACGA,EAAUtT,KAAOsT,EAAUtlE,MACjC,KAAK,EACH,GAAIttB,KAAK0vF,YAAa,CACpBkD,EAAUtlE,KAAO,EACjB,KACF,CACA,OAAOslE,EAAUjV,OAAO,SAAU1+D,QAAQC,WAC5C,KAAK,EAEH,GADAwzE,EAAQvzF,OAAO2C,KAAK9B,KAAKgwF,eACrB0C,EAAMhzF,OAAQ,CAChBkzF,EAAUtlE,KAAO,EACjB,KACF,CACA,OAAOslE,EAAUjV,OAAO,SAAU5/D,KACpC,KAAK,EAkBH,OAjBA40E,EAAU,GACVD,EAAMjwF,SAAQ,SAASkzB,GACrB,IAAIo5D,EAAQvhD,EAAQwhD,OAAOr5D,GACvBk9D,EAAO1E,KACXwE,EAAQtwF,KAAKwwF,GACb9D,EAAM1sF,KAAK,CACT0b,KAAM,WACJ80E,EAAK3zE,SACP,EACAmvE,QAASwE,EACT3D,SACAp7E,YAEmB,IAAjBi7E,EAAMrvF,QACR8tC,EAAQ6hD,YAAY15D,EAExB,IACOi9D,EAAUjV,OAAO,SAAU1+D,QAAQoa,IAAIs5D,GAASplE,MAAK,WAC1D,IACE,OAAOxP,GACT,CAAE,QACA20E,EAAMjwF,SAAQ,SAASkzB,GACrB,IAAIo5D,EAAQvhD,EAAQwhD,OAAOr5D,GACvB47D,EAAK/jD,EAAQwiD,cAAcr6D,GACrB,OAAVo5D,QAA4B,IAAVA,GAA4BA,EAAMpX,QAC/C4Z,GAAOA,EAAGuB,UACbtlD,EAAQ6hD,YAAY15D,EAExB,GACF,CACF,KACF,KAAK,EACL,IAAK,MACH,OAAOi9D,EAAUvjB,OAEzB,GAAGojB,EAAUzyF,KACf,KACA,SAASiwF,EAAmB8C,EAAKC,EAAKC,GACpC,OAAOT,EAAoBzyF,MAAMC,KAAMP,UACzC,CACA,OAAOwwF,CACT,CA9DO,IA+DN,CACDvtF,IAAK,cACLsB,MAAO,SAAqBwG,GAC1B,IAAIukF,EAAQ/uF,KAAKgvF,OAAOxkF,GACxB,GAAIukF,EAAO,CACT,IAAIE,EAAKF,EAAM,GACf,GAAIE,IAAOjvF,KAAK6vF,aAAarlF,GAC3B,IACEykF,EAAGlxE,MACL,CAAE,MAAO1V,GACHA,GAASA,EAAMO,SAAWP,EAAMO,QAAQtI,QAAQ,yBAA2B,GAC7EN,KAAK6vF,aAAarlF,IAAQ,EAC1BxK,KAAK0e,QAAQrW,MAAM,yBAA0B4mF,EAAGn7E,QAAS,UAAWm7E,EAAGC,OAAQ,6BAC/ED,EAAGZ,QAAQl2D,OAAO,IAAI6wD,GAAenC,GAAIS,MAAOT,GAAIa,UAAUQ,SAAU7/E,MAExErI,KAAK0e,QAAQrW,MAAMA,GACnB4mF,EAAGZ,QAAQl2D,OAAO,IAAI6wD,GAAenC,GAAIS,MAAOT,GAAIa,UAAUO,UAAW5/E,IACzE0mF,EAAMpX,QACN33E,KAAKqvF,YAAY7kF,GAErB,CAEJ,CACF,GACC,CACD9H,IAAK,gBACLsB,MAAO,SAAuBwG,EAAM0oF,EAAiBp/E,GACnD,IAAI45B,EAAU1tC,KACd,OAAOA,KAAK4xF,WAAWpnF,GAAM,WACvB0oF,EAAkB,IACpBA,GAAmB,MAErBxlD,EAAQsiD,cAAcxlF,GAAM0oF,gBAAkBA,EAC9CxlD,EAAQ+jD,eAAejnF,EACzB,GAAG,gBAAiBsJ,EACtB,GACC,CACDpR,IAAK,QACLsB,MAAO,SAAewG,EAAMsJ,GAC1B,IAAIi6B,EAAU/tC,KACd,OAAKA,KAAKmwF,SAGHnwF,KAAK4xF,WAAWpnF,GAAM,WAC3BujC,EAAQiiD,cAAcxlF,GAAM2oF,QAC5BplD,EAAQ0jD,eAAejnF,EACzB,GAAG,QAASsJ,GALHmL,QAAQC,SAMnB,IACE,CAAC,CACHxc,IAAK,mBACLsB,MAAO,WACL,MAAO,CACLurF,SAAS,EAEb,GACC,CACD7sF,IAAK,cACLsB,MAAO,WACL,IAAIoa,EAAO3e,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,4CAC5E,IAAK,GACH,OAAO,EACT,IACE,OAAO,GAAYgf,gBAAgBL,EACrC,CAAE,MAAO/V,GAEP,OADArI,KAAK0e,QAAQrW,MAAM+V,EAAM/V,IAClB,CACT,CACF,KAEKymF,CACT,CA5jB0B,GClC1B,SAAS,GAAsBzoF,EAAKxF,GAClC,IAAIyX,EAAK,MAAQjS,EAAM,KAAO,oBAAsBpD,QAAUoD,EAAIpD,OAAOC,WAAamD,EAAI,cAC1F,GAAI,MAAQiS,EAAI,CACd,IAAIyrB,EAAIza,EAAI49B,EAAIhmC,EAAIu5D,EAAO,GAAIC,GAAK,EAAMlgB,GAAK,EAC/C,IACE,GAAItT,GAAM5uC,EAAKA,EAAGxY,KAAKuG,IAAMinB,KAAM,IAAMzsB,EAAG,CAC1C,GAAI1B,OAAOmZ,KAAQA,EACjB,OACFoiE,GAAK,CACP,MACE,OAASA,GAAM32C,EAAKmjB,EAAGpnD,KAAKwY,IAAKqiE,QAAUF,EAAKp4E,KAAK0hC,EAAG//B,OAAQy2E,EAAK/6E,SAAWmB,GAAI65E,GAAK,GAE7F,CAAE,MAAOtrE,GACPorD,GAAK,EAAMlxC,EAAKla,CAClB,CAAE,QACA,IACE,IAAKsrE,GAAM,MAAQpiE,EAAGsiE,SAAW15D,EAAK5I,EAAGsiE,SAAUz7E,OAAO+hB,KAAQA,GAChE,MACJ,CAAE,QACA,GAAIs5C,EACF,MAAMlxC,CACV,CACF,CACA,OAAOmxD,CACT,CACF,CACA,SAAS,GAAgBp3E,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,oCAExB,CACA,SAAS,GAAkBhB,EAAQkB,GACjC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAM/D,OAAQmB,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWtB,WAAasB,EAAWtB,aAAc,EACjDsB,EAAWC,cAAe,EACtB,UAAWD,IACbA,EAAWE,UAAW,GACxBzE,OAAO2D,eAAeP,EAAQ,GAAemB,EAAWhB,KAAMgB,EAChE,CACF,CACA,SAAS,GAAaJ,EAAaQ,EAAYC,GAQ7C,OAPID,GACF,GAAkBR,EAAY1D,UAAWkE,GACvCC,GACF,GAAkBT,EAAaS,GACjC5E,OAAO2D,eAAeQ,EAAa,YAAa,CAC9CM,UAAU,IAELN,CACT,CACA,SAAS,GAAgBN,EAAKN,EAAKsB,GAYjC,OAXAtB,EAAM,GAAeA,GACjBA,KAAOM,EACT7D,OAAO2D,eAAeE,EAAKN,EAAK,CAC9BsB,QACA5B,YAAY,EACZuB,cAAc,EACdC,UAAU,IAGZZ,EAAIN,GAAOsB,EAENhB,CACT,CACA,SAAS,GAAUiB,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIX,UAAU,sDAEtBU,EAASrE,UAAYT,OAAOgF,OAAOD,GAAcA,EAAWtE,UAAW,CACrEwD,YAAa,CACXY,MAAOC,EACPL,UAAU,EACVD,cAAc,KAGlBxE,OAAO2D,eAAemB,EAAU,YAAa,CAC3CL,UAAU,IAERM,GACF,GAAgBD,EAAUC,EAC9B,CACA,SAAS,GAAgBI,GAIvB,OAHA,GAAkBnF,OAAOoF,eAAiBpF,OAAOqF,eAAenF,OAAS,SAA0BoF,GACjG,OAAOA,EAAGC,WAAavF,OAAOqF,eAAeC,EAC/C,EACO,GAAgBH,EACzB,CACA,SAAS,GAAgBA,EAAGK,GAK1B,OAJA,GAAkBxF,OAAOoF,eAAiBpF,OAAOoF,eAAelF,OAAS,SAA0BoF,EAAIG,GAErG,OADAH,EAAGC,UAAYE,EACRH,CACT,EACO,GAAgBH,EAAGK,EAC5B,CACA,SAAS,KACP,GAAuB,qBAAZG,UAA4BA,QAAQC,UAC7C,OAAO,EACT,GAAID,QAAQC,UAAUC,KACpB,OAAO,EACT,GAAqB,oBAAVC,MACT,OAAO,EACT,IAGE,OAFAC,QAAQtF,UAAUuF,QAAQrF,KAAKgF,QAAQC,UAAUG,QAAS,IAAI,WAC9D,MACO,CACT,CAAE,MAAO1E,GACP,OAAO,CACT,CACF,CACA,SAAS,GAAuB6E,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAE3B,OAAOD,CACT,CACA,SAAS,GAA2BA,EAAMvF,GACxC,GAAIA,IAAyB,kBAATA,GAAqC,oBAATA,GAC9C,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAIyD,UAAU,4DAEtB,OAAO,GAAuB8B,EAChC,CACA,SAAS,GAAaG,GACpB,IAAIC,EAA4B,KAChC,OAAO,WACL,IAAsCC,EAAlCC,EAAQ,GAAgBH,GAC5B,GAAIC,EAA2B,CAC7B,IAAIG,EAAY,GAAgB5F,MAAMoD,YACtCsC,EAASZ,QAAQC,UAAUY,EAAOlG,UAAWmG,EAC/C,MACEF,EAASC,EAAM5F,MAAMC,KAAMP,WAE7B,OAAO,GAA2BO,KAAM0F,EAC1C,CACF,CACA,SAAS,GAAeW,EAAKxF,GAC3B,OAAO,GAAgBwF,IAAQ,GAAsBA,EAAKxF,IAAM,GAA4BwF,EAAKxF,IAAM,IACzG,CACA,SAAS,GAAmBwF,GAC1B,OAAO,GAAmBA,IAAQ,GAAiBA,IAAQ,GAA4BA,IAAQ,IACjG,CACA,SAAS,GAAmBA,GAC1B,GAAI9F,MAAMmG,QAAQL,GAChB,OAAO,GAAkBA,EAC7B,CACA,SAAS,GAAgBA,GACvB,GAAI9F,MAAMmG,QAAQL,GAChB,OAAOA,CACX,CACA,SAAS,GAAiBO,GACxB,GAAsB,qBAAX3D,QAAmD,MAAzB2D,EAAK3D,OAAOC,WAA2C,MAAtB0D,EAAK,cACzE,OAAOrG,MAAMsG,KAAKD,EACtB,CACA,SAAS,GAA4BtC,EAAGwC,GACtC,GAAKxC,EAAL,CAEA,GAAiB,kBAANA,EACT,OAAO,GAAkBA,EAAGwC,GAC9B,IAAIC,EAAI5H,OAAOS,UAAUoH,SAASlH,KAAKwE,GAAG2C,MAAM,GAAI,GAGpD,MAFU,WAANF,GAAkBzC,EAAElB,cACtB2D,EAAIzC,EAAElB,YAAY8D,MACV,QAANH,GAAqB,QAANA,EACVxG,MAAMsG,KAAKvC,GACV,cAANyC,GAAqB,2CAA2CI,KAAKJ,GAChE,GAAkBzC,EAAGwC,QAD9B,CARQ,CAUV,CACA,SAAS,GAAkBT,EAAKe,IACnB,MAAPA,GAAeA,EAAMf,EAAI3G,UAC3B0H,EAAMf,EAAI3G,QACZ,IAAK,IAAImB,EAAI,EAAGwG,EAAO,IAAI9G,MAAM6G,GAAMvG,EAAIuG,EAAKvG,IAC9CwG,EAAKxG,GAAKwF,EAAIxF,GAChB,OAAOwG,CACT,CACA,SAAS,KACP,MAAM,IAAI9D,UAAU,uIACtB,CACA,SAAS,KACP,MAAM,IAAIA,UAAU,4IACtB,CACA,SAAS,GAAagE,EAAOC,GAC3B,GAAqB,kBAAVD,GAAgC,OAAVA,EAC/B,OAAOA,EACT,IAAIE,EAAOF,EAAMtE,OAAOyE,aACxB,QAAa,IAATD,EAAiB,CACnB,IAAIE,EAAMF,EAAK3H,KAAKyH,EAAOC,GAAQ,WACnC,GAAmB,kBAARG,EACT,OAAOA,EACT,MAAM,IAAIpE,UAAU,+CACtB,CACA,OAAiB,WAATiE,EAAoBI,OAASC,QAAQN,EAC/C,CACA,SAAS,GAAeO,GACtB,IAAIpF,EAAM,GAAaoF,EAAK,UAC5B,MAAsB,kBAARpF,EAAmBA,EAAMkF,OAAOlF,EAChD,CD2ZA,GAAgBmsF,GAAK,QAAS,SAC9B,GAAgBA,GAAK,QAAS,SE/lB9B,IAAI,GAAyB,WAC3B,SAAS1K,EAAQj9E,GACf,GAAgBlH,KAAMmkF,GACtBnkF,KAAKkH,KAAOA,GAAQ,GACpBlH,KAAKokF,QAAU,IAAI3jF,OAAOT,KAAKkH,KAAM,IACvC,CAuBA,OAtBA,GAAai9E,EAAS,CAAC,CACrBzhF,IAAK,OACLsB,MAAO,WACL,IAAI6E,EACJ,IAAIs7E,EAAQvR,SAAZ,CAEA,IAAK,IAAI9pE,EAAOrJ,UAAUC,OAAQgM,EAAO,IAAInL,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/E0C,EAAK1C,GAAQvJ,UAAUuJ,IAExBH,EAAWI,SAASX,KAAKvI,MAAM8I,EAAU,CAAC7I,KAAKokF,SAAS3jF,OAAOiL,GAJxD,CAKV,IACE,CAAC,CACHhJ,IAAK,SACLsB,MAAO,WACLmgF,EAAQvR,UAAW,CACrB,GACC,CACDlwE,IAAK,UACLsB,MAAO,WACLmgF,EAAQvR,UAAW,CACrB,KAEKuR,CACT,CA7B6B,GA8B7B,GAAgB,GAAQ,YAAY,GC/BpC,IAAIiP,GAAY,CACdtD,MAAO,QACPuD,MAAO,QACPC,SAAU,YAERC,GAAiB,CACnBC,IAAK,MACLC,KAAM,QAEJC,GAAiB,CACnBC,IAAK,MACLC,SAAU,SACVC,SAAU,UAERC,GAAc,CAChBC,eAAgB,iBAChBC,gBAAiB,kBACjBC,8BAA+B,gCAC/BC,gBAAiB,kBACjBC,aAAc,eACdC,cAAe,iBCnBbC,GAA8B,IAChC,SAASC,EAAaC,EAAK1pE,EAAMtQ,EAAUi6E,GACzC,GAAgBx0F,KAAMs0F,GACtB,GAAgBt0F,KAAM,WAAY,MAClC,GAAgBA,KAAM,OAAQ,CAC5By0F,UAAW,EACXC,gBAAiB,IAEnB,GAAgB10F,KAAM,YAAY,GAClCA,KAAK20F,UAAY30F,KAAKu0F,IAAMv0F,KAAK40F,IAAML,EACvCv0F,KAAK6qB,KAAOA,EACZ7qB,KAAKk8C,KAAOrxB,EAAKk/D,WACjB/pF,KAAKw0F,aAAeA,EAChBj6E,IACFva,KAAKua,SAAWA,EACpB,IChBE,GAA8B,qBAAXvS,OACnB2U,GAAK,IAAa/O,UAAUgP,UAAU9O,oBACtCunE,GAAW,IAAa,gCAAgCluE,KAAKwV,IAC7Dk4E,GAAY,IAAal4E,GAAGgpE,SAAS,WACrCtoE,GAAY,IAAaV,GAAGgpE,SAAS,WCDrCgO,GAAsB,WACxB,SAASmB,IACP,GAAgB90F,KAAM80F,EACxB,CAyKA,OAxKA,GAAaA,EAAM,KAAM,CAAC,CACxBpyF,IAAK,qBACLsB,MAAO,SAA4BmmB,GACjC,OAAO2qE,EAAKC,KAAKz0F,QAAQ6pB,EAC3B,GACC,CACDznB,IAAK,YACLsB,MAAO,SAAmB6mB,EAAM0pE,GAC9B,IAAIntF,EAAMyjB,EAAKnrB,OACXmB,EAAI,EACR,MAAOA,EAAI,EAAIuG,EAAK,CAClB,GAAgB,MAAZyjB,EAAKhqB,IAAsC,OAAT,IAAdgqB,EAAKhqB,EAAI,IAC/B,MAEFA,GACF,CACA,KAAIA,GAAKuG,GAAT,CAEA,IAAI4tF,EAAOn0F,EACPo0F,EAAS,GACTC,GAAwC,GAAdrqE,EAAKhqB,EAAI,MAAa,EAChDkrF,EAAa+I,EAAKC,KAAKG,GAC3B,IAAKnJ,EACH,MAAM,IAAI54D,MAAM,2BAA2B1yB,OAAOy0F,IACpD,IAGIC,EACAC,EAJAC,EAA2C,IAAd,IAAdxqE,EAAKhqB,EAAI,MAAc,GACtCwqF,GAA8B,EAAdxgE,EAAKhqB,EAAI,KAAW,GAAmB,IAAdgqB,EAAKhqB,EAAI,MAAc,EAChEy0F,EAAkBR,EAAKS,WAAWL,EAAwB7J,EAAcgK,GAAa5sF,EAAS6sF,EAAgB7sF,OAAQmjF,EAAQ0J,EAAgB1J,MAG9I4J,EAAa,EACbj7E,EAAWu6E,EAAKW,iBAAiB1J,GACrC,MAAOlrF,EAAI,EAAIuG,EACb,GAAgB,MAAZyjB,EAAKhqB,IAAsC,OAAT,IAAdgqB,EAAKhqB,EAAI,IAAjC,CAKA,GADAu0F,GAA6B,EAAdvqE,EAAKhqB,EAAI,KAAW,GAAKgqB,EAAKhqB,EAAI,IAAM,GAAmB,IAAdgqB,EAAKhqB,EAAI,KAAa,EAC9EuG,EAAMvG,EAAIu0F,EACZ,MACFD,EAA2C,GAAL,GAAdtqE,EAAKhqB,EAAI,IACjCo0F,EAAO5yF,KAAK,CACVkyF,IAAKA,EAAMiB,EAAaj7E,EACxBsQ,KAAMA,EAAK6qE,SAAS70F,EAAI,EAAIs0F,EAAqBt0F,EAAIu0F,KAEvDI,IACA30F,GAAKu0F,CAVL,MAFEv0F,IAcJ,MAAO,CACLm0F,OACArO,UAAW9lF,GAAKuG,OAAM,EAASyjB,EAAK6qE,SAAS70F,GAC7Co0F,SACAC,yBACAnJ,aACAsJ,aACAhK,eACAO,QACAnjF,SACAktF,YAAa,WAAWl1F,OAAO40F,GAxCzB,CA0CV,GACC,CACD3yF,IAAK,2BACLsB,MAAO,SAAkC6mB,GACvC,GAAKA,EAAKnrB,OAAV,CAEA,IAAI21F,EAAaxqE,EAAK,KAAO,EACzBqqE,GAAoC,EAAVrqE,EAAK,KAAW,EAAIA,EAAK,KAAO,EAC1DwgE,GAA0B,IAAVxgE,EAAK,MAAc,EACnCkhE,EAAa+I,EAAKC,KAAKG,GAC3B,GAAKnJ,EAAL,CAEA,IAAI6J,EAAmBd,EAAKS,WAAWL,EAAwB7J,EAAcgK,GAAa5sF,EAASmtF,EAAiBntF,OAAQmjF,EAAQgK,EAAiBhK,MACrJ,MAAO,CACLsJ,yBACAnJ,aACAsJ,aACAhK,eACA5iF,SACAmjF,QACA+J,YAAa,WAAWl1F,OAAO40F,GATzB,CANA,CAiBV,GACC,CACD3yF,IAAK,mBACLsB,MAAO,SAA0BmmB,GAC/B,IAAI2gE,EAAYrrF,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,IACjF,OAAO,KAAOqrF,EAAY3gE,CAC5B,GACC,CACDznB,IAAK,aACLsB,MAAO,SAAoB6xF,EAAexK,EAAcyK,GACtD,IACIT,EACAU,EAFAttF,EAAS,GAkCb,OA/BIosF,GACEgB,GAAiB,GACnBR,EAAa,EACbU,EAAyBF,EAAgB,IAEzCR,EAAa,EACbU,EAAyBF,GAElBx4E,IACTg4E,EAAa,EACbU,EAAyBF,IAEzBR,EAAkC,IAArBS,GAA+C,IAArBA,EAAyBA,EAAmB,EACnFC,EAAyBF,EACrBA,GAAiB,EACnBE,EAAyBF,EAAgB,EACf,IAAjBxK,IACTgK,EAAa,EACbU,EAAyBF,IAG7BptF,EAAO,GAAK4sF,GAAc,EAC1B5sF,EAAO,KAAuB,GAAhBotF,IAAuB,EACrCptF,EAAO,IAAsB,EAAhBotF,IAAsB,EACnCptF,EAAO,IAAM4iF,GAAgB,EACV,IAAfgK,IACF5sF,EAAO,KAAgC,GAAzBstF,IAAgC,EAC9CttF,EAAO,IAA+B,EAAzBstF,IAA+B,EAC5CttF,EAAO,IAAM,EACbA,EAAO,GAAK,GAEP,CACLA,SACAmjF,MAAO,WAAWnrF,OAAO40F,GAE7B,GACC,CACD3yF,IAAK,iBACLsB,MAAO,SAAwB4nF,EAAOP,GACpC,OAAQO,GACN,IAAK,YACH,GAAqB,IAAjBP,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,IAAK,EAAG,IAAK,GAAI,MAE7C,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,MAEvD,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,MAExE,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,EAAG,EAAG,KAE5F,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,IAAK,GAAI,EAAG,IAAK,EAAG,GAAI,IAAK,EAAG,KAExG,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,IAAK,GAAI,EAAG,IAAK,EAAG,GAAI,IAAK,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,MAE1H,MACF,QACE,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAElQ,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAEjQ,GAAqB,IAAjBuB,EACF,OAAO,IAAIvB,WAAW,CAAC,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAEjQ,MAEN,KAEKgL,CACT,CA7K0B,GA8K1B,GAAgBnB,GAAK,OAAQ,CAAC,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,KAAM,MAAO,IAAK,OC3KzG,IAAIqC,GAA2B,KAC3BC,GAAoC,EACpCC,GAA4B,IAC5BC,GAAmC,KACnCC,GAA2B,IAC3BC,GAAgC,KAChCC,GAA0B,WAC5B,SAASC,EAAS3I,EAAY4I,EAAYC,GACxC,GAAgBz2F,KAAMu2F,GACtBv2F,KAAK4tF,WAAaA,EAClB5tF,KAAKw2F,WAAaA,EAClBx2F,KAAKy2F,cAAgBA,EACrBz2F,KAAK02F,UAAY,EACjB12F,KAAK22F,gBAAiB,EACtB32F,KAAK42F,mBAAgB,EACrB52F,KAAK62F,mBAAgB,EACrB72F,KAAK82F,sBAAuB,EAC5B92F,KAAK+2F,sBAAuB,EAC5B/2F,KAAKg3F,0BAA4B,EACjCh3F,KAAKi3F,8BAAgC,EACrCj3F,KAAKk3F,+BAAiC,CACxC,CAiRA,OAhRA,GAAaX,EAAU,CAAC,CACtB7zF,IAAK,MACLsB,MAAO,WACL,IAAI4iB,EAAQ5mB,KACRo9B,EAAY39B,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAC7E03F,EAAgB13F,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GAC5E23F,IAAa33F,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GAC7E29B,EAAY1wB,KAAKkF,MAAkB,IAAZwrB,GACvB,IAAIwwD,EAAa5tF,KAAK4tF,WAClB4I,EAAax2F,KAAKw2F,WAClBa,EAAWzJ,EAAW3B,QACtBqL,EAAWd,EAAWvK,QAC1B,GAAKoL,EAAS33F,QAAW43F,EAAS53F,OAAlC,CAEA,IAAI63F,EAAmBF,EAAS,GAC5BG,EAAmBF,EAAS,GAC5BG,EAAU,EAWd,GAVIJ,EAAS33F,QAAU43F,EAAS53F,SAC9B+3F,EAAUF,EAAiB3C,IAAM4C,EAAiBjD,KAE/Cv0F,KAAK22F,gBACR32F,KAAK03F,kBAAkB13F,KAAKw2F,WAAYx2F,KAAK4tF,YAE3CuJ,IACFn3F,KAAK03F,kBAAkB13F,KAAKw2F,WAAYx2F,KAAK4tF,YAC7C5tF,KAAK02F,UAAYt5D,IAEdg6D,EAAY,CACfp3F,KAAK62F,cAAgBY,EAAU,EAAIr6D,EAAYq6D,EAAUr6D,EACzDp9B,KAAK42F,cAAgBa,EAAU,EAAIr6D,EAAYA,EAAYq6D,EAC3D,IAAIE,EAAkBJ,EAAmBA,EAAiB3C,IAAM50F,KAAK02F,SAAW12F,KAAK62F,cAAgB,EACjGe,EAAkBJ,EAAmBA,EAAiBjD,IAAMv0F,KAAK02F,SAAW12F,KAAK42F,cAAgB,EACjGlqF,KAAK6O,IAAIo8E,GAAmBC,GAAmBxB,KACjDp2F,KAAK03F,kBAAkB13F,KAAKw2F,WAAYx2F,KAAK4tF,YAC7C5tF,KAAK02F,UAAYt5D,EAErB,CAIA,GAHAp9B,KAAK63F,iCACL73F,KAAK83F,UAAUtB,GACfx2F,KAAK+3F,UAAUnK,GACX5tF,KAAKy2F,cAAcuB,QAAS,CAC9B,IAAIlN,EAAY9qF,KAAKy2F,cAAc3L,UACnC9qF,KAAKy2F,cAAcwB,WAAWx1F,SAAQ,SAASi1C,GAC7CA,EAAE68C,IAAM78C,EAAEi9C,UAAY/tE,EAAM8vE,SAC5Bh/C,EAAEjsC,KAAOiB,KAAKW,IAAI,EAAGqqC,EAAE68C,KAAOzJ,CAChC,GACF,CACI8C,EAAW3B,QAAQvsF,SACrBkuF,EAAWsK,oBAAsBtK,EAAW3B,QAAQ,GAAG2I,KAErD4B,EAAWvK,QAAQvsF,SACrB82F,EAAW0B,oBAAsB1B,EAAWvK,QAAQ,GAAGsI,IAAMiC,EAAW1L,UAAY,IAtC9E,CAwCV,GACC,CACDpoF,IAAK,YACLsB,MAAO,SAAmB4pF,GACxB,IAAI7lE,EAAS/nB,KACTisF,EAAU2B,EAAW3B,QACzB,GAAKA,EAAQvsF,OAAb,CAMA,GAJAusF,EAAQxpF,SAAQ,SAASkW,GACvBA,EAAEi8E,KAAO7sE,EAAO2uE,SAChB/9E,EAAE47E,KAAOxsE,EAAO2uE,QAClB,SAC2B,IAAvB12F,KAAK62F,cAA0B,CACjC,IAAIsB,EAAQlM,EAAQ,GACpBjsF,KAAK62F,cAAgBsB,EAAMvD,GAC7B,CACA,IAMMwD,EA8BFC,EApCAjxF,EAAM6kF,EAAQvsF,OACd44F,EAAiB,EACjBC,EAActM,EAAQ,GACtBuM,EAAavM,EAAQ,GACrBwM,EAASz4F,KAAK62F,cAAgB0B,EAAY3D,IAC9C,GAAIloF,KAAK6O,IAAIk9E,GAAUpC,GAWrB,GATAzI,EAAW8K,SAASr2F,KAAK,CACvBmI,KAAMspF,GAAYG,8BAClB0E,QAAS34F,KAAK62F,cAAgB,GAC9B+B,eAAgBL,EAAY3D,IAAM,GAClCiE,gBAA8C,QAA5BT,EAAYnM,EAAQ,UAA8B,IAAdmM,OAAuB,EAASA,EAAUxD,MAAQ,GAAK,GAC7G0D,eAAgBG,EAAS,KAE3BF,EAAY3D,KAAO6D,EACnBF,EAAYhE,KAAOkE,EACfD,GAAc9rF,KAAK6O,IAAIi9E,EAAW5D,IAAM2D,EAAY3D,KAAOwB,GAC7Dp2F,KAAK+2F,sBAAuB,EAC5B9K,EAAQxpF,SAAQ,SAASkW,EAAGtI,GACf,IAAPA,IAEJsI,EAAEi8E,KAAO6D,EACT9/E,EAAE47E,KAAOkE,EACX,SAEA,IAAK,IAAI53F,EAAI,EAAGA,EAAIuG,EAAM,EAAGvG,IAAK,CAChC,IAAIi4F,EACAlE,EAAoC,QAA7BkE,EAAa7M,EAAQprF,UAA+B,IAAfi4F,OAAwB,EAASA,EAAWlE,IACxFmE,EAAU9M,EAAQprF,EAAI,GAAG+zF,IACzBA,GAAOA,EAAMmE,EAAU,IACzB9M,EAAQprF,GAAG+zF,KAAO6D,EAClBxM,EAAQprF,GAAG0zF,KAAOkE,EAEtB,CAIJ,GAAI7K,EAAW/B,QAAU+B,EAAW9B,OAClCuM,EAAuBzK,EAAW9C,WAAa8C,EAAW9B,OAAS8B,EAAW/B,YACzE,CACL,IAAImN,EAAQpL,EAAW3B,QAAQ,GAC3Bj6E,EAAS47E,EAAW3B,QAAQ,GAChCoM,EAA+B,IAARjxF,EAAY,IAAMsF,KAAKoF,MAAME,EAAO4iF,IAAMoE,EAAMpE,IACzE,CACA,IAAK,IAAIt8E,EAAK,EAAGA,EAAKlR,EAAKkR,IAAM,CAC/B,IAAI2gF,EAAOhN,EAAQ3zE,GAAIs8E,IACnBsE,EAAcjN,EAAQ3zE,EAAK,GAQ/B,GANEggF,EADEhgF,EAAKlR,EAAM,EACI8xF,EAAYtE,IAAMqE,EAC1BhN,EAAQ3zE,EAAK,GACL5L,KAAKC,IAAIssF,EAAOhN,EAAQ3zE,EAAK,GAAGs8E,IAAKyD,GAErCA,EAEfC,EAAiBlC,IAA4BkC,EAAiB,EAAG,CACnEt4F,KAAK+2F,sBAAuB,EAC5BuB,EAAiBt4F,KAAK82F,qBAAuBuB,EAAuB3rF,KAAKW,IAAIirF,EAAgB,MAC7F,IAAIa,EAAgBn5F,KAAK42F,eAAiB,EACtCsC,GAAeA,EAAYtE,IAAMuE,IACnCb,EAAiBD,GAEnBzK,EAAW8K,SAASr2F,KAAK,CACvBmI,KAAMspF,GAAYE,gBAClBvoF,KAAMwtF,EAAOrL,EAAW9C,UACxB8J,IAAKqE,EACLG,UAAWnN,EAAQ3zE,GAAI8gF,UACvBT,QAAS34F,KAAK62F,cACdyB,iBACAe,kBAAmBhB,GAEvB,CACApM,EAAQ3zE,GAAIiC,SAAW+9E,EACvBt4F,KAAK62F,eAAiByB,CACxB,CAlFQ,CAmFV,GACC,CACD51F,IAAK,YACLsB,MAAO,SAAmBwyF,GACxB,IAAIxuE,EAAShoB,KACTisF,EAAUuK,EAAWvK,QACpBA,EAAQvsF,SAEbusF,EAAQxpF,SAAQ,SAASkW,GACvBA,EAAE47E,KAAOvsE,EAAO0uE,SAChB/9E,EAAEi8E,IAAMj8E,EAAE47E,GACZ,IACAv0F,KAAKs5F,oBAAoB9C,EAAYvK,EAAS,KAChD,GACC,CACDvpF,IAAK,oBACLsB,MAAO,SAA2BwyF,EAAY5I,GAC5C,IAAI2L,EAAa/C,EAAWvK,QACxBuN,EAAa5L,EAAW3B,QAC5B,IAAKsN,EAAW75F,SAAW85F,EAAW95F,OACpC,OAAO,EAET,IAAI+5F,EAAervE,IACfsvE,EAAetvE,IACfmvE,EAAW75F,SACb82F,EAAWmD,QAAUF,EAAeF,EAAW,GAAGhF,KAEhDiF,EAAW95F,SACbkuF,EAAW+L,QAAUD,EAAeF,EAAW,GAAG5E,KAEpD50F,KAAK02F,SAAWhqF,KAAKC,IAAI8sF,EAAcC,GACvC,IAAIE,EAAQF,EAAeD,EAW3B,OAVI5xF,OAAOgyF,SAASD,IAAUltF,KAAK6O,IAAIq+E,GAAS5D,IAC9CpI,EAAW8K,SAASr2F,KAAK,CACvBmI,KAAMspF,GAAYC,eAClB2F,eACAD,eACAE,QAAS35F,KAAK02F,SACdkD,UAGJ55F,KAAK22F,gBAAiB,GACf,CACT,GACC,CACDj0F,IAAK,iCACLsB,MAAO,WACL,GAAIhE,KAAK22F,gBAAkB32F,KAAK+2F,sBAAwB/2F,KAAK82F,qBAAsB,CACjF,IAAIgD,EAAO95F,KAAK03F,kBAAkB13F,KAAKw2F,WAAYx2F,KAAK4tF,YACxD,IAAKkM,EACH,OACF95F,KAAK02F,UAAYhqF,KAAKC,IAAI3M,KAAK42F,cAAe52F,KAAK62F,eACnD72F,KAAK+5F,iBAAmB,KACxB/5F,KAAKg6F,iBAAmB,KACxBh6F,KAAK+2F,sBAAuB,EAC5B/2F,KAAK82F,sBAAuB,CAC9B,CACF,GACC,CACDp0F,IAAK,sBACLsB,MAAO,SAA6BwyF,EAAYvK,EAASnB,GAClD0L,EAAW8B,iBACd9B,EAAW8B,eAAiB3E,GAAI8B,iBAAiBe,EAAW1L,UAAWA,IACzE,IAAIuO,EAAoB7C,EAAW8B,eACnC,QAA2B,IAAvBt4F,KAAK42F,cAA0B,CACjC,IAAIuB,EAAQlM,EAAQ,GACpBjsF,KAAK42F,cAAgBuB,EAAM5D,GAC7B,CACA,IAAK,IAAI1zF,EAAI,EAAGA,EAAIorF,EAAQvsF,OAAQmB,IAAK,CACvC,IAAIo5F,EAAUj6F,KAAK42F,cACf1K,EAASD,EAAQprF,GACjB+4F,EAAQ1N,EAAOqI,IAAM0F,EACzB,IAAKj6F,KAAK82F,sBAAwB8C,GAAS3D,GAAoCoD,GAAqBO,GAAS1D,KAA8B7gB,GAAU,CACnJ,IAAI6kB,EAAcvG,GAAIwG,eAAe3D,EAAW5K,MAAO4K,EAAWnL,eAAiBY,EAAQ,GAAGphE,KAAK6qE,WAC/F0E,EAAQ1tF,KAAKoF,MAAM8nF,EAAQP,GAC3B3sF,KAAK6O,IAAI2wE,EAAOqI,IAAMv0F,KAAKg3F,2BAA6Bb,KAC1Dn2F,KAAKg3F,0BAA4B9K,EAAOqI,KAE1CiC,EAAWkC,SAASr2F,KAAK,CACvBmI,KAAMspF,GAAYK,aAClBI,IAAKrI,EAAOqI,IACZI,UAAWzI,EAAOyI,UAClByF,QACAH,UACAZ,sBAEF,IAAK,IAAIgB,EAAI,EAAGA,EAAID,EAAOC,IAAK,CAC9B,IAAIC,EAAe,IAAIjG,GAAY3nF,KAAKoF,MAAMmoF,GAAUC,GACxDI,EAAa3F,UAAYjoF,KAAKoF,MAAM9R,KAAK02F,SAAWuD,GACpDhO,EAAQ33E,OAAOzT,EAAG,EAAGy5F,GACrBt6F,KAAK42F,eAAiByC,EACtBx4F,GACF,CACAA,GACF,MAAW+4F,IAAU3D,GAAoCoD,GAAqBO,IAAU,EAAI1D,IACtFxpF,KAAK6O,IAAI2wE,EAAOqI,IAAMv0F,KAAKi3F,+BAAiCd,KAC9Dn2F,KAAKi3F,8BAAgC/K,EAAOqI,IAC5CiC,EAAWkC,SAASr2F,KAAK,CACvBmI,KAAMspF,GAAYM,cAClBG,IAAKrI,EAAOqI,IACZI,UAAWzI,EAAOyI,UAClBsF,UACAZ,uBAGJpN,EAAQ33E,OAAOzT,EAAG,GAClBA,MAEI6L,KAAK6O,IAAIq+E,IAAU1D,KACrBl2F,KAAK82F,sBAAuB,EACxBpqF,KAAK6O,IAAI2wE,EAAOqI,IAAMv0F,KAAKk3F,gCAAkCf,KAC/Dn2F,KAAKk3F,+BAAiChL,EAAOqI,IAC7CiC,EAAWkC,SAASr2F,KAAK,CACvBmI,KAAMspF,GAAYI,gBAClBzoF,KAAMygF,EAAOqI,IAAM,IACnBA,IAAKrI,EAAOqI,IACZI,UAAWzI,EAAOyI,UAClBsF,UACA3B,eAAgBsB,EAChBP,wBAINnN,EAAO0I,IAAM1I,EAAOqI,IAAM0F,EAC1Bj6F,KAAK42F,eAAiByC,EAE1B,CACF,KAEK9C,CACT,CAjS8B,GCV9B,SAAS,KACP,IAAK,IAAIztF,EAAOrJ,UAAUC,OAAQ2G,EAAM,IAAI9F,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC9E3C,EAAI2C,GAAQvJ,UAAUuJ,GAExB3C,EAAMA,EAAIpE,OAAOiD,SACjB,IAAI2lB,EAAO,IAAIi/D,WAAWzjF,EAAIhG,QAAO,SAASsE,EAAGnF,GAC/C,OAAOmF,EAAInF,EAAEuqF,UACf,GAAG,IACCC,EAAU,EAKd,OAJA3jF,EAAI5D,SAAQ,SAAS9C,GACnBkrB,EAAKlB,IAAIhqB,EAAGqqF,GACZA,GAAWrqF,EAAEoqF,UACf,IACOl/D,CACT,CACA,IAAI0vE,GAAW7tF,KAAK8tF,IAAI,EAAG,IAC3B,SAASC,GAAU5vE,GACjB,IAAIhqB,EAAIpB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzE,OAAQorB,EAAKhqB,IAAM,IAAMgqB,EAAKhqB,EAAI,IAAM,EAC1C,CACA,SAAS65F,GAAU7vE,GACjB,IAAIhqB,EAAIpB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzE,OAAQorB,EAAKhqB,IAAM,KAAOgqB,EAAKhqB,EAAI,IAAM,IAAMgqB,EAAKhqB,EAAI,IAAM,EAChE,CACA,SAAS85F,GAAU9vE,GACjB,IAAIhqB,EAAIpB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzE,OAAQorB,EAAKhqB,IAAM,KAAO,IAAMgqB,EAAKhqB,EAAI,IAAM,KAAOgqB,EAAKhqB,EAAI,IAAM,IAAMgqB,EAAKhqB,EAAI,IAAM,EAC5F,CACA,SAAS+5F,GAAU/vE,GACjB,IAAIhqB,EAAIpB,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzE,OAAOk7F,GAAU9vE,EAAMhqB,GAAK05F,GAAWI,GAAU9vE,EAAMhqB,EAAI,EAC7D,CACA,SAASg6F,GAAYC,GAGnB,IAFA,IACIl6F,EADAgrF,EAAQ,QAEH/qF,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAIk6F,EAAOj6F,GAAGmG,SAAS,IACnBpG,EAAElB,OAAS,IACbkB,EAAI,IAAIH,OAAOG,IACjBgrF,GAAShrF,EAEX,OAAOgrF,CACT,CAcA,SAASvqD,GAAM/hC,GACb,IAAKiB,MAAMmG,QAAQpH,GAAI,CAGrB,IAFA,IAAI+G,EAAM,GACNrC,EAAQ,GACHnD,EAAI,EAAGA,EAAIvB,EAAEI,OAAQmB,IACxBA,EAAI,IACNmD,EAAQ1E,EAAEuB,EAAI,GAAKvB,EAAEuB,GACrBwF,EAAIhE,KAAKuT,SAAS5R,EAAO,KACzBA,EAAQ,IAGZ,OAAOqC,CACT,CACA,OAAO/G,EAAEiR,KAAI,SAAS3B,GACpB,OAAOgH,SAAShH,EAAM,GACxB,GACF,CCxEA,IAAImsF,GAAuB,WACzB,SAASC,IACP,GAAgBh7F,KAAMg7F,EACxB,CAyIA,OAxIA,GAAaA,EAAO,KAAM,CAAC,CACzBt4F,IAAK,cACLsB,MAAO,SAAqB6mB,GAC1B,IAAIzjB,EAAMyjB,EAAKnrB,OACXwK,EAAQ,EACRC,EAAM,EACV,MAAuB,OAAhB0gB,EAAK3gB,SAAmC,IAAhB2gB,EAAK3gB,IAAqC,IAAhB2gB,EAAK3gB,GAC5DA,IAIF,GAFAA,IACAC,EAAMD,EAAQ,EACVC,GAAO/C,EACT,MAAO,GACT,IAAImlF,EAAQ,GACZ,MAAOpiF,EAAM/C,EACX,OAAQyjB,EAAK1gB,IACX,KAAK,EACH,GAAsB,IAAlB0gB,EAAK1gB,EAAM,GAAU,CACvBA,GAAO,EACP,KACF,CAAO,GAAsB,IAAlB0gB,EAAK1gB,EAAM,GAAU,CAC9BA,IACA,KACF,CACID,IAAUC,EAAM,GAClBoiF,EAAMlqF,KAAKwoB,EAAK6qE,SAASxrF,EAAOC,EAAM,IACxC,GACEA,UACqB,IAAd0gB,EAAK1gB,IAAcA,EAAM/C,GAClC8C,EAAQC,EAAM,EACdA,EAAMD,EAAQ,EACd,MACF,KAAK,EACH,GAAsB,IAAlB2gB,EAAK1gB,EAAM,IAA8B,IAAlB0gB,EAAK1gB,EAAM,GAAU,CAC9CA,GAAO,EACP,KACF,CACID,IAAUC,EAAM,GAClBoiF,EAAMlqF,KAAKwoB,EAAK6qE,SAASxrF,EAAOC,EAAM,IACxCD,EAAQC,EAAM,EACdA,EAAMD,EAAQ,EACd,MACF,QACEC,GAAO,EACP,MAKN,OAFID,EAAQ9C,GACVmlF,EAAMlqF,KAAKwoB,EAAK6qE,SAASxrF,IACpBqiF,CACT,GACC,CACD7pF,IAAK,YACLsB,MAAO,SAAmB6mB,GACxB,IAAIqxB,EAAOz8C,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAC5E,KAAIorB,EAAKnrB,OAAS,GAAlB,CAEA,IAGIA,EAHAu7F,EAAUpwE,EAAKnrB,OACf6sF,EAAQ,GACRxwE,EAAS,EAEb,MAAOA,EAASmgC,EAAO++C,EAKrB,GAJAv7F,EAASi7F,GAAU9vE,EAAM9O,GACZ,IAATmgC,IACFx8C,KAAY,GACdqc,GAAUmgC,EACLx8C,EAAL,CAEA,GAAIqc,EAASrc,EAASu7F,EACpB,MAEF1O,EAAMlqF,KAAKwoB,EAAK6qE,SAAS35E,EAAQA,EAASrc,IAC1Cqc,GAAUrc,CALA,CAOZ,OAAO6sF,CAlBC,CAmBV,GACC,CACD7pF,IAAK,WACLsB,MAAO,SAAkB8Q,EAAMomF,GAC7B,IAAI9zF,EAAM0N,EAAKpV,OACXmB,EAAIq6F,EAAS,EAAI,EACjB1wF,EAAO,EACP0xC,EAAO,EACPjiC,EAAO,GACX,MAAmB,MAAZnF,EAAKjU,GACV2J,GAAQ,IACR3J,IAEF2J,GAAQsK,EAAKjU,KACb,MAAmB,MAAZiU,EAAKjU,GACVq7C,GAAQ,IACRr7C,IAGF,GADAq7C,GAAQpnC,EAAKjU,KACA,IAAT2J,GAAcpD,EAAMvG,EAAI,GAC1B,IAAK,IAAIw5F,EAAI,EAAGA,EAAI,GAAIA,IACtBpgF,GAAQnF,EAAKjU,GAAGmG,SAAS,IACzBnG,IAGJ,MAAO,CACLmxE,QAASl9D,EAAK4gF,SAAS70F,EAAGA,EAAIq7C,GAC9B1xC,OACA0xC,OACAjiC,OAEJ,GACC,CACDvX,IAAK,YACLsB,MAAO,SAAmBm3F,GACxB,IAAIz7F,EAASy7F,EAAKpR,WACdqR,EAAoC,GACpCv6F,EAAI,EACR,MAAOA,EAAInB,EAAS,EACF,IAAZy7F,EAAKt6F,IAA4B,IAAhBs6F,EAAKt6F,EAAI,IAA4B,IAAhBs6F,EAAKt6F,EAAI,IACjDu6F,EAAkC/4F,KAAKxB,EAAI,GAC3CA,GAAK,GAELA,IAGJ,IAAKu6F,EAAkC17F,OACrC,OAAOy7F,EACT,IAAIE,EAAY37F,EAAS07F,EAAkC17F,OACvD47F,EAAU,IAAIxR,WAAWuR,GACzBE,EAAc,EAClB,IAAK16F,EAAI,EAAGA,EAAIw6F,EAAWE,IAAe16F,IACpC06F,IAAgBH,EAAkC,KACpDG,IACAH,EAAkCzjB,SAEpC2jB,EAAQz6F,GAAKs6F,EAAKI,GAEpB,OAAOD,CACT,KAEKN,CACT,CA7I2B,GCDvBQ,GAA4B,WAC9B,SAASC,EAAW5wE,GAKlB,GAJA,GAAgB7qB,KAAMy7F,GACtB,GAAgBz7F,KAAM,uBAAmB,GACzC,GAAgBA,KAAM,iBAAkB,GACxC,GAAgBA,KAAM,QAAS,IAC1B6qB,EACH,MAAM,IAAIsI,MAAM,qCAClBnzB,KAAK4wD,MAAQ/lC,EACb7qB,KAAK07F,gBAAkB7wE,EAAKk/D,WACxB/pF,KAAK07F,iBACP17F,KAAK27F,WACT,CA6GA,OA5GA,GAAaF,EAAY,CAAC,CACxB/4F,IAAK,YACLsB,MAAO,WACL,IAAI0zB,EAAW13B,KAAK4wD,MAAMm5B,WAAa/pF,KAAK07F,gBACxCE,EAAiBlvF,KAAKC,IAAI,EAAG3M,KAAK07F,iBACtC,GAAuB,IAAnBE,EACF,MAAM,IAAIzoE,MAAM,sBAClB,IAAI0oE,EAAe,IAAI/R,WAAW,GAClC+R,EAAalyE,IAAI3pB,KAAK4wD,MAAM8kC,SAASh+D,EAAUA,EAAWkkE,IAC1D57F,KAAK87F,MAAQ,IAAIC,SAASF,EAAa/J,QAAQkK,UAAU,GACzDh8F,KAAKi8F,eAAkC,EAAjBL,EACtB57F,KAAK07F,iBAAmBE,CAC1B,GACC,CACDl5F,IAAK,WACLsB,MAAO,SAAkBo2F,GACvB,GAAIp6F,KAAKi8F,eAAiB7B,EACxBp6F,KAAK87F,QAAU1B,EACfp6F,KAAKi8F,gBAAkB7B,MAClB,CACLA,GAASp6F,KAAKi8F,eACd,IAAIC,EAAYxvF,KAAKoF,MAAMsoF,EAAQ,GACnCA,GAAqB,EAAZ8B,EACTl8F,KAAK07F,iBAAmBQ,EACxBl8F,KAAK27F,YACL37F,KAAK87F,QAAU1B,EACfp6F,KAAKi8F,gBAAkB7B,CACzB,CACF,GACC,CACD13F,IAAK,WACLsB,MAAO,SAAkBk4C,GACvB,GAAIA,EAAO,GACT,MAAM,IAAI/oB,MAAM,iCAElB,IAAIgpE,EAAOzvF,KAAKC,IAAI3M,KAAKi8F,eAAgB//C,GACrC1lC,EAAMxW,KAAK87F,QAAU,GAAKK,EAQ9B,OAPAn8F,KAAKi8F,gBAAkBE,EACnBn8F,KAAKi8F,eAAiB,EACxBj8F,KAAK87F,QAAUK,EACNn8F,KAAK07F,gBAAkB,GAChC17F,KAAK27F,YAEPQ,EAAOjgD,EAAOigD,EACVA,EAAO,GAAKn8F,KAAKi8F,eACZzlF,GAAO2lF,EAAOn8F,KAAKo8F,SAASD,GAE9B3lF,CACT,GACC,CACD9T,IAAK,SACLsB,MAAO,WACL,IAAIq4F,EACJ,IAAKA,EAAmB,EAAGA,EAAmBr8F,KAAKi8F,iBAAkBI,EACnE,GAAuD,KAAlDr8F,KAAK87F,MAAQ,aAAeO,GAG/B,OAFAr8F,KAAK87F,QAAUO,EACfr8F,KAAKi8F,gBAAkBI,EAChBA,EAIX,OADAr8F,KAAK27F,YACEU,EAAmBr8F,KAAKs8F,QACjC,GACC,CACD55F,IAAK,UACLsB,MAAO,WACLhE,KAAKu8F,SAAS,EAAIv8F,KAAKs8F,SACzB,GACC,CACD55F,IAAK,UACLsB,MAAO,WACL,IAAIw4F,EAAMx8F,KAAKs8F,SACf,OAAOt8F,KAAKo8F,SAASI,EAAM,GAAK,CAClC,GACC,CACD95F,IAAK,SACLsB,MAAO,WACL,IAAIwS,EAAMxW,KAAKy8F,UACf,OAAI,EAAIjmF,EACC,EAAIA,IAAQ,GAEb,GAAKA,IAAQ,EACvB,GACC,CACD9T,IAAK,WACLsB,MAAO,WACL,OAA4B,IAArBhE,KAAKo8F,SAAS,EACvB,GACC,CACD15F,IAAK,YACLsB,MAAO,WACL,OAAOhE,KAAKo8F,SAAS,EACvB,GACC,CACD15F,IAAK,kBACLsB,MAAO,SAAyBo2F,GAI9B,IAHA,IAEIsC,EAFAC,EAAY,EACZC,EAAY,EAEPvC,EAAI,EAAGA,EAAID,EAAOC,IACP,IAAduC,IACFF,EAAa18F,KAAK68F,SAClBD,GAAaD,EAAYD,EAAa,KAAO,KAE/CC,EAA0B,IAAdC,EAAkBD,EAAYC,CAE9C,KAEKnB,CACT,CA1HgC,GCG5BjI,GAAsB,WACxB,SAASsJ,IACP,GAAgB98F,KAAM88F,EACxB,CA6MA,OA5MA,GAAaA,EAAM,KAAM,CAAC,CACxBp6F,IAAK,qCACLsB,MAAO,SAA4C6mB,GACjD,KAAIA,EAAKnrB,OAAS,GAAlB,CASA,IAPA,IACIq9F,EAKAC,EANAC,EAA8B,GAAL,EAAVpyE,EAAK,IAEpBqyE,EAAS,GACTC,EAAS,GACTphF,EAAS,EACTqhF,EAAqB,GAAVvyE,EAAK,GAEXhqB,EAAI,EAAGA,EAAIu8F,EAAUv8F,IAG5B,GAFAm8F,EAAUnyE,EAAK9O,IAAW,EAAI8O,EAAK9O,EAAS,GAC5CA,GAAU,EACLihF,EAAL,CAEA,IAAIK,EAAMxyE,EAAK6qE,SAAS35E,EAAQA,EAASihF,GACzCjhF,GAAUihF,EACVE,EAAO76F,KAAKg7F,GACPN,IACHA,EAAYD,EAAKQ,SAASvC,GAAKwC,UAAUF,IALjC,CAQZ,IAEIG,EAFAC,EAAW5yE,EAAK9O,GACpBA,IAEA,IAAK,IAAIzD,EAAK,EAAGA,EAAKmlF,EAAUnlF,IAC9BklF,EAAU3yE,EAAK9O,IAAW,EAAI8O,EAAK9O,EAAS,GAC5CA,GAAU,EACLyhF,IAELL,EAAO96F,KAAKwoB,EAAK6qE,SAAS35E,EAAQA,EAASyhF,IAC3CzhF,GAAUyhF,GAEZ,MAAO,CACLH,IAAKN,EACLG,SACAC,SACAF,cAnCM,CAqCV,GACC,CACDv6F,IAAK,WACLsB,MAAO,SAAkB8Q,GACvB,IAAI4oF,EAAK,IAAIlC,GAAU1mF,GACvB4oF,EAAGC,YACH,IAAIC,EAAaF,EAAGC,YAChBE,EAAuBH,EAAGC,YAC1BG,EAAWJ,EAAGC,YAClBD,EAAGK,UACH,IAAIC,EAAe,IACnB,GAAmB,MAAfJ,GAAqC,MAAfA,GAAqC,MAAfA,GAAqC,MAAfA,GAAqC,KAAfA,GAAoC,KAAfA,GAAoC,KAAfA,GAAoC,MAAfA,GAAqC,MAAfA,GAAqC,MAAfA,GAAqC,MAAfA,EAAoB,CAC/O,IAAIK,EAAkBP,EAAGjB,UAQzB,GAPIwB,GAAmB,IACrBD,EAAe,CAAC,EAAG,IAAK,IAAK,KAAKC,IACZ,IAApBA,GACFP,EAAGnB,SAAS,GACdmB,EAAGK,UACHL,EAAGK,UACHL,EAAGnB,SAAS,GACRmB,EAAGQ,WAEL,IADA,IAAIC,EAAuC,IAApBF,EAAwB,EAAI,GAC1Cp9F,EAAI,EAAGA,EAAIs9F,EAAkBt9F,IAChC68F,EAAGQ,aACDr9F,EAAI,EACN68F,EAAGU,gBAAgB,IAEnBV,EAAGU,gBAAgB,IAK7B,CACAV,EAAGK,UACH,IAAIM,EAAkBX,EAAGjB,UACzB,GAAwB,IAApB4B,EACFX,EAAGjB,eACE,GAAwB,IAApB4B,EAAuB,CAChCX,EAAGnB,SAAS,GACZmB,EAAGK,UACHL,EAAGK,UAEH,IADA,IAAIO,EAAiCZ,EAAGjB,UAC/B8B,EAAM,EAAGA,EAAMD,EAAgCC,IACtDb,EAAGK,SAEP,CACAL,EAAGK,UACHL,EAAGnB,SAAS,GACZ,IAAIiC,EAAsBd,EAAGjB,UACzBgC,EAA4Bf,EAAGjB,UAC/BiC,EAAmBhB,EAAGtB,SAAS,GACV,IAArBsC,GACFhB,EAAGnB,SAAS,GACdmB,EAAGnB,SAAS,GACZ,IAUIoC,EACAC,EACA/S,EACAC,EACAX,EAdA0T,EAAsB,EACtBC,EAAuB,EACvBC,EAAqB,EACrBC,EAAwB,EAY5B,GAXItB,EAAGQ,aACLW,EAAsBnB,EAAGjB,UACzBqC,EAAuBpB,EAAGjB,UAC1BsC,EAAqBrB,EAAGjB,UACxBuC,EAAwBtB,EAAGjB,WAOzBiB,EAAGQ,WAAY,CACjB,GAAIR,EAAGQ,WAAY,CACjB,IAAIe,EAAiBvB,EAAGC,YACxB,OAAQsB,GACN,KAAK,EACHN,EAAW,CAAC,EAAG,GACf,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,EACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,GACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,GACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,GACHA,EAAW,CAAC,GAAI,IAChB,MACF,KAAK,GACHA,EAAW,CAAC,IAAK,IACjB,MACF,KAAK,GACHA,EAAW,CAAC,EAAG,GACf,MACF,KAAK,GACHA,EAAW,CAAC,EAAG,GACf,MACF,KAAK,GACHA,EAAW,CAAC,EAAG,GACf,MACF,KAAK,IACHA,EAAW,CAACjB,EAAGC,aAAe,EAAID,EAAGC,YAAaD,EAAGC,aAAe,EAAID,EAAGC,aAC3E,MAGN,CAYA,GAXID,EAAGQ,YACLR,EAAGQ,WACDR,EAAGQ,aACLR,EAAGtB,SAAS,GACRsB,EAAGQ,YACLR,EAAGtB,SAAS,KAEZsB,EAAGQ,aACLR,EAAGjB,UACHiB,EAAGjB,WAEDiB,EAAGQ,WAAY,CACjB,IAAIgB,EAAiBxB,EAAGtB,SAAS,IAC7B+C,EAAYzB,EAAGtB,SAAS,IAC5BwC,EAAalB,EAAGQ,WAChBrS,EAASsT,EACTrT,EAA0B,EAAjBoT,EACT/T,EAAMU,EAASC,CACjB,CACF,CACA,MAAO,CACLF,MAAOiP,GAAY/lF,EAAK4gF,SAAS,EAAG,IACpCkI,aACAC,uBACAC,WACAE,eACArpF,MAAOjI,KAAK4E,KAAiC,IAA3BktF,EAAsB,GAAU,GAAKK,EAAsBC,IAC7ElqF,QAAS,EAAI8pF,IAAqBD,EAA4B,GAAK,IAAMC,EAAmB,EAAI,IAAMK,EAAqBC,GAC3HL,WACA9S,SACAC,SACAX,MACAyT,aAEJ,KAEK9B,CACT,CAjN0B,GCCtBrJ,GAAuB,WACzB,SAAS2L,IACP,GAAgBp/F,KAAMo/F,EACxB,CAwKA,OAvKA,GAAaA,EAAO,KAAM,CAAC,CACzB18F,IAAK,sCACLsB,MAAO,SAA6C6mB,GAClD,IAAIw0E,EAAO5/F,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC7E,KAAIorB,EAAKnrB,OAAS,IAAlB,CAEA2/F,EAAOA,GAAQ,CAAC,EAYhB,IAXA,IACIC,EACAvC,EAMAwC,EACAC,EACAC,EAVAxC,EAA+B,GAAL,EAAXpyE,EAAK,KAGpBqyE,EAAS,GACTC,EAAS,GACTuC,EAAS,GACT3jF,EAAS,GACT4jF,EAAc90E,EAAK,IAIdhqB,EAAI,EAAGA,EAAI8+F,EAAa9+F,IAAK,CACpC0+F,EAA6B,GAAf10E,EAAK9O,GACnByjF,EAAW30E,EAAK9O,EAAS,IAAM,EAAI8O,EAAK9O,EAAS,GACjDA,GAAU,EACV,IAAK,IAAIs+E,EAAI,EAAGA,EAAImF,EAAUnF,IAG5B,GAFAoF,EAAU50E,EAAK9O,IAAW,EAAI8O,EAAK9O,EAAS,GAC5CA,GAAU,EACL0jF,EAAL,CAEA,OAAQF,GACN,KAAK,GAED,IAAIK,EAAM/0E,EAAK6qE,SAAS35E,EAAQA,EAAS0jF,GACpCH,IACHA,EAAYF,EAAMS,SAAS9E,GAAKwC,UAAUqC,GAAMP,IAClDK,EAAOr9F,KAAKu9F,GAEd,MACF,KAAK,GAED,IAAIvC,EAAMxyE,EAAK6qE,SAAS35E,EAAQA,EAAS0jF,GACpC1C,IACHA,EAAYqC,EAAM9B,SAASvC,GAAKwC,UAAUF,GAAMgC,IAClDnC,EAAO76F,KAAKg7F,GAEd,MACF,KAAK,GACHF,EAAO96F,KAAKwoB,EAAK6qE,SAAS35E,EAAQA,EAAS0jF,IAC3C,MAEJ1jF,GAAU0jF,CAtBA,CAwBd,CACA,MAAO,CACLJ,OACAhC,IAAKN,EACLG,SACAC,SACAuC,SACAzC,cApDM,CAsDV,GACC,CACDv6F,IAAK,WACLsB,MAAO,SAAkB8Q,EAAMuqF,GAC7BA,EAAOA,GAAQ,CAAC,EAChB,IAAI3B,EAAK,IAAIlC,GAAU1mF,GACvB4oF,EAAGC,YACHD,EAAGC,YACHD,EAAGtB,SAAS,IACZ,IAAI0D,EAAwBpC,EAAGtB,SAAS,GAIxC,OAHAiD,EAAKU,kBAAoBrzF,KAAKW,IAAIgyF,EAAKU,mBAAqB,EAAGD,EAAwB,GACvFpC,EAAGtB,SAAS,IACZgD,EAAMY,uBAAuBtC,EAAIoC,EAAuBT,GACjDA,CACT,GACC,CACD38F,IAAK,WACLsB,MAAO,SAAkB8Q,GACvB,IAAIuqF,EAAO5/F,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,CAAC,EAC7E4/F,EAAOA,GAAQ,CAAC,EAChB,IAAI3B,EAAK,IAAIlC,GAAU1mF,GACvB4oF,EAAGC,YACHD,EAAGC,YACHD,EAAGtB,SAAS,GACZ,IAAI6D,EAAwBvC,EAAGtB,SAAS,GACxCiD,EAAKU,kBAAoBrzF,KAAKW,IAAI4yF,EAAwB,EAAGZ,EAAKU,mBAAqB,GACvFV,EAAKa,iBAAmBxC,EAAGtB,SAAS,GACpCgD,EAAMY,uBAAuBtC,EAAIuC,EAAuBZ,GACxD3B,EAAGjB,UACH,IAAIwB,EAAkBoB,EAAKpB,gBAAkBP,EAAGjB,UAC5CuB,EAAe,IACfC,GAAmB,IACrBD,EAAe,CAAC,EAAG,IAAK,IAAK,KAAKC,IACpC,IAAIkC,EAA0B,EACN,IAApBlC,IACFkC,EAA0BzC,EAAGtB,SAAS,IAExC,IAGIgE,EACAC,EACAC,EACAC,EANA5rF,EAAQ+oF,EAAGjB,UACX7nF,EAAS8oF,EAAGjB,UACZ+D,EAAwB9C,EAAGtB,SAAS,GAaxC,GAR8B,IAA1BoE,IACFJ,EAAoB1C,EAAGjB,UACvB4D,EAAqB3C,EAAGjB,UACxB6D,EAAmB5C,EAAGjB,UACtB8D,EAAsB7C,EAAGjB,WAE3B4C,EAAKoB,mBAAqB/C,EAAGjB,UAC7B4C,EAAKqB,qBAAuBhD,EAAGjB,UACD,IAA1B+D,EAA6B,CAC/B,IAAIG,EAAiC,IAApB1C,GAA6C,IAApBA,GAAsD,IAA5BkC,EAAoC,EAAJ,EAChGS,EAAiC,IAApB3C,GAAqD,IAA5BkC,EAAgC,EAAI,EAC9ExrF,GAASgsF,GAAaN,EAAqBD,GAC3CxrF,GAAUgsF,GAAcL,EAAsBD,EAChD,CACA,MAAO,CACL1U,MAAO,kBACPj3E,QACAC,SACAopF,eACAqB,OAEJ,GACC,CACD38F,IAAK,yBACLsB,MAAO,SAAgC05F,EAAImD,EAAoBxB,GAC7D,IAAIyB,EAAkBzB,EAAKyB,iBAAmB,EAC9CzB,EAAK0B,oBAAsBrD,EAAGtB,SAAS,GACvCiD,EAAKyB,gBAAkBp0F,KAAKW,IAAIqwF,EAAGtB,SAAS,GAAI0E,GAChDzB,EAAK2B,kBAAoBt0F,KAAKW,IAAIqwF,EAAGtB,SAAS,GAAIiD,EAAK2B,mBAAqB,GAC5E3B,EAAK4B,iCAAmCvD,EAAGtB,SAAS,IACpDiD,EAAK6B,gCAAkC,CAACxD,EAAGtB,SAAS,GAAIsB,EAAGtB,SAAS,GAAIsB,EAAGtB,SAAS,GAAIsB,EAAGtB,SAAS,GAAIsB,EAAGtB,SAAS,GAAIsB,EAAGtB,SAAS,IACpI,IAAI+E,EAAkBzD,EAAGtB,SAAS,GAC9B0E,EAAkBzB,EAAKyB,gBACzBzB,EAAK8B,gBAAkBA,EAEvB9B,EAAK8B,gBAAkBz0F,KAAKW,IAAI8zF,EAAiB9B,EAAK8B,iBAAmB,GAI3E,IAFA,IAAIC,EAA6B,GAC7BC,EAA2B,GACtBhH,EAAI,EAAGA,EAAIwG,EAAoBxG,IACtC+G,EAA2B/G,GAAKqD,EAAGtB,SAAS,GAC5CiF,EAAyBhH,GAAKqD,EAAGtB,SAAS,GAExCyE,EAAqB,GACvBnD,EAAGtB,SAAoC,GAA1B,EAAIyE,IAEnB,IAAK,IAAIhgG,EAAI,EAAGA,EAAIggG,EAAoBhgG,IACA,IAAlCugG,EAA2BvgG,KAC7B68F,EAAGtB,SAAS,GACZsB,EAAGtB,SAAS,GACZsB,EAAGtB,SAAS,GACZsB,EAAGtB,SAAS,IACZsB,EAAGtB,SAAS,IACZsB,EAAGtB,SAAS,GACZsB,EAAGtB,SAAS,IACZsB,EAAGtB,SAAS,IACZsB,EAAGtB,SAAS,KAEsB,IAAhCiF,EAAyBxgG,IAC3B68F,EAAGtB,SAAS,EAGlB,KAEKgD,CACT,CA5K2B,GCHvBkC,GAA6B,WAC/B,SAASC,IACP,GAAgBvhG,KAAMuhG,GACtB,GAAgBvhG,KAAM,KAAM,GAC5B,GAAgBA,KAAM,OAAQozF,GAAUtD,OACxC,GAAgB9vF,KAAM,YAAauzF,GAAeC,KAClD,GAAgBxzF,KAAM,OAAQ,GAC9B,GAAgBA,KAAM,YAAQ,GAC9B,GAAgBA,KAAM,QAAS,IAC/B,GAAgBA,KAAM,YAAa,GACnC,GAAgBA,KAAM,kBAAmB,GACzC,GAAgBA,KAAM,iBAAkB,GACxC,GAAgBA,KAAM,sBAAuB,GAC7C,GAAgBA,KAAM,UAAW,GACjC,GAAgBA,KAAM,WAAY,GAClC,GAAgBA,KAAM,WAAY,IAClC,GAAgBA,KAAM,UAAW,IACjC,GAAgBA,KAAM,MAAO,IAC7B,GAAgBA,KAAM,MAAO,IAC7B,GAAgBA,KAAM,MAAO,IAC7B,GAAgBA,KAAM,SAAU,GAChC,GAAgBA,KAAM,SAAU,GAChC,GAAgBA,KAAM,WAAY,IAClC,GAAgBA,KAAM,QAAS,GAC/B,GAAgBA,KAAM,SAAU,GAChC,GAAgBA,KAAM,cAAe,GACrC,GAAgBA,KAAM,WAAW,GACjC,GAAgBA,KAAM,qBAAqB,GAC3C,GAAgBA,KAAM,qBAAqB,GAC3C,GAAgBA,KAAM,WAAW,GACjC,GAAgBA,KAAM,MAAO,MAC7B,GAAgBA,KAAM,OAAQ,MAC9B,GAAgBA,KAAM,WAAO,EAC/B,CAgCA,OA/BA,GAAauhG,EAAa,CAAC,CACzB7+F,IAAK,QACLsB,MAAO,WACLhE,KAAKwhG,eAAiBxhG,KAAK2U,MAAQ3U,KAAK4U,OAAS5U,KAAK8rF,OAAS9rF,KAAK6rF,OAAS7rF,KAAKua,SAAWva,KAAKk4F,oBAAsBl4F,KAAK8qF,UAAY,EACzI9qF,KAAK4rF,MAAQ,GACb5rF,KAAKyhG,SAAU,EACfzhG,KAAKkO,KAAO,EACZlO,KAAK0hG,IAAM,GACX1hG,KAAKq9F,IAAM,GACXr9F,KAAK4/F,IAAM,GACX5/F,KAAK2+F,SAAW,GAChB3+F,KAAKisF,QAAU,GACfjsF,KAAK04F,SAAW,GAChB14F,KAAKq/F,KAAO,IACd,GACC,CACD38F,IAAK,QACLsB,MAAO,WACL,SAAUhE,KAAK0hG,IAAIhiG,QAAUM,KAAKq9F,IAAI39F,QAAUM,KAAK4rF,MACvD,GACC,CACDlpF,IAAK,YACLsB,MAAO,WACL,QAAShE,KAAKisF,QAAQvsF,MACxB,GACC,CACDgD,IAAK,eACLsD,IAAK,WACH,OAAOhG,KAAK2hG,iBACd,KAEKJ,CACT,CAlEiC,GCA7BK,GAA6B,WAC/B,SAASC,IACP,GAAgB7hG,KAAM6hG,GACtB,GAAgB7hG,KAAM,KAAM,GAC5B,GAAgBA,KAAM,OAAQozF,GAAUC,OACxC,GAAgBrzF,KAAM,YAAa0zF,GAAeC,KAClD,GAAgB3zF,KAAM,OAAQ,GAC9B,GAAgBA,KAAM,QAAS,IAC/B,GAAgBA,KAAM,iBAAkB,GACxC,GAAgBA,KAAM,iBAAkB,GACxC,GAAgBA,KAAM,YAAa,GACnC,GAAgBA,KAAM,kBAAmB,GACzC,GAAgBA,KAAM,sBAAuB,GAC7C,GAAgBA,KAAM,WAAY,GAClC,GAAgBA,KAAM,WAAY,IAClC,GAAgBA,KAAM,UAAW,IACjC,GAAgBA,KAAM,UAAW,GACjC,GAAgBA,KAAM,aAAc,IACpC,GAAgBA,KAAM,aAAc,GACpC,GAAgBA,KAAM,eAAgB,GACtC,GAAgBA,KAAM,aAAc,GACpC,GAAgBA,KAAM,kBAAmB,GACzC,GAAgBA,KAAM,SAAU,IAChC,GAAgBA,KAAM,WAAW,GACjC,GAAgBA,KAAM,qBAAqB,GAC3C,GAAgBA,KAAM,qBAAqB,GAC3C,GAAgBA,KAAM,MAAO,MAC7B,GAAgBA,KAAM,WAAO,EAC/B,CAiCA,OAhCA,GAAa6hG,EAAa,CAAC,CACzBn/F,IAAK,QACLsB,MAAO,WACLhE,KAAKwhG,eAAiB,EACtBxhG,KAAK8qF,UAAY,EACjB9qF,KAAKs4F,eAAiB,EACtBt4F,KAAK+rF,WAAa,EAClB/rF,KAAKqrF,aAAe,EACpBrrF,KAAKk4F,oBAAsB,EAC3Bl4F,KAAKyhG,SAAU,EACfzhG,KAAKkO,KAAO,EACZlO,KAAK4rF,MAAQ,GACb5rF,KAAKisF,QAAU,GACfjsF,KAAKyI,OAAS,GACdzI,KAAK04F,SAAW,EAClB,GACC,CACDh2F,IAAK,QACLsB,MAAO,WACL,SAAUhE,KAAK+rF,YAAc/rF,KAAKqrF,cAAgBrrF,KAAK4rF,OAAS5rF,KAAKs4B,YAAco7D,GAAeC,IACpG,GACC,CACDjxF,IAAK,YACLsB,MAAO,WACL,QAAShE,KAAKisF,QAAQvsF,MACxB,GACC,CACDgD,IAAK,eACLsD,IAAK,WACH,OAAOhG,KAAK8hG,iBACd,KAEKD,CACT,CA9DiC,GCD7BE,GAA8B,WAChC,SAASC,EAAazN,EAAKK,EAAKrI,GAC9B,GAAgBvsF,KAAMgiG,GACtB,GAAgBhiG,KAAM,OAAQ,CAAC,GAC/B,GAAgBA,KAAM,YAAY,GAClC,GAAgBA,KAAM,QAAS,GAC/B,GAAgBA,KAAM,WAAY,GAClC,GAAgBA,KAAM,OAAQ,GAC9B,GAAgBA,KAAM,QAAS,IAC/B,GAAgBA,KAAM,eAAgB,KACtCA,KAAK20F,UAAY30F,KAAKu0F,IAAMA,EAC5Bv0F,KAAKo5F,UAAYp5F,KAAK40F,IAAMA,EACxBrI,IACFvsF,KAAKusF,MAAQA,EACjB,CAcA,OAbA,GAAayV,EAAc,CAAC,CAC1Bt/F,IAAK,MACLsD,IAAK,WACH,OAAOhG,KAAKu0F,IAAMv0F,KAAK40F,GACzB,GACC,CACDlyF,IAAK,gBACLsB,MAAO,WACLhE,KAAKiiG,UAAW,EAChBjiG,KAAKouD,KAAKqmC,UAAY,EACtBz0F,KAAKouD,KAAKsmC,gBAAkB,CAC9B,KAEKsN,CACT,CA7BkC,GCC9BE,GAAyB,IAC3B,SAASC,EAAQt3E,EAAM0pE,GACrB,GAAgBv0F,KAAMmiG,GACtB,GAAgBniG,KAAM,OAAQ,GAC9BA,KAAK6qB,KAAOA,EACZ7qB,KAAK20F,UAAY30F,KAAKu0F,IAAMA,CAC9B,IAWE6N,GAA4B,SAASC,GACvC,GAAUC,EAAYD,GACtB,IAAIE,EAAU,GAAaD,GAC3B,SAASA,IAEP,OADA,GAAgBtiG,KAAMsiG,GACfC,EAAQxiG,MAAMC,KAAMP,UAC7B,CACA,OAAO,GAAa6iG,EACtB,CARgC,CAQ9BJ,IACEM,GAAgC,WAClC,SAASC,IACP,GAAgBziG,KAAMyiG,GACtB,GAAgBziG,KAAM,KAAM,GAC5B,GAAgBA,KAAM,OAAQozF,GAAUE,UACxC,GAAgBtzF,KAAM,YAAa,GACnC,GAAgBA,KAAM,mBAAoB,IAC1C,GAAgBA,KAAM,aAAc,GACtC,CAmBA,OAlBA,GAAayiG,EAAgB,CAAC,CAC5B//F,IAAK,QACLsB,MAAO,WACL,SAAWhE,KAAK0iG,iBAAiBhjG,SAAUM,KAAKi4F,WAAWv4F,SAAWM,KAAK8qF,UAC7E,GACC,CACDpoF,IAAK,QACLsB,MAAO,WACLhE,KAAK8qF,UAAY,EACjB9qF,KAAK0iG,iBAAmB,GACxB1iG,KAAKi4F,WAAa,EACpB,GACC,CACDv1F,IAAK,YACLsB,MAAO,WACL,SAAUhE,KAAK0iG,iBAAiBhjG,SAAUM,KAAKi4F,WAAWv4F,OAC5D,KAEK+iG,CACT,CA5BoC,GCdhC/yE,GAAS,IAAI,GAAO,aACpBizE,GAA4B,WAC9B,SAASC,EAAWhV,EAAY4I,EAAYC,GAC1C,GAAgBz2F,KAAM4iG,GACtB,GAAgB5iG,KAAM,UAAW,GACjC,GAAgBA,KAAM,uBAAwB,MAC9C,GAAgBA,KAAM,gBAAiB,IACvC,GAAgBA,KAAM,gBAAiB,IACvC,GAAgBA,KAAM,SAAU,GAChCA,KAAK4tF,WAAaA,GAAc,IAAI0T,GACpCthG,KAAKw2F,WAAaA,GAAc,IAAIoL,GACpC5hG,KAAKy2F,cAAgBA,GAAiB,IAAI+L,GAC1CxiG,KAAK6iG,OAAS,IAAIvM,GAAQt2F,KAAK4tF,WAAY5tF,KAAKw2F,WAAYx2F,KAAKy2F,cACnE,CAuUA,OAtUA,GAAamM,EAAY,CAAC,CACxBlgG,IAAK,QACLsB,MAAO,SAAe6mB,GACpB,IAAIssE,EAAgB13F,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,IAAgBA,UAAU,GAC5E23F,IAAa33F,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,KAAgBA,UAAU,GACzE+2F,EAAax2F,KAAKw2F,WAAY5I,EAAa5tF,KAAK4tF,WAAY6I,EAAgBz2F,KAAKy2F,cACjFU,IACFn3F,KAAK8iG,QAAU,EACflV,EAAWh6B,QACX4iC,EAAW5iC,QACX6iC,EAAc7iC,UAEXwjC,GAAcD,GACjBn3F,KAAK+iG,qBAAuB,KAC5B/iG,KAAKgjG,cAAgB,GACrBhjG,KAAKijG,cAAgB,KAErBrV,EAAW3B,QAAU,GACrBuK,EAAWvK,QAAU,GACrBwK,EAAcwB,WAAa,GAC3BrK,EAAW8K,SAAW,GACtBlC,EAAWkC,SAAW,GAClB14F,KAAK+iG,uBACPl4E,EAAO,GAAiB7qB,KAAK+iG,qBAAsBl4E,GACnD7qB,KAAK+iG,qBAAuB,OAGhC,IAAI9H,EAAUpwE,EAAKnrB,OACfwjG,EAAkBjI,EAAU,IAC5BiI,IACFljG,KAAK+iG,qBAAuBl4E,EAAK6qE,SAASuF,EAAUiI,GACpDjI,GAAWiI,GAIb,IAFA,IAAIC,EAAWvV,EAAW1/E,IACtBk1F,EAAW5M,EAAWtoF,IACjBhE,EAAQ,EAAGA,EAAQ+wF,EAAS/wF,GAAS,IAAK,CACjD,GAAoB,KAAhB2gB,EAAK3gB,GACP,MAAM,IAAIipB,MAAM,qCAClB,IAAIkwE,KAAiD,GAAlBx4E,EAAK3gB,EAAQ,IAC5CgE,IAA0B,GAAlB2c,EAAK3gB,EAAQ,KAAY,GAAK2gB,EAAK3gB,EAAQ,GACnDo5F,GAA4C,GAAlBz4E,EAAK3gB,EAAQ,KAAY,EACnD6R,OAAS,EACb,GAAIunF,EAAyB,GAE3B,GADAvnF,EAAS7R,EAAQ,EAAI2gB,EAAK3gB,EAAQ,GAC9B6R,IAAW7R,EAAQ,IACrB,cAEF6R,EAAS7R,EAAQ,EAEnB,OAAQgE,GACN,KAAK,EACCm1F,IACFtnF,GAAU8O,EAAK9O,GAAU,GAC3B/b,KAAK8iG,QAA8B,GAApBj4E,EAAK9O,EAAS,MAAa,EAAI8O,EAAK9O,EAAS,IAC5D,MACF,KAAK/b,KAAK8iG,OAEFO,IACFtnF,GAAU8O,EAAK9O,GAAU,GAC3B,IAAIwnF,EAAWxnF,EAAS,IAAyB,GAAnB8O,EAAK9O,EAAS,KAAY,EAAI8O,EAAK9O,EAAS,IAAM,EAC5EynF,GAAyC,GAApB34E,EAAK9O,EAAS,MAAa,EAAI8O,EAAK9O,EAAS,IACtEA,GAAU,GAAKynF,EACf,MAAOznF,EAASwnF,EAAU,CACxB,IAAIE,GAA4B,GAAnB54E,EAAK9O,EAAS,KAAY,EAAI8O,EAAK9O,EAAS,GACzD,OAAQ8O,EAAK9O,IACX,KAAK,GACHy6E,EAAWtoF,IAAMk1F,EAAWK,EAC5B,MACF,KAAK,GACH,IAAkB,IAAdN,EACF,MACFvV,EAAWt1D,UAAYi7D,GAAeC,IACtC5F,EAAW1/E,IAAMi1F,EAAWM,EAC5B,MACF,KAAK,GACH,IAAkB,IAAdN,EACF,MACFvV,EAAWt1D,UAAYi7D,GAAeE,KACtC7F,EAAW1/E,IAAMi1F,EAAWM,EAC5B,MACF,QACE/zE,GAAOpnB,KAAK,6BAA6B7H,OAAOoqB,EAAK9O,GAAS,WAAWtb,OAAOgjG,IAEpF1nF,GAA8D,IAA/B,GAAnB8O,EAAK9O,EAAS,KAAY,EAAI8O,EAAK9O,EAAS,GAC1D,CAEF,MACF,KAAKonF,EACCE,GAA6BrjG,KAAKgjG,cAActjG,QAClDM,KAAK0jG,kBAEP1jG,KAAKgjG,cAAc3gG,KAAKwoB,EAAK6qE,SAAS35E,EAAQ7R,EAAQ,MACtD,MACF,KAAKk5F,EACCC,GAA6BrjG,KAAKijG,cAAcvjG,QAClDM,KAAK2jG,kBAEP3jG,KAAKijG,cAAc5gG,KAAKwoB,EAAK6qE,SAAS35E,EAAQ7R,EAAQ,MACtD,MACF,KAAK,GACL,KAAK,KACH,MACF,QACEwlB,GAAOpnB,KAAK,gBAAgB7H,OAAOyN,IAEzC,CAKA,OAJAlO,KAAK0jG,kBACL1jG,KAAK2jG,kBACLnN,EAAWoN,gBAAkBhW,EAAWgW,gBAAkBhW,EAAW9C,UAAY2L,EAAc3L,UAAY,IAC3G0L,EAAW1L,UAAY0L,EAAWzK,YAAc,EACzC,CACL6B,aACA4I,aACAC,gBAEJ,GACC,CACD/zF,IAAK,MACLsB,MAAO,SAAao5B,EAAW+5D,EAAeC,GAE5C,OADAp3F,KAAK6iG,OAAOgB,IAAIzmE,EAAW+5D,EAAeC,GACnC,CACLxJ,WAAY5tF,KAAK4tF,WACjB4I,WAAYx2F,KAAKw2F,WACjBC,cAAez2F,KAAKy2F,cAExB,GACC,CACD/zF,IAAK,cACLsB,MAAO,SAAqB6mB,EAAMssE,EAAeC,EAAYh6D,GAE3D,OADAp9B,KAAK8jG,MAAMj5E,EAAMssE,EAAeC,GACzBp3F,KAAK6jG,IAAIzmE,EAAW+5D,EAAeC,EAC5C,GACC,CACD10F,IAAK,kBACLsB,MAAO,WACL,GAAKhE,KAAKgjG,cAActjG,OAAxB,CAEA,IAAIqkG,EAAMnB,EAAWoB,UAAU,GAAiBjkG,WAAM,EAAQ,GAAmBC,KAAKgjG,iBACtF,GAAKe,EAAL,CAIA,IAAIxX,EAAQwO,GAAKkJ,YAAYF,EAAIl5E,MAC7B0hE,EACFvsF,KAAKkkG,mBAAmB3X,EAAOwX,EAAIxP,IAAKwP,EAAInP,KAE5CllE,GAAOpnB,KAAK,yBAA0By7F,GAExC/jG,KAAKgjG,cAAgB,EAPrB,MAFEtzE,GAAOpnB,KAAK,yBAA0BtI,KAAKgjG,cAHrC,CAaV,GACC,CACDtgG,IAAK,qBACLsB,MAAO,SAA4BuoF,EAAOgI,EAAKK,GAC7C,IAAIhuE,EAAQ5mB,KACZ,GAAKusF,EAAM7sF,OAAX,CAEA,IAAIisF,EAAQ3rF,KAAK4tF,WACbsN,EAASvP,EAAMrzD,YAAci7D,GAAeE,KAC5CvH,EAAS,IAAI6V,GAAYxN,EAAKK,GAClCrI,EAAM9pF,SAAQ,SAASqS,GACrB,IAAItK,EAAO0wF,EAASpmF,EAAK,KAAO,EAAI,GAAe,GAAVA,EAAK,GAC9C,OAAQtK,GACN,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACH,IAAK0wF,GAAmB,IAAT1wF,GAAc0wF,GAAmB,IAAT1wF,EACrC,MACF0hF,EAAOiY,gBACPv9E,EAAMw9E,SACN,MACF,KAAK,EACL,KAAK,GACL,KAAK,GACH,IAAKlJ,GAAmB,IAAT1wF,GAAc0wF,GAAmB,IAAT1wF,EACrC,MAEF,YADAoc,EAAM6vE,cAAcwB,WAAW51F,KAAK,IAAI+/F,GAAUrH,GAAKsJ,SAAStJ,GAAKwC,UAAUzoF,GAAOomF,GAAS3G,IAEjG,KAAK,GACH,IAAK2G,EACH,MACF,IAAKvP,EAAMiU,IAAIlgG,OAAQ,CACrB,IAAI2/F,EAAO5L,GAAKoM,SAAS9E,GAAKwC,UAAUzoF,GAAO62E,EAAM0T,MACrD1T,EAAM0T,KAAO1T,EAAM0T,MAAQA,EAC3B1T,EAAMiU,IAAM,CAAC9qF,EACf,CACA,MACF,KAAK,EACL,KAAK,GACH,IAAKomF,GAAmB,IAAT1wF,GAAc0wF,GAAmB,IAAT1wF,EACrC,MACF,IAAKmhF,EAAM0R,IAAI39F,OAAQ,CACrB,IAAImrB,EAAOkwE,GAAKwC,UAAUzoF,GACtBwvF,EAAUpJ,EAASzH,GAAK6J,SAASzyE,EAAM8gE,EAAM0T,MAAQ7L,GAAI8J,SAASzyE,GACtE8gE,EAAM0R,IAAM,CAACvoF,GACb62E,EAAM0T,KAAO1T,EAAM0T,MAAQiF,EAAQjF,KACnC1T,EAAMC,MAAQ0Y,EAAQ1Y,MACtBD,EAAMh3E,MAAQ2vF,EAAQ3vF,MACtBg3E,EAAM/2E,OAAS0vF,EAAQ1vF,OACvB+2E,EAAMgT,SAAW2F,EAAQ3F,SACzBhT,EAAME,OAASyY,EAAQzY,OACvBF,EAAMG,OAASwY,EAAQxY,MACzB,CACA,MACF,KAAK,EACL,KAAK,GACH,IAAKoP,GAAmB,IAAT1wF,GAAc0wF,GAAmB,IAAT1wF,EACrC,MACGmhF,EAAM+V,IAAIhiG,SACbisF,EAAM+V,IAAM,CAAC5sF,IACf,MAEJo3E,EAAOK,MAAMlqF,KAAKyS,EACpB,IACAo3E,EAAOE,MAAQpsF,KAAKokG,OACpBpkG,KAAKukG,iBAAiB5Y,EAAOO,EAjErB,CAkEV,GACC,CACDxpF,IAAK,mBACLsB,MAAO,SAA0B2nF,EAAOO,GACtC,GAAIA,EAAOK,MAAM7sF,OACf,GAAmB,OAAfwsF,EAAOqI,UAA+B,IAAfrI,EAAOqI,IAAgB,CAChD7kE,GAAOpnB,KAAK,sBAAuB4jF,GACnC,IAAIsY,EAAa7Y,EAAMM,QAAQN,EAAMM,QAAQvsF,OAAS,GAClD8kG,GACFtY,EAAOqI,IAAMiQ,EAAWjQ,IACxBrI,EAAO0I,IAAM4P,EAAW5P,KAExBllE,GAAOpnB,KAAK,oBAAqB4jF,EAErC,MACEP,EAAMM,QAAQ5pF,KAAK6pF,EAGzB,GACC,CACDxpF,IAAK,kBACLsB,MAAO,WACL,GAAKhE,KAAKijG,cAAcvjG,OAAxB,CAEA,IAAIqkG,EAAMnB,EAAWoB,UAAU,GAAiBjkG,WAAM,EAAQ,GAAmBC,KAAKijG,iBACjFc,GAIL/jG,KAAKykG,cAAcV,GACnB/jG,KAAKijG,cAAgB,IAJnBvzE,GAAOpnB,KAAK,yBAA0BtI,KAAKijG,cAHrC,CAQV,GACC,CACDvgG,IAAK,gBACLsB,MAAO,SAAuB+/F,GAC5B,IAAIpY,EAAQ3rF,KAAKw2F,WACbjC,EAAMwP,EAAIxP,IACd,GAAY,OAARA,QAAwB,IAARA,EAAgB,CAElC,GADA7kE,GAAOpnB,KAAK,kBAAmBqjF,IAC1BA,EAAMM,QAAQvsF,SAAWisF,EAAMI,WAClC,OAEFwI,EAAM5I,EAAMM,QAAQN,EAAMM,QAAQvsF,OAAS,GAAG60F,IAAMZ,GAAI8B,iBAAiB9J,EAAMI,WACjF,CACA,IAEM2Y,EAFF1tF,EAAM28E,GAAIgR,UAAUZ,EAAIl5E,KAAM0pE,GAC9Bv9E,GAEF20E,EAAMC,MAAQ50E,EAAI40E,MAClBD,EAAMN,aAAer0E,EAAIq0E,aACzBM,EAAMI,WAAa/0E,EAAI+0E,WACvBJ,EAAM0J,WAAar+E,EAAIq+E,WACvB1J,EAAMiZ,gBAAkB5tF,EAAIk+E,uBAC5BvJ,EAAMljF,OAASuO,EAAIvO,QAClBi8F,EAAiB/Y,EAAMM,SAAS5pF,KAAKtC,MAAM2kG,EAAgB,GAAmB1tF,EAAIi+E,OAAO1kF,KAAI,SAASmnC,GACrG,OAAO,IAAI28C,GAAY38C,EAAE68C,IAAK78C,EAAE7sB,KAClC,MACI7T,EAAIg+E,MACNtlE,GAAOpnB,KAAK,iBAAiB7H,OAAOuW,EAAIg+E,KAAM,UAE5Ch+E,EAAI2vE,WACNj3D,GAAOpnB,KAAK,sBAAsB7H,OAAOuW,EAAI2vE,UAAW,WAG1Dj3D,GAAOpnB,KAAK,wBAAyBy7F,EAEzC,IACE,CAAC,CACHrhG,IAAK,QACLsB,MAAO,SAAe6mB,GACpB,QAAKA,EAAKnrB,SAES,KAAZmrB,EAAK,IAA2B,KAAdA,EAAK,MAA6B,KAAdA,EAAK,KACpD,GACC,CACDnoB,IAAK,YACLsB,MAAO,SAAmB6mB,GACxB,IAAIg6E,EAAgBh6E,EAAK,GACzB,KAAsB,OAAlBg6E,QAA4C,IAAlBA,GAA4Bh6E,EAAKnrB,OAASmlG,EAAgB,GAAxF,CAEA,IAAIC,EAAcj6E,EAAK,IAAM,GAAKA,EAAK,IAAM,EAAIA,EAAK,GACtD,GAAoB,IAAhBi6E,EAAJ,CAEA,IAAIC,GAAUl6E,EAAK,IAAM,GAAKA,EAAK,GACnC,KAAIk6E,GAAUA,EAASl6E,EAAKnrB,OAAS,GAArC,CAEA,IAAI60F,EACAK,EACAoQ,EAAcn6E,EAAK,GAWvB,OAVkB,IAAdm6E,IACFzQ,EAAuB,WAAN,GAAV1pE,EAAK,IAA0C,SAAP,IAAXA,EAAK,KAA0C,OAAP,IAAXA,EAAK,KAAwC,KAAP,IAAXA,EAAK,MAA+B,IAAXA,EAAK,KAAa,EACrH,GAAdm6E,GACFpQ,EAAwB,WAAN,GAAX/pE,EAAK,KAA2C,SAAP,IAAXA,EAAK,KAA0C,OAAP,IAAXA,EAAK,KAAwC,KAAP,IAAXA,EAAK,MAA+B,IAAXA,EAAK,KAAa,EACpI0pE,EAAMK,EAAM,OACdL,EAAMK,IAERA,EAAML,GAGH,CACL1pE,KAAMA,EAAK6qE,SAAS,EAAImP,GACxBtQ,MACAK,MAjBM,CAHA,CAHA,CAyBV,KAEKgO,CACT,CApVgC,GCX5BqC,GAA4B,WAC9B,SAASC,IACP,GAAgBllG,KAAMklG,EACxB,CA6hCA,OA5hCA,GAAaA,EAAY,KAAM,CAAC,CAC9BxiG,IAAK,UACLsB,MAAO,SAAiB6mB,EAAMs6E,GAC5B,IAAIj7F,EAAQzK,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzEuX,EAAM,GACV,IAAK6T,EACH,OAAO7T,EACT,IAAIklC,EAAO,EACP1xC,EAAO,GACP46F,EAAa,EACjB,MAAOv6E,EAAKnrB,OAAS,EAAG,CAUtB,GATAw8C,EAAOy+C,GAAU9vE,GACjBrgB,EAAO5C,OAAOy9F,aAAatlG,MAAM,KAAM8qB,EAAK6qE,SAAS,EAAG,IACxD0P,EAAa,EACA,IAATlpD,GACFA,EAAO0+C,GAAU/vE,EAAM,GACvBu6E,GAAc,GACJlpD,IACVA,EAAOrxB,EAAKnrB,SAETylG,EAAM,IAAM36F,IAAS26F,EAAM,GAAI,CAClC,IAAIG,EAAUz6E,EAAK6qE,SAAS,EAAGx5C,GAC/B,KAAIipD,EAAMzlG,OAAS,GASjB,OAAOwlG,EAAWK,QAAQD,EAAQ5P,SAAS0P,GAAaD,EAAMl+F,MAAM,GAAIiD,EAAQk7F,GARhFpuF,EAAI3U,KAAK,CACP6H,QACAgyC,OACAkpD,aACA56F,OACAqgB,KAAMy6E,GAKZ,CACAp7F,GAASgyC,EACTrxB,EAAOA,EAAK6qE,SAASx5C,EACvB,CACA,OAAOllC,CACT,GACC,CACDtU,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC7T,EAAI0uF,QAAU/K,GAAU9vE,GACxB,IAAI3gB,EAAQ,EACRy7F,EAAoC,EAAZ3uF,EAAI4uF,MAC5BC,EAA4C,EAAZ7uF,EAAI4uF,MACpCE,EAA2C,EAAZ9uF,EAAI4uF,MACnCG,EAAuC,GAAZ/uF,EAAI4uF,MAC/BI,EAAwC,GAAZhvF,EAAI4uF,MAChCD,IACFz7F,GAAS,EACT8M,EAAIivF,eAAiBtL,GAAU9vE,EAAM3gB,GACrCA,GAAS,GAEP27F,IACF7uF,EAAIkvF,uBAAyBvL,GAAU9vE,EAAM3gB,GAC7CA,GAAS,GAEP47F,IACF9uF,EAAImvF,sBAAwBxL,GAAU9vE,EAAM3gB,GAC5CA,GAAS,GAEP67F,IACF/uF,EAAIovF,kBAAoBzL,GAAU9vE,EAAM3gB,GACxCA,GAAS,GAEP87F,IACFhvF,EAAIqvF,mBAAqB1L,GAAU9vE,EAAM3gB,GAE7C,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAI3gB,EAAQ,EACZ8M,EAAIsvF,aAAe3L,GAAU9vE,EAAM3gB,GACnCA,GAAS,EACT8M,EAAI8zE,UAAY6P,GAAU9vE,EAAM3gB,GAChCA,GAAS,EACW,IAAhB8M,EAAIgH,SACNhH,EAAIuvF,2BAA6B5L,GAAU9vE,EAAM3gB,GACjDA,GAAS,EACT8M,EAAIwvF,aAAe7L,GAAU9vE,EAAM3gB,GACnCA,GAAS,IAET8M,EAAIuvF,2BAA6B3L,GAAU/vE,EAAM3gB,GACjDA,GAAS,EACT8M,EAAIwvF,aAAe5L,GAAU/vE,EAAM3gB,GACnCA,GAAS,GAEXA,GAAS,EACT8M,EAAIyvF,WAAa,GACjB,IAAIrM,EAAQK,GAAU5vE,EAAM3gB,GAC5BA,GAAS,EACT,IAAK,IAAIrJ,EAAI,EAAGA,EAAIu5F,EAAOv5F,IAAK,CAC9B,IAAI6lG,EAAM,CAAC,EACX1vF,EAAIyvF,WAAWpkG,KAAKqkG,GACpB,IAAIC,EAAQhM,GAAU9vE,EAAM3gB,GAC5BA,GAAS,EACTw8F,EAAIE,eAAiBD,GAAS,GAAK,EACnCD,EAAIG,gBAA0B,WAARF,EACtBD,EAAII,oBAAsBnM,GAAU9vE,EAAM3gB,GAC1CA,GAAS,EACTy8F,EAAQhM,GAAU9vE,EAAM3gB,GACxBA,GAAS,EACTw8F,EAAIK,gBAAkBJ,GAAS,GAAK,EACpCD,EAAIM,SAAWL,GAAS,GAAK,EAC7BD,EAAIO,eAAyB,UAARN,CACvB,CACF,GACF,GACC,CACDjkG,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAIkwF,KAAOhC,EAAWgC,KAAKhC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAImwF,KAAOjC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAOqG,KAAI,SAAS42F,GAChE,OAAOjC,EAAWiC,KAAKA,EACzB,IACAnwF,EAAIowF,KAAOlC,EAAWkC,KAAKlC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GACvE,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAI3gB,EAAQ,EACQ,IAAhB8M,EAAIgH,SACNhH,EAAI8zE,UAAY6P,GAAU9vE,EAAM,IAChC7T,EAAIuD,SAAWqgF,GAAU/vE,EAAM,IAC/B3gB,GAAS,KAET8M,EAAI8zE,UAAY6P,GAAU9vE,EAAM,GAChC7T,EAAIuD,SAAWogF,GAAU9vE,EAAM,IAC/B3gB,GAAS,IAEX8M,EAAIqwF,YAAc1M,GAAU9vE,EAAM3gB,EAAQ,GAC5C,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAIswF,KAAOpC,EAAWoC,KAAKpC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIuwF,KAAOrC,EAAWqC,KAAKrC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GACvE,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAI3gB,EAAQ,EACQ,IAAhB8M,EAAIgH,SACNhH,EAAI0uF,QAAU/K,GAAU9vE,EAAM,IAC9B7T,EAAIuD,SAAWqgF,GAAU/vE,EAAM,IAC/B3gB,GAAS,KAET8M,EAAI0uF,QAAU/K,GAAU9vE,EAAM,GAC9B7T,EAAIuD,SAAWogF,GAAU9vE,EAAM,IAC/B3gB,GAAS,IAEX8M,EAAIrC,MAAQgmF,GAAU9vE,EAAM3gB,EAAQ,IACpC8M,EAAIpC,OAAS+lF,GAAU9vE,EAAM3gB,EAAQ,GACvC,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAIwwF,KAAOtC,EAAWsC,KAAKtC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIywF,KAAOvC,EAAWuC,KAAKvC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAI0wF,KAAOxC,EAAWwC,KAAKxC,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GACvE,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAI3gB,EAAQ,EACQ,IAAhB8M,EAAIgH,SACNhH,EAAI8zE,UAAY6P,GAAU9vE,EAAM,IAChC7T,EAAIuD,SAAWqgF,GAAU/vE,EAAM,IAC/B3gB,GAAS,KAET8M,EAAI8zE,UAAY6P,GAAU9vE,EAAM,GAChC7T,EAAIuD,SAAWogF,GAAU9vE,EAAM,IAC/B3gB,GAAS,IAEX,IAAIsD,EAAOitF,GAAU5vE,EAAM3gB,GAC3B8M,EAAInJ,SAAWjG,OAAOy9F,aAAiC,IAAnB73F,GAAQ,GAAK,IAA6B,IAAlBA,GAAQ,EAAI,IAAwB,IAAN,GAAPA,GACrF,GACF,GACC,CACD9K,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACnB,IAAhB7T,EAAIgH,UACNhH,EAAI2wF,YAAc//F,OAAOy9F,aAAatlG,MAAM,KAAM8qB,EAAK6qE,SAAS,EAAG,IAEvE,GACF,GACC,CACDhzF,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAI4wF,KAAO1C,EAAW0C,KAAK1C,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAI6wF,KAAO3C,EAAW2C,KAAK3C,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAI8wF,KAAO5C,EAAW4C,KAAK5C,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GACvE,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC7T,EAAI+wF,aAAetN,GAAU5vE,GAC7B7T,EAAIgxF,QAAU,CAACvN,GAAU5vE,EAAM,GAAI4vE,GAAU5vE,EAAM,GAAI4vE,GAAU5vE,EAAM,GACzE,GACF,GACC,CACDnoB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC7T,EAAIixF,QAAUxN,GAAU5vE,EAC1B,GACF,GACC,CACDnoB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C,IAAIg+F,EAAoBC,EAAuBC,EAC/CpxF,EAAIqxF,KAAOnD,EAAWmD,KAAKnD,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIsxF,KAAOpD,EAAWoD,KAAKpD,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIuxF,KAAOrD,EAAWqD,KAAKrD,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIwxF,KAAOtD,EAAWsD,KAAKtD,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIyxF,KAAOvD,EAAWuD,KAAKvD,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAI0xF,KAAOxD,EAAWwD,KAAKxD,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IAChE8M,EAAI0xF,OACP1xF,EAAI2xF,KAAOzD,EAAWyD,KAAKzD,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAI0xF,KAAO1xF,EAAI2xF,MAEjB,IAAIC,EAAiE,QAA9CV,EAAqBlxF,EAAIqxF,KAAK3yE,QAAQ,UAAuC,IAAvBwyE,GAA+F,QAArDC,EAAwBD,EAAmBW,YAA4C,IAA1BV,GAAsG,QAAzDC,EAAyBD,EAAsBW,YAA6C,IAA3BV,OAArL,EAAkOA,EAAuBW,KAAKH,gBAC3W5xF,EAAIgyF,KAAO9D,EAAW8D,KAAK9D,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIiyF,KAAO/D,EAAW+D,KAAK/D,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GAAI0+F,EAC3E,GACF,GACC,CACDlmG,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,IAAI0D,EAAKzpG,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAC1E,OAAOgmG,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAI3gB,EAAQ,EACRi/F,EAAcxO,GAAU9vE,EAAM3gB,GAClCA,GAAS,EACT8M,EAAIi1E,QAAU,GACd,IAAK,IAAIprF,EAAI,EAAGA,EAAIsoG,EAAatoG,IAAK,CAGpC,IAFA,IAAIqrF,EAAS,CACbA,qBAA8B,IACrBmO,EAAI,EAAGA,EAAI6O,EAAI7O,IACtBnO,EAAOkd,qBAAqB/O,GAAKxvE,EAAK3gB,EAAQmwF,GAGhD,GADAnwF,GAASg/F,EACO,EAAZlyF,EAAI4uF,MAAW,CACjB1Z,EAAOmd,WAAa,GACpB,IAAIC,EAAiB7O,GAAU5vE,EAAM3gB,GACrCA,GAAS,EACT,IAAK,IAAIq/F,EAAK,EAAGA,EAAKD,EAAgBC,IAAM,CAC1C,IAAIC,EAAY,CAAC,EACjBA,EAAUC,iBAAmBhP,GAAU5vE,EAAM3gB,GAC7CA,GAAS,EACTs/F,EAAUE,qBAAuB/O,GAAU9vE,EAAM3gB,GACjDA,GAAS,EACTgiF,EAAOmd,WAAWhnG,KAAKmnG,EACzB,CACF,CACAxyF,EAAIi1E,QAAQ5pF,KAAK6pF,EACnB,CACF,GACF,GACC,CACDxpF,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GAIvC,IAHA,IAAI8+E,EAAS,GACTC,EAAW,GACX1/F,EAAQ,EACHrJ,EAAI,EAAGA,EAAI,GAAIA,IACtB+oG,EAASvnG,KAAKwnG,GAAMh/E,EAAK3gB,EAAQrJ,KAGnC,GADAqJ,GAAS,GACL8M,EAAIgH,QAAU,EAAG,CACnB,IAAI8rF,EAAYnP,GAAU9vE,EAAM3gB,GAChCA,GAAS,EACT,IAAK,IAAIoO,EAAK,EAAGA,GAAM,GAAKwxF,GAAWpqG,OAAQ4Y,IAC7C,IAAK,IAAI+hF,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAI0P,EAAQl/E,EAAK3gB,GACjBA,GAAS,EACTy/F,EAAOtnG,KAAKwnG,GAAME,GACpB,CAEJ,CACA,IAAIC,EAAWrP,GAAU9vE,EAAM3gB,GAC/B8M,EAAIizF,UAAYD,EAChB9/F,GAAS,EACT8M,EAAIkzF,IAAMP,EACV3yF,EAAImzF,UAAYP,EAChB5yF,EAAI86E,OAASjnE,CACf,GACF,GACC,CACDnoB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,EAAM3gB,GAC7C8M,EAAIozF,WAAazP,GAAU9vE,GAC3B7T,EAAI0e,QAAUwvE,EAAWK,QAAQ16E,EAAK6qE,SAAS,GAAI,GAAIxrF,EAAQ,GAAGqG,KAAI,SAAShR,GAC7E,OAAQA,EAAEiL,MACR,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACH,OAAO06F,EAAWmF,KAAK9qG,GACzB,IAAK,OACL,IAAK,OACH,OAAO2lG,EAAWoF,KAAK/qG,GACzB,IAAK,OACH,OAAO2lG,EAAWqF,KAAKhrG,GACzB,IAAK,OACL,IAAK,OACH,OAAO2lG,EAAWsF,KAAKjrG,GACzB,IAAK,OACH,OAAOkmG,GAASlmG,GAAG,GAAO,SAASg2B,EAAMk1E,EAAOC,GAC9Cn1E,EAAK81D,aAAeoP,GAAUgQ,EAAO,IACrCl1E,EAAKo1E,WAAalQ,GAAUgQ,EAAO,IACnCl1E,EAAKw2D,WAAa4O,GAAU8P,EAAO,IAAM,MACzCA,EAAQA,EAAM/U,SAAS,IACvBngE,EAAKszE,KAAO3D,EAAW2D,KAAK3D,EAAWK,QAAQkF,EAAO,CAAC,QAASC,GAAQ,IACxEn1E,EAAKq1E,KAAO1F,EAAW0F,KAAK1F,EAAWK,QAAQkF,EAAO,CAAC,QAASC,GAAQ,GAC1E,IACF,IAAK,OACH,OAAOjF,GAASlmG,GAAG,GAAO,SAASg2B,EAAMk1E,EAAOC,GAC9Cn1E,EAAK5gB,MAAQ8lF,GAAUgQ,EAAO,IAC9Bl1E,EAAK3gB,OAAS6lF,GAAUgQ,EAAO,IAC/Bl1E,EAAKs1E,gBAAkBlQ,GAAU8P,EAAO,IACxCl1E,EAAKu1E,eAAiBnQ,GAAU8P,EAAO,IACvCA,EAAQA,EAAM/U,SAAS,IACvBngE,EAAKszE,KAAO3D,EAAW2D,KAAK3D,EAAWK,QAAQkF,EAAO,CAAC,QAASC,GAAQ,IACxEn1E,EAAKw1E,KAAO7F,EAAW6F,KAAK7F,EAAWK,QAAQkF,EAAO,CAAC,QAASC,GAAQ,IACxEn1E,EAAK8pE,KAAO6F,EAAW7F,KAAK6F,EAAWK,QAAQkF,EAAO,CAAC,QAASC,GAAQ,IACxEn1E,EAAKy1E,KAAO9F,EAAW8F,KAAK9F,EAAWK,QAAQkF,EAAO,CAAC,QAASC,GAAQ,GAC1E,IAEN,IAAGzoG,OAAOiD,QACZ,GACF,GACC,CACDxC,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,GACxC,IAAI3gB,EAAQ,EACZ8M,EAAIi0F,oBAAsBpgF,EAAK3gB,GAC/BA,GAAS,EACT8M,EAAI4xF,gBAAkB/9E,EAAK3gB,GAC3BA,GAAS,EACT8M,EAAIk0F,YAAc,GAClB,IAAK,IAAIrqG,EAAI,EAAGA,EAAI,GAAIA,IACtBmW,EAAIk0F,YAAY7oG,KAAKwnG,GAAMh/E,EAAK3gB,KAChCA,GAAS,CAEb,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAI+xF,KAAO7D,EAAW6D,KAAK7D,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GACvE,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAI8xF,KAAO5D,EAAW4D,KAAK5D,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIm0F,KAAOjG,EAAWiG,KAAKjG,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GACvE,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,GACxC7T,EAAIo0F,YAAc,GAClB,IAAK,IAAIvqG,EAAI,EAAGA,EAAI,EAAGA,IACrBmW,EAAIo0F,aAAexjG,OAAOy9F,aAAax6E,EAAKhqB,GAEhD,GACF,GACC,CACD6B,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C,IAAImhG,EAAYC,GAAuBt0F,EAAK6T,GACxC0gF,EAAW1gF,EAAK6qE,SAAS2V,GAC7BnhG,GAASmhG,EACTr0F,EAAI+zF,KAAO7F,EAAW6F,KAAK7F,EAAWK,QAAQgG,EAAU,CAAC,QAASrhG,GAAO,IACzE8M,EAAIg0F,KAAO9F,EAAW8F,KAAK9F,EAAWK,QAAQgG,EAAU,CAAC,QAASrhG,GAAO,GAC3E,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,GACxC7T,EAAIw0F,qBAAuB3gF,EAAK,GAChC7T,EAAIy0F,qBAAuB5gF,EAAK,GAChC7T,EAAI6mF,qBAAuBhzE,EAAK,GAChC7T,EAAI00F,mBAAqB7gF,EAAK,GAC9B7T,EAAI40E,MAAQiP,GAAY,CAAChwE,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAChD7T,EAAI20F,mBAA+B,EAAV9gF,EAAK,GAC9B7T,EAAI40F,UAAsB,GAAV/gF,EAAK,GACrB7T,EAAIqmF,IAAM,GAEV,IADA,IAAInzF,EAAQ,EACHrJ,EAAI,EAAGA,EAAImW,EAAI40F,UAAW/qG,IAAK,CACtC,IAAIq7C,EAAOu+C,GAAU5vE,EAAM3gB,GAC3BA,GAAS,EACT8M,EAAIqmF,IAAIh7F,KAAKwoB,EAAK6qE,SAASxrF,EAAOA,EAAQgyC,IAC1ChyC,GAASgyC,CACX,CACAllC,EAAI60F,UAAYhhF,EAAK3gB,GACrBA,GAAS,EACT8M,EAAI0qF,IAAM,GACV,IAAK,IAAInD,EAAM,EAAGA,EAAMvnF,EAAI60F,UAAWtN,IAAO,CAC5C,IAAIuN,EAAQrR,GAAU5vE,EAAM3gB,GAC5BA,GAAS,EACT8M,EAAI0qF,IAAIr/F,KAAKwoB,EAAK6qE,SAASxrF,EAAOA,GAAS4hG,IAC3C5hG,GAAS4hG,CACX,CACF,GACF,GACC,CACDppG,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C,IAAImhG,EAAYC,GAAuBt0F,EAAK6T,GACxC0gF,EAAW1gF,EAAK6qE,SAAS2V,GAC7BnhG,GAASmhG,EACTr0F,EAAIqoF,KAAO6F,EAAW7F,KAAK6F,EAAWK,QAAQgG,EAAU,CAAC,QAASrhG,GAAO,IACzE8M,EAAIg0F,KAAO9F,EAAW8F,KAAK9F,EAAWK,QAAQgG,EAAU,CAAC,QAASrhG,GAAO,GAC3E,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,GACxC7T,EAAI6T,KAAO26E,EAAI36E,KACf7T,EAAI40E,MAAQ,kBACZ50E,EAAIw0F,qBAAuB3gF,EAAK,GAChC,IAAIkhF,EAAMlhF,EAAK,GACf7T,EAAI+pF,oBAAsBgL,GAAO,EACjC/0F,EAAI8pF,iBAAyB,GAANiL,IAAa,EACpC/0F,EAAIgqF,kBAA0B,GAAN+K,EACxB/0F,EAAIg1F,4BAA8BrR,GAAU9vE,EAAM,GAClD7T,EAAIkqF,gCAAkCr2E,EAAK6qE,SAAS,EAAG,IACvD1+E,EAAImqF,gBAAkBt2E,EAAK,IAC3B7T,EAAIi1F,aAAexR,GAAU5vE,EAAM,IACnC7T,EAAI2oF,YAAc90E,EAAK,IACvB7T,EAAI4oF,IAAM,GACV5oF,EAAIqmF,IAAM,GACVrmF,EAAI0qF,IAAM,GAKV,IAJA,IAAIx3F,EAAQ,GACRM,EAAO,EACPg1F,EAAW,EACXtjD,EAAO,EACFr7C,EAAI,EAAGA,EAAImW,EAAI2oF,YAAa9+F,IAAK,CACxC2J,EAAqB,GAAdqgB,EAAK3gB,GACZs1F,EAAW/E,GAAU5vE,EAAM3gB,EAAQ,GACnCA,GAAS,EAET,IADA,IAQMgiG,EARFC,EAAQ,GACH9R,EAAI,EAAGA,EAAImF,EAAUnF,IAC5Bn+C,EAAOu+C,GAAU5vE,EAAM3gB,GACvBA,GAAS,EACTiiG,EAAM9pG,KAAKwoB,EAAK6qE,SAASxrF,EAAOA,EAAQgyC,IACxChyC,GAASgyC,EAEX,GAAa,KAAT1xC,GAED0hG,EAAWl1F,EAAI4oF,KAAKv9F,KAAKtC,MAAMmsG,EAAUC,QACrC,GAAa,KAAT3hG,EAAa,CACtB,IAAI4hG,GACHA,EAAWp1F,EAAIqmF,KAAKh7F,KAAKtC,MAAMqsG,EAAUD,EAC5C,MAAO,GAAa,KAAT3hG,EAAa,CACtB,IAAI6hG,GACHA,EAAWr1F,EAAI0qF,KAAKr/F,KAAKtC,MAAMssG,EAAUF,EAC5C,CACF,CACF,GACF,GACC,CACDzpG,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,GACxC7T,EAAIs1F,SAAW3R,GAAU9vE,GACzB7T,EAAIu1F,SAAW5R,GAAU9vE,EAAM,EACjC,GACF,GACC,CACDnoB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C,IAAImhG,EAAYmB,GAAsBx1F,EAAK6T,GAC3C7T,EAAI4zF,KAAO1F,EAAW0F,KAAK1F,EAAWK,QAAQ16E,EAAK6qE,SAAS2V,GAAY,CAAC,QAASnhG,EAAQmhG,GAAW,GACvG,GACF,GACC,CACD3oG,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC7T,EAAI40E,MAAQ,QACZ,IAAI1hF,EAAQ,EACRuiG,EAAW,EACXvwD,EAAO,EACPpqB,EAAM,EACV,MAAOjH,EAAKnrB,OAAQ,CAClBwK,EAAQ,EACR4nB,EAAMjH,EAAK3gB,GACXuiG,EAAW5hF,EAAK3gB,EAAQ,GACxBA,GAAS,EACT,MAAkB,IAAXuiG,EACLvwD,GAAmB,IAAXuwD,IAAmB,EAC3BA,EAAW5hF,EAAK3gB,GAChBA,GAAS,EAGX,GADAgyC,GAAmB,IAAXuwD,EACI,IAAR36E,EACFjH,EAAOA,EAAK6qE,SAASxrF,EAAQ,OACxB,IAAY,IAAR4nB,EAGJ,IAAY,IAARA,EAAW,CACpB,IAAIrpB,EAASuO,EAAIvO,OAASoiB,EAAK6qE,SAASxrF,EAAOA,EAAQgyC,GACnDm5C,GAA0B,IAAZ5sF,EAAO,KAAa,EAStC,OARmB,KAAf4sF,GAAqB5sF,EAAO/I,QAAU,IACxC21F,EAAa,KAAmB,EAAZ5sF,EAAO,KAAW,KAAmB,IAAZA,EAAO,KAAa,IAEnEuO,EAAIq+E,WAAaA,EACjBr+E,EAAI40E,OAASyJ,EAAWruF,SAAS,SACO,MAApCgQ,EAAI40E,MAAM50E,EAAI40E,MAAMlsF,OAAS,KAC/BsX,EAAI40E,MAAQ50E,EAAI40E,MAAMn6E,UAAU,EAAGuF,EAAI40E,MAAMlsF,OAAS,IAG1D,CAIE,YAHwC,MAApCsX,EAAI40E,MAAM50E,EAAI40E,MAAMlsF,OAAS,KAC/BsX,EAAI40E,MAAQ50E,EAAI40E,MAAMn6E,UAAU,EAAGuF,EAAI40E,MAAMlsF,OAAS,IAG1D,CAnBEsX,EAAI40E,QAAU/gE,EAAK3gB,GAAOlD,SAAS,IAAM,KAAKiK,SAAS,EAAG,KAC1D4Z,EAAOA,EAAK6qE,SAASxrF,EAAQ,GAkB/B,CACF,CACF,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,GACxC2hF,GAAsBx1F,EAAK6T,EAC7B,GACF,GACC,CACDnoB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GAIvC,IAHA,IAAIu/E,EAAazP,GAAU9vE,GACvB6K,EAAU,GACVxrB,EAAQ,EACHrJ,EAAI,EAAGA,EAAIupG,EAAYvpG,IAC9B60B,EAAQrzB,KAAK,CACX+3F,MAAOO,GAAU9vE,EAAM3gB,GACvB0vF,MAAOe,GAAU9vE,EAAM3gB,EAAQ,KAEjCA,GAAS,EAEX8M,EAAIozF,WAAaA,EACjBpzF,EAAI0e,QAAUA,CAChB,GACF,GACC,CACDhzB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAIu/E,EAAazP,GAAU9vE,GACvB6K,EAAU,GACVxrB,EAAQ,EACZ,GAAoB,IAAhB8M,EAAIgH,QACN,IAAK,IAAInd,EAAI,EAAGA,EAAIupG,EAAYvpG,IAC9B60B,EAAQrzB,KAAK,CACX+3F,MAAOO,GAAU9vE,EAAM3gB,GACvB6R,OAAQ4+E,GAAU9vE,EAAM3gB,EAAQ,KAElCA,GAAS,OAGX,IAAK,IAAIwiG,EAAM,EAAGA,EAAMtC,EAAYsC,IAClCh3E,EAAQrzB,KAAK,CACX+3F,MAAOO,GAAU9vE,EAAM3gB,GACvB6R,SAAwC,GAA7B4+E,GAAU9vE,EAAM3gB,EAAQ,MAErCA,GAAS,EAGb8M,EAAIozF,WAAaA,EACjBpzF,EAAI0e,QAAUA,CAChB,GACF,GACC,CACDhzB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GAIvC,IAHA,IAAIu/E,EAAazP,GAAU9vE,GACvB6K,EAAU,GACVxrB,EAAQ,EACHrJ,EAAI,EAAGA,EAAIupG,EAAYvpG,IAC9B60B,EAAQrzB,KAAK,CACXsqG,WAAYhS,GAAU9vE,EAAM3gB,GAC5B0iG,gBAAiBjS,GAAU9vE,EAAM3gB,EAAQ,GACzCg8F,uBAAwBvL,GAAU9vE,EAAM3gB,EAAQ,KAElDA,GAAS,GAEX8M,EAAIozF,WAAaA,EACjBpzF,EAAI0e,QAAUA,CAChB,GACF,GACC,CACDhzB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAIgiF,EAAalS,GAAU9vE,GACvBs+E,EAAcxO,GAAU9vE,EAAM,GAC9BiiF,EAAa,GACjB,IAAKD,EAEH,IADA,IAAI3iG,EAAQ,EACHrJ,EAAI,EAAGA,EAAIsoG,EAAatoG,IAC/BisG,EAAWzqG,KAAKs4F,GAAU9vE,EAAM3gB,IAChCA,GAAS,EAGb8M,EAAI61F,WAAaA,EACjB71F,EAAImyF,YAAcA,EAClBnyF,EAAI81F,WAAaA,CACnB,GACF,GACC,CACDpqG,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GAIvC,IAHA,IAAIu/E,EAAazP,GAAU9vE,GACvB6K,EAAU,GACVxrB,EAAQ,EACHrJ,EAAI,EAAGA,EAAIupG,EAAYvpG,IAC9B60B,EAAQrzB,KAAKs4F,GAAU9vE,EAAM3gB,IAC7BA,GAAS,EAEX8M,EAAIozF,WAAaA,EACjBpzF,EAAI0e,QAAUA,CAChB,GACF,GACC,CACDhzB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GAIvC,IAHA,IAAIu/E,EAAazP,GAAU9vE,GACvB6K,EAAU,GACVxrB,EAAQ,EACHrJ,EAAI,EAAGA,EAAIupG,EAAYvpG,IAC9B60B,EAAQrzB,KAAKu4F,GAAU/vE,EAAM3gB,IAC7BA,GAAS,EAEX8M,EAAIozF,WAAaA,EACjBpzF,EAAI0e,QAAUA,CAChB,GACF,GACC,CACDhzB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GAIvC,IAHA,IAAIu/E,EAAazP,GAAU9vE,GACvB6K,EAAU,GACVxrB,EAAQ,EACHrJ,EAAI,EAAGA,EAAIupG,EAAYvpG,IAC9B60B,EAAQrzB,KAAKs4F,GAAU9vE,EAAM3gB,IAC7BA,GAAS,EAEX8M,EAAIozF,WAAaA,EACjBpzF,EAAI0e,QAAUA,CAChB,GACF,GACC,CACDhzB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAI+1F,KAAO7H,EAAW6H,KAAK7H,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIg2F,KAAO9H,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAOqG,KAAI,SAASolB,GAChE,OAAOuvE,EAAW8H,KAAKr3E,EACzB,GACF,GACF,GACC,CACDjzB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC7T,EAAIwqF,eAAiB7G,GAAU9vE,EACjC,GACF,GACC,CACDnoB,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAO,SAASxuF,EAAK6T,EAAM3gB,GAC9C8M,EAAIi2F,KAAO/H,EAAW+H,KAAK/H,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIk2F,KAAOhI,EAAWgI,KAAKhI,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,IACrE8M,EAAIm2F,KAAOjI,EAAWiI,KAAKjI,EAAWK,QAAQ16E,EAAM,CAAC,QAAS3gB,GAAO,GACvE,GACF,GACC,CACDxH,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACvC,IAAI7M,EAAUhH,EAAIgH,QAAS4nF,EAAQ5uF,EAAI4uF,MACnC3K,EAAUpwE,EAAKnrB,OACfypG,EAAcnyF,EAAImyF,YAAcxO,GAAU9vE,GAC1C9O,EAAS,EAUb,GATIk/E,EAAUl/E,GAAkB,EAAR6pF,IACtB5uF,EAAIo2F,aAA0C,GAA1BzS,GAAU9vE,EAAM9O,IACpCA,GAAU,GAERk/E,EAAUl/E,GAAkB,EAAR6pF,IACtB5uF,EAAIq2F,iBAAmB1S,GAAU9vE,EAAM9O,GACvCA,GAAU,GAEZ/E,EAAIi1E,QAAU,GACVgP,EAAUl/E,EAEZ,IADA,IAAImwE,EACKrrF,EAAI,EAAGA,EAAIsoG,EAAatoG,IAC/BqrF,EAAS,CAAC,EACE,IAAR0Z,IACF1Z,EAAO3xE,SAAWogF,GAAU9vE,EAAM9O,GAClCA,GAAU,GAEA,IAAR6pF,IACF1Z,EAAOhwC,KAAOy+C,GAAU9vE,EAAM9O,GAC9BA,GAAU,GAEA,KAAR6pF,IACF1Z,EAAO0Z,MAAQjL,GAAU9vE,EAAM9O,GAC/BA,GAAU,GAEA,KAAR6pF,IAEA1Z,EAAOohB,IADLtvF,IAC4C,GAA9B28E,GAAU9vE,EAAM9O,EAAS,IAE5B4+E,GAAU9vE,EAAM9O,GAE/BA,GAAU,GAEZ/E,EAAIi1E,QAAQ5pF,KAAK6pF,EAGvB,GACF,GACC,CACDxpF,IAAK,OACLsB,MAAO,SAAcwhG,GACnB,OAAOC,GAASD,GAAK,GAAM,SAASxuF,EAAK6T,GACnB,IAAhB7T,EAAIgH,QACNhH,EAAIkhF,oBAAsB0C,GAAU/vE,GAEpC7T,EAAIkhF,oBAAsByC,GAAU9vE,EAExC,GACF,GACC,CACDnoB,IAAK,QACLsB,MAAO,SAAe6mB,GACpB,QAASq6E,EAAWK,QAAQ16E,EAAM,CAAC,QACrC,GACC,CACDnoB,IAAK,mBACLsB,MAAO,SAA0B4hG,GAC/B,MAAO,CACL2H,WAAuB,GAAX3H,EAAM,MAAa,EAC/BnR,UAAsB,EAAXmR,EAAM,GACjB4H,cAA0B,IAAX5H,EAAM,MAAc,EACnC6H,eAA2B,GAAX7H,EAAM,MAAa,EACnC8H,cAA0B,GAAX9H,EAAM,MAAa,EAClClR,gBAA4B,EAAXkR,EAAM,GACvB+H,oBAAqB/H,EAAM,IAAM,EAAIA,EAAM,GAE/C,GACC,CACDljG,IAAK,cACLsB,MAAO,SAAqB4pG,EAAMhgB,EAAY4I,GAC5C,IAAIqX,EAASC,EACTC,EAASH,EAAKzG,KAClB,GAAK4G,GAAWA,EAAOruG,OAAvB,CAEA,IAAIsuG,EAASD,EAAOp5E,MAAK,SAASgB,GAChC,IAAIs4E,EAASC,EACb,MAAgL,UAAjJ,QAAtBD,EAAUt4E,EAAE4xE,YAA8B,IAAZ0G,GAAgE,QAAjCC,EAAeD,EAAQxG,YAAmC,IAAjByG,OAAnD,EAAsFA,EAAavG,YACjK,IACIwG,EAASJ,EAAOp5E,MAAK,SAASgB,GAChC,IAAIy4E,EAAUC,EACd,MAAsL,UAAtJ,QAAvBD,EAAWz4E,EAAE4xE,YAA+B,IAAb6G,GAAmE,QAAnCC,EAAgBD,EAAS3G,YAAoC,IAAlB4G,OAArD,EAAyFA,EAAc1G,YACvK,IACA,GAAIqG,GAAUpgB,EAAY,CACxB,IAAI0gB,EAAcC,EAAcC,EAAmBC,EAAuBC,EAAeC,EAAoBC,EACzGC,EAAIjhB,EACJkhB,EAA6C,QAAhCR,EAAeN,EAAO1G,YAAmC,IAAjBgH,OAA0B,EAASA,EAAa5I,QACvF,OAAdoJ,QAAoC,IAAdA,IACxBD,EAAE3iG,GAAK8hG,EAAO1G,KAAK5B,SACrBmJ,EAAEE,aAAef,EAAO1G,KAAK/sF,SAC7Bs0F,EAAEG,YAAcpB,EAAK1G,KAAK3sF,SAC1Bs0F,EAAEI,aAAerB,EAAK1G,KAAKpc,UAC3B+jB,EAAE/jB,UAAY+jB,EAAEjL,gBAAkBoK,EAAOzG,KAAKC,KAAK1c,UACnD+jB,EAAEt0F,SAAWyzF,EAAOzG,KAAKC,KAAKjtF,UAAYs0F,EAAEG,YAAcH,EAAEI,aAAeJ,EAAE/jB,UAC7E,IAyBMokB,EAAUC,EAAeC,EAAWC,EAAgBC,EAAWC,EAAgBC,EAAWC,EAzB5FC,EAAK1B,EAAOzG,KAAKG,KAAKI,KAAKO,KAAK3yE,QAAQ,GAM5C,GALAm5E,EAAEl6F,MAAQ+6F,EAAG/6F,MACbk6F,EAAEj6F,OAAS86F,EAAG96F,OACV86F,EAAG1E,OACL6D,EAAElQ,SAAW,CAAC+Q,EAAG1E,KAAKsB,SAAUoD,EAAG1E,KAAKuB,WAEtCmD,EAAGrQ,KACLwP,EAAEv2E,UAAYi7D,GAAeE,KAC7Bob,EAAEjjB,MAAQ8jB,EAAGrQ,KAAKzT,MAClBijB,EAAEjP,IAAM8P,EAAGrQ,KAAKO,IAChBiP,EAAExR,IAAMqS,EAAGrQ,KAAKhC,IAChBwR,EAAEnN,IAAMgO,EAAGrQ,KAAKqC,IAChBmN,EAAExP,KAAOqQ,EAAGrQ,KAAKx0E,SACZ,KAAI6kF,EAAG3E,KAKZ,MAAM,IAAI53E,MAAM,4BAJhB07E,EAAEjjB,MAAQ8jB,EAAG3E,KAAKnf,MAClBijB,EAAExR,IAAMqS,EAAG3E,KAAK1N,IAChBwR,EAAEnN,IAAMgO,EAAG3E,KAAKrJ,GAGlB,CAKA,GAJAmN,EAAEpN,SAAU,EACZoN,EAAEzuF,IAAM,CAAC,EACTyuF,EAAEzuF,IAAI4oF,KAAwC,QAAhCuF,EAAeP,EAAOzG,YAAmC,IAAjBgH,GAA+E,QAA3CC,EAAoBD,EAAa7G,YAAwC,IAAtB8G,GAA6F,QAApDC,EAAwBD,EAAkB1G,YAA4C,IAA1B2G,OAAlK,EAA8MA,EAAsBzF,KACpT6F,EAAEzuF,IAAImoF,KAAyC,QAAjCmG,EAAgBV,EAAOzG,YAAoC,IAAlBmH,GAAkF,QAA7CC,EAAqBD,EAAchH,YAAyC,IAAvBiH,GAA+F,QAArDC,EAAwBD,EAAmB7G,YAA4C,IAA1B8G,OAAtK,EAAkNA,EAAsBrG,KACtTmH,GAAkB,SAAZA,EAAGllG,KAEXqkG,EAAElN,mBAAoB,EACtB+N,EAAGxE,YAAuC,QAAxBgE,EAAWQ,EAAG7G,YAA+B,IAAbqG,GAAmE,QAAnCC,EAAgBD,EAASpG,YAAoC,IAAlBqG,OAArD,EAAyFA,EAAcpG,KAAKmC,YACpLwE,EAAGzE,oBAAgD,QAAzBmE,EAAYM,EAAG7G,YAAgC,IAAduG,GAAsE,QAArCC,EAAiBD,EAAUtG,YAAqC,IAAnBuG,OAAvD,EAA4FA,EAAetG,KAAKkC,oBAClMyE,EAAG9G,gBAA4C,QAAzB0G,EAAYI,EAAG7G,YAAgC,IAAdyG,GAAsE,QAArCC,EAAiBD,EAAUxG,YAAqC,IAAnByG,OAAvD,EAA4FA,EAAexG,KAAKH,gBAC9LiG,EAAEc,UAAY3B,EAAOzG,KAAKG,KAAKI,KAAKmB,MAAQ+E,EAAOzG,KAAKG,KAAKI,KAAKmB,KAAKhd,QACvEyjB,EAAGtE,YAAwC,QAAzBoE,EAAYE,EAAG7G,YAAgC,IAAd2G,GAAsE,QAArCC,EAAiBD,EAAUrE,YAAqC,IAAnBsE,OAAvD,EAA4FA,EAAerE,YACrLyD,EAAEe,OAAShC,EAAKgC,OAChBf,EAAEgB,SAAWjC,EAAKiC,SAClBhB,EAAEzH,KAAOwG,EAAKxG,KACdyH,EAAEiB,KAAOJ,CAEb,CACA,GAAIvB,GAAU3X,EAAY,CACxB,IAAIuZ,EAAcC,EAAUC,EAAUC,EAAcC,EAAmBC,EAAuBC,EAAeC,EAAoBC,EAC7HjxG,EAAIk3F,EACJga,EAA6C,QAAhCT,EAAe5B,EAAO7G,YAAmC,IAAjByI,OAA0B,EAASA,EAAarK,QACvF,OAAd8K,QAAoC,IAAdA,IACxBlxG,EAAE4M,GAAKiiG,EAAO7G,KAAK5B,SACrBpmG,EAAEyvG,aAAeZ,EAAO7G,KAAK/sF,SAC7Bjb,EAAE0vG,YAAcpB,EAAK1G,KAAK3sF,SAC1Bjb,EAAE2vG,aAAerB,EAAK1G,KAAKpc,UAC3BxrF,EAAEwrF,UAAYxrF,EAAEskG,gBAAkBuK,EAAO5G,KAAKC,KAAK1c,UACnDxrF,EAAEib,SAAW4zF,EAAO5G,KAAKC,KAAKjtF,UAAYjb,EAAE0vG,YAAc1vG,EAAE2vG,aAAe3vG,EAAEwrF,UAC7E,IAuCM2lB,EAASC,EAAcC,EAAUC,EAAeC,EAAUC,EAAeC,EAAUC,EAvCrF1nF,EAAK6kF,EAAO5G,KAAKG,KAAKI,KAAKO,KAAK3yE,QAAQ,GAK5C,OAJAp2B,EAAEutG,WAAavjF,EAAGujF,WAClBvtG,EAAEysF,WAAaziE,EAAGyiE,WAClBzsF,EAAE+rF,aAAe/hE,EAAG+hE,aACpB/rF,EAAEmiG,SAAU,EACJn4E,EAAG9e,MACT,IAAK,OACHlL,EAAEg5B,UAAYh5B,EAAEssF,MAAQ8H,GAAeE,SACvCt0F,EAAEysF,WAAa,IACf,MACF,IAAK,OACHzsF,EAAEg5B,UAAYh5B,EAAEssF,MAAQ8H,GAAeG,SACvCv0F,EAAEysF,WAAa,IACf,MACF,QACEzsF,EAAEg5F,eAAiB3E,GAAI8B,iBAAiBn2F,EAAEysF,WAAYzsF,EAAEwrF,WACxDxrF,EAAEslG,gBAAkBjR,GAAIsd,mBAAmB3xG,EAAEysF,YAC7CzsF,EAAE+1F,YAAsC,QAAvBwY,EAAUvkF,EAAGshF,YAA8B,IAAZiD,OAAqB,EAASA,EAAQxY,aAAe,EACjG/rE,EAAGshF,OACLtrG,EAAEmJ,OAASlI,MAAMsG,KAAKyiB,EAAGshF,KAAKniG,SAChCnJ,EAAEssF,OAAkC,QAAxBkiB,EAAWxkF,EAAGshF,YAA+B,IAAbkD,OAAsB,EAASA,EAASliB,QAAU,YAC9F,MAiBJ,GAfAtsF,EAAEg5F,eAAiB3E,GAAI8B,iBAAiBn2F,EAAEysF,WAAYzsF,EAAEwrF,WACxDxrF,EAAE+1F,YAAuC,QAAxB2a,EAAW1mF,EAAGshF,YAA+B,IAAboF,OAAsB,EAASA,EAAS3a,aAAe,EACpG/rE,EAAGshF,OACDthF,EAAGshF,KAAKniG,OACVnJ,EAAEmJ,OAASlI,MAAMsG,KAAKyiB,EAAGshF,KAAKniG,QAE9BQ,QAAQX,KAAK,wBAGjBhJ,EAAEssF,OAAkC,QAAxBqkB,EAAW3mF,EAAGshF,YAA+B,IAAbqF,OAAsB,EAASA,EAASrkB,QAAU,YAC9FtsF,EAAEslG,gBAAkBjR,GAAIsd,mBAAmB3xG,EAAEysF,YAC7CzsF,EAAE8gB,IAAM,CAAC,EACT9gB,EAAE8gB,IAAI4oF,KAAwC,QAAhCkH,EAAe/B,EAAO5G,YAAmC,IAAjB2I,GAA+E,QAA3CC,EAAoBD,EAAaxI,YAAwC,IAAtByI,GAA6F,QAApDC,EAAwBD,EAAkBrI,YAA4C,IAA1BsI,OAAlK,EAA8MA,EAAsBpH,KACpT1pG,EAAE8gB,IAAImoF,KAAyC,QAAjC8H,EAAgBlC,EAAO5G,YAAoC,IAAlB8I,GAAkF,QAA7CC,EAAqBD,EAAc3I,YAAyC,IAAvB4I,GAA+F,QAArDC,EAAwBD,EAAmBxI,YAA4C,IAA1ByI,OAAtK,EAAkNA,EAAsBhI,KAC1TjpG,EAAEmiG,SAAU,EACRn4E,GAAkB,SAAZA,EAAG9e,KAEXlL,EAAEwiG,mBAAoB,EACtBx4E,EAAG8hF,YAAsC,QAAvBqF,EAAUnnF,EAAGu/E,YAA8B,IAAZ4H,GAAgE,QAAjCC,EAAeD,EAAQtF,YAAmC,IAAjBuF,OAAnD,EAAsFA,EAAatF,YACzK9hF,EAAG4hF,YAAuC,QAAxByF,EAAWrnF,EAAGu/E,YAA+B,IAAb8H,GAAmE,QAAnCC,EAAgBD,EAAS7H,YAAoC,IAAlB8H,OAArD,EAAyFA,EAAc7H,KAAKmC,YACpL5hF,EAAG2hF,oBAA+C,QAAxB4F,EAAWvnF,EAAGu/E,YAA+B,IAAbgI,GAAmE,QAAnCC,EAAgBD,EAAS/H,YAAoC,IAAlBgI,OAArD,EAAyFA,EAAc/H,KAAKkC,oBAC5L3hF,EAAGs/E,gBAA2C,QAAxBmI,EAAWznF,EAAGu/E,YAA+B,IAAbkI,GAAmE,QAAnCC,EAAgBD,EAASjI,YAAoC,IAAlBkI,OAArD,EAAyFA,EAAcjI,KAAKH,gBACxLtpG,EAAE4xG,UAAY/C,EAAO5G,KAAKG,KAAKI,KAAKmB,MAAQkF,EAAO5G,KAAKG,KAAKI,KAAKmB,KAAKhd,QACvE3sF,EAAEswG,OAAShC,EAAKgC,OAChBtwG,EAAEuwG,SAAWjC,EAAKiC,SAClBvwG,EAAE6xG,KAAO7nF,CAEb,CAGA,GAFAktE,IAAeA,EAAWmL,oBAAoB/T,GAAaA,EAAW+T,mBACtE/T,IAAeA,EAAWkU,oBAAoBtL,GAAaA,EAAWsL,mBACnD,OAAflU,QAAsC,IAAfA,GAAyBA,EAAWkiB,MAAuB,OAAftZ,QAAsC,IAAfA,GAAyBA,EAAW2a,KAAM,CACtI,IAAIC,EAAkBC,EAClBC,EAAsB,OAAf1jB,QAAsC,IAAfA,GAA0E,QAAxCwjB,EAAmBxjB,EAAWkiB,YAAuC,IAArBsB,OAA1D,EAAiGA,EAAiBlG,YACxKqG,EAAsB,OAAf/a,QAAsC,IAAfA,GAA0E,QAAxC6a,EAAmB7a,EAAW2a,YAAuC,IAArBE,OAA1D,EAAiGA,EAAiBnG,YACxKhB,EAAMoH,GAAQC,GAAQD,GAAQC,GAAM/gG,KAAK,IAAM,KACnDo9E,IAAeA,EAAWsc,IAAMA,GAChC1T,IAAeA,EAAW0T,IAAMA,EAClC,CAGA,OAFAtc,IAAeA,EAAWgY,MAAQ,MAClCpP,IAAeA,EAAWoP,MAAQ,MAC3B,CACLhY,aACA4I,aAtIM,CAwIV,GACC,CACD9zF,IAAK,0BACLsB,MAAO,SAAiC4pF,EAAY4I,EAAYgb,GAC9D,IAAIC,EACAC,EAAkC,OAAflb,QAAsC,IAAfA,GAAgF,QAA9Cib,EAAsBjb,EAAWvK,eAA6C,IAAxBwlB,OAAhE,EAA0GA,EAAoB/xG,OACpM,IAAKgyG,EACH,OAAO,KACT,IAAIC,EAAkB,KAAOD,EAAmBlb,EAAW1L,UAC3D,OAAO6mB,EAAkB/jB,EAAW9C,UAAY0mB,CAClD,GACC,CACD9uG,IAAK,gBACLsB,MAAO,SAAuB4tG,EAAMhkB,EAAY4I,GAC9C,IAAIx/E,EAAM,CAAC,EAuDX,OAtDI46F,EAAK7E,OACHnf,IACFA,EAAW4T,eAAiBoQ,EAAK7E,KAAKvL,gBACpChL,IACFA,EAAWgL,eAAiBoQ,EAAK7E,KAAKvL,iBAE1CoQ,EAAK5E,KAAKvqG,SAAQ,SAASouC,GACzB,IAAIo8D,EAAOp8D,EAAKo8D,KAAMC,EAAOr8D,EAAKq8D,KAAMC,EAAOt8D,EAAKs8D,KACpD,GAAKF,GAASE,EAAd,CAEID,IACEtf,GAAcA,EAAW1hF,KAAO+gG,EAAKvH,UACvC9X,EAAWsK,oBAAsBgV,EAAKhV,qBACpC1B,GAAcA,EAAWtqF,KAAO+gG,EAAKvH,UACvClP,EAAW0B,oBAAsBgV,EAAKhV,sBAE1C,IAAI2Z,EAAc5E,EAAK7G,mBAAqB,EACxC0L,EAAkB7E,EAAK9G,uBAAyBjB,EAAW6M,wBAAwBnkB,EAAY4I,EAAY2W,EAAKlhB,QAAQvsF,QAAUytG,EAAKhE,aACvIptF,EAASoxF,EAAKC,YAAc,EAC5BxY,EAAM,EACNxI,GAAS,EACb,IAAK+gB,EAAKlhB,QAAQvsF,QAAUytG,EAAKhE,YAAa,CAC5CnyF,EAAIi2F,EAAKvH,SAAW,GACpB,IAAK,IAAI7kG,EAAI,EAAGA,EAAIssG,EAAKhE,YAAatoG,IACpCmW,EAAIi2F,EAAKvH,SAASrjG,KAAK,CACrB0Z,SACA64E,MACAr6E,SAAUu3F,EACV51D,KAAM21D,IAERjd,GAAOkd,EACP/1F,GAAU81F,CAEd,MACE76F,EAAIi2F,EAAKvH,SAAWyH,EAAKlhB,QAAQ17E,KAAI,SAASmnC,EAAGztC,GAgB/C,OAfAytC,EAAI,CACF37B,SACA64E,MACAL,IAAKK,GAAOl9C,EAAE41D,KAAO,GACrB/yF,SAAUm9B,EAAEn9B,UAAYu3F,EACxB51D,KAAMxE,EAAEwE,MAAQ21D,EAChBzlB,QACA6V,SAAoB,IAAVh4F,GAA2B,OAAZytC,EAAEkuD,YAA8B,IAAZluD,EAAEkuD,QAA+B,MAAVluD,EAAEkuD,SAAmB,IAAM,OAE7FluD,EAAEuqD,WACJ7V,IACA10C,EAAE00C,MAAQA,GAEZwI,GAAOl9C,EAAEn9B,SACTwB,GAAU27B,EAAEwE,KACLxE,CACT,GA1CM,CA4CV,IACO1gC,CACT,GACC,CACDtU,IAAK,gBACLsB,MAAO,SAAuB4pG,GAC5B,IAAIG,EAASH,EAAKzG,KAClB,GAAK4G,GAAWA,EAAOruG,OAAvB,CAEA,IAAIsuG,EAASD,EAAOp5E,MAAK,SAASgB,GAChC,IAAIq8E,EAAUC,EACd,MAAsL,UAAtJ,QAAvBD,EAAWr8E,EAAE4xE,YAA+B,IAAbyK,GAAmE,QAAnCC,EAAgBD,EAASvK,YAAoC,IAAlBwK,OAArD,EAAyFA,EAActK,YACvK,IACIwG,EAASJ,EAAOp5E,MAAK,SAASgB,GAChC,IAAIu8E,EAAUC,EACd,MAAsL,UAAtJ,QAAvBD,EAAWv8E,EAAE4xE,YAA+B,IAAb2K,GAAmE,QAAnCC,EAAgBD,EAASzK,YAAoC,IAAlB0K,OAArD,EAAyFA,EAAcxK,YACvK,IACA,GAAKqG,GAAWG,EAAhB,CAEA,IAAIiE,EACAC,EACJ,GAAIrE,EAAQ,CACV,IAAIsE,EAAeC,EACfC,EAA8C,QAAjCF,EAAgBtE,EAAOzG,YAAoC,IAAlB+K,GAAkF,QAA7CC,EAAqBD,EAAc5K,YAAyC,IAAvB6K,OAA/D,EAAwGA,EAAmBzK,KAChN,IAAK0K,EACH,OACF,IAAIlK,EAAOkK,EAAUlK,KAAME,EAAOgK,EAAUhK,KAAMC,EAAO+J,EAAU/J,KAAMC,EAAO8J,EAAU9J,KAAMM,EAAOwJ,EAAUxJ,KAAMT,EAAOiK,EAAUjK,KACxI,IAAKD,IAASE,IAASC,IAASC,IAASM,EACvC,OACFoJ,EAAeK,GAAWnK,EAAME,EAAMC,EAAMC,EAAMH,EAAMS,EAC1D,CACA,GAAImF,EAAQ,CACV,IAAIuE,EAAeC,EAAoBC,EACnCC,EAA8C,QAAjCH,EAAgBvE,EAAO5G,YAAoC,IAAlBmL,GAAkF,QAA7CC,EAAqBD,EAAchL,YAAyC,IAAvBiL,OAA/D,EAAwGA,EAAmB7K,KAChN,IAAK+K,EACH,OACF,IAAI/nB,EAAuD,QAA1C8nB,EAAoBzE,EAAO5G,KAAKC,YAAwC,IAAtBoL,OAA+B,EAASA,EAAkB9nB,UACzHgoB,EAAQD,EAAUvK,KAAMyK,EAAQF,EAAUrK,KAAMwK,EAAQH,EAAUpK,KAAMwK,EAAQJ,EAAUnK,KAC9F,IAAK5d,IAAcgoB,IAAUC,IAAUC,IAAUC,EAC/C,OACFZ,EAAeI,GAAWK,EAAOC,EAAOC,EAAOC,EACjD,CACA,MAAO,CACLb,eACAC,eA1BM,CAVA,CAsCV,KAEKnN,CACT,CAjiCgC,GAkiChC,SAASuN,GAAWnK,EAAME,EAAMC,EAAMC,EAAMH,EAAMS,GAChD,IAMIkK,EAOAC,EAUAjnB,EAvBAD,EAAU,GACVmnB,EAAuB,OAAT7K,QAA0B,IAATA,OAAkB,EAASA,EAAK7yE,QAC/D29E,EAAc7K,EAAK9yE,QACnB49E,EAAc5K,EAAKhzE,QACnB69E,EAAiB9K,EAAKqE,WACtB0G,EAAuB,OAATxK,QAA0B,IAATA,OAAkB,EAASA,EAAKtzE,QAE/D89E,IACFN,EAAc,CAAC,EACfM,EAAY/wG,SAAQ,SAASkW,GAC3Bu6F,EAAYv6F,EAAI,IAAK,CACvB,KAGEy6F,IACFD,EAAU,GACVC,EAAY3wG,SAAQ,SAAS0qF,GAE3B,IADA,IAAIiN,EAAQjN,EAAMiN,MAAOr+E,EAASoxE,EAAMpxE,OAC/Blb,EAAI,EAAGA,EAAIu5F,EAAOv5F,IACzBsyG,EAAQ9wG,KAAK0Z,EAEjB,KAGF,IAAIqwE,GAAS,EACTwI,EAAM,EACN/5E,EAAM,EACN44F,EAAa,EACbC,EAAgB,EAChBC,EAAgB,EAChBC,EAAoBP,EAAY,GAAGzG,gBACnCiH,EAAiBR,EAAY,GAAKA,EAAY,GAAG1G,WAAa,EAAIviF,IAqCtE,OApCAk+E,EAAK5yE,QAAQjzB,SAAQ,SAASkrF,GAE5B,IADA,IAAIyM,EAAQzM,EAAMyM,MAAOR,EAAQjM,EAAMiM,MAC9B/4F,EAAI,EAAGA,EAAIu5F,EAAOv5F,IACzBqrF,EAAS,CACP0I,MACAr6E,SAAUq/E,EACV19C,KAAMq3D,EAAe14F,IAAQ4tF,EAAKoE,WAClC9wF,OAAQu3F,EAAYG,GAAcE,EAClC1pG,MAAO4Q,GAEL24F,IACFtnB,EAAO+V,SAAWiR,EAAYr4F,GAC1BqxE,EAAO+V,UACT7V,IAEFF,EAAOE,MAAQA,GAEb+mB,GAAWt4F,EAAMs4F,EAAQzzG,SAC3BwsF,EAAOqI,IAAMrI,EAAO0I,IAAMue,EAAQt4F,IAEpCoxE,EAAQ5pF,KAAK6pF,GACb0I,GAAOgF,EACP/+E,IACIA,EAAM+4F,EACRD,GAAiBznB,EAAOhwC,MAExBu3D,IACAE,EAAgB,EACZF,GAAcI,IAChBH,IACAG,EAAiBR,EAAYK,EAAgB,GAAKL,EAAYK,EAAgB,GAAG/G,WAAa,EAAIviF,KAEpGwpF,GAAqBP,EAAYK,GAAe9G,gBAGtD,IACO3gB,CACT,CACA,SAASqf,GAAuBt0F,EAAK6T,GAQnC,OAPA7T,EAAI88F,mBAAqBrZ,GAAU5vE,EAAM,GACzC7T,EAAIrC,MAAQ8lF,GAAU5vE,EAAM,IAC5B7T,EAAIpC,OAAS6lF,GAAU5vE,EAAM,IAC7B7T,EAAI6zF,gBAAkBlQ,GAAU9vE,EAAM,IACtC7T,EAAI8zF,eAAiBnQ,GAAU9vE,EAAM,IACrC7T,EAAI+8F,WAAatZ,GAAU5vE,EAAM,IACjC7T,EAAI0uE,MAAQ+U,GAAU5vE,EAAM,IACrB,EACT,CACA,SAAS2hF,GAAsBx1F,EAAK6T,GAKlC,OAJA7T,EAAI88F,mBAAqBrZ,GAAU5vE,EAAM,GACzC7T,EAAIq0E,aAAeoP,GAAU5vE,EAAM,IACnC7T,EAAI61F,WAAapS,GAAU5vE,EAAM,IACjC7T,EAAI+0E,WAAa4O,GAAU9vE,EAAM,IAAM,MAChC,EACT,CACA,SAAS46E,GAASD,EAAKwO,EAAW3yE,GAChC,GAAKmkE,EAAL,CAEA,GAAIA,EAAItpD,OAASspD,EAAI36E,KAAKnrB,OACxB,MAAM,IAAIyzB,MAAM,OAAO1yB,OAAO+kG,EAAIh7F,KAAM,0BAC1C,IAAIwM,EAAM,CACR9M,MAAOs7F,EAAIt7F,MACXgyC,KAAMspD,EAAItpD,KACVkpD,WAAYI,EAAIJ,WAChB56F,KAAMg7F,EAAIh7F,MAQZ,OANIwpG,IACFh9F,EAAIgH,QAAUwnF,EAAI36E,KAAK26E,EAAIJ,YAC3BpuF,EAAI4uF,MAAQlL,GAAU8K,EAAI36E,KAAM26E,EAAIJ,WAAa,GACjDpuF,EAAIouF,YAAc,GAEpB/jE,EAAMrqB,EAAKwuF,EAAI36E,KAAK6qE,SAAS1+E,EAAIouF,YAAapuF,EAAI9M,MAAQ8M,EAAIouF,YACvDpuF,CAfC,CAgBV,CACA,IAAI/F,GAAW,SAAmBC,EAAKxR,EAAQyR,GAC7C,IAAIC,EAAUxJ,OAAOuJ,GACjB/J,EAAM1H,GAAU,EAChB2R,EAAS3E,KAAK4E,KAAKlK,EAAMgK,EAAQ1R,QACjC6R,EAAQ,GACRC,EAAI5J,OAAOsJ,GACf,MAAOG,IACLE,EAAMlP,KAAK+O,GAEb,OAAOG,EAAMf,KAAK,IAAIiB,UAAU,EAAGrK,EAAMoK,EAAE9R,QAAU8R,CACvD,EACIq4F,GAAQ,WAEV,IADA,IAAIt0F,EAAM,GACDzM,EAAOrJ,UAAUC,OAAQsE,EAAQ,IAAIzD,MAAMuI,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAChFhF,EAAMgF,GAAQvJ,UAAUuJ,GAK1B,OAHAhF,EAAMvB,SAAQ,SAASmM,GACrB2G,EAAIlT,KAAK4O,GAASpJ,OAAO+G,GAAM5H,SAAS,IAAK,EAAG,GAClD,IACOuO,EAAI,EACb,ECnqCI0+F,GAA4B,WAC9B,SAASC,IACP,GAAgBl0G,KAAMk0G,GACtB,IAAIC,EAASnsG,OAAOmsG,QAAUnsG,OAAOosG,SACrCp0G,KAAKq0G,OAASF,IAAWA,EAAOE,QAAUF,EAAOG,cACjDt0G,KAAKu0G,kBAAoB,IAC3B,CA+GA,OA9GA,GAAaL,EAAY,CAAC,CACxBxxG,IAAK,UACLsB,MAAO,WACL,IAAIwwG,EACqD,QAApDA,EAAwBx0G,KAAKu0G,yBAAyD,IAA1BC,GAAoCA,EAAsBlkF,SACzHtwB,KAAKu0G,kBAAkBjkF,SAE3B,GACC,CACD5tB,IAAK,UACLsB,MAAO,SAAiByV,EAAO8F,GAC7B,GAAK9F,GAAU8F,EAAf,CAEA,IAAIvI,EAAM,GAOV,OANIyC,IACFzC,EAAI,GAAKhX,KAAKy0G,gBAAgBh7F,IAE5B8F,IACFvI,EAAI,GAAKhX,KAAKy0G,gBAAgBl1F,IAEzBN,QAAQoa,IAAIriB,EARX,CASV,GACC,CACDtU,IAAK,kBACLsB,MAAO,WACL,IAAI0wG,EAAmBn0B,GAAkC1F,KAAsBmE,MAAK,SAAS8R,EAAS6jB,GACpG,IAAI9pF,EACJ,OAAOgwD,KAAsBU,MAAK,SAAmB0V,GACnD,MAAO,SACGA,EAAU3R,KAAO2R,EAAU3jE,MACjC,KAAK,EAEH,GADAzC,EAAO8pF,EAAI9pF,MACN8pF,EAAIjyG,IAAK,CACZuuF,EAAU3jE,KAAO,EACjB,KACF,CAEA,OADA2jE,EAAU3jE,KAAO,EACVttB,KAAK40G,aAAaD,EAAI9pF,KAAM8pF,EAAIjyG,IAAKiyG,EAAIE,OAClD,KAAK,EACHhqF,EAAOomE,EAAUzT,KACnB,KAAK,EACH,GAAIm3B,EAAIpkG,IAAK,CACX0gF,EAAU3jE,KAAO,EACjB,KACF,CACA,OAAO2jE,EAAUtT,OAAO,SAAU9yD,GACpC,KAAK,EACH,OAAOomE,EAAUtT,OAAO,SAAUkM,GAAiB8qB,EAAIpkG,IAAKsa,IAC9D,KAAK,EACL,IAAK,MACH,OAAOomE,EAAU5hB,OAEzB,GAAGyhB,EAAU9wF,KACf,KACA,SAASy0G,EAAgBxhB,GACvB,OAAOyhB,EAAiB30G,MAAMC,KAAMP,UACtC,CACA,OAAOg1G,CACT,CAlCO,IAmCN,CACD/xG,IAAK,eACLsB,MAAO,WACL,IAAI8wG,EAAgBv0B,GAAkC1F,KAAsBmE,MAAK,SAASyT,EAAS5nE,EAAMnoB,EAAKwmG,GAC5G,IAAI6L,EACJ,OAAOl6B,KAAsBU,MAAK,SAAmBqX,GACnD,MAAO,SACGA,EAAUtT,KAAOsT,EAAUtlE,MACjC,KAAK,EACH,IAAKttB,KAAKu0G,kBAAmB,CAC3B3hB,EAAUtlE,KAAO,EACjB,KACF,CAEA,OADAslE,EAAUtlE,KAAO,EACVttB,KAAKu0G,kBAAkBS,QAAQnqF,EAAMnoB,EAAKwmG,GACnD,KAAK,EACH,OAAOtW,EAAUjV,OAAO,SAAUiV,EAAUpV,MAC9C,KAAK,EACH,GAAIx9E,KAAKq0G,OAAQ,CACfzhB,EAAUtlE,KAAO,EACjB,KACF,CACA,MAAM,IAAI6F,MAAM,yBAClB,KAAK,EAEH,OADAy/D,EAAUtlE,KAAO,GACVttB,KAAKq0G,OAAOY,UAAU,MAAOvyG,EAAK,CACvCwE,KAAM,YACL,EAAO,CAAC,UAAW,YACxB,KAAK,GAIH,OAHA6tG,EAASniB,EAAUpV,KACnBoV,EAAUsiB,GAAKprB,WACf8I,EAAUtlE,KAAO,GACVttB,KAAKq0G,OAAOW,QAAQ,CACzB9tG,KAAM,UACNgiG,MACC6L,EAAQlqF,GACb,KAAK,GAEH,OADA+nE,EAAUuiB,GAAKviB,EAAUpV,KAClBoV,EAAUjV,OAAO,SAAU,IAAIiV,EAAUsiB,GAAGtiB,EAAUuiB,KAC/D,KAAK,GACL,IAAK,MACH,OAAOviB,EAAUvjB,OAEzB,GAAGojB,EAAUzyF,KACf,KACA,SAAS40G,EAAaQ,EAAKC,EAAKC,GAC9B,OAAOR,EAAc/0G,MAAMC,KAAMP,UACnC,CACA,OAAOm1G,CACT,CA/CO,MAiDFV,CACT,CAtHgC,GCM5BqB,GAA8B,WAChC,SAASC,EAAa5nB,EAAY4I,EAAYC,GAC5C,GAAgBz2F,KAAMw1G,GACtBx1G,KAAK4tF,WAAaA,GAAc,IAAI0T,GACpCthG,KAAKw2F,WAAaA,GAAc,IAAIoL,GACpC5hG,KAAKy2F,cAAgBA,GAAiB,IAAI+L,EAC5C,CA8FA,OA7FA,GAAagT,EAAc,CAAC,CAC1B9yG,IAAK,QACLsB,MAAO,SAAeyxG,EAAWC,GAC/B,IAAI9nB,EAAa5tF,KAAK4tF,WAAY4I,EAAax2F,KAAKw2F,WAChDmf,EAAa/nB,EAAWoK,QACxB4d,EAAapf,EAAWwB,QAG5B,GAFApK,EAAW3B,QAAU,GACrBuK,EAAWvK,QAAU,GACjBypB,EAAW,CACb,IAAKE,EAAY,CACf,IAAIC,EAAU5Q,GAAUM,QAAQmQ,EAAW,CAAC,SAAS,GACrD,IAAKG,EACH,MAAM,IAAI1iF,MAAM,yBAClB8xE,GAAU6Q,YAAY7Q,GAAU2I,KAAKiI,GAAU,KAAMrf,EACvD,CACA,IAAIuf,EAAU9Q,GAAUM,QAAQmQ,EAAW,CAAC,SAAS,GACrD,GAAIK,EAAS,CACX,IAAI9pB,EAAUgZ,GAAU+Q,cAAc/Q,GAAU2M,KAAKmE,GAAU,KAAMvf,GAAYA,EAAWtqF,IACxFgsF,EAAsB1B,EAAW0B,oBACrC,GAAIjM,EAAS,CACX,IAAIgqB,EAAaF,EAAQ7rG,MACzB+hF,EAAQ17E,KAAI,SAASoI,GACnBA,EAAEoD,QAAUk6F,EACZ,IAAIC,EAAaR,EAAUhgB,SAAS/8E,EAAEoD,OAAQpD,EAAEoD,OAASpD,EAAEujC,MAC3Ds6C,EAAWvK,QAAQ5pF,KAAK,IAAIgyF,GAAY17E,EAAEi8E,IAAMsD,EAAqBge,EAAYv9F,EAAE4B,UACrF,GACF,CACF,CACF,CACA,GAAIk7F,EAAW,CACb,IAAKE,IAAeC,EAAY,CAC9B,IAAIO,EAAWlR,GAAUM,QAAQkQ,EAAW,CAAC,SAAS,GACtD,IAAKU,EACH,MAAM,IAAIhjF,MAAM,yBAClB8xE,GAAU6Q,YAAY7Q,GAAU2I,KAAKuI,GAAWvoB,EAAY4I,EAC9D,CACA,IAAI4f,EAAWnR,GAAUM,QAAQkQ,EAAW,CAAC,SAAS,GACtD,GAAIW,EAAU,CACZ,IAII3W,EAJAsO,EAAS9I,GAAU+Q,cAAc/Q,GAAU2M,KAAKwE,GAAWxoB,EAAY4I,GACvE6f,EAA2BzoB,EAAWsK,oBACtCoe,EAA2B9f,EAAW0B,oBACtCqe,EAAcH,EAASlsG,MAE3B/K,OAAO2C,KAAKisG,GAAQtrG,SAAQ,SAAS8mB,GAC/BqkE,EAAW1hF,IAAMqd,EACnBwkF,EAAOxkF,GAAGhZ,KAAI,SAASoI,GACrBA,EAAEoD,QAAUw6F,EACZ,IAAIrqB,EAAS,IAAI6V,IAAappF,EAAE47E,KAAO57E,EAAEi8E,KAAOyhB,EAA0B19F,EAAEi8E,IAAMyhB,GAClFnqB,EAAO3xE,SAAW5B,EAAE4B,SACpB2xE,EAAOE,MAAQzzE,EAAEyzE,MACbzzE,EAAEspF,UACJ/V,EAAOiY,gBACT,IAAI+R,EAAaT,EAAU/f,SAAS/8E,EAAEoD,OAAQpD,EAAEoD,OAASpD,EAAEujC,MAC3DgwC,EAAOrhE,KAAOqrF,EACd,IAAIhsG,EAAQ,EACR9C,EAAM8uG,EAAWx2G,OAAS,EAC9B,MAAOwK,EAAQ9C,EACbq4F,EAAU9E,GAAUub,EAAYhsG,GAChCA,GAAS,EACTgiF,EAAOK,MAAMlqF,KAAK6zG,EAAWxgB,SAASxrF,EAAOA,EAAQu1F,IACrDv1F,GAASu1F,EAEX7R,EAAW3B,QAAQ5pF,KAAK6pF,EAC1B,IACSsK,EAAWtqF,IAAMqd,GAC1BwkF,EAAOxkF,GAAGhZ,KAAI,SAASoI,GACrBA,EAAEoD,QAAUw6F,EACZ,IAAIL,EAAaT,EAAU/f,SAAS/8E,EAAEoD,OAAQpD,EAAEoD,OAASpD,EAAEujC,MAC3Ds6C,EAAWvK,QAAQ5pF,KAAK,IAAIgyF,GAAY17E,EAAEi8E,IAAM0hB,EAA0BJ,EAAYv9F,EAAE4B,UAC1F,GAEJ,GACF,CACF,CACA,MAAO,CACLqzE,aACA4I,aACAC,cAAez2F,KAAKy2F,cAExB,GACC,CACD/zF,IAAK,QACLsB,MAAO,WACLhE,KAAK4tF,WAAWh6B,QAChB5zD,KAAKw2F,WAAW5iC,QAChB5zD,KAAKy2F,cAAc7iC,OACrB,IACE,CAAC,CACHlxD,IAAK,QACLsB,MAAO,SAAe6mB,GACpB,OAAOo6E,GAAUuR,MAAM3rF,EACzB,KAEK2qF,CACT,CArGkC,GCPlC,SAASiB,GAAOC,GAEd,IADA,IAAI9vB,EAAc,EACT99E,EAAOrJ,UAAUC,OAAQi3G,EAAS,IAAIp2G,MAAMuI,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IACpG2tG,EAAO3tG,EAAO,GAAKvJ,UAAUuJ,GAE/B2tG,EAAOl0G,SAAQ,SAAS4D,GACtBugF,GAAevgF,EAAI3G,MACrB,IACA,IAAIgG,EAAS,IAAIgxG,EAAkB9vB,GAC/B7qE,EAAS,EAKb,OAJA46F,EAAOl0G,SAAQ,SAAS4D,GACtBX,EAAOikB,IAAItjB,EAAK0V,GAChBA,GAAU1V,EAAI3G,MAChB,IACOgG,CACT,CACA,IAAI,GAAyB,WAC3B,SAASogF,IACP,GAAgB9lF,KAAM8lF,GACtB9lF,KAAK8xF,OAAS,IAAIhI,WAAW,EAC/B,CA2BA,OA1BA,GAAahE,EAAS,CAAC,CACrBpjF,IAAK,QACLsB,MAAO,WAEL,IADA,IAAIqB,EAAOrF,KACFqJ,EAAQ5J,UAAUC,OAAQoyF,EAAS,IAAIvxF,MAAM8I,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACtFwoF,EAAOxoF,GAAS7J,UAAU6J,GAE5BwoF,EAAOrvF,SAAQ,SAASmM,GAClBA,EACFvJ,EAAKysF,OAAS2kB,GAAO3sB,WAAYzkF,EAAKysF,OAAQljF,GAE9C5G,OAAOiB,QAAQX,KAAKsG,EAExB,GACF,IACE,CAAC,CACHlM,IAAK,cACLsB,MAAO,SAAqBA,GAC1B,OAAO,IAAI8lF,WAAW,CAAC9lF,GAAS,EAAI,IAAa,IAARA,GAC3C,GACC,CACDtB,IAAK,cACLsB,MAAO,SAAqBA,GAC1B,OAAO,IAAI8lF,WAAW,CAAC9lF,GAAS,GAAIA,GAAS,GAAK,IAAKA,GAAS,EAAI,IAAa,IAARA,GAC3E,KAEK8hF,CACT,CAhC6B,GCbzB8wB,GAAalqG,KAAK8tF,IAAI,EAAG,IAAM,EAC/B3S,GAAsB,WACxB,SAASgvB,IACP,GAAgB72G,KAAM62G,EACxB,CA0/CA,OAz/CA,GAAaA,EAAM,KAAM,CAAC,CACxBn0G,IAAK,MACLsB,MAAO,SAAawG,GAClB,IAAK,IAAI1B,EAAOrJ,UAAUC,OAAQsyE,EAAU,IAAIzxE,MAAMuI,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IACrGgpE,EAAQhpE,EAAO,GAAKvJ,UAAUuJ,GAEhCgpE,EAAUA,EAAQ/vE,OAAOiD,SACzB,IAAIg3C,EAAO,EAAI81B,EAAQ3xE,QAAO,SAASsE,EAAGnF,GACxC,OAAOmF,EAAInF,EAAEuqF,UACf,GAAG,GACC/yE,EAAM,IAAI8yE,WAAW5tC,GACzBllC,EAAI,GAAKklC,GAAQ,GAAK,IACtBllC,EAAI,GAAKklC,GAAQ,GAAK,IACtBllC,EAAI,GAAKklC,GAAQ,EAAI,IACrBllC,EAAI,GAAY,IAAPklC,EACTllC,EAAI2S,IAAInf,EAAM,GACd,IAAIuR,EAAS,EAKb,OAJAi2D,EAAQvvE,SAAQ,SAASooB,GACvB7T,EAAI2S,IAAIkB,EAAM9O,GACdA,GAAU8O,EAAKk/D,UACjB,IACO/yE,CACT,GACC,CACDtU,IAAK,OACLsB,MAAO,SAAc+pG,GACnB,IAAI7S,EAAS6S,EAAOp5E,MAAK,SAASgB,GAChC,OAAOA,EAAEnrB,OAAS4oF,GAAUtD,OAASn6D,EAAE2C,YAAci7D,GAAeE,IACtE,IACA,OAAOyH,EAAS2b,EAAKC,SAAWD,EAAKE,QACvC,GACC,CACDr0G,IAAK,cACLsB,MAAO,SAAqB+pG,GAC1B,IAAIiJ,EAAOH,EAAKG,KAAKjJ,GACjBt3E,EAAO,GAAiBugF,EAAMH,EAAKjJ,KAAKG,IAC5C,OAAOt3E,CACT,GACC,CACD/zB,IAAK,OACLsB,MAAO,SAAc6mB,GACnB,IAAIosF,EAAU,IAAIntB,WAAW,CAC3B,EACA,EACA,EACA,GACArpF,OAAO,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,CAAC,EAAG,EAAG,EAAG,GAAI4gC,GAAMxW,EAAKq/E,KAAM,CAAC,EAAG,EAAG,EAAG,KAC5H,OAAO2M,EAAKrR,IAAIqR,EAAKnkB,MAAM0U,KAAM6P,EACnC,GACC,CACDv0G,IAAK,OACLsB,MAAO,SAAc+pG,GACnB,GAAIA,EAAO,GAAG6B,SAAW7B,EAAO,GAAG+B,MAAQ/B,EAAO,GAAGoD,MAAO,CACrDpD,EAAO,GAAG3G,OACb2G,EAAO,GAAG3G,KAAO,CACf8C,IAAK6D,EAAO,GAAG7D,MAGnB,IAAI9C,EAAOpnG,KAAKonG,KAAK2G,EAAO,GAAG3G,MAC/B,OAAOyP,EAAKrR,IAAIzlG,MAAM82G,EAAM,CAACA,EAAKnkB,MAAMkb,KAAMiJ,EAAK3P,KAAK6G,EAAO,GAAGiB,aAAejB,EAAO,GAAGxzF,SAAUwzF,EAAO,GAAGkB,cAAgBlB,EAAO,GAAGjjB,WAAY+rB,EAAKK,KAAKnJ,IAASttG,OAAO,GAAmBstG,EAAOx9F,KAAI,SAASolB,GACpN,OAAOkhF,EAAK1P,KAAKxxE,EACnB,KAAK,CAACyxE,IACR,CACE,OAAOyP,EAAKrR,IAAIzlG,MAAM82G,EAAM,CAACA,EAAKnkB,MAAMkb,KAAMiJ,EAAK3P,KAAK6G,EAAO,GAAGiB,aAAejB,EAAO,GAAGxzF,SAAUwzF,EAAO,GAAGkB,cAAgBlB,EAAO,GAAGjjB,YAAYrqF,OAAO,GAAmBstG,EAAOx9F,KAAI,SAASolB,GACjM,OAAOkhF,EAAK1P,KAAKxxE,EACnB,KAAK,CAACkhF,EAAKK,KAAKnJ,KAEpB,GACC,CACDrrG,IAAK,OACLsB,MAAO,SAAcuW,GACnB,IAAIuwE,EAAYrrF,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,IAC7E03G,EAAQN,EAAKrR,IAAIqR,EAAKnkB,MAAMwU,KAAM,IAAIpd,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAgB,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAvwE,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAO48F,CACT,GACC,CACDz0G,IAAK,OACLsB,MAAO,SAAc2nF,GACnB,IAAIyrB,EAAQP,EAAKrR,IAAIqR,EAAKnkB,MAAMyU,KAAM0P,EAAKvP,KAAK3b,EAAMz/E,GAAIy/E,EAAMojB,cAAgB,EAAGpjB,EAAMh3E,MAAOg3E,EAAM/2E,QAASiiG,EAAKtP,KAAK5b,IACzH,OAAOyrB,CACT,GACC,CACD10G,IAAK,OACLsB,MAAO,SAAckI,EAAIqO,GACvB,IAAI5F,EAAQlV,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzEmV,EAASnV,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAC1E43G,EAAQR,EAAKrR,IAAIqR,EAAKnkB,MAAM4U,KAAM,IAAIxd,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA59E,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACAqO,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA5F,GAAS,EAAI,IACL,IAARA,EACA,EACA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,KAEF,OAAOyiG,CACT,GACC,CACD30G,IAAK,OACLsB,MAAO,SAAc2nF,GACnB,IAAI2rB,EAAQT,EAAKrR,IAAIqR,EAAKnkB,MAAM6U,KAAMsP,EAAKrP,KAAK7b,EAAMpxE,SAAUoxE,EAAMb,WAAY+rB,EAAKpP,KAAK9b,EAAMnhF,MAAOqsG,EAAKnP,KAAK/b,IACnH,OAAO2rB,CACT,GACC,CACD50G,IAAK,OACLsB,MAAO,SAAcuW,GACnB,IAAIuwE,EAAYrrF,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,IAC7E83G,EAAQV,EAAKrR,IAAIqR,EAAKnkB,MAAM8U,KAAM,IAAI1d,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAgB,GAAa,GAAK,IAClBA,GAAa,GAAK,IAClBA,GAAa,EAAI,IACL,IAAZA,EACAvwE,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,GACA,IACA,EACA,KAEF,OAAOg9F,CACT,GACC,CACD70G,IAAK,OACLsB,MAAO,SAAcwG,GACnB,IAAIgtG,EAAQX,EAAKrR,IAAIqR,EAAKnkB,MAAM+U,KAAMoP,EAAKY,WAAWjtG,IACtD,OAAOgtG,CACT,GACC,CACD90G,IAAK,OACLsB,MAAO,SAAc2nF,GACnB,IAAI+rB,EAAQb,EAAKrR,IAAIqR,EAAKnkB,MAAMgV,KAAM/b,EAAMnhF,OAAS4oF,GAAUtD,MAAQ+mB,EAAKc,KAAOd,EAAKe,KAAMf,EAAKgB,KAAMhB,EAAK/O,KAAKnc,IACnH,OAAO+rB,CACT,GACC,CACDh1G,IAAK,OACLsB,MAAO,SAAc2nF,GACnB,IAAImsB,EAAS,GACTnsB,GAASA,EAAMvrE,KACjBurE,EAAMvrE,IAAI4oF,MAAQ8O,EAAOz1G,KAAKw0G,EAAK7N,KAAKrd,EAAMvrE,IAAI4oF,KAAKtzE,UAEzD,IAAIqiF,EAAQlB,EAAKrR,IAAIqR,EAAKnkB,MAAMoV,KAAM+O,EAAKxO,KAAK1c,GAAQkrB,EAAKmB,KAAMF,EAAO,GAAIjB,EAAKoB,KAAMpB,EAAKqB,KAAMrB,EAAKsB,MACzG,OAAOJ,CACT,GACC,CACDr1G,IAAK,OACLsB,MAAO,SAAc2nF,GACnB,IAAIsrB,EAGAA,EAFe,UAAftrB,EAAMnhF,KACJmhF,EAAMikB,QAAUjkB,EAAMwlB,KACd0F,EAAK1F,KAAKxlB,GAEVkrB,EAAKtM,KAAK5e,GAEbA,EAAMikB,QAAUjkB,EAAMmkB,KACrB+G,EAAK/G,KAAKnkB,GAEVkrB,EAAKuB,SAASzsB,GAE1B,IAAI0sB,EAAQxB,EAAKrR,IAAIqR,EAAKnkB,MAAM2V,KAAM,IAAIve,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACEmtB,GACJ,OAAOoB,CACT,GACC,CACD31G,IAAK,OACLsB,MAAO,SAAc6mB,GACnB,IAAIwgE,EAAexgE,EAAKsmF,KAAK9lB,aACzBU,EAAalhE,EAAKsmF,KAAKplB,WACvBkrB,EAAU,IAAIntB,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAuB,EACA,EACA,GACA,EACA,EACA,EACA,EACAU,GAAc,EAAI,IACL,IAAbA,EACA,EACA,IAEE6e,EAAOiM,EAAKjM,KAAK//E,EAAKpiB,QACtBogG,EAAOgO,EAAKhO,KAAKh+E,EAAKsmF,MAC1B,OAAO0F,EAAKrR,IAAIqR,EAAKnkB,MAAMye,KAAM8F,EAASrM,EAAM/B,EAClD,GACC,CACDnmG,IAAK,OACLsB,MAAO,SAAc2nF,GACnB,IAAI2sB,EAAgBznE,EAChBwsD,EAAM1R,EAAM0R,IAAI39F,OAAS,EAAIisF,EAAM0R,IAAI,GAAK,GAC5CqE,EAAM/V,EAAM+V,IAAIhiG,OAAS,EAAIisF,EAAM+V,IAAI,GAAK,GAC5C/sF,EAAQg3E,EAAMh3E,MACdC,EAAS+2E,EAAM/2E,OACf03F,EAAW3gB,EAAMgT,SAAS,GAC1B4N,EAAW5gB,EAAMgT,SAAS,GAC1BsY,EAAU,IAAIntB,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAn1E,GAAS,EAAI,IACL,IAARA,EACAC,GAAU,EAAI,IACL,IAATA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,KAEE2jG,EAAO,IAAIzuB,YAAYwuB,GAAkBznE,EAAO,CAClD,EACAwsD,EAAI,GACJA,EAAI,GACJA,EAAI,GACJ,IACA,IACAA,EAAI39F,SAAW,EAAI,IACN,IAAb29F,EAAI39F,SACHe,OAAOV,MAAM8wC,EAAM,GAAmBwsD,IAAM58F,OAAO,CAAC,EAAGihG,EAAIhiG,SAAW,EAAI,IAAkB,IAAbgiG,EAAIhiG,UAAgBe,OAAOV,MAAMu4G,EAAgB,GAAmB5W,KAClJ8W,EAAO,IAAI1uB,WAAW,CAAC,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,EAAG,EAA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AKsW,EAAEjZ,QAAU,EAAGiZ,EAAEjZ,SAC1BkxD,EAAQ/lC,GAAMxoB,KAAKtC,MAAM6wD,EAAO,GAAmBj4C,GACtD,EACIinF,EAAIlgG,SACNmrB,EAAKxoB,KAAK,IAAK,EAAGu9F,EAAIlgG,QACtBkgG,EAAIn9F,QAAQ02G,IAEV9b,EAAI39F,SACNmrB,EAAKxoB,KAAK,IAAK,EAAGg7F,EAAI39F,QACtB29F,EAAI56F,QAAQ02G,IAEVzX,EAAIhiG,SACNmrB,EAAKxoB,KAAK,IAAK,EAAGq/F,EAAIhiG,QACtBgiG,EAAIj/F,QAAQ02G,GAEhB,MACEtuF,EAAO,CACL,EACA,EACA,GACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,IACA,IACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAOgsF,EAAKrR,IAAIqR,EAAKnkB,MAAM2M,KAAM,IAAIvV,WAAWj/D,GAClD,GACC,CACDnoB,IAAK,OACLsB,MAAO,SAAc2pF,GACnB,IAAIyrB,EAAQ,GAAezrB,EAAO,GAAI2e,EAAW8M,EAAM,GAAI7M,EAAW6M,EAAM,GAC5E,OAAOvC,EAAKrR,IAAIqR,EAAKnkB,MAAMsY,KAAM,IAAIlhB,WAAW,CAACwiB,GAAY,GAAIA,GAAY,GAAK,IAAKA,GA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","sources":["webpack://jdzj/./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","webpack://jdzj/./src/pages/detail/Detail.vue","webpack://jdzj/./src/pages/detail/components/DetailHeader.vue","webpack://jdzj/./node_modules/xgplayer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://jdzj/./node_modules/xgplayer/es/utils/debug.js","webpack://jdzj/./node_modules/xgplayer/es/utils/xgplayerTimeRange.js","webpack://jdzj/./node_modules/xgplayer/es/utils/util.js","webpack://jdzj/./node_modules/xgplayer/es/utils/sniffer.js","webpack://jdzj/./node_modules/xgplayer/es/version.js","webpack://jdzj/./node_modules/xgplayer/es/error.js","webpack://jdzj/./node_modules/xgplayer/es/events.js","webpack://jdzj/./node_modules/xgplayer/es/mediaProxy.js","webpack://jdzj/./node_modules/xgplayer/es/utils/database.js","webpack://jdzj/./node_modules/xgplayer/es/constant.js","webpack://jdzj/./node_modules/xgplayer/es/plugin/hooksDescriptor.js","webpack://jdzj/./node_modules/xgplayer/es/plugin/basePlugin.js","webpack://jdzj/./node_modules/xgplayer/es/plugin/plugin.js","webpack://jdzj/./node_modules/xgplayer/es/plugin/resizeObserver.js","webpack://jdzj/./node_modules/xgplayer/es/plugin/pluginsManager.js","webpack://jdzj/./node_modules/xgplayer/es/stateClassMap.js","webpack://jdzj/./node_modules/xgplayer/es/defaultConfig.js","webpack://jdzj/./node_modules/xgplayer/es/plugin/preset.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/controls/index.js","webpack://jdzj/./node_modules/xgplayer/es/lang/en.js","webpack://jdzj/./node_modules/xgplayer/es/lang/i18n.js","webpack://jdzj/./node_modules/xgplayer/es/state.js","webpack://jdzj/./node_modules/xgplayer/es/player.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/logger/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/replay.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/replay/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/poster/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/play.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/pause.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/start/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/enter/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/common/iconTools.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","webpack://jdzj/./node_modules/xgplayer/es/utils/draggabilly.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/miniScreen/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/pc/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/mobile/touch.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/seekicon.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/mobile/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/keyboard/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/loading.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/loading/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/progress/innerList.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/progress/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/common/iconPlugin.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/play/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/back.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/fullscreen/backicon.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/requestFull.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/exitFull.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/fullscreen/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/time/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/time/timesegments.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/volumeLarge.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/volumeSmall.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/volumeMuted.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/volume/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/rotate.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/rotate/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/pipIcon.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/pipIconExit.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/pip/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/playNext.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/playNext/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/download.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/download/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/screenShot/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/common/optionList.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/common/optionsIcon.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/definition/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/playbackRate/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/requestCssFull.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/assets/exitCssFull.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/cssFullScreen/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/error/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/prompt/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/progressPreview/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/common/thumbnail.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/progress/miniProgress.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/dynamicBg/index.js","webpack://jdzj/./node_modules/xgplayer/es/lang/zh-cn.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/stats/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/gapJump/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/testspeed/index.js","webpack://jdzj/./node_modules/xgplayer/es/plugins/fpsDetect/index.js","webpack://jdzj/./node_modules/xgplayer/es/presets/default.js","webpack://jdzj/./node_modules/xgplayer/es/index.umd.js","webpack://jdzj/./node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/event.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/logger.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/buffer.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/error.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/streaming-helper.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/services/sei.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/services/gap.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/services/stats.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/utils.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/env.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/mse.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/utils/logger.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/model/types.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/model/audio-sample.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/utils/env.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/codec/aac.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/utils/index.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/codec/nalu.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/codec/avc.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/codec/hevc.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/model/video-track.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/model/audio-track.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/model/video-sample.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/model/metadata-track.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mp4/buffer.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mp4/mp4.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mp4/logger.js","webpack://jdzj/./node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/constants.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/buffer-service/index.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/config.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/types.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/error.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/is.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/helper.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/fetch.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/config.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/xhr.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/task.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/net/index.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/utils.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/playlist/stream.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/playlist/index.js","webpack://jdzj/./node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/segment-loader/index.js","webpack://jdzj/./node_modules/xgplayer-hls/es/hls/index.js","webpack://jdzj/./node_modules/xgplayer-hls/es/plugin-extension.js","webpack://jdzj/./node_modules/xgplayer-hls/es/plugin.js","webpack://jdzj/./src/common/XGBackPlugin.js","webpack://jdzj/./src/common/JujiPlugin.js","webpack://jdzj/./src/common/event-bus.js","webpack://jdzj/src/pages/detail/components/DetailHeader.vue","webpack://jdzj/./src/pages/detail/components/DetailHeader.vue?827e","webpack://jdzj/./src/pages/detail/components/DetailHeader.vue?a9e1","webpack://jdzj/./src/pages/detail/components/DetailInfo.vue","webpack://jdzj/src/pages/detail/components/DetailInfo.vue","webpack://jdzj/./src/pages/detail/components/DetailInfo.vue?a018","webpack://jdzj/./src/pages/detail/components/DetailInfo.vue?d0f1","webpack://jdzj/src/pages/detail/Detail.vue","webpack://jdzj/./src/pages/detail/Detail.vue?dc13","webpack://jdzj/./src/pages/detail/Detail.vue?c792","webpack://jdzj/./node_modules/delegate/src/closest.js","webpack://jdzj/./node_modules/delegate/src/delegate.js","webpack://jdzj/./node_modules/downloadjs/download.js","webpack://jdzj/./node_modules/eventemitter3/index.js","webpack://jdzj/./node_modules/vant/es/col/index.js","webpack://jdzj/./node_modules/vant/es/icon/index.js","webpack://jdzj/./node_modules/vant/es/info/index.js","webpack://jdzj/./node_modules/vant/es/mixins/bind-event.js","webpack://jdzj/./node_modules/vant/es/utils/vnodes.js","webpack://jdzj/./node_modules/vant/es/mixins/relation.js","webpack://jdzj/./node_modules/vant/es/popup/index.js","webpack://jdzj/./node_modules/vant/es/row/index.js","webpack://jdzj/./node_modules/vant/es/utils/create/bem.js","webpack://jdzj/./node_modules/vant/es/utils/format/string.js","webpack://jdzj/./node_modules/vant/es/mixins/slots.js","webpack://jdzj/./node_modules/vant/es/utils/create/component.js","webpack://jdzj/./node_modules/vant/es/utils/deep-assign.js","webpack://jdzj/./node_modules/vant/es/locale/lang/zh-CN.js","webpack://jdzj/./node_modules/vant/es/locale/index.js","webpack://jdzj/./node_modules/vant/es/utils/create/i18n.js","webpack://jdzj/./node_modules/vant/es/utils/create/index.js","webpack://jdzj/./node_modules/vant/es/utils/dom/event.js","webpack://jdzj/./node_modules/vant/es/utils/dom/scroll.js","webpack://jdzj/./node_modules/vant/es/utils/format/unit.js","webpack://jdzj/./node_modules/vant/es/utils/validate/number.js","webpack://jdzj/./node_modules/vant/es/utils/functional.js","webpack://jdzj/./node_modules/vant/es/utils/index.js","webpack://jdzj/./node_modules/vant/lib/col/style/index.js","webpack://jdzj/./node_modules/vant/lib/icon/style/index.js","webpack://jdzj/./node_modules/vant/lib/popup/style/index.js","webpack://jdzj/./node_modules/vant/lib/row/style/index.js","webpack://jdzj/./node_modules/@babel/runtime/helpers/esm/extends.js"],"sourcesContent":["\"use strict\";function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=[].concat(d,e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=[].concat(g,h)}else c[b][f]=a[b][f];}else if(\"hook\"===b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('detail-header',{attrs:{\"detail\":_vm.detail,\"playPosMap\":_vm.playPosMap}}),_c('detail-info',{attrs:{\"detail\":_vm.detail}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"player-wrapper\"},[_c('div',{attrs:{\"id\":\"mse\"}})])\n}]\n\nexport { render, staticRenderFns }","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","var XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nvar STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nvar XGTAG = \"%c[xgplayer]\";\nvar XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function logInfo(message) {\n    var _console;\n    for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      optionalParams[_key - 1] = arguments[_key];\n    }\n    this.config.debug >= 3 && (_console = console).log.apply(_console, [XGTAG, STYLE.info, message].concat(optionalParams));\n  },\n  logWarn: function logWarn(message) {\n    var _console2;\n    for (var _len2 = arguments.length, optionalParams = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      optionalParams[_key2 - 1] = arguments[_key2];\n    }\n    this.config.debug >= 1 && (_console2 = console).warn.apply(_console2, [XGTAG, STYLE.warn, message].concat(optionalParams));\n  },\n  logError: function logError(message) {\n    var _console3;\n    if (this.config.debug < 1) {\n      return;\n    }\n    var _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    for (var _len3 = arguments.length, optionalParams = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      optionalParams[_key3 - 1] = arguments[_key3];\n    }\n    (_console3 = console)[_fun].apply(_console3, [XGTAG, STYLE.error, message].concat(optionalParams));\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar XgplayerTimeRange = /* @__PURE__ */ function() {\n  function XgplayerTimeRange2(bufferedList) {\n    _classCallCheck(this, XgplayerTimeRange2);\n    this.bufferedList = bufferedList;\n  }\n  _createClass(XgplayerTimeRange2, [{\n    key: \"start\",\n    value: function start(index) {\n      return this.bufferedList[index].start;\n    }\n  }, {\n    key: \"end\",\n    value: function end(index) {\n      return this.bufferedList[index].end;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.bufferedList.length;\n    }\n  }]);\n  return XgplayerTimeRange2;\n}();\nexport { XgplayerTimeRange as default };\n","import { typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nvar util = {};\nutil.createDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"div\";\n  var tpl = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var attrs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var cname = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"\";\n  var dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach(function(item) {\n    var key = item;\n    var value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html) {\n  var attrs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  try {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    var dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach(function(key) {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, function(item) {\n      return item === className;\n    });\n  } catch (e) {\n    var orgClassName = el.className && _typeof(el.className) === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && _typeof(el.className) === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach(function(item) {\n        var reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && _typeof(el.className) === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach(function(item) {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  var _arguments = arguments;\n  var classname = [];\n  var _loop = function _loop2(i2) {\n    if (util.typeOf(_arguments[i2]) === \"String\") {\n      classname.push(_arguments[i2]);\n    } else if (util.typeOf(_arguments[i2]) === \"Object\") {\n      Object.keys(_arguments[i2]).map(function(key) {\n        if (_arguments[i2][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  };\n  for (var i = 0; i < arguments.length; i++) {\n    _loop(i);\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;\n  var sel = arguments.length > 1 ? arguments[1] : void 0;\n  var dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  var hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  var minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  var second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    var touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach(function(key) {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map(function(key) {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        var _dst$key;\n        (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  var url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  var a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    var back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, function(node) {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  var id = setTimeout(function() {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (var i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map(function(item) {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  var btn = util.createDom(\"xg-\".concat(name), \"\", {}, \"xgplayer-\".concat(name, \"-img\"));\n  btn.style.backgroundImage = 'url(\"'.concat(imgUrl, '\")');\n  if (width && height) {\n    var w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every(function(item) {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = \"\".concat(w).concat(unit);\n    btn.style.height = \"\".concat(h).concat(unit);\n    btn.style.backgroundSize = \"\".concat(w).concat(unit, \" \").concat(h).concat(unit);\n    if (name === \"start\") {\n      btn.style.margin = \"-\".concat(h / 2).concat(unit, \" auto auto -\").concat(w / 2).concat(unit);\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  var rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    var sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return \"rgba(\".concat(rgb.join(\",\"), \", \").concat(alpha, \")\");\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    var styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map(function(item) {\n      if (item) {\n        var arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map(function(key) {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (var i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom) {\n  var list = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"];\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  var remain = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map(function(key) {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = function(url) {\n  var onload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {\n  };\n  var onerror = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n  };\n  if (!url) {\n    return;\n  }\n  var img = new window.Image();\n  img.onload = function(e) {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = function(e) {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = function(e) {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = function(vbuffered) {\n  var maxHoleDuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;\n  var buffered = [];\n  for (var i = 0; i < vbuffered.length; i++) {\n    buffered.push({\n      start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i),\n      end: vbuffered.end(i)\n    });\n  }\n  buffered.sort(function(a, b) {\n    var diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  var buffered2 = [];\n  if (maxHoleDuration) {\n    for (var _i = 0; _i < buffered.length; _i++) {\n      var buf2len = buffered2.length;\n      if (buf2len) {\n        var buf2end = buffered2[buf2len - 1].end;\n        if (buffered[_i].start - buf2end < maxHoleDuration) {\n          if (buffered[_i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[_i].end;\n          }\n        } else {\n          buffered2.push(buffered[_i]);\n        }\n      } else {\n        buffered2.push(buffered[_i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e) {\n  var zoom = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  var _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  var results = url.split(\"/\");\n  var domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  var _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function() {\n  var did = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  var d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  var event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  var dom = util.createDom(\"xg-bar\", \"\", {\n    \"data-index\": -1\n  }, className);\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function() {\n  var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n    x: 0,\n    y: 0,\n    scale: 1,\n    rotate: 0\n  };\n  var transformValue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var styles = {\n    scale: \"\".concat(pos.scale || 1),\n    translate: \"\".concat(pos.x || 0, \"%, \").concat(pos.y || 0, \"%\"),\n    rotate: \"\".concat(pos.rotate || 0, \"deg\")\n  };\n  var stylesKeys = Object.keys(styles);\n  stylesKeys.forEach(function(key) {\n    var reg = new RegExp(\"\".concat(key, \"\\\\([^\\\\(]+\\\\)\"), \"g\");\n    var fn = \"\".concat(key, \"(\").concat(styles[key], \")\");\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += \"\".concat(fn, \" \");\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  var _len = segments.length;\n  var _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (var i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments) {\n  var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;\n  var _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  var _len = segments.length;\n  var _segments$_index = segments[_index], start = _segments$_index.start, end = _segments$_index.end, cTime = _segments$_index.cTime, offset = _segments$_index.offset;\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  var _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (var i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    var start = segments[_index].start;\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  var type = _typeof(value);\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  var lastInvokeTime = 0;\n  var leading = false;\n  var maxing = false;\n  var trailing = true;\n  var useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  var lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  var pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","var VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nvar H264_MIMETYPES = [\"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"avc1.42E01E\", \"mp4v.20.8\", \"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"mp4v.20.8, mp4a.40.2\", \"mp4v.20.240, mp4a.40.2\"];\nvar sniffer = {\n  get device() {\n    var r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    var reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter(function(key) {\n      return reg[key].test(ua);\n    }))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    var ua = navigator.userAgent;\n    var isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    var isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    var isAndroid = /(?:Android)/.test(ua);\n    var isFireFox = /(?:Firefox)/.test(ua);\n    var isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    var isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    var isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    var isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    var ua = navigator.userAgent;\n    var reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    var _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      var version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    var reg = /(micromessenger)\\/([\\d.]+)/;\n    var match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4: function isSupportMP4() {\n    var result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    var a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map(function(key) {\n        if (a.canPlayType('video/mp4; codecs=\"'.concat(key, '\"')) === \"probably\") {\n          result.isSupport = true;\n          result.mime += \"||\".concat(key);\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport: function isMSESupport() {\n    var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported: function isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported: function probeConfigSupported(info) {\n    var defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      var videoConfig = info.video || {};\n      var audioConfig = info.audio || {};\n      try {\n        var videoSupported = MediaSource.isTypeSupported(videoConfig.contentType);\n        var audioSupported = MediaSource.isTypeSupported(audioConfig.contentType);\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.0.11\";\nexport { version as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport version from \"./version.js\";\nimport util from \"./utils/util.js\";\nvar ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nvar ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nvar Errors = /* @__PURE__ */ _createClass(\n  function Errors2(player) {\n    var errorInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      errorType: \"\",\n      errorCode: 0,\n      errorMessage: \"\",\n      originError: \"\",\n      ext: {},\n      mediaError: null\n    };\n    _classCallCheck(this, Errors2);\n    var ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      var mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      var duration = player.duration, currentTime = player.currentTime, ended = player.ended, src = player.src, currentSrc = player.currentSrc;\n      var _player$media = player.media, readyState = _player$media.readyState, networkState = _player$media.networkState;\n      var _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      var r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map(function(key) {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        var _r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        var arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (var i = 0; i < arguments.length; i++) {\n          _r[arr[i]] = arguments[i];\n        }\n        _r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return _r;\n      }\n    }\n  }\n);\nexport { ERROR_TYPE_MAP, Errors as default };\n","var PLAY = \"play\";\nvar PLAYING = \"playing\";\nvar ENDED = \"ended\";\nvar PAUSE = \"pause\";\nvar ERROR = \"error\";\nvar SEEKING = \"seeking\";\nvar SEEKED = \"seeked\";\nvar TIME_UPDATE = \"timeupdate\";\nvar WAITING = \"waiting\";\nvar CANPLAY = \"canplay\";\nvar CANPLAY_THROUGH = \"canplaythrough\";\nvar DURATION_CHANGE = \"durationchange\";\nvar VOLUME_CHANGE = \"volumechange\";\nvar LOADED_DATA = \"loadeddata\";\nvar LOADED_METADATA = \"loadedmetadata\";\nvar RATE_CHANGE = \"ratechange\";\nvar PROGRESS = \"progress\";\nvar LOAD_START = \"loadstart\";\nvar EMPTIED = \"emptied\";\nvar STALLED = \"stalled\";\nvar SUSPEND = \"suspend\";\nvar ABORT = \"abort\";\nvar BUFFER_CHANGE = \"bufferedChange\";\nvar PLAYER_FOCUS = \"focus\";\nvar PLAYER_BLUR = \"blur\";\nvar READY = \"ready\";\nvar URL_NULL = \"urlNull\";\nvar AUTOPLAY_STARTED = \"autoplay_started\";\nvar AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nvar COMPLETE = \"complete\";\nvar REPLAY = \"replay\";\nvar DESTROY = \"destroy\";\nvar URL_CHANGE = \"urlchange\";\nvar DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nvar FULLSCREEN_CHANGE = \"fullscreen_change\";\nvar CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nvar MINI_STATE_CHANGE = \"mini_state_change\";\nvar DEFINITION_CHANGE = \"definition_change\";\nvar BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nvar AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nvar SEI_PARSED = \"SEI_PARSED\";\nvar RETRY = \"retry\";\nvar VIDEO_RESIZE = \"video_resize\";\nvar PIP_CHANGE = \"pip_change\";\nvar ROTATE = \"rotate\";\nvar SCREEN_SHOT = \"screenShot\";\nvar PLAYNEXT = \"playnext\";\nvar SHORTCUT = \"shortcut\";\nvar XGLOG = \"xglog\";\nvar USER_ACTION = \"user_action\";\nvar RESET = \"reset\";\nvar SOURCE_ERROR = \"source_error\";\nvar SOURCE_SUCCESS = \"source_success\";\nvar SWITCH_SUBTITLE = \"switch_subtitle\";\nvar VIDEO_EVENTS = [\"play\", \"playing\", \"ended\", \"pause\", \"error\", \"seeking\", \"seeked\", \"timeupdate\", \"waiting\", \"canplay\", \"canplaythrough\", \"durationchange\", \"volumechange\", \"loadeddata\", \"loadedmetadata\", \"ratechange\", \"progress\", \"loadstart\", \"emptied\", \"stalled\", \"suspend\", \"abort\", \"lowdecode\"];\nvar STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nvar FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LOADED_DATA, LOADED_METADATA, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, defineProperty as _defineProperty, get as _get, getPrototypeOf as _getPrototypeOf } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return function(e, _err) {\n    var eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      var _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      var callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nvar MediaProxy = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(MediaProxy2, _EventEmitter);\n  var _super = _createSuper(MediaProxy2);\n  function MediaProxy2(options) {\n    var _this;\n    _classCallCheck(this, MediaProxy2);\n    _this = _super.call(this, options);\n    _this._hasStart = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._internalOp = {};\n    _this._lastMuted = false;\n    _this.vtype = \"MP4\";\n    _this._rate = -1;\n    _this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    var playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      _this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete _this.mediaConfig.playsinline;\n      delete _this.mediaConfig[\"webkit-playsinline\"];\n      delete _this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      _this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(_this.mediaConfig, \"muted\")) {\n      _this.mediaConfig.muted = true;\n    }\n    _this.media = util.createDom(_this.mediaConfig.mediaType, \"\", _this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      _this.media.defaultPlaybackRate = _this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      _this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      _this.media.muted = true;\n      _this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      _this.media.autoplay = true;\n    }\n    _this._interval = {};\n    _this.mediaEventMiddleware = {};\n    _this.attachVideoEvents();\n    return _this;\n  }\n  _createClass(MediaProxy2, [{\n    key: \"setEventsMiddleware\",\n    value: function setEventsMiddleware(middlewares) {\n      var _this2 = this;\n      Object.keys(middlewares).map(function(key) {\n        _this2.mediaEventMiddleware[key] = middlewares[key];\n      });\n    }\n  }, {\n    key: \"removeEventsMiddleware\",\n    value: function removeEventsMiddleware(middlewares) {\n      var _this3 = this;\n      Object.keys(middlewares).map(function(key) {\n        delete _this3.mediaEventMiddleware[key];\n      });\n    }\n  }, {\n    key: \"attachVideoEvents\",\n    value: function attachVideoEvents() {\n      var _this4 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      if (!this._evHandlers) {\n        this._evHandlers = VIDEO_EVENTS.map(function(eventKey) {\n          var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n          if (typeof _this4[funName] === \"function\") {\n            _this4.on(eventKey, _this4[funName]);\n          }\n          return _defineProperty({}, eventKey, getVideoEventHandler(eventKey, _this4));\n        });\n      }\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.addEventListener(eventKey, item[eventKey], false);\n      });\n    }\n  }, {\n    key: \"detachVideoEvents\",\n    value: function detachVideoEvents() {\n      var _this5 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.removeEventListener(eventKey, item[eventKey], false);\n      });\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n        if (typeof _this5[funName] === \"function\") {\n          _this5.off(eventKey, _this5[funName]);\n        }\n      });\n      this._evHandlers = null;\n    }\n  }, {\n    key: \"_attachSourceEvents\",\n    value: function _attachSourceEvents(video, urls) {\n      var _this6 = this;\n      video.removeAttribute(\"src\");\n      video.load();\n      urls.forEach(function(item, index) {\n        _this6.media.appendChild(util.createDom(\"source\", \"\", {\n          src: \"\".concat(item.src),\n          type: \"\".concat(item.type || \"\"),\n          \"data-index\": index + 1\n        }));\n      });\n      var _c = video.children;\n      if (!_c) {\n        return;\n      }\n      this._videoSourceCount = _c.length;\n      this._videoSourceIndex = _c.length;\n      this._vLoadeddata = function(e) {\n        _this6.emit(SOURCE_SUCCESS, {\n          src: e.target.currentSrc,\n          host: util.getHostFromUrl(e.target.currentSrc)\n        });\n      };\n      var _eHandler = null;\n      for (var i = 0; i < this._evHandlers.length; i++) {\n        if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n          _eHandler = this._evHandlers[i];\n          break;\n        }\n      }\n      !this._sourceError && (this._sourceError = function(e) {\n        var _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n        _this6._videoSourceIndex--;\n        if (_this6._videoSourceIndex === 0 || _dIndex >= _this6._videoSourceCount) {\n          var _err = {\n            code: 4,\n            message: \"sources_load_error\"\n          };\n          _eHandler ? _eHandler.error(e, _err) : _this6.errorHandler(\"error\", _err);\n        }\n        var type = ERROR_TYPE_MAP[4];\n        _this6.emit(SOURCE_ERROR, new Errors(_this6, {\n          errorType: type,\n          errorCode: 4,\n          errorMessage: \"sources_load_error\",\n          mediaError: {\n            code: 4,\n            message: \"sources_load_error\"\n          },\n          src: e.target.src\n        }));\n      });\n      for (var _i = 0; _i < _c.length; _i++) {\n        _c[_i].addEventListener(\"error\", this._sourceError);\n      }\n      video.addEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"_detachSourceEvents\",\n    value: function _detachSourceEvents(video) {\n      var _c = video.children;\n      if (!_c || _c.length === 0 || !this._sourceError) {\n        return;\n      }\n      for (var i = 0; i < _c.length; i++) {\n        _c[i].removeEventListener(\"error\", this._sourceError);\n      }\n      while (_c.length > 0) {\n        video.removeChild(_c[0]);\n      }\n      this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler(name) {\n      var error = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n      if (this.media && (this.media.error || error)) {\n        var _e = this.media.error || error;\n        var type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n        var message = _e.message;\n        if (!this.media.currentSrc) {\n          message = \"empty_src\";\n          _e = {\n            code: 6,\n            message\n          };\n        }\n        this.emit(name, new Errors(this, {\n          errorType: type,\n          errorCode: _e.code,\n          errorMessage: _e.message || \"\",\n          mediaError: _e\n        }));\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.media) {\n        if (this.media.pause) {\n          this.media.pause();\n          this.media.muted = true;\n        }\n        this.media.removeAttribute(\"src\");\n        this.media.load();\n      }\n      this._currentTime = 0;\n      this._duration = 0;\n      this.mediaConfig = null;\n      for (var k in this._interval) {\n        if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n          clearInterval(this._interval[k]);\n          this._interval[k] = null;\n        }\n      }\n      this.detachVideoEvents();\n      this.media = null;\n      this.mediaEventMiddleware = {};\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"video\",\n    get: function get() {\n      return this.media;\n    },\n    set: function set(media) {\n      this.media = media;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var ret = this.media ? this.media.play() : null;\n      return ret;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.media && this.media.pause();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.media && this.media.load();\n    }\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType(type) {\n      return this.media ? this.media.canPlayType(type) : false;\n    }\n  }, {\n    key: \"getBufferedRange\",\n    value: function getBufferedRange(buffered) {\n      var range = [0, 0];\n      if (!this.media) {\n        return range;\n      }\n      if (!buffered) {\n        buffered = this.media.buffered;\n      }\n      var currentTime = this.media.currentTime;\n      if (buffered) {\n        for (var i = 0, len = buffered.length; i < len; i++) {\n          range[0] = buffered.start(i);\n          range[1] = buffered.end(i);\n          if (range[0] <= currentTime && currentTime <= range[1]) {\n            break;\n          }\n        }\n      }\n      if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n        return range;\n      } else {\n        return [0, 0];\n      }\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return this.media ? this.media.autoplay : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.autoplay = isTrue);\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      return this.media ? this.media.buffered : null;\n    }\n  }, {\n    key: \"buffered2\",\n    get: function get() {\n      return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n    }\n  }, {\n    key: \"bufferedPoint\",\n    get: function get() {\n      var ret = {\n        start: 0,\n        end: 0\n      };\n      if (!this.media) {\n        return ret;\n      }\n      var _buffered = this.media.buffered;\n      if (!_buffered || _buffered.length === 0) {\n        return ret;\n      }\n      for (var i = 0; i < _buffered.length; i++) {\n        if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n          return {\n            start: _buffered.start(i),\n            end: _buffered.end(i)\n          };\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"crossOrigin\",\n    get: function get() {\n      return this.media ? this.media.crossOrigin : \"\";\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.crossOrigin = isTrue);\n    }\n  }, {\n    key: \"currentSrc\",\n    get: function get() {\n      return this.media ? this.media.currentSrc : \"\";\n    },\n    set: function set(src) {\n      this.media && (this.media.currentSrc = src);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (!this.media) {\n        return 0;\n      }\n      return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n    },\n    set: function set(time) {\n      this.media && (this.media.currentTime = time);\n    }\n  }, {\n    key: \"defaultMuted\",\n    get: function get() {\n      return this.media ? this.media.defaultMuted : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.defaultMuted = isTrue);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.media ? this.media.ended : false;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.media.error;\n    }\n  }, {\n    key: \"errorNote\",\n    get: function get() {\n      var err = this.media.error;\n      if (!err) {\n        return \"\";\n      }\n      var status = [\"MEDIA_ERR_ABORTED\", \"MEDIA_ERR_NETWORK\", \"MEDIA_ERR_DECODE\", \"MEDIA_ERR_SRC_NOT_SUPPORTED\"];\n      return status[this.media.error.code - 1];\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return this.media ? this.media.loop : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.loop = isTrue);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.media ? this.media.muted : false;\n    },\n    set: function set(isTrue) {\n      if (!this.media || this.media.muted === isTrue) {\n        return;\n      }\n      this._lastMuted = this.media.muted;\n      this.media.muted = isTrue;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return this.media.networkState;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this.media ? this.media.paused : true;\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.media ? this.media.playbackRate : 0;\n    },\n    set: function set(rate) {\n      if (!this.media || rate === Infinity) {\n        return;\n      }\n      this.media.defaultPlaybackRate = rate;\n      this.media.playbackRate = rate;\n    }\n  }, {\n    key: \"played\",\n    get: function get() {\n      return this.media ? this.media.played : null;\n    }\n  }, {\n    key: \"preload\",\n    get: function get() {\n      return this.media ? this.media.preload : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.preload = isTrue);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return this.media.readyState;\n    }\n  }, {\n    key: \"seekable\",\n    get: function get() {\n      return this.media ? this.media.seekable : false;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return this.media ? this.media.seeking : false;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return this.media ? this.media.src : \"\";\n    },\n    set: function set(url) {\n      if (!this.media) {\n        return;\n      }\n      this.emit(URL_CHANGE, url);\n      this.emit(WAITING);\n      this._currentTime = 0;\n      this._duration = 0;\n      if (util.isMSE(this.media)) {\n        this.onWaiting();\n        return;\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\") {\n        this._attachSourceEvents(this.media, url);\n      } else if (url) {\n        this.media.src = url;\n      } else {\n        this.media.removeAttribute(\"src\");\n      }\n      this.load();\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.media ? this.media.volume : 0;\n    },\n    set: function set(vol) {\n      if (vol === Infinity || !this.media) {\n        return;\n      }\n      this.media.volume = vol;\n    }\n  }, {\n    key: \"addInnerOP\",\n    value: function addInnerOP(event) {\n      this._internalOp[event] = true;\n    }\n  }, {\n    key: \"removeInnerOP\",\n    value: function removeInnerOP(event) {\n      delete this._internalOp[event];\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      var _get2;\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      (_get2 = _get(_getPrototypeOf(MediaProxy2.prototype), \"emit\", this)).call.apply(_get2, [this, event, data].concat(args));\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _get3;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      (_get3 = _get(_getPrototypeOf(MediaProxy2.prototype), \"on\", this)).call.apply(_get3, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _get4;\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      (_get4 = _get(_getPrototypeOf(MediaProxy2.prototype), \"once\", this)).call.apply(_get4, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _get5;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n      (_get5 = _get(_getPrototypeOf(MediaProxy2.prototype), \"off\", this)).call.apply(_get5, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      _get(_getPrototypeOf(MediaProxy2.prototype), \"removeAllListeners\", this).call(this);\n    }\n  }]);\n  return MediaProxy2;\n}(EventEmitter);\nexport { MediaProxy as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar INDEXDB = /* @__PURE__ */ function() {\n  function INDEXDB2() {\n    var mydb = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n      name: \"xgplayer\",\n      version: 1,\n      db: null,\n      ojstore: {\n        name: \"xg-m4a\",\n        keypath: \"vid\"\n      }\n    };\n    _classCallCheck(this, INDEXDB2);\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  _createClass(INDEXDB2, [{\n    key: \"openDB\",\n    value: function openDB(callback) {\n      var _this = this;\n      var self = this;\n      var version = this.myDB.version || 1;\n      var request = self.indexedDB.open(self.myDB.name, version);\n      request.onerror = function(e) {\n      };\n      request.onsuccess = function(e) {\n        _this.myDB.db = e.target.result;\n        callback.call(self);\n      };\n      request.onupgradeneeded = function(e) {\n        var db = e.target.result;\n        e.target.transaction;\n        if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n          db.createObjectStore(self.myDB.ojstore.name, {\n            keyPath: self.myDB.ojstore.keypath\n          });\n        }\n      };\n    }\n  }, {\n    key: \"deletedb\",\n    value: function deletedb() {\n      var self = this;\n      self.indexedDB.deleteDatabase(this.myDB.name);\n    }\n  }, {\n    key: \"closeDB\",\n    value: function closeDB() {\n      this.myDB.db.close();\n    }\n  }, {\n    key: \"addData\",\n    value: function addData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.add(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"putData\",\n    value: function putData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.put(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"getDataByKey\",\n    value: function getDataByKey(storename, key, callback) {\n      var self = this;\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request = store.get(key);\n      request.onerror = function() {\n        callback.call(self, null);\n      };\n      request.onsuccess = function(e) {\n        var result = e.target.result;\n        callback.call(self, result);\n      };\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(storename, key) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.delete(key);\n    }\n  }, {\n    key: \"clearData\",\n    value: function clearData(storename) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.clear();\n    }\n  }]);\n  return INDEXDB2;\n}();\nexport { INDEXDB as default };\n","var FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nvar GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nvar EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nvar PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction callHandler(obj, handler, next) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var ret = handler.call.apply(handler, [obj].concat(args));\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then(function() {\n      for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args2[_key2] = arguments[_key2];\n      }\n      next.call.apply(next, [obj].concat(args2));\n    });\n  } else {\n    next.call.apply(next, [obj].concat(args));\n  }\n}\nfunction hook(hookName, handler) {\n  var preset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    pre: null,\n    next: null\n  };\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    var _arguments = arguments, _this = this;\n    if (preset.pre) {\n      try {\n        var _preset$pre;\n        (_preset$pre = preset.pre).call.apply(_preset$pre, [this].concat(Array.prototype.slice.call(arguments)));\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \":pre error] >> \").concat(e.message);\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        var _this$__hooks$hookNam;\n        var preRet = (_this$__hooks$hookNam = this.__hooks[hookName]).call.apply(_this$__hooks$hookNam, [this, this].concat(Array.prototype.slice.call(arguments)));\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then(function(isContinue) {\n              if (isContinue !== false) {\n                callHandler.apply(void 0, [_this, handler, preset.next].concat(_toConsumableArray(_arguments)));\n              }\n            }).catch(function(e) {\n              throw e;\n            });\n          } else {\n            callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n          }\n        } else if (preRet === void 0) {\n          callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n        }\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \"] >> \").concat(e.message);\n        throw e;\n      }\n    } else {\n      callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(\"has no supported hook which name [\".concat(hookName, \"]\"));\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return plugin.useHooks && plugin.useHooks.apply(plugin, args);\n}\nfunction removePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return plugin.removeHooks && plugin.removeHooks.apply(plugin, args);\n  }\n}\nfunction hooksDescriptor(instance) {\n  var presetHooks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n  instance.__hooks = {};\n  presetHooks && presetHooks.map(function(item) {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: function get() {\n      return instance.__hooks && Object.keys(instance.__hooks).map(function(key) {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    var _obj$__hooks$hookName;\n    var ret = (_obj$__hooks$hookName = obj.__hooks[hookName]).call.apply(_obj$__hooks$hookName, [obj, obj].concat(args));\n    if (ret && ret.then) {\n      ret.then(function(data) {\n        return data === false ? null : handler.call.apply(handler, [obj, obj].concat(args));\n      }).catch(function(e) {\n        console.warn(\"[runHooks]\".concat(hookName, \" reject\"), e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call.apply(handler, [obj, obj].concat(args));\n    }\n  } else {\n    return handler.call.apply(handler, [obj, obj].concat(args));\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(\"[\".concat(pluginName, \"] event or callback cant be undefined or null when call \").concat(msg));\n}\nvar BasePlugin = /* @__PURE__ */ function() {\n  function BasePlugin2(args) {\n    _classCallCheck(this, BasePlugin2);\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  _createClass(BasePlugin2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__init\",\n    value: function __init(args) {\n      this.player = args.player;\n      this.playerConfig = args.player && args.player.config;\n      this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n      this.logger = args.player && args.player.logger;\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.player.i18n;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.player.i18nKeys;\n    }\n  }, {\n    key: \"domEventType\",\n    get: function get() {\n      var _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n      if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n        _e = this.playerConfig.domEventType;\n      }\n      return _e;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__events[event] = callback;\n        this.player.on(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this.__events[item] = callback;\n          _this.player.on(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _this2 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__onceEvents[event] = callback;\n        this.player.once(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this2.__onceEvents[item] = callback;\n          _this2.player.once(event, callback);\n        });\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _this3 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        delete this.__events[event];\n        this.player.off(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          delete _this3.__events[event];\n          _this3.player.off(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      var _this4 = this;\n      [\"__events\", \"__onceEvents\"].forEach(function(key) {\n        Object.keys(_this4[key]).forEach(function(item) {\n          _this4[key][item] && _this4.off(item, _this4[key][item]);\n          item && delete _this4[key][item];\n        });\n      });\n      this.__events = {};\n      this.__onceEvents = {};\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$player;\n      if (!this.player) {\n        return;\n      }\n      for (var _len = arguments.length, res = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        res[_key - 1] = arguments[_key];\n      }\n      (_this$player = this.player).emit.apply(_this$player, [event].concat(res));\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action) {\n      var params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      if (!this.player) {\n        return;\n      }\n      var nParams = _objectSpread2(_objectSpread2({}, params), {}, {\n        pluginName: this.pluginName\n      });\n      this.player.emitUserAction(event, action, nParams);\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      if (!this.player) {\n        return;\n      }\n      name && (options.pluginName = name);\n      return this.player.registerPlugin({\n        plugin,\n        options\n      });\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.player ? this.player.getPlugin(name) : null;\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this5 = this;\n      var player = this.player;\n      var pluginName = this.pluginName;\n      this.offAll();\n      util.clearAllTimers(this);\n      if (util.checkIsFunction(this.destroy)) {\n        this.destroy();\n      }\n      [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map(function(item) {\n        _this5[item] = null;\n      });\n      player.unRegisterPlugin(pluginName);\n      delHooksDescriptor(this);\n    }\n  }], [{\n    key: \"defineGetterOrSetter\",\n    value: function defineGetterOrSetter(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(Obj, key, map[key]);\n        }\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return \"pluginName\";\n    }\n  }]);\n  return BasePlugin2;\n}();\nexport { BasePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport BasePlugin from \"./basePlugin.js\";\nimport _delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nvar ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nvar POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (_typeof(icon) === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return \"\".concat(classname, \" \").concat(icon.class);\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (_typeof(icon) === \"object\" && icon.attr && _typeof(icon.attr) === \"object\") {\n    Object.keys(icon.attr).map(function(key) {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key) {\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  var attr = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  var pluginName = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n  var newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map(function(key2) {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, \"xg-img \".concat(classname));\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map(function(key2) {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is a function mast return an Element Object\"));\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(\"Plugin named [\".concat(pluginName, \"]:createIcon\"), e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is invalid\"));\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  var _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map(function(key) {\n    var orgIcon = iconsConfig[key];\n    var classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    var attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    var newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map(function(key) {\n    Object.defineProperty(plugin.langText, key, {\n      get: function get() {\n        var lang = plugin.lang, i18n = plugin.i18n;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nvar Plugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Plugin2, _BasePlugin);\n  var _super = _createSuper(Plugin2);\n  function Plugin2() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _classCallCheck(this, Plugin2);\n    _this = _super.call(this, args);\n    _this.__delegates = [];\n    return _this;\n  }\n  _createClass(Plugin2, [{\n    key: \"__init\",\n    value: function __init(args) {\n      _get(_getPrototypeOf(Plugin2.prototype), \"__init\", this).call(this, args);\n      if (!args.root) {\n        return;\n      }\n      var _parent = args.root;\n      var _el = null;\n      this.icons = {};\n      this.root = null;\n      this.parent = null;\n      var _orgicons = this.registerIcons() || {};\n      registerIconsObj(_orgicons, this);\n      this.langText = {};\n      var defaultTexConfig = this.registerLanguageTexts() || {};\n      registerTextObj(defaultTexConfig, this);\n      var renderStr = \"\";\n      try {\n        renderStr = this.render();\n      } catch (e) {\n        XG_DEBUG.logError(\"Plugin:\".concat(this.pluginName, \":render\"), e);\n        throw new Error(\"Plugin:\".concat(this.pluginName, \":render:\").concat(e.message));\n      }\n      if (renderStr) {\n        _el = Plugin2.insert(renderStr, _parent, args.index);\n        _el.setAttribute(\"data-index\", args.index);\n      } else if (args.tag) {\n        _el = util.createDom(args.tag, \"\", args.attr, args.name);\n        _el.setAttribute(\"data-index\", args.index);\n        _parent.appendChild(_el);\n      } else {\n        return;\n      }\n      this.root = _el;\n      this.parent = _parent;\n      var attr = this.config.attr || {};\n      var style = this.config.style || {};\n      this.setAttr(attr);\n      this.setStyle(style);\n      if (this.config.index) {\n        this.root.setAttribute(\"data-index\", this.config.index);\n      }\n      this.__registerChildren();\n    }\n  }, {\n    key: \"__registerChildren\",\n    value: function __registerChildren() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this._children = [];\n      var children = this.children();\n      if (children && _typeof(children) === \"object\") {\n        if (Object.keys(children).length > 0) {\n          Object.keys(children).map(function(item) {\n            var name = item;\n            var _plugin = children[name];\n            var options = {\n              root: _this2.root\n            };\n            var config, _Plugin;\n            if (typeof _plugin === \"function\") {\n              config = _this2.config[name] || {};\n              _Plugin = _plugin;\n            } else if (_typeof(_plugin) === \"object\" && typeof _plugin.plugin === \"function\") {\n              config = _plugin.options ? util.deepCopy(_this2.config[name] || {}, _plugin.options) : _this2.config[name] || {};\n              _Plugin = _plugin.plugin;\n            }\n            options.config = config;\n            config.index !== void 0 && (options.index = config.index);\n            config.root && (options.root = config.root);\n            _this2.registerPlugin(_Plugin, options, name);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n      function checkChildren(node, callback) {\n        for (var i = 0; i < node.children.length; i++) {\n          if (node.children[i].children.length > 0) {\n            checkChildren(node.children[i], callback);\n          } else {\n            callback(node.children[i]);\n          }\n        }\n      }\n      var root = this.root, i18n = this.i18n, langText = this.langText;\n      if (root) {\n        checkChildren(root, function(node) {\n          var langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n          if (!langKey) {\n            return;\n          }\n          var langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n          if (langTextShow) {\n            node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"changeLangTextKey\",\n    value: function changeLangTextKey(dom) {\n      var key = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n      var i18n = this.i18n || {};\n      var langText = this.langText;\n      dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n      var text = i18n[key] || langText[key] || \"\";\n      if (text) {\n        dom.innerHTML = text;\n      }\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return this._children;\n    }\n  }, {\n    key: \"children\",\n    value: function children() {\n      return {};\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      options.root = options.root || this.root;\n      var _c = _get(_getPrototypeOf(Plugin2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      this._children.push(_c);\n      return _c;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {};\n    }\n  }, {\n    key: \"registerLanguageTexts\",\n    value: function registerLanguageTexts() {\n      return {};\n    }\n  }, {\n    key: \"find\",\n    value: function find(qs) {\n      if (!this.root) {\n        return;\n      }\n      return this.root.querySelector(qs);\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(querySelector, eventType, callback) {\n      var _this3 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this3.bindEL(item, eventType);\n          });\n        } else {\n          this.bindEL(querySelector, eventType);\n        }\n      } else {\n        var ret = Plugin2.delegate.call(this, this.root, querySelector, eventType, callback);\n        this.__delegates = this.__delegates.concat(ret);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(querySelector, eventType) {\n      var _this4 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this4.unbindEL(item, eventType);\n          });\n        } else {\n          this.unbindEL(querySelector, eventType);\n        }\n      } else {\n        var key = \"\".concat(querySelector, \"_\").concat(eventType);\n        for (var i = 0; i < this.__delegates.length; i++) {\n          if (this.__delegates[i].key === key) {\n            this.__delegates[i].destroy();\n            this.__delegates.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(name, value) {\n      var _this5 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.style[name] = value;\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this5.root.style[key] = name[key];\n        });\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(name, value) {\n      var _this6 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.setAttribute(name, value);\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this6.root.setAttribute(key, name[key]);\n        });\n      }\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(htmlStr, callback) {\n      if (!this.root) {\n        return;\n      }\n      this.root.innerHTML = htmlStr;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  }, {\n    key: \"bindEL\",\n    value: function bindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.addEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"unbindEL\",\n    value: function unbindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.removeEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.style.display = value !== void 0 ? value : \"block\";\n      var cs = window.getComputedStyle(this.root, null);\n      var cssDisplayValue = cs.getPropertyValue(\"display\");\n      if (cssDisplayValue === \"none\") {\n        return this.root.style.display = \"block\";\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root && (this.root.style.display = \"none\");\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(pdom, child) {\n      if (!this.root) {\n        return null;\n      }\n      if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n        return this.root.appendChild(arguments[0]);\n      }\n      if (!child || !(child instanceof window.Element)) {\n        return null;\n      }\n      try {\n        if (typeof pdom === \"string\") {\n          return this.find(pdom).appendChild(child);\n        } else {\n          return pdom.appendChild(child);\n        }\n      } catch (err) {\n        XG_DEBUG.logError(\"Plugin:appendChild\", err);\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this7 = this;\n      var player = this.player;\n      this.__delegates.map(function(item) {\n        item.destroy();\n      });\n      this.__delegates = [];\n      if (this._children instanceof Array) {\n        this._children.map(function(item) {\n          player.unRegisterPlugin(item.pluginName);\n        });\n        this._children = null;\n      }\n      if (this.root) {\n        if (this.root.hasOwnProperty(\"remove\")) {\n          this.root.remove();\n        } else if (this.root.parentNode) {\n          this.root.parentNode.removeChild(this.root);\n        }\n      }\n      _get(_getPrototypeOf(Plugin2.prototype), \"__destroy\", this).call(this);\n      this.icons = {};\n      [\"root\", \"parent\"].map(function(item) {\n        _this7[item] = null;\n      });\n    }\n  }], [{\n    key: \"insert\",\n    value: function insert(html, parent) {\n      var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var len = parent.children.length;\n      var insertIdx = Number(index);\n      var isDomElement = html instanceof window.Node;\n      if (len) {\n        var i = 0;\n        var coordinate = null;\n        var mode = \"\";\n        for (; i < len; i++) {\n          coordinate = parent.children[i];\n          var curIdx = Number(coordinate.getAttribute(\"data-index\"));\n          if (curIdx >= insertIdx) {\n            mode = \"beforebegin\";\n            break;\n          } else if (curIdx < insertIdx) {\n            mode = \"afterend\";\n          }\n        }\n        if (isDomElement) {\n          if (mode === \"afterend\") {\n            parent.appendChild(html);\n          } else {\n            parent.insertBefore(html, coordinate);\n          }\n        } else {\n          coordinate.insertAdjacentHTML(mode, html);\n        }\n        return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n      } else {\n        isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n        return parent.children[parent.children.length - 1];\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"delegate\",\n    value: function delegate(root, querySelector, eventType, callback) {\n      var capture = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n      var dels = [];\n      if (root instanceof window.Node && typeof callback === \"function\") {\n        if (Array.isArray(eventType)) {\n          eventType.forEach(function(item) {\n            var ret2 = _delegate(root, querySelector, item, callback, capture);\n            ret2.key = \"\".concat(querySelector, \"_\").concat(item);\n            dels.push(ret2);\n          });\n        } else {\n          var ret = _delegate(root, querySelector, eventType, callback, capture);\n          ret.key = \"\".concat(querySelector, \"_\").concat(eventType);\n          dels.push(ret);\n        }\n      }\n      return dels;\n    }\n  }, {\n    key: \"ROOT_TYPES\",\n    get: function get() {\n      return ROOT_TYPES;\n    }\n  }, {\n    key: \"POSITIONS\",\n    get: function get() {\n      return POSITIONS;\n    }\n  }]);\n  return Plugin2;\n}(BasePlugin);\nexport { POSITIONS, ROOT_TYPES, Plugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nvar ResizeObserver = /* @__PURE__ */ function() {\n  function ResizeObserver2() {\n    var _this = this;\n    _classCallCheck(this, ResizeObserver2);\n    _defineProperty(this, \"__trigger\", function(entries) {\n      var t = new Date().getTime();\n      _this.timeStamp = t;\n      for (var i = 0; i < entries.length; i++) {\n        _this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, {\n        trailing: true\n      }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  _createClass(ResizeObserver2, [{\n    key: \"addObserver\",\n    value: function addObserver2(target, handler) {\n      if (!this.observer) {\n        return;\n      }\n      this.observer && this.observer.observe(target);\n      var _pid = target.getAttribute(PLATER_ID);\n      var __handlers = this.__handlers;\n      var index = -1;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.__handlers[index].handler = handler;\n      } else {\n        this.__handlers.push({\n          target,\n          handler,\n          playerId: _pid\n        });\n      }\n    }\n  }, {\n    key: \"unObserver\",\n    value: function unObserver2(target) {\n      var i = -1;\n      this.__handlers.map(function(item, index) {\n        if (target === item.target) {\n          i = index;\n        }\n      });\n      try {\n        this.observer && this.observer.unobserve(target);\n      } catch (e) {\n      }\n      this.observer && this.observer.unobserve(target);\n      i > -1 && this.__handlers.splice(i, 1);\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n      this.__handlers = null;\n    }\n  }, {\n    key: \"__runHandler\",\n    value: function __runHandler(target) {\n      var __handlers = this.__handlers;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          try {\n            __handlers[i].handler(target);\n          } catch (error) {\n            console.error(error);\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return ResizeObserver2;\n}();\nvar resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nvar pluginsManager = {\n  pluginGroup: {},\n  init: function init(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = new Date().getTime();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && addObserver(player.root, function() {\n      player.resize();\n    });\n    if (Object.keys(this.pluginGroup).length === 0) {\n      player.isUserActive = true;\n    }\n    this.pluginGroup[cgid] = {\n      _player: player,\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  checkPlayerRoot: function checkPlayerRoot(root) {\n    if (this.pluginGroup) {\n      var _keys = Object.keys(this.pluginGroup);\n      for (var i = 0; i < _keys.length; i++) {\n        var _p = this.pluginGroup[_keys[i]]._player;\n        if (_p.root === root) {\n          return _p;\n        }\n      }\n      return null;\n    }\n    return null;\n  },\n  formatPluginInfo: function formatPluginInfo(plugin, config) {\n    var PLUFGIN = null;\n    var options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits: function checkPluginIfExits(pluginName, plugins) {\n    for (var i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig: function getRootByConfig(pluginName, playerConfig) {\n    var keys = Object.keys(playerConfig);\n    var _pConfig = null;\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister: function lazyRegister(player, lazyPlugin) {\n    var _this = this;\n    var timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([lazyPlugin.loader().then(function(plugin) {\n      var result;\n      if (plugin && plugin.__esModule) {\n        result = plugin.default;\n      } else {\n        result = plugin;\n      }\n      _this.register(player, result, plugin.options);\n    }), new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        reject(new Error(\"timeout\"));\n      }, timeout);\n    })]);\n  },\n  register: function register(player, plugin) {\n    var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    var originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = this.pluginGroup[cgid]._player;\n    var pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(\"not supported plugin [\".concat(pluginName, \"]\"));\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    var keys = Object.keys(originalOptions);\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        var config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach(function(key) {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(\"the is one plugin with same pluginName [\".concat(pluginName, \"] exist, destroy the old instance\"));\n      }\n      var _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister: function unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      var plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(\"[unRegister:\".concat(name, \"] cgid:[\").concat(cgid, \"] error\"), e);\n    }\n  },\n  deletePlugin: function deletePlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins: function getPlugins(player) {\n    var cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin: function findPlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    var cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit: function beforeInit(player) {\n    var _this2 = this;\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise(function(resolve) {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise(function(resolve) {\n      if (!_this2.pluginGroup) {\n        return;\n      }\n      var prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(function() {\n        var cgid = player._pluginInfoId;\n        if (!_this2.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        var plugins = _this2.pluginGroup[cgid]._plugins;\n        var pluginsRet = [];\n        Object.keys(plugins).forEach(function(pName) {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              var ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([].concat(pluginsRet)).then(function() {\n          resolve();\n        }).catch(function(e) {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit: function afterInit(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang: function setLang(lang, player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(item) {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(\"\".concat(item, \" setLang\"));\n        }\n      }\n    });\n  },\n  reRender: function reRender(player) {\n    var _this3 = this;\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var _pList = [];\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        _this3.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach(function(item) {\n      _this3.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady: function onPluginsReady(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach(function(key) {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  setCurrentUserActive: function setCurrentUserActive(playerId, isActive) {\n    if (!this.pluginGroup[playerId]) {\n      return;\n    }\n    if (!isActive) {\n      this.pluginGroup[playerId]._player.isUserActive = isActive;\n      return playerId;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player) {\n        this.pluginGroup[keys[i]]._player.isUserActive = false;\n      }\n    }\n    this.pluginGroup[playerId]._player.isUserActive = isActive;\n    return playerId;\n  },\n  getCurrentUseActiveId: function getCurrentUseActiveId() {\n    if (!this.pluginGroup) {\n      return;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player && c._player.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  },\n  destroy: function destroy(player) {\n    var cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    unObserver(player.root);\n    var plugins = this.pluginGroup[cgid]._plugins;\n    for (var _i = 0, _Object$keys = Object.keys(plugins); _i < _Object$keys.length; _i++) {\n      var item = _Object$keys[_i];\n      this.unRegister(cgid, item);\n    }\n    var _isUseActive = player.isUseActive;\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n    if (_isUseActive) {\n      var keys = Object.keys(this.pluginGroup);\n      if (keys.length > 0) {\n        this.setCurrentUserActive(keys[keys.length - 1], true);\n      }\n    }\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: function disableSwipeHandler() {\n    },\n    enableSwipeHandler: function enableSwipeHandler() {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: {\n      list: []\n    },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar usePreset = function usePreset2(player, Preset) {\n  var _player$config$plugin, _player$config$ignore;\n  var presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  var _presetInst = presetInst, _presetInst$plugins = _presetInst.plugins, plugins = _presetInst$plugins === void 0 ? [] : _presetInst$plugins, _presetInst$ignores = _presetInst.ignores, ignores = _presetInst$ignores === void 0 ? [] : _presetInst$ignores, _presetInst$icons = _presetInst.icons, icons = _presetInst$icons === void 0 ? {} : _presetInst$icons, _presetInst$i18n = _presetInst.i18n, i18n = _presetInst$i18n === void 0 ? [] : _presetInst$i18n;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  (_player$config$plugin = player.config.plugins).push.apply(_player$config$plugin, _toConsumableArray(plugins));\n  (_player$config$ignore = player.config.ignores).push.apply(_player$config$ignore, _toConsumableArray(ignores));\n  Object.keys(icons).map(function(key) {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  var _ci18n = player.config.i18n || [];\n  i18n.push.apply(i18n, _toConsumableArray(_ci18n));\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Controls = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Controls2, _Plugin);\n  var _super = _createSuper(Controls2);\n  function Controls2() {\n    var _this;\n    _classCallCheck(this, Controls2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      playerConfig.closeControlsBlur && player.focus({\n        autoHide: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      player.focus();\n    });\n    return _this;\n  }\n  _createClass(Controls2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (!args.config.mode && sniffer.device === \"mobile\") {\n        args.config.mode = \"flex\";\n      }\n      if (args.player.config.marginControls) {\n        args.config.autoHide = false;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, disable = _this$config.disable, height = _this$config.height, mode = _this$config.mode;\n      if (disable) {\n        return;\n      }\n      mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n      var style = {\n        height: \"\".concat(height, \"px\")\n      };\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n      this.left = this.find(\"xg-left-grid\");\n      this.center = this.find(\"xg-center-grid\");\n      this.right = this.find(\"xg-right-grid\");\n      this.innerRoot = this.find(\"xg-inner-controls\");\n      this.on(MINI_STATE_CHANGE, function(isMini) {\n        isMini ? util.addClass(_this2.root, \"mini-controls\") : util.removeClass(_this2.root, \"mini-controls\");\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.focus({\n        autoHide: false\n      });\n    }\n  }, {\n    key: \"focusAwhile\",\n    value: function focusAwhile() {\n      this.player.focus({\n        autoHide: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.player.blur({\n        ignorePaused: true\n      });\n    }\n  }, {\n    key: \"recoverAutoHide\",\n    value: function recoverAutoHide() {\n      this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"pauseAutoHide\",\n    value: function pauseAutoHide() {\n      util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.root.style.display = \"\";\n      this.player.focus();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 ? arguments[2] : void 0;\n      if (!this.root) {\n        return;\n      }\n      var defaultConfig = plugin.defaultConfig || {};\n      if (!options.root) {\n        var position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n        switch (position) {\n          case POSITIONS.CONTROLS_LEFT:\n            options.root = this.left;\n            break;\n          case POSITIONS.CONTROLS_RIGHT:\n            options.root = this.right;\n            break;\n          case POSITIONS.CONTROLS_CENTER:\n            options.root = this.center;\n            break;\n          case POSITIONS.CONTROLS:\n            options.root = this.root;\n            break;\n          default:\n            options.root = this.left;\n        }\n        return _get(_getPrototypeOf(Controls2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (sniffer.device !== \"mobile\") {\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config2 = this.config, mode = _this$config2.mode, autoHide = _this$config2.autoHide, initShow = _this$config2.initShow, disable = _this$config2.disable;\n      if (disable) {\n        return;\n      }\n      var className = util.classNames({\n        \"xgplayer-controls\": true\n      }, {\n        \"flex-controls\": mode === \"flex\"\n      }, {\n        \"bottom-controls\": mode === \"bottom\"\n      }, _defineProperty({}, STATE_CLASS.CONTROLS_AUTOHIDE, autoHide), {\n        \"xgplayer-controls-initshow\": initShow || !autoHide\n      });\n      return '<xg-controls class=\"'.concat(className, '\" unselectable=\"on\">\\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\\n      <xg-left-grid class=\"xg-left-grid\">\\n      </xg-left-grid>\\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\\n      <xg-right-grid class=\"xg-right-grid\">\\n      </xg-right-grid>\\n    </xg-inner-controls>\\n    </xg-controls>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"controls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false,\n        autoHide: true,\n        mode: \"\",\n        initShow: false\n      };\n    }\n  }]);\n  return Controls2;\n}(Plugin);\nexport { Controls as default };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nvar XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach(function(key) {\n    var _s = util.typeOf(src[key]);\n    var _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      var _dst$key;\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map(function(key) {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  var ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map(function(lang2) {\n      var keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  var _i18nLangs = i18nLangs, lang = _i18nLangs.lang;\n  ext.map(function(item) {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  var _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  var texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  var _ret$langKeys;\n  var ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  (_ret$langKeys = ret.langKeys).push.apply(_ret$langKeys, _toConsumableArray(XGI18nLang.langKeys));\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nvar I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    var ret = {};\n    XGI18nLang.langKeys.map(function(key) {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","var STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nvar STATE_ARRAY = [\"ERROR\", \"INITIAL\", \"READY\", \"ATTACHING\", \"ATTACHED\", \"NOTALLOW\", \"RUNNING\", \"ENDED\", \"DESTROYED\"];\nexport { STATES, STATE_ARRAY };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, possibleConstructorReturn as _possibleConstructorReturn, get as _get, getPrototypeOf as _getPrototypeOf, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { CANPLAY, USER_ACTION, FULLSCREEN_CHANGE, READY, ERROR, LOADED_DATA, PLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, VIDEO_RESIZE, REPLAY, PLAYNEXT } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport Controls from \"./plugins/controls/index.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nvar PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nvar REAL_TIME_SPEED = 0;\nvar AVG_SPEED = 0;\nvar Player = /* @__PURE__ */ function(_MediaProxy) {\n  _inherits(Player2, _MediaProxy);\n  var _super = _createSuper(Player2);\n  function Player2(options) {\n    var _this;\n    _classCallCheck(this, Player2);\n    var _config = util.deepMerge(getDefaultConfig(), options);\n    _this = _super.call(this, _config);\n    _defineProperty(_assertThisInitialized(_this), \"canPlayFunc\", function() {\n      if (!_this.config) {\n        return;\n      }\n      var _this$config = _this.config, autoplay = _this$config.autoplay, defaultPlaybackRate = _this$config.defaultPlaybackRate;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", _this.__startTime);\n      if (_this.__startTime > 0 && _this.duration > 0) {\n        _this.currentTime = _this.__startTime > _this.duration ? _this.duration : _this.__startTime;\n        _this.__startTime = -1;\n      }\n      _this.playbackRate = defaultPlaybackRate;\n      (autoplay || _this._useAutoplay) && _this.mediaPlay();\n      _this.off(CANPLAY, _this.canPlayFunc);\n      _this.removeClass(STATE_CLASS.ENTER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFullscreenChange\", function(event, isFullScreen) {\n      var delayResize = function delayResize2() {\n        util.setTimeout(_assertThisInitialized(_this), function() {\n          _this.resize();\n        }, 100);\n      };\n      var fullEl = util.getFullScreenEl();\n      if (_this._fullActionFrom) {\n        _this._fullActionFrom = \"\";\n      } else {\n        _this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: _this.currentTime,\n          duration: _this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      var isVideo = checkIsCurrentVideo(fullEl, _this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === _this._fullscreenEl || isVideo)) {\n        delayResize();\n        !_this.config.closeFocusVideoFocus && _this.media.focus();\n        _this.fullscreen = true;\n        _this.changeFullStyle(_this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        _this.emit(FULLSCREEN_CHANGE, true, _this._fullScreenOffset);\n        if (_this.cssfullscreen) {\n          _this.exitCssFullscreen();\n        }\n      } else if (_this.fullscreen) {\n        delayResize();\n        var _assertThisInitialize = _assertThisInitialized(_this), _fullScreenOffset = _assertThisInitialize._fullScreenOffset, config = _assertThisInitialize.config;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(_assertThisInitialized(_this), function() {\n            _this.fullscreen = false;\n            _this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !_this.config.closeFocusVideoFocus && _this.media.focus();\n          _this.fullscreen = false;\n          _this._fullScreenOffset = null;\n        }\n        if (!_this.cssfullscreen) {\n          _this.recoverFullStyle(_this.root, _this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          _this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        _this._fullscreenEl = null;\n        _this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitbeginfullscreen\", function(e) {\n      _this._fullscreenEl = _this.media;\n      _this.onFullscreenChange(e, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitendfullscreen\", function(e) {\n      _this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(_assertThisInitialized(_this), PlAYER_HOOKS);\n    _this.config = _config;\n    _this._pluginInfoId = util.generateSessionId();\n    bindDebug(_assertThisInitialized(_this));\n    var defaultPreset = _this.constructor.defaultPreset;\n    if (_this.config.presets.length) {\n      var defaultIdx = _this.config.presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        _this.config.presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      _this.config.presets.push(defaultPreset);\n    }\n    _this.userTimer = null;\n    _this.waitTimer = null;\n    _this._state = STATES.INITIAL;\n    _this.isError = false;\n    _this._hasStart = false;\n    _this.isSeeking = false;\n    _this.isCanplay = false;\n    _this._useAutoplay = false;\n    _this.__startTime = -1;\n    _this.rotateDeg = 0;\n    _this.isActive = false;\n    _this.fullscreen = false;\n    _this.cssfullscreen = false;\n    _this.isRotateFullscreen = false;\n    _this._fullscreenEl = null;\n    _this.timeSegments = [];\n    _this._cssfullscreenEl = null;\n    _this.curDefinition = null;\n    _this._orgCss = \"\";\n    _this._fullScreenOffset = null;\n    _this._videoHeight = 0;\n    _this._videoWidth = 0;\n    _this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    _this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    _this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    _this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    _this.innerContainer = null;\n    _this.controls = null;\n    _this.topBar = null;\n    _this.root = null;\n    _this.__i18n = I18N.init(_this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      _this.config.autoplay = false;\n    }\n    _this.database = new INDEXDB();\n    _this.isUserActive = false;\n    _this._onceSeekCanplay = null;\n    _this._isPauseBeforeSeek = 0;\n    _this.innerStates = {\n      isActiveLocked: false\n    };\n    var rootInit = _this._initDOM();\n    if (!rootInit) {\n      console.error(new Error(\"can't find the dom which id is \".concat(_this.config.id, \" or this.config.el does not exist\")));\n      return _possibleConstructorReturn(_this);\n    }\n    var _this$config2 = _this.config, _this$config2$definit = _this$config2.definition, definition = _this$config2$definit === void 0 ? {} : _this$config2$definit, url = _this$config2.url;\n    if (!url && definition.list && definition.list.length > 0) {\n      var defaultDefinitionObj = definition.list.find(function(e) {\n        return e.definition && e.definition === definition.defaultDefinition;\n      });\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      _this.config.url = defaultDefinitionObj.url;\n      _this.curDefinition = defaultDefinitionObj;\n    }\n    _this._bindEvents();\n    _this._registerPresets();\n    _this._registerPlugins();\n    pluginsManager.onPluginsReady(_assertThisInitialized(_this));\n    _this.getInitDefinition();\n    _this.setState(STATES.READY);\n    util.setTimeout(_assertThisInitialized(_this), function() {\n      _this.emit(READY);\n    }, 0);\n    _this.onReady && _this.onReady();\n    if (_this.config.videoInit || _this.config.autoplay) {\n      if (!_this.hasStart || _this.state < STATES.ATTACHED) {\n        _this.start();\n      }\n    }\n    return _this;\n  }\n  _createClass(Player2, [{\n    key: \"_initDOM\",\n    value: function _initDOM() {\n      var _this2 = this;\n      this.root = this.config.id ? document.getElementById(this.config.id) : null;\n      if (!this.root) {\n        var el = this.config.el;\n        if (el && el.nodeType === 1) {\n          this.root = el;\n        } else {\n          this.emit(ERROR, new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          }));\n          console.error(\"this.confg.id or this.config.el can't be empty\");\n          return false;\n        }\n      }\n      var ret = pluginsManager.checkPlayerRoot(this.root);\n      if (ret) {\n        XG_DEBUG.logWarn(\"The is an Player instance already exists in this.root, destroy it and reinitialize\");\n        ret.destroy();\n      }\n      this.root.setAttribute(PLATER_ID, this.playerId);\n      pluginsManager.init(this);\n      this._initBaseDoms();\n      var XgVideoProxy = this.constructor.XgVideoProxy;\n      if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n        var _el = this.innerContainer || this.root;\n        this.detachVideoEvents(this.media);\n        var _nVideo = new XgVideoProxy(_el, this.config, this.mediaConfig);\n        this.attachVideoEvents(_nVideo);\n        this.media = _nVideo;\n      }\n      this.media.setAttribute(PLATER_ID, this.playerId);\n      if (this.config.controls) {\n        var _root = this.config.controls.root || null;\n        var controls = pluginsManager.register(this, Controls, {\n          root: _root\n        });\n        this.controls = controls;\n      }\n      var device = this.config.isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n      this.addClass(\"\".concat(STATE_CLASS.DEFAULT, \" \").concat(STATE_CLASS.INACTIVE, \" xgplayer-\").concat(device, \" \").concat(this.config.controls ? \"\" : STATE_CLASS.NO_CONTROLS));\n      if (this.config.autoplay) {\n        this.addClass(STATE_CLASS.ENTER);\n      } else {\n        this.addClass(STATE_CLASS.NO_START);\n      }\n      if (this.config.fluid) {\n        var _this$config3 = this.config, _width = _this$config3.width, _height = _this$config3.height;\n        if (typeof _width !== \"number\" || typeof _height !== \"number\") {\n          _width = 600;\n          _height = 337.5;\n        }\n        var style = {\n          width: \"100%\",\n          height: \"0\",\n          \"max-width\": \"100%\",\n          \"padding-top\": \"\".concat(_height * 100 / _width, \"%\")\n        };\n        Object.keys(style).forEach(function(key) {\n          _this2.root.style[key] = style[key];\n        });\n      } else {\n        [\"width\", \"height\"].forEach(function(key) {\n          if (_this2.config[key]) {\n            if (typeof _this2.config[key] !== \"number\") {\n              _this2.root.style[key] = _this2.config[key];\n            } else {\n              _this2.root.style[key] = \"\".concat(_this2.config[key], \"px\");\n            }\n          }\n        });\n      }\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, left = _this$root$getBoundin.left, top = _this$root$getBoundin.top;\n      this.sizeInfo.width = width;\n      this.sizeInfo.height = height;\n      this.sizeInfo.left = left;\n      this.sizeInfo.top = top;\n      return true;\n    }\n  }, {\n    key: \"_initBaseDoms\",\n    value: function _initBaseDoms() {\n      this.topBar = null;\n      this.leftBar = null;\n      this.rightBar = null;\n      if (this.config.marginControls) {\n        this.innerContainer = util.createDom(\"xg-video-container\", \"\", {\n          \"data-index\": -1\n        }, \"xg-video-container\");\n        this.root.appendChild(this.innerContainer);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this3 = this;\n      [\"focus\", \"blur\"].forEach(function(item) {\n        _this3.on(item, _this3[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n      });\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document && document.addEventListener(item, _this3.onFullscreenChange);\n      });\n      if (sniffer.os.isIos) {\n        this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n        this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n      }\n      this.once(LOADED_DATA, this.resize);\n      this.playFunc = function() {\n        if (!_this3.config.closeFocusVideoFocus) {\n          _this3.media.focus();\n        }\n      };\n      this.once(PLAY, this.playFunc);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this4 = this;\n      this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document.removeEventListener(item, _this4.onFullscreenChange);\n      });\n      this.playFunc && this.off(PLAY, this.playFunc);\n      this.off(CANPLAY, this.canPlayFunc);\n      this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n  }, {\n    key: \"_startInit\",\n    value: function _startInit(url) {\n      var _this5 = this;\n      if (!this.media) {\n        return;\n      }\n      if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n        url = \"\";\n        this.emit(URL_NULL);\n        XG_DEBUG.logWarn(\"config.url is null, please get url and run player._startInit(url)\");\n        if (this.config.nullUrlStart) {\n          return;\n        }\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n      if (util.typeOf(this.config.volume) === \"Number\") {\n        this.volume = this.config.volume;\n      }\n      var _root = this.innerContainer ? this.innerContainer : this.root;\n      if (this.media instanceof window.Element && !_root.contains(this.media)) {\n        _root.insertBefore(this.media, _root.firstChild);\n      }\n      var readyState = this.media.readyState;\n      XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n      if (this.config.autoplay) {\n        !util.isMSE(this.media) && this.load();\n        (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n      }\n      var startTime = this.config.startTime;\n      this.__startTime = startTime > 0 ? startTime : -1;\n      this.config.startTime = 0;\n      if (readyState >= 2 && this.duration > 0) {\n        this.canPlayFunc();\n      } else {\n        this.on(CANPLAY, this.canPlayFunc);\n      }\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        pluginsManager.afterInit(this);\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHED);\n      util.setTimeout(this, function() {\n        _this5.emit(COMPLETE);\n      }, 0);\n    }\n  }, {\n    key: \"_registerPlugins\",\n    value: function _registerPlugins() {\n      var _this6 = this;\n      var isInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this._loadingPlugins = [];\n      var ignores = this.config.ignores || [];\n      var plugins = this.config.plugins || [];\n      var i18n = this.config.i18n || [];\n      isInit && I18N.extend(i18n, this.__i18n);\n      var ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n      var cuPlugins = this.plugins;\n      plugins.forEach(function(plugin) {\n        try {\n          var pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n          if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n            return null;\n          }\n          if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n            return;\n          }\n          if (plugin.lazy && plugin.loader) {\n            var loadingPlugin = pluginsManager.lazyRegister(_this6, plugin);\n            if (plugin.forceBeforeInit) {\n              loadingPlugin.then(function() {\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              }).catch(function(e) {\n                XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              });\n              _this6._loadingPlugins.push(loadingPlugin);\n            }\n            return;\n          }\n          return _this6.registerPlugin(plugin);\n        } catch (err) {\n          XG_DEBUG.logError(\"_registerPlugins:\", err);\n        }\n      });\n    }\n  }, {\n    key: \"_registerPresets\",\n    value: function _registerPresets() {\n      var _this7 = this;\n      this.config.presets.forEach(function(preset) {\n        usePreset(_this7, preset);\n      });\n    }\n  }, {\n    key: \"_getRootByPosition\",\n    value: function _getRootByPosition(position) {\n      var _root = null;\n      switch (position) {\n        case POSITIONS.ROOT_RIGHT:\n          if (!this.rightBar) {\n            this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n          }\n          _root = this.rightBar;\n          break;\n        case POSITIONS.ROOT_LEFT:\n          if (!this.leftBar) {\n            this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n          }\n          _root = this.leftBar;\n          break;\n        case POSITIONS.ROOT_TOP:\n          if (!this.topBar) {\n            this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n            if (this.config.topBarAutoHide) {\n              util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n            }\n          }\n          _root = this.topBar;\n          break;\n        default:\n          _root = this.innerContainer || this.root;\n          break;\n      }\n      return _root;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, config) {\n      var _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n      var PLUFGIN = _retPlugin.PLUFGIN, options = _retPlugin.options;\n      var plugins = this.config.plugins;\n      var exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n      !exits && plugins.push(PLUFGIN);\n      var _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n      _pConfig.root && (options.root = _pConfig.root);\n      _pConfig.position && (options.position = _pConfig.position);\n      var position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n      if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n        return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n      }\n      if (!options.root) {\n        options.root = this._getRootByPosition(position);\n      }\n      return pluginsManager.register(this, PLUFGIN, options);\n    }\n  }, {\n    key: \"deregister\",\n    value: function deregister(plugin) {\n      if (typeof plugin === \"string\") {\n        pluginsManager.unRegister(this, plugin);\n      } else if (plugin instanceof BasePlugin) {\n        pluginsManager.unRegister(this, plugin.pluginName);\n      }\n    }\n  }, {\n    key: \"unRegisterPlugin\",\n    value: function unRegisterPlugin(plugin) {\n      var removedFromConfig = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      this.deregister(plugin);\n      if (removedFromConfig) {\n        this.removePluginFromConfig(plugin);\n      }\n    }\n  }, {\n    key: \"removePluginFromConfig\",\n    value: function removePluginFromConfig(plugin) {\n      var pluginName;\n      if (typeof plugin === \"string\") {\n        pluginName = plugin;\n      } else if (plugin instanceof BasePlugin) {\n        pluginName = plugin.pluginName;\n      }\n      if (!pluginName) {\n        return;\n      }\n      for (var i = this.config.plugins.length - 1; i > -1; i--) {\n        var _plugin = this.config.plugins[i];\n        if (_plugin.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n          this.config.plugins.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return pluginsManager.getPlugins(this);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(pluginName) {\n      var plugin = pluginsManager.findPlugin(this, pluginName);\n      return plugin && plugin.pluginName ? plugin : null;\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass(className) {\n      if (!this.root) {\n        return;\n      }\n      if (!util.hasClass(this.root, className)) {\n        util.addClass(this.root, className);\n      }\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(className) {\n      if (!this.root) {\n        return;\n      }\n      util.removeClass(this.root, className);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(className) {\n      if (!this.root) {\n        return;\n      }\n      return util.hasClass(this.root, className);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.setAttribute(key, value);\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.removeAttribute(key, value);\n    }\n  }, {\n    key: \"start\",\n    value: function start(url) {\n      var _this8 = this;\n      if (this.state > STATES.ATTACHING) {\n        return;\n      }\n      if (!url && !this.config.url) {\n        this.getInitDefinition();\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHING);\n      this._registerPlugins(false);\n      return pluginsManager.beforeInit(this).then(function() {\n        if (!_this8.config) {\n          return;\n        }\n        if (!url) {\n          url = _this8.url || _this8.config.url;\n        }\n        var _furl = _this8.preProcessUrl(url);\n        var ret = _this8._startInit(_furl.url);\n        return ret;\n      }).catch(function(e) {\n        e.fileName = \"player\";\n        e.lineNumber = \"236\";\n        XG_DEBUG.logError(\"start:beforeInit:\", e);\n        throw e;\n      });\n    }\n  }, {\n    key: \"switchURL\",\n    value: function switchURL(url, options) {\n      var _this9 = this;\n      var _src = url;\n      if (util.typeOf(url) === \"Object\") {\n        _src = url.url;\n      }\n      _src = this.preProcessUrl(_src).url;\n      var curTime = this.currentTime;\n      this.__startTime = curTime;\n      var isPaused = this.paused && !this.isError;\n      this.src = _src;\n      return new Promise(function(resolve, reject) {\n        var _error = function _error2(e) {\n          _this9.off(\"timeupdate\", _canplay);\n          _this9.off(\"canplay\", _canplay);\n          reject(e);\n        };\n        var _canplay = function _canplay2() {\n          if (_this9.duration > 0 && _this9.__startTime > 0) {\n            _this9.currentTime = _this9.__startTime;\n            _this9.__startTime = -1;\n          }\n          if (isPaused) {\n            _this9.pause();\n          }\n          _this9.off(\"error\", _error);\n          resolve(true);\n        };\n        _this9.once(\"error\", _error);\n        if (!_src) {\n          _this9.errorHandler(\"error\", {\n            code: 6,\n            message: \"empty_src\"\n          });\n          return;\n        }\n        if (sniffer.os.isAndroid) {\n          _this9.once(\"timeupdate\", _canplay);\n        } else {\n          _this9.once(\"canplay\", _canplay);\n        }\n        _this9.play();\n      });\n    }\n  }, {\n    key: \"videoPlay\",\n    value: function videoPlay() {\n      this.mediaPlay();\n    }\n  }, {\n    key: \"mediaPlay\",\n    value: function mediaPlay() {\n      var _this10 = this;\n      if (!this.hasStart && this.state < STATES.ATTACHED) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.start();\n        this._useAutoplay = true;\n        return;\n      }\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n      }\n      var playPromise = _get(_getPrototypeOf(Player2.prototype), \"play\", this).call(this);\n      if (playPromise !== void 0 && playPromise && playPromise.then) {\n        playPromise.then(function() {\n          _this10.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          _this10.addClass(STATE_CLASS.PLAYING);\n          if (_this10.state < STATES.RUNNING) {\n            XG_DEBUG.logInfo(\">>>>playPromise.then\");\n            _this10.setState(STATES.RUNNING);\n            _this10.emit(AUTOPLAY_STARTED);\n          }\n        }).catch(function(e) {\n          XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n          if (_this10.media && _this10.media.error) {\n            _this10.onError();\n            _this10.removeClass(STATE_CLASS.ENTER);\n            return;\n          }\n          if (e.name === \"NotAllowedError\") {\n            _this10._errorTimer = util.setTimeout(_this10, function() {\n              _this10._errorTimer = null;\n              _this10.emit(AUTOPLAY_PREVENTED);\n              _this10.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              _this10.removeClass(STATE_CLASS.ENTER);\n              _this10.pause();\n              _this10.setState(STATES.NOTALLOW);\n            }, 0);\n          }\n        });\n      } else {\n        XG_DEBUG.logWarn(\"video.play not return promise\");\n        if (this.state < STATES.RUNNING) {\n          this.setState(STATES.RUNNING);\n          this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          this.removeClass(STATE_CLASS.NO_START);\n          this.removeClass(STATE_CLASS.ENTER);\n          this.addClass(STATE_CLASS.PLAYING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }\n      return playPromise;\n    }\n  }, {\n    key: \"mediaPause\",\n    value: function mediaPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"videoPause\",\n    value: function videoPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this11 = this;\n      this.removeClass(STATE_CLASS.PAUSED);\n      return runHooks(this, \"play\", function() {\n        return _this11.mediaPlay();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this12 = this;\n      runHooks(this, \"pause\", function() {\n        _get(_getPrototypeOf(Player2.prototype), \"pause\", _this12).call(_this12);\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time, status) {\n      var _this13 = this;\n      if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n        return;\n      }\n      var _this$config4 = this.config, isSeekedPlay = _this$config4.isSeekedPlay, seekedStatus = _this$config4.seekedStatus;\n      var _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n      time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n      !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n      this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n      this._onceSeekCanplay = function() {\n        _this13.removeClass(STATE_CLASS.ENTER);\n        _this13.isSeeking = false;\n        switch (_status) {\n          case \"play\":\n            _this13.play();\n            break;\n          case \"pause\":\n            _this13.pause();\n            break;\n          default:\n            _this13._isPauseBeforeSeek > 1 || _this13.paused ? _this13.pause() : _this13.play();\n        }\n        _this13._isPauseBeforeSeek = 0;\n        _this13._onceSeekCanplay = null;\n      };\n      this.once(SEEKED, this._onceSeekCanplay);\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.currentTime = time;\n        this.play();\n      } else {\n        this.currentTime = time;\n      }\n    }\n  }, {\n    key: \"getInitDefinition\",\n    value: function getInitDefinition() {\n      var _this14 = this;\n      var _this$config5 = this.config, definition = _this$config5.definition, url = _this$config5.url;\n      if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n        definition.list.map(function(item) {\n          if (item.definition === definition.defaultDefinition) {\n            _this14.config.url = item.url;\n            _this14.curDefinition = item;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      var _this15 = this;\n      var definition = this.config.definition;\n      if (Array.isArray(definition === null || definition === void 0 ? void 0 : definition.list)) {\n        definition.list.forEach(function(item) {\n          if ((to === null || to === void 0 ? void 0 : to.definition) === item.definition) {\n            _this15.curDefinition = item;\n          }\n        });\n      }\n      if (to !== null && to !== void 0 && to.bitrate && typeof to.bitrate !== \"number\") {\n        to.bitrate = parseInt(to.bitrate, 10) || 0;\n      }\n      this.emit(DEFINITION_CHANGE, {\n        from,\n        to\n      });\n      if (!this.hasStart) {\n        this.config.url = to.url;\n        return;\n      }\n      var ret = this.switchURL(to.url, _objectSpread2({\n        seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\"\n      }, to));\n      if (ret && ret.then) {\n        ret.then(function() {\n          _this15.emit(AFTER_DEFINITION_CHANGE, {\n            from,\n            to\n          });\n        });\n      } else {\n        this.emit(AFTER_DEFINITION_CHANGE, {\n          from,\n          to\n        });\n      }\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      this.load();\n      this.reloadFunc = function() {\n        this.play();\n      };\n      this.once(LOADED_DATA, this.reloadFunc);\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      var _this16 = this;\n      var NOT_ALLOW_AUTOPLAY = STATE_CLASS.NOT_ALLOW_AUTOPLAY, PLAYING = STATE_CLASS.PLAYING, NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, REPLAY2 = STATE_CLASS.REPLAY, ENTER = STATE_CLASS.ENTER, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NOT_ALLOW_AUTOPLAY, PLAYING, NO_START, PAUSED, REPLAY2, ENTER, ENDED, ERROR2, LOADING];\n      this.hasStart = false;\n      this.isError = false;\n      this._useAutoplay = false;\n      this.mediaPause();\n      this._accPlayed.acc = 0;\n      this._accPlayed.t = 0;\n      this._accPlayed.loopAcc = 0;\n      clsList.forEach(function(cls) {\n        _this16.removeClass(cls);\n      });\n      this.addClass(STATE_CLASS.NO_START);\n      this.emit(RESET);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this17 = this;\n      var unregisterPlugins = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var isResetConfig = arguments.length > 1 ? arguments[1] : void 0;\n      this.resetState();\n      var plugins = this.plugins;\n      if (!plugins) {\n        return;\n      }\n      unregisterPlugins.map(function(pn) {\n        _this17.deregister(pn);\n      });\n      if (isResetConfig) {\n        var de = getDefaultConfig();\n        Object.keys(this.config).keys(function(k) {\n          if (_this17.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n            _this17.config[k] = de[k];\n          }\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this18 = this;\n      var innerContainer = this.innerContainer, root = this.root, media = this.media;\n      if (!root || !media) {\n        return;\n      }\n      this.hasStart = false;\n      this._useAutoplay = false;\n      root.removeAttribute(PLATER_ID);\n      this.updateAcc(\"destroy\");\n      this._unbindEvents();\n      this._detachSourceEvents(this.media);\n      util.clearAllTimers(this);\n      this.emit(DESTROY);\n      pluginsManager.destroy(this);\n      delHooksDescriptor(this);\n      _get(_getPrototypeOf(Player2.prototype), \"destroy\", this).call(this);\n      if (this.fullscreen && this._fullscreenEl === this.root) {\n        this.exitFullscreen();\n      }\n      if (innerContainer) {\n        var _c = innerContainer.children;\n        for (var i = 0; i < _c.length; i++) {\n          innerContainer.removeChild(_c[i]);\n        }\n      }\n      !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n      [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map(function(item) {\n        _this18[item] && root.removeChild(_this18[item]);\n        _this18[item] = null;\n      });\n      var cList = root.className.split(\" \");\n      if (cList.length > 0) {\n        root.className = cList.filter(function(name) {\n          return name.indexOf(\"xgplayer\") < 0;\n        }).join(\" \");\n      } else {\n        root.className = \"\";\n      }\n      this.removeAttribute(\"data-xgfill\");\n      [\"isSeeking\", \"isCanplay\", \"isActive\", \"cssfullscreen\", \"fullscreen\"].forEach(function(key) {\n        _this18[key] = false;\n      });\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      var _this19 = this;\n      this.removeClass(STATE_CLASS.ENDED);\n      this.currentTime = 0;\n      this.isSeeking = false;\n      runHooks(this, \"replay\", function() {\n        _this19.once(SEEKED, function() {\n          var playPromise = _this19.mediaPlay();\n          if (playPromise && playPromise.catch) {\n            playPromise.catch(function(err) {\n              console.log(err);\n            });\n          }\n        });\n        _this19.play();\n        _this19.emit(REPLAY);\n        _this19.onPlay();\n      });\n    }\n  }, {\n    key: \"retry\",\n    value: function retry() {\n      var _this20 = this;\n      this.removeClass(STATE_CLASS.ERROR);\n      this.addClass(STATE_CLASS.LOADING);\n      runHooks(this, \"retry\", function() {\n        var cur = _this20.currentTime;\n        var url = _this20.config.url;\n        var _srcRet = !util.isMSE(_this20.media) ? _this20.preProcessUrl(url) : {\n          url\n        };\n        _this20.src = _srcRet.url;\n        !_this20.config.isLive && (_this20.currentTime = cur);\n        _this20.once(CANPLAY, function() {\n          _this20.mediaPlay();\n        });\n      });\n    }\n  }, {\n    key: \"changeFullStyle\",\n    value: function changeFullStyle(root, el, rootClass, pClassName) {\n      if (!root) {\n        return;\n      }\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (!this._orgCss) {\n        this._orgCss = util.filterStyleFromText(root);\n      }\n      util.addClass(root, rootClass);\n      if (el && el !== root && !this._orgPCss) {\n        this._orgPCss = util.filterStyleFromText(el);\n        util.addClass(el, pClassName);\n        el.setAttribute(PLATER_ID, this.playerId);\n      }\n    }\n  }, {\n    key: \"recoverFullStyle\",\n    value: function recoverFullStyle(root, el, rootClass, pClassName) {\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (this._orgCss) {\n        util.setStyleFromCsstext(root, this._orgCss);\n        this._orgCss = \"\";\n      }\n      util.removeClass(root, rootClass);\n      if (el && el !== root && this._orgPCss) {\n        util.setStyleFromCsstext(el, this._orgPCss);\n        this._orgPCss = \"\";\n        util.removeClass(el, pClassName);\n        el.removeAttribute(PLATER_ID);\n      }\n    }\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      var root = this.root, media = this.media;\n      if (!el) {\n        el = root;\n      }\n      this._fullScreenOffset = {\n        top: util.scrollTop(),\n        left: util.scrollLeft()\n      };\n      this._fullscreenEl = el;\n      this._fullActionFrom = \"get\";\n      var fullEl = util.getFullScreenEl();\n      if (fullEl === this._fullscreenEl) {\n        this.onFullscreenChange();\n        return Promise.resolve();\n      }\n      try {\n        for (var i = 0; i < GET_FULLSCREEN_API.length; i++) {\n          var key = GET_FULLSCREEN_API[i];\n          if (el[key]) {\n            var ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n          media.webkitEnterFullscreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(el) {\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      }\n      if (!this._fullscreenEl && !util.getFullScreenEl()) {\n        return;\n      }\n      this.root;\n      var media = this.media;\n      this._fullActionFrom = \"exit\";\n      try {\n        for (var i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n          var key = EXIT_FULLSCREEN_API[i];\n          if (document[key]) {\n            var ret = document[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media && media.webkitSupportsFullscreen) {\n          media.webkitExitFullScreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"getCssFullscreen\",\n    value: function getCssFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      } else if (this.fullscreen) {\n        this.exitFullscreen();\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      this.changeFullStyle(this.root, el, _class);\n      var _this$config$fullscre = this.config.fullscreen, fullscreen = _this$config$fullscre === void 0 ? {} : _this$config$fullscre;\n      var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.fullscreen = true;\n        this.emit(FULLSCREEN_CHANGE, true);\n      }\n      this._cssfullscreenEl = el;\n      this.cssfullscreen = true;\n      this.emit(CSS_FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitCssFullscreen\",\n    value: function exitCssFullscreen() {\n      var _class = this._cssfullscreenEl ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      if (!this.fullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n      } else {\n        var _this$config$fullscre2 = this.config.fullscreen, fullscreen = _this$config$fullscre2 === void 0 ? {} : _this$config$fullscre2;\n        var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n        if (useCssFullscreen) {\n          this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n          this.fullscreen = false;\n          this.emit(FULLSCREEN_CHANGE, false);\n        } else {\n          this.removeClass(_class);\n        }\n      }\n      this._cssfullscreenEl = null;\n      this.cssfullscreen = false;\n      this.emit(CSS_FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"getRotateFullscreen\",\n    value: function getRotateFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.cssfullscreen) {\n        this.exitCssFullscreen(el);\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this._fullscreenEl = el || this.root;\n      this.changeFullStyle(this.root, el, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = true;\n      this.fullscreen = true;\n      this.setRotateDeg(90);\n      this._rootStyle = this.root.getAttribute(\"style\");\n      this.root.style.width = \"\".concat(window.innerHeight, \"px\");\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitRotateFullscreen\",\n    value: function exitRotateFullscreen(el) {\n      var _class = this._fullscreenEl !== this.root ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this.recoverFullStyle(this.root, this._fullscreenEl, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = false;\n      this.fullscreen = false;\n      this.setRotateDeg(0);\n      this.emit(FULLSCREEN_CHANGE, false);\n      if (this._rootStyle) {\n        this.root.style.style = this._rootStyle;\n        this._rootStyle = false;\n      }\n    }\n  }, {\n    key: \"setRotateDeg\",\n    value: function setRotateDeg(deg) {\n      if (window.orientation === 90 || window.orientation === -90) {\n        this.rotateDeg = 0;\n      } else {\n        this.rotateDeg = deg;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: !this.config.closeDelayBlur,\n        delay: this.config.inactive\n      };\n      if (this.isActive) {\n        this.onFocus(data);\n        return;\n      }\n      this.emit(PLAYER_FOCUS, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        ignorePaused: false\n      };\n      if (!this.isActive) {\n        this.onBlur(data);\n        return;\n      }\n      this.emit(PLAYER_BLUR, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      var _this21 = this;\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: true,\n        delay: 3e3\n      };\n      var innerStates = this.innerStates;\n      this.isActive = true;\n      this.removeClass(STATE_CLASS.INACTIVE);\n      if (this.userTimer) {\n        util.clearTimeout(this, this.userTimer);\n        this.userTimer = null;\n      }\n      if (data.isLock !== void 0) {\n        innerStates.isActiveLocked = data.isLock;\n      }\n      if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        return;\n      }\n      var time = data && data.delay ? data.delay : this.config.inactive;\n      this.userTimer = util.setTimeout(this, function() {\n        _this21.userTimer = null;\n        _this21.blur();\n      }, time);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$ignorePaused = _ref.ignorePaused, ignorePaused = _ref$ignorePaused === void 0 ? false : _ref$ignorePaused;\n      if (!this.isActive || this.innerStates.isActiveLocked) {\n        return;\n      }\n      var closePauseVideoFocus = this.config.closePauseVideoFocus;\n      this.isActive = false;\n      if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n        this.addClass(STATE_CLASS.INACTIVE);\n      }\n    }\n  }, {\n    key: \"onEmptied\",\n    value: function onEmptied() {\n      this.updateAcc(\"emptied\");\n    }\n  }, {\n    key: \"onCanplay\",\n    value: function onCanplay() {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.ERROR);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.isCanplay = true;\n      this.waitTimer && util.clearTimeout(this, this.waitTimer);\n    }\n  }, {\n    key: \"onDurationchange\",\n    value: function onDurationchange() {\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime;\n        this.__startTime = -1;\n      }\n    }\n  }, {\n    key: \"onLoadeddata\",\n    value: function onLoadeddata() {\n      this.isError = false;\n      this.isSeeking = false;\n    }\n  }, {\n    key: \"onLoadstart\",\n    value: function onLoadstart() {\n      this.removeClass(STATE_CLASS.ERROR);\n      this.isCanplay = false;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.state === STATES.ENDED) {\n        this.setState(STATES.RUNNING);\n      }\n      this.removeClass(STATE_CLASS.PAUSED);\n      this.ended && this.removeClass(STATE_CLASS.ENDED);\n      !this.config.closePlayVideoFocus && this.focus();\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.addClass(STATE_CLASS.PAUSED);\n      this.updateAcc(\"pause\");\n      if (!this.config.closePauseVideoFocus) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.updateAcc(\"ended\");\n      this.addClass(STATE_CLASS.ENDED);\n      this.setState(STATES.ENDED);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.isError = true;\n      this.updateAcc(\"error\");\n      this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n      this.removeClass(STATE_CLASS.NO_START);\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.addClass(STATE_CLASS.ERROR);\n    }\n  }, {\n    key: \"onSeeking\",\n    value: function onSeeking() {\n      if (!this.isSeeking) {\n        this.updateAcc(\"seeking\");\n      }\n      this.isSeeking = true;\n      this.addClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.isSeeking = false;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.removeClass(STATE_CLASS.LOADING);\n      this.removeClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onWaiting\",\n    value: function onWaiting() {\n      var _this22 = this;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.updateAcc(\"waiting\");\n      this.waitTimer = util.setTimeout(this, function() {\n        _this22.addClass(STATE_CLASS.LOADING);\n        util.clearTimeout(_this22, _this22.waitTimer);\n        _this22.waitTimer = null;\n      }, this.config.minWaitDelay);\n    }\n  }, {\n    key: \"onPlaying\",\n    value: function onPlaying() {\n      var _this23 = this;\n      this.isError = false;\n      var NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, REPLAY2 = STATE_CLASS.REPLAY, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING];\n      clsList.forEach(function(cls) {\n        _this23.removeClass(cls);\n      });\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate() {\n      !this._videoHeight && this.media.videoHeight && this.resize();\n      if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n        this.removeClass(STATE_CLASS.LOADING);\n        util.clearTimeout(this, this.waitTimer);\n        this.waitTimer = null;\n      }\n      if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n        this.setState(STATES.RUNNING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onVolumechange\",\n    value: function onVolumechange() {\n      util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n    }\n  }, {\n    key: \"onRatechange\",\n    value: function onRatechange() {\n      this.config.defaultPlaybackRate = this.playbackRate;\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action, params) {\n      if (!this.media || !action || !event) {\n        return;\n      }\n      var eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n      if (params.props && util.typeOf(params.props) !== \"Array\") {\n        params.props = [params.props];\n      }\n      this.emit(USER_ACTION, _objectSpread2({\n        eventType,\n        action,\n        currentTime: this.currentTime,\n        duration: this.duration,\n        ended: this.ended,\n        event\n      }, params));\n    }\n  }, {\n    key: \"updateAcc\",\n    value: function updateAcc(endType) {\n      if (this._accPlayed.t) {\n        var _at = new Date().getTime() - this._accPlayed.t;\n        this._accPlayed.acc += _at;\n        this._accPlayed.t = 0;\n        if (endType === \"ended\" || this.ended) {\n          this._accPlayed.loopAcc = this._accPlayed.acc;\n        }\n      }\n    }\n  }, {\n    key: \"checkBuffer\",\n    value: function checkBuffer(time) {\n      var buffered = this.media.buffered;\n      if (!buffered || buffered.length === 0 || !this.duration) {\n        return true;\n      }\n      var currentTime = time || this.media.currentTime || 0.2;\n      var len = buffered.length;\n      for (var i = 0; i < len; i++) {\n        if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"resizePosition\",\n    value: function resizePosition() {\n      var _this$videoPos = this.videoPos, rotate = _this$videoPos.rotate, vy = _this$videoPos.vy, vx = _this$videoPos.vx, h = _this$videoPos.h, w = _this$videoPos.w;\n      if (rotate < 0 && !vy && !vx) {\n        return;\n      }\n      var _pi = this.videoPos._pi;\n      if (!_pi && this.media.videoHeight) {\n        _pi = this.media.videoWidth / this.media.videoHeight * 100;\n      }\n      if (!_pi) {\n        return;\n      }\n      this.videoPos.pi = _pi;\n      var _pos = {\n        rotate\n      };\n      var offsetY = 0;\n      var offsetX = 0;\n      var scale = 1;\n      var _t = rotate < 0 ? 0 : Math.abs(rotate / 90);\n      var root = this.root, innerContainer = this.innerContainer;\n      var width = root.offsetWidth;\n      var height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n      var rHeight = height;\n      var rWidth = width;\n      if (_t % 2 === 0) {\n        scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n        _pos.scale = scale;\n        offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n        _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n        offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n        _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      } else if (_t % 2 === 1) {\n        rWidth = height;\n        rHeight = width;\n        var offset = height - width;\n        offsetX = -offset / 2 / rWidth * 100;\n        _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n        offsetY = offset / 2 / rHeight * 100;\n        _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n        _pos.scale = scale;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      }\n      var formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n      this.media.style.transform = formStyle;\n      this.media.style.webkitTransform = formStyle;\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        h: 0,\n        y: 0,\n        x: 0,\n        w: 0\n      };\n      if (!this.media || !pos || !pos.h) {\n        return;\n      }\n      var videoPos = this.videoPos;\n      videoPos.h = pos.h * 100 || 0;\n      videoPos.w = pos.w * 100 || 0;\n      videoPos.vx = pos.x * 100 || 0;\n      videoPos.vy = pos.y * 100 || 0;\n      this.resizePosition();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this24 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        if (key !== \"plugins\") {\n          _this24.config[key] = config[key];\n          var plugin = _this24.plugins[key.toLowerCase()];\n          if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n            plugin.setConfig(config[key]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext(config) {\n      var _this25 = this;\n      this.resetState();\n      this.setConfig(config);\n      this._currentTime = 0;\n      this._duration = 0;\n      runHooks(this, \"playnext\", function() {\n        _this25.start();\n        _this25.emit(PLAYNEXT, config);\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this26 = this;\n      if (!this.media) {\n        return;\n      }\n      var containerSize = this.root.getBoundingClientRect();\n      this.sizeInfo.width = containerSize.width;\n      this.sizeInfo.height = containerSize.height;\n      this.sizeInfo.left = containerSize.left;\n      this.sizeInfo.top = containerSize.top;\n      var _this$media = this.media, videoWidth = _this$media.videoWidth, videoHeight = _this$media.videoHeight;\n      var _this$config6 = this.config, fitVideoSize = _this$config6.fitVideoSize, videoFillMode = _this$config6.videoFillMode;\n      if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n        this.setAttribute(\"data-xgfill\", videoFillMode);\n      }\n      if (!videoHeight || !videoWidth) {\n        return;\n      }\n      this._videoHeight = videoHeight;\n      this._videoWidth = videoWidth;\n      var controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n      var width = containerSize.width;\n      var height = containerSize.height - controlsHeight;\n      var videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n      var fit = parseInt(width / height * 1e3, 10);\n      var rWidth = width;\n      var rHeight = height;\n      var _style = {};\n      if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n        rHeight = width / videoFit * 1e3;\n        if (this.config.fluid) {\n          _style.paddingTop = \"\".concat(rHeight * 100 / rWidth, \"%\");\n        } else {\n          _style.height = \"\".concat(rHeight + controlsHeight, \"px\");\n        }\n      } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n        rWidth = videoFit * height / 1e3;\n        _style.width = \"\".concat(rWidth, \"px\");\n      }\n      if (!this.fullscreen && !this.cssfullscreen) {\n        Object.keys(_style).forEach(function(key) {\n          _this26.root.style[key] = _style[key];\n        });\n      }\n      if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n        this.setAttribute(\"data-xgfill\", \"cover\");\n      }\n      var data = {\n        videoScale: videoFit,\n        vWidth: rWidth,\n        vHeight: rHeight,\n        cWidth: rWidth,\n        cHeight: rHeight + controlsHeight\n      };\n      this.resizePosition();\n      this.emit(VIDEO_RESIZE, data);\n    }\n  }, {\n    key: \"updateObjectPosition\",\n    value: function updateObjectPosition() {\n      var left = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      if (this.media.updateObjectPosition) {\n        this.media.updateObjectPosition(left, top);\n        return;\n      }\n      this.media.style.objectPosition = \"\".concat(left * 100, \"% \").concat(top * 100, \"%\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      XG_DEBUG.logInfo(\"setState\", \"state from:\".concat(STATE_ARRAY[this.state], \" to:\").concat(STATE_ARRAY[newState]));\n      this._state = newState;\n    }\n  }, {\n    key: \"preProcessUrl\",\n    value: function preProcessUrl(url, ext) {\n      var preProcessUrl2 = this.config.preProcessUrl;\n      return !util.isBlob(url) && preProcessUrl2 && typeof preProcessUrl2 === \"function\" ? preProcessUrl2(url, ext) : {\n        url\n      };\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return this.fullscreen;\n    }\n  }, {\n    key: \"isCssfullScreen\",\n    get: function get() {\n      return this.cssfullscreen;\n    }\n  }, {\n    key: \"hasStart\",\n    get: function get() {\n      return this._hasStart;\n    },\n    set: function set(bool) {\n      if (typeof bool === \"boolean\") {\n        this._hasStart = bool;\n        if (bool === false) {\n          this.setState(STATES.READY);\n        }\n        this.emit(\"hasstart\");\n      }\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n    },\n    set: function set(value) {\n      if (value) {\n        this.setState(STATES.RUNNING);\n      } else {\n        this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n      }\n    }\n  }, {\n    key: \"definitionList\",\n    get: function get() {\n      if (!this.config || !this.config.definition) {\n        return [];\n      }\n      return this.config.definition.list || [];\n    },\n    set: function set(list) {\n      var _this27 = this;\n      var definition = this.config.definition;\n      var curDef = null;\n      var targetDef = null;\n      definition.list = list;\n      this.emit(\"resourceReady\", list);\n      list.forEach(function(item) {\n        var _this27$curDefinition;\n        if (((_this27$curDefinition = _this27.curDefinition) === null || _this27$curDefinition === void 0 ? void 0 : _this27$curDefinition.definition) === item.definition) {\n          curDef = item;\n        }\n        if (definition.defaultDefinition === item.definition) {\n          targetDef = item;\n        }\n      });\n      if (!targetDef && list.length > 0) {\n        targetDef = list[0];\n      }\n      curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n    }\n  }, {\n    key: \"videoFrameInfo\",\n    get: function get() {\n      var ret = {\n        total: 0,\n        dropped: 0,\n        corrupted: 0,\n        droppedRate: 0,\n        droppedDuration: 0\n      };\n      if (!this.media || !this.media.getVideoPlaybackQuality) {\n        return ret;\n      }\n      var _quality = this.media.getVideoPlaybackQuality();\n      ret.dropped = _quality.droppedVideoFrames || 0;\n      ret.total = _quality.totalVideoFrames || 0;\n      ret.corrupted = _quality.corruptedVideoFrames || 0;\n      if (ret.total > 0) {\n        ret.droppedRate = ret.dropped / ret.total * 100;\n        ret.droppedDuration = parseInt(this.cumulateTime / ret.total * ret.dropped, 0);\n      }\n      return ret;\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.config.lang;\n    },\n    set: function set(lang) {\n      var result = I18N.langKeys.filter(function(key) {\n        return key === lang;\n      });\n      if (result.length === 0 && lang !== \"zh\") {\n        console.error(\"Sorry, set lang fail, because the language [\".concat(lang, \"] is not supported now, list of all supported languages is [\").concat(I18N.langKeys.join(), \"] \"));\n        return;\n      }\n      this.config.lang = lang;\n      pluginsManager.setLang(lang, this);\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      var _l = this.config.lang;\n      if (_l === \"zh\") {\n        _l = \"zh-cn\";\n      }\n      return this.__i18n.lang[_l] || this.__i18n.lang.en;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.__i18n.textKeys || {};\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._pluginInfoId;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.__url || this.config.url;\n    },\n    set: function set(url) {\n      this.__url = url;\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n    },\n    set: function set(posterUrl) {\n      this.plugins.poster && this.plugins.poster.update(posterUrl);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"readyState\", this);\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      var key = _get(_getPrototypeOf(Player2.prototype), \"error\", this);\n      return this.i18n[key] || key;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"networkState\", this);\n    }\n  }, {\n    key: \"fullscreenChanging\",\n    get: function get() {\n      return !(this._fullScreenOffset === null);\n    }\n  }, {\n    key: \"cumulateTime\",\n    get: function get() {\n      var _this$_accPlayed = this._accPlayed, acc = _this$_accPlayed.acc, t = _this$_accPlayed.t;\n      return t ? new Date().getTime() - t + acc : acc;\n    }\n  }, {\n    key: \"zoom\",\n    get: function get() {\n      return this.config.zoom;\n    },\n    set: function set(value) {\n      this.config.zoom = value;\n    }\n  }, {\n    key: \"videoRotateDeg\",\n    get: function get() {\n      return this.videoPos.rotate;\n    },\n    set: function set(val) {\n      val = util.convertDeg(val);\n      if (val % 90 !== 0 || val === this.videoPos.rotate) {\n        return;\n      }\n      this.videoPos.rotate = val;\n      this.resizePosition();\n    }\n  }, {\n    key: \"avgSpeed\",\n    get: function get() {\n      return AVG_SPEED;\n    },\n    set: function set(val) {\n      AVG_SPEED = val;\n    }\n  }, {\n    key: \"realTimeSpeed\",\n    get: function get() {\n      return REAL_TIME_SPEED;\n    },\n    set: function set(val) {\n      REAL_TIME_SPEED = val;\n    }\n  }, {\n    key: \"offsetCurrentTime\",\n    get: function get() {\n      return this._offsetInfo.currentTime || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.currentTime = val;\n    }\n  }, {\n    key: \"offsetDuration\",\n    get: function get() {\n      return this._offsetInfo.duration || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.duration = val || 0;\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"usePluginHooks\",\n    value: function usePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      return usePluginHooks.call.apply(usePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removePluginHooks\",\n    value: function removePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        args[_key2 - 3] = arguments[_key2];\n      }\n      return removePluginHooks.call.apply(removePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"setUserActive\",\n    value: function setUserActive(isActive, isMuted) {\n      if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n        this.addInnerOP(\"volumechange\");\n        this.muted = isMuted;\n      }\n      pluginsManager.setCurrentUserActive(this.playerId, isActive);\n    }\n  }], [{\n    key: \"debugger\",\n    get: function get() {\n      return XG_DEBUG.config.debug;\n    },\n    set: function set(value) {\n      XG_DEBUG.config.debug = value;\n    }\n  }, {\n    key: \"getCurrentUserActivePlayerId\",\n    value: function getCurrentUserActivePlayerId() {\n      return pluginsManager.getCurrentUseActiveId();\n    }\n  }, {\n    key: \"setCurrentUserActive\",\n    value: function setCurrentUserActive(playerId, isActive) {\n      pluginsManager.setCurrentUserActive(playerId, isActive);\n    }\n  }, {\n    key: \"isHevcSupported\",\n    value: function isHevcSupported() {\n      return sniffer.isHevcSupported();\n    }\n  }, {\n    key: \"probeConfigSupported\",\n    value: function probeConfigSupported(info) {\n      return sniffer.probeConfigSupported(info);\n    }\n  }, {\n    key: \"install\",\n    value: function install(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      if (!Player2.plugins[name]) {\n        Player2.plugins[name] = descriptor;\n      }\n    }\n  }, {\n    key: \"use\",\n    value: function use(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      Player2.plugins[name] = descriptor;\n    }\n  }]);\n  return Player2;\n}(MediaProxy);\n_defineProperty(Player, \"defaultPreset\", null);\n_defineProperty(Player, \"XgVideoProxy\", null);\nexport { Player as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nvar LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nvar XGLogger = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(XGLogger2, _BasePlugin);\n  var _super = _createSuper(XGLogger2);\n  function XGLogger2() {\n    var _this;\n    _classCallCheck(this, XGLogger2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      _this._state.isTimeUpdate = true;\n      if (_this._state.autoplayStart) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onTimeupdate\"));\n        _this._sendFF(\"onTimeupdate\");\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onAutoplayStart\", function() {\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onAutoplayStart\"));\n      _this._state.autoplayStart = true;\n      _this.vt && _this._sendFF(\"onAutoplayStart\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      _this.vt = 0;\n      _this.pt = 0;\n      _this.fvt = 0;\n      _this.newPointTime = now();\n      _this.loadedCostTime = 0;\n      _this.startCostTime = 0;\n      _this._isSeeking = false;\n      _this.seekingStart = 0;\n      _this.waitingStart = 0;\n      _this.fixedWaitingStart = 0;\n      _this._isWaiting = false;\n      _this._waitTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n      _this._waittTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waittTimer);\n      _this._waitTimer = null;\n      _this._waittTimer = null;\n      _this._waitType = 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      if (_this.seekingStart) {\n        return;\n      }\n      _this.suspendWaitingStatus(\"seek\");\n      _this.seekingStart = now();\n      _this.emitLog(LOG_TYPES.SEEK_START, {\n        start: now()\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeked\", function() {\n      _this.suspendSeekingStatus(\"seeked\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaitingLoadStart\", function() {\n      if (_this._isWaiting || _this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      _this.waitingStart = now();\n      _this.fixedWaitingStart = now();\n      _this._waitType = 1;\n      _this.emitLog(LOG_TYPES.WAIT_START, {\n        fixedStart: _this.fixedWaitingStart,\n        start: _this.waitingStart,\n        type: 1,\n        endType: \"loadstart\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaiting\", function() {\n      if (_this._isWaiting || !_this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      if (!_this.vt) {\n        _this._waitType = 1;\n      } else if (_this.seekingStart) {\n        _this._waitType = 2;\n      } else {\n        _this._waitType = 0;\n      }\n      _this.fixedWaitingStart = now();\n      _this._waitTimer = util.setTimeout(_assertThisInitialized(_this), function() {\n        if (_this._isWaiting) {\n          _this.waitingStart = now();\n          util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n          _this._waitTimer = null;\n          _this._startWaitTimeout();\n          _this.emitLog(LOG_TYPES.WAIT_START, {\n            fixedStart: _this.fixedWaitingStart,\n            start: _this.waitingStart,\n            type: _this._waitType,\n            endType: _this._waitType === 2 ? \"seek\" : \"playing\"\n          });\n        }\n      }, 200);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onError\", function() {\n      _this.suspendSeekingStatus(\"error\");\n      _this.suspendWaitingStatus(\"error\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlaying\", function() {\n      _this._isWaiting && _this.suspendWaitingStatus(\"playing\");\n    });\n    return _this;\n  }\n  _createClass(XGLogger2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._onReset();\n      this._waitType = \"firstFrame\";\n      this._initOnceEvents();\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this.on(LOAD_START, function() {\n        var _state = _this2._state;\n        var autoplayStart = _state.autoplayStart, isFFSend = _state.isFFSend;\n        _this2.startCostTime = now() - _this2.newPointTime;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOAD_START\"), \"autoplayStart:\".concat(autoplayStart, \" isFFSend:\").concat(isFFSend, \" startCostTime:\").concat(_this2.startCostTime, \" newPointTime\").concat(_this2.newPointTime));\n        if (isFFSend) {\n          return;\n        }\n        !_state.isLs && _this2.emitLog(LOG_TYPES.LOAD_START, {});\n        _state.isLs = true;\n        _state.isTimeUpdate = false;\n        _state.isFFLoading = true;\n        _this2.pt = now();\n        _this2.vt = 0;\n        _this2.fvt = 0;\n        _this2._initOnceEvents();\n        _this2._onWaitingLoadStart();\n      });\n      this.on(LOADED_DATA, function() {\n        _this2.vt = now();\n        _this2.fvt = _this2.vt - _this2.pt;\n        _this2.loadedCostTime = _this2.vt - _this2.newPointTime;\n        var _this2$_state = _this2._state, isTimeUpdate = _this2$_state.isTimeUpdate, isFFSend = _this2$_state.isFFSend, autoplayStart = _this2$_state.autoplayStart;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOADED_DATA\"), \"fvt:\".concat(_this2.fvt, \" isTimeUpdate:\").concat(_this2._state.isTimeUpdate, \" loadedCostTime:\").concat(_this2.loadedCostTime));\n        if (isTimeUpdate || autoplayStart) {\n          _this2._sendFF(\"loadedData\");\n        }\n        if (!isFFSend) {\n          _this2.emitLog(LOG_TYPES.LOADED_DATA, {});\n        }\n        _this2.suspendWaitingStatus(\"loadeddata\");\n      });\n      this.on(SEEKING, this._onSeeking);\n      this.on(SEEKED, this._onSeeked);\n      this.on(DESTROY, function() {\n        _this2.endState(\"destroy\");\n      });\n      this.on(URL_CHANGE, function() {\n        _this2.endState(\"urlChange\");\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" URL_CHANGE\"));\n        _this2._state.isFFSend && _this2._onReset();\n      });\n      this.on([PLAYING, CANPLAY], this._onPlaying);\n      this.on(WAITING, this._onWaiting);\n      this.on(ERROR, this._onError);\n      this.on(RESET, function() {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" RESET\"));\n        _this2.endState(\"reset\");\n        _this2._initOnceEvents();\n        _this2._onReset();\n      });\n    }\n  }, {\n    key: \"_initOnceEvents\",\n    value: function _initOnceEvents() {\n      this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.off(TIME_UPDATE, this._onTimeupdate);\n      this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.once(TIME_UPDATE, this._onTimeupdate);\n    }\n  }, {\n    key: \"_sendFF\",\n    value: function _sendFF(endType) {\n      this.s = now();\n      var _this$_state = this._state, isFFLoading = _this$_state.isFFLoading, isFFSend = _this$_state.isFFSend;\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" _sendFF\"), \"\".concat(endType, \" fvt:\").concat(this.fvt, \" isFFLoading:\").concat(isFFLoading, \" !isFFSend:\").concat(!isFFSend));\n      if (this.vt > 0 && isFFLoading && !isFFSend) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" emitLog_firstFrame\"), endType);\n        this._state.isFFLoading = false;\n        this._state.isFFSend = true;\n        this.emitLog(LOG_TYPES.FIRST_FRAME, {\n          fvt: this.fvt,\n          costTime: this.fvt,\n          vt: this.vt,\n          startCostTime: this.startCostTime,\n          loadedCostTime: this.loadedCostTime\n        });\n      }\n    }\n  }, {\n    key: \"_startWaitTimeout\",\n    value: function _startWaitTimeout() {\n      var _this3 = this;\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n      }\n      this._waittTimer = util.setTimeout(this, function() {\n        _this3.suspendWaitingStatus(\"timeout\");\n        util.clearTimeout(_this3, _this3._waittTimer);\n        _this3._waittTimer = null;\n      }, this.config.waitTimeout);\n    }\n  }, {\n    key: \"endState\",\n    value: function endState(endType) {\n      this.suspendWaitingStatus(endType);\n      this.suspendSeekingStatus(endType);\n    }\n  }, {\n    key: \"suspendSeekingStatus\",\n    value: function suspendSeekingStatus(endType) {\n      if (!this.seekingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.seekingStart;\n      this.seekingStart = 0;\n      this.emitLog(LOG_TYPES.SEEK_END, {\n        end: _now,\n        costTime: _cost,\n        endType\n      });\n    }\n  }, {\n    key: \"suspendWaitingStatus\",\n    value: function suspendWaitingStatus(endType) {\n      if (this._waitTimer) {\n        util.clearTimeout(this, this._waitTimer);\n        this._waitTimer = null;\n      }\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n        this._waittTimer = null;\n      }\n      this._isWaiting = false;\n      if (!this.waitingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.waitingStart;\n      var _fixedCost = _now - this.fixedWaitingStart;\n      var waitTimeout = this.config.waitTimeout;\n      this._isWaiting = false;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this.emitLog(LOG_TYPES.WAIT_END, {\n        fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n        costTime: _cost > waitTimeout ? waitTimeout : _cost,\n        type: endType === \"loadeddata\" ? 1 : this._waitType,\n        endType: this._waitType === 2 ? \"seek\" : endType\n      });\n    }\n  }, {\n    key: \"emitLog\",\n    value: function emitLog(eventType, data) {\n      var player = this.player;\n      this.emit(XGLOG, _objectSpread2({\n        t: now(),\n        host: util.getHostFromUrl(player.currentSrc),\n        vtype: player.vtype,\n        eventType,\n        currentTime: this.player.currentTime,\n        readyState: player.video.readyState,\n        networkState: player.video.networkState\n      }, data));\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"xgLogger\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        waitTimeout: 1e4\n      };\n    }\n  }]);\n  return XGLogger2;\n}(Plugin);\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nvar Replay = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Replay2, _Plugin);\n  var _super = _createSuper(Replay2);\n  function Replay2() {\n    _classCallCheck(this, Replay2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Replay2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        replay: ReplaySvg\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      Plugin.insert(this.icons.replay, this.root, 0);\n      this.__handleReplay = this.hook(\"replayClick\", function() {\n        _this.player.replay();\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n      this.on(ENDED, function() {\n        if (!_this.playerConfig.loop) {\n          util.addClass(_this.player.root, \"replay\");\n        }\n        if (_this.config.disable) {\n          return;\n        }\n        _this.show();\n        var path = _this.root.querySelector(\"path\");\n        if (path) {\n          var transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n          if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n            return null;\n          } else {\n            path.setAttribute(\"transform\", transform);\n          }\n        }\n      });\n      this.on(PLAY, function() {\n        _this.hide();\n      });\n    }\n  }, {\n    key: \"handleReplay\",\n    value: function handleReplay(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.player.replay();\n      util.removeClass(this.player.root, \"replay\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.config.disable) {\n        return;\n      }\n      this.root.style.display = \"flex\";\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-replay class=\"xgplayer-replay\">\\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"'.concat(this.i18nKeys.REPLAY, '\">').concat(this.i18n.REPLAY, \"</xg-replay-txt>\\n    </xg-replay>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"replay\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false\n      };\n    }\n  }]);\n  return Replay2;\n}(Plugin);\nexport { Replay as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Poster = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Poster2, _Plugin);\n  var _super = _createSuper(Poster2);\n  function Poster2() {\n    _classCallCheck(this, Poster2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Poster2, [{\n    key: \"isEndedShow\",\n    get: function get() {\n      return this.config.isEndedShow;\n    },\n    set: function set(value) {\n      this.config.isEndedShow = value;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.poster === \"string\") {\n        args.config.poster = args.player.config.poster;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(ENDED, function() {\n        if (_this.isEndedShow) {\n          util.removeClass(_this.root, \"hide\");\n        }\n      });\n      if (this.config.hideCanplay) {\n        this.once(TIME_UPDATE, function() {\n          _this.onTimeUpdate();\n        });\n        this.on(URL_CHANGE, function() {\n          util.removeClass(_this.root, \"hide\");\n          util.addClass(_this.root, \"xg-showplay\");\n          _this.once(TIME_UPDATE, function() {\n            _this.onTimeUpdate();\n          });\n        });\n      } else {\n        this.on(PLAY, function() {\n          util.addClass(_this.root, \"hide\");\n        });\n      }\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate() {\n      var _this2 = this;\n      if (!this.player.currentTime) {\n        this.once(TIME_UPDATE, function() {\n          _this2.onTimeUpdate();\n        });\n      } else {\n        util.removeClass(this.root, \"xg-showplay\");\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(poster) {\n      if (!poster) {\n        return;\n      }\n      this.config.poster = poster;\n      this.root.style.backgroundImage = \"url(\".concat(poster, \")\");\n    }\n  }, {\n    key: \"getBgSize\",\n    value: function getBgSize(mode) {\n      var _bg = \"\";\n      switch (mode) {\n        case \"cover\":\n          _bg = \"cover\";\n          break;\n        case \"container\":\n          _bg = \"container\";\n          break;\n        case \"fixHeight\":\n          _bg = \"auto 100%\";\n          break;\n        default:\n          _bg = \"\";\n      }\n      return _bg ? \"background-size: \".concat(_bg, \";\") : \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config = this.config, poster = _this$config.poster, hideCanplay = _this$config.hideCanplay, fillMode = _this$config.fillMode;\n      var _bg = this.getBgSize(fillMode);\n      var style = poster ? \"background-image:url(\".concat(poster, \");\").concat(_bg) : _bg;\n      return '<xg-poster class=\"xgplayer-poster '.concat(hideCanplay ? \"xg-showplay\" : \"\", '\" style=\"').concat(style, '\">\\n    </xg-poster>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"poster\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isEndedShow: true,\n        hideCanplay: false,\n        poster: \"\",\n        fillMode: \"fixWidth\"\n      };\n    }\n  }]);\n  return Poster2;\n}(Plugin);\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar AnimateMap = {};\nfunction addAnimate(key, seconds) {\n  var callback = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    start: null,\n    end: null\n  };\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(function() {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map(function(key) {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nvar Start = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Start2, _Plugin);\n  var _super = _createSuper(Start2);\n  function Start2(args) {\n    var _this;\n    _classCallCheck(this, Start2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReset\", function() {\n      _this.autoPlayStart = false;\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      _this.setAttr(\"data-state\", \"play\");\n      util.removeClass(_this.root, className);\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAutoplayStart\", function() {\n      if (_this.autoPlayStart) {\n        return;\n      }\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(_this.root, className);\n      _this.autoPlayStart = true;\n      _this.onPlayPause(\"play\");\n    });\n    _this.autoPlayStart = false;\n    return _this;\n  }\n  _createClass(Start2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var player = this.player, playerConfig = this.playerConfig;\n      this.initIcons();\n      this.once(READY, function() {\n        if (playerConfig) {\n          if (playerConfig.lang && playerConfig.lang === \"en\") {\n            util.addClass(player.root, \"lang-is-en\");\n          } else if (playerConfig.lang === \"jp\") {\n            util.addClass(player.root, \"lang-is-jp\");\n          }\n        }\n      });\n      this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n      if (!playerConfig.autoplay) {\n        this.show();\n      }\n      this.on(AUTOPLAY_PREVENTED, function() {\n        var className = _this2.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n        _this2.setAttr(\"data-state\", \"play\");\n        util.removeClass(_this2.root, className);\n        _this2.show();\n      });\n      this.on(PLAY, function() {\n        _this2.onPlayPause(\"play\");\n      });\n      this.on(PAUSE, function() {\n        _this2.onPlayPause(\"pause\");\n      });\n      this.on(RESET, function() {\n        _this2.onPlayerReset();\n      });\n      this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n        pre: function pre(e) {\n          e.cancelable && e.preventDefault();\n          e.stopPropagation();\n          var paused = _this2.player.paused;\n          _this2.emitUserAction(e, \"switch_play_pause\", {\n            props: \"paused\",\n            from: paused,\n            to: !paused\n          });\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.clickHandler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        startPlay: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        startPause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\"xg-start-inner\", icons.startPlay);\n      this.appendChild(\"xg-start-inner\", icons.startPause);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"focusHide\",\n    value: function focusHide() {\n      util.addClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"recover\",\n    value: function recover() {\n      util.removeClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"switchStatus\",\n    value: function switchStatus(isAnimate) {\n      if (isAnimate) {\n        this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n      } else {\n        this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(endShow) {\n      var _this3 = this;\n      this._animateId = addAnimate(\"pauseplay\", 400, {\n        start: function start() {\n          util.addClass(_this3.root, \"interact\");\n          _this3.show();\n          _this3.switchStatus(true);\n        },\n        end: function end() {\n          util.removeClass(_this3.root, \"interact\");\n          !endShow && _this3.hide();\n          _this3._animateId = null;\n        }\n      });\n    }\n  }, {\n    key: \"endAnimate\",\n    value: function endAnimate() {\n      util.removeClass(this.root, \"interact\");\n      clearAnimation(this._animateId);\n      this._animateId = null;\n    }\n  }, {\n    key: \"switchPausePlay\",\n    value: function switchPausePlay(e) {\n      var player = this.player;\n      e.cancelable && e.preventDefault();\n      e.stopPropagation();\n      if (player.state < STATES.READY) {\n        return;\n      }\n      var paused = this.player.paused;\n      if (!paused && player.state === STATES.RUNNING) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  }, {\n    key: \"onPlayPause\",\n    value: function onPlayPause(status) {\n      var config = this.config, player = this.player;\n      if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n        return;\n      }\n      if (config.mode === \"show\") {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.mode === \"auto\") {\n        this.switchStatus();\n        return;\n      }\n      if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n        this.switchStatus();\n        this.show();\n        this.endAnimate();\n        return;\n      }\n      if (config.disableAnimate) {\n        this.switchStatus();\n        this.hide();\n        return;\n      }\n      if (status === \"play\") {\n        this.autoPlayStart ? this.animate() : this.hide();\n      } else {\n        if (!this.autoPlayStart || player.ended) {\n          return;\n        }\n        this.animate();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.clickHandler);\n      clearAnimation(this._animateId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n      return '\\n    <xg-start class=\"xgplayer-start '.concat(className, '\">\\n    <xg-start-inner></xg-start-inner>\\n    </xg-start>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"start\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShowPause: false,\n        isShowEnd: false,\n        disableAnimate: false,\n        mode: \"hide\"\n      };\n    }\n  }]);\n  return Start2;\n}(Plugin);\nexport { Start as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Enter = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Enter2, _Plugin);\n  var _super = _createSuper(Enter2);\n  function Enter2() {\n    _classCallCheck(this, Enter2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Enter2, [{\n    key: \"render\",\n    value: function render() {\n      var innerHtml = this.config.innerHtml;\n      var root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n      if (innerHtml && innerHtml instanceof window.HTMLElement) {\n        root.appendChild(innerHtml);\n      } else if (innerHtml && typeof innerHtml === \"string\") {\n        root.innerHTML = innerHtml;\n      } else {\n        var barStr = \"\";\n        for (var i = 1; i <= 12; i++) {\n          barStr += '<div class=\"xgplayer-enter-bar'.concat(i, '\"></div>');\n        }\n        root.innerHTML = '<div class=\"xgplayer-enter-spinner\">'.concat(barStr, \"</div>\");\n      }\n      return root;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"enter\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        innerHtml: \"\",\n        logo: \"\"\n      };\n    }\n  }]);\n  return Enter2;\n}(Plugin);\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ' <div class=\"xg-tips '.concat(isShow ? \"hide\" : \" \", '\" lang-key=\"').concat(plugin.i18nKeys[textKey], '\">\\n    ').concat(plugin.i18n[textKey], \"\\n    </div>\");\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar MiniScreenIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreenIcon2, _Plugin);\n  var _super = _createSuper(MiniScreenIcon2);\n  function MiniScreenIcon2() {\n    _classCallCheck(this, MiniScreenIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniScreenIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.getMini = this.getMini.bind(this);\n      this.exitMini = this.exitMini.bind(this);\n      this.bind(\"click\", this.getMini);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.getMini);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var langKey = \"MINISCREEN\";\n      return '\\n      <xg-icon class=\"xgplayer-miniicon\">\\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span></div>\\n      </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreenIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 10\n      };\n    }\n  }]);\n  return MiniScreenIcon2;\n}(Plugin);\nexport { MiniScreenIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, possibleConstructorReturn as _possibleConstructorReturn, createClass as _createClass, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  var num = parseFloat(value);\n  var isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nvar measurements = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"];\nvar measurementsLength = measurements.length;\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  var style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || _typeof(elem) !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  var style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  var isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    var value = style[measurement];\n    var num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  var isBorderBoxSizeOuter = isBorderBox;\n  var styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  var styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (var i = 0; i < touches.length; i++) {\n    var touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nvar EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nvar POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nvar Draggabilly = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Draggabilly2, _EventEmitter);\n  var _super = _createSuper(Draggabilly2);\n  function Draggabilly2(root) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    _classCallCheck(this, Draggabilly2);\n    _this = _super.call(this);\n    _this.isEnabled = true;\n    _this.isDragging = false;\n    _this.isDown = false;\n    _this.position = {};\n    _this.downPoint = {};\n    _this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    _this.startPos = {\n      x: 0,\n      y: 0\n    };\n    _this._root = root instanceof Element ? root : document.querySelector(root);\n    _this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!_this._root || !_this._handlerDom) {\n      return _possibleConstructorReturn(_this);\n    }\n    _this._bindStartEvent();\n    return _this;\n  }\n  _createClass(Draggabilly2, [{\n    key: \"_bindStartEvent\",\n    value: function _bindStartEvent() {\n      var _this2 = this;\n      if (\"ontouchstart\" in window) {\n        this._startKey = \"touchstart\";\n      } else {\n        this._startKey = \"mousedown\";\n      }\n      this[\"on\".concat(this._startKey)] = this[\"on\".concat(this._startKey)].bind(this);\n      this._handlerDom.addEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n      POST_START_EVENTS[this._startKey].map(function(key) {\n        _this2[\"on\".concat(key)] = _this2[\"on\".concat(key)].bind(_this2);\n      });\n    }\n  }, {\n    key: \"_unbindStartEvent\",\n    value: function _unbindStartEvent() {\n      this._handlerDom.removeEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n    }\n  }, {\n    key: \"_bindPostStartEvents\",\n    value: function _bindPostStartEvents(event) {\n      var _this3 = this;\n      if (!event) {\n        return;\n      }\n      var events = POST_START_EVENTS[this._startKey];\n      events.map(function(eventName) {\n        window.addEventListener(eventName, _this3[\"on\".concat(eventName)]);\n      });\n      this._boundPointerEvents = events;\n    }\n  }, {\n    key: \"_unbindPostStartEvents\",\n    value: function _unbindPostStartEvents() {\n      var _this4 = this;\n      if (!this._boundPointerEvents) {\n        return;\n      }\n      this._boundPointerEvents.map(function(eventName) {\n        window.removeEventListener(eventName, _this4[\"on\".concat(eventName)]);\n      });\n      delete this._boundPointerEvents;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.isEnabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n      if (this.isDragging) {\n        this.onUp();\n      }\n    }\n  }, {\n    key: \"onDocUp\",\n    value: function onDocUp(e) {\n      this.onUp();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this5 = this;\n      if (!this.isDragging) {\n        return;\n      }\n      this.positionDrag();\n      window.requestAnimationFrame(function() {\n        _this5.animate();\n      });\n    }\n  }, {\n    key: \"positionDrag\",\n    value: function positionDrag() {\n      var transform = \"translate3d(\".concat(this.dragPoint.x, \"px, \").concat(this.dragPoint.y, \"px, 0)\");\n      this._root.style.transform = transform;\n      this._root.style.webKitTransform = transform;\n    }\n  }, {\n    key: \"setLeftTop\",\n    value: function setLeftTop() {\n      this._root.style.left = this.position.x + \"px\";\n      this._root.style.top = this.position.y + \"px\";\n    }\n  }, {\n    key: \"onmousedown\",\n    value: function onmousedown(e) {\n      this.dragStart(e, e);\n    }\n  }, {\n    key: \"onmousemove\",\n    value: function onmousemove(e) {\n      this.dragMove(e, e);\n    }\n  }, {\n    key: \"onmouseup\",\n    value: function onmouseup(e) {\n      this.dragEnd(e, e);\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(e) {\n      var touch = e.changedTouches[0];\n      this.dragStart(e, touch);\n      this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragMove(e, touch);\n      }\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragEnd(e, touch);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchcancel\",\n    value: function ontouchcancel(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragCancel(e, touch);\n      }\n    }\n  }, {\n    key: \"dragStart\",\n    value: function dragStart(e, pointer) {\n      if (!this._root || this.isDown || !this.isEnabled) {\n        return;\n      }\n      this.downPoint = pointer;\n      this.dragPoint.x = 0;\n      this.dragPoint.y = 0;\n      this._getPosition();\n      var size = getSize(this._root);\n      this.startPos.x = this.position.x;\n      this.startPos.y = this.position.y;\n      this.startPos.maxY = window.innerHeight - size.height;\n      this.startPos.maxX = window.innerWidth - size.width;\n      this.setLeftTop();\n      this.isDown = true;\n      this._bindPostStartEvents(e);\n    }\n  }, {\n    key: \"dragRealStart\",\n    value: function dragRealStart(e, pointer) {\n      this.isDragging = true;\n      this.animate();\n      this.emit(EVENTS.START, this.startPos);\n    }\n  }, {\n    key: \"dragEnd\",\n    value: function dragEnd(e, pointer) {\n      if (!this._root) {\n        return;\n      }\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this._root.style.transform = \"\";\n        this.setLeftTop();\n        this.emit(EVENTS.ENDED);\n      }\n      this.presetInfo();\n    }\n  }, {\n    key: \"_dragPointerMove\",\n    value: function _dragPointerMove(e, pointer) {\n      var moveVector = {\n        x: pointer.pageX - this.downPoint.pageX,\n        y: pointer.pageY - this.downPoint.pageY\n      };\n      if (!this.isDragging && this.hasDragStarted(moveVector)) {\n        this.dragRealStart(e, pointer);\n      }\n      return moveVector;\n    }\n  }, {\n    key: \"dragMove\",\n    value: function dragMove(e, pointer) {\n      e = e || window.event;\n      if (!this.isDown) {\n        return;\n      }\n      var _this$startPos = this.startPos, x = _this$startPos.x, y = _this$startPos.y;\n      var moveVector = this._dragPointerMove(e, pointer);\n      var dragX = moveVector.x;\n      var dragY = moveVector.y;\n      dragX = this.checkContain(\"x\", dragX, x);\n      dragY = this.checkContain(\"y\", dragY, y);\n      this.position.x = x + dragX;\n      this.position.y = y + dragY;\n      this.dragPoint.x = dragX;\n      this.dragPoint.y = dragY;\n      this.emit(EVENTS.MOVE, this.position);\n    }\n  }, {\n    key: \"dragCancel\",\n    value: function dragCancel(e, pointer) {\n      this.dragEnd(e, pointer);\n    }\n  }, {\n    key: \"presetInfo\",\n    value: function presetInfo() {\n      this.isDragging = false;\n      this.startPos = {\n        x: 0,\n        y: 0\n      };\n      this.dragPoint = {\n        x: 0,\n        y: 0\n      };\n      this.isDown = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindStartEvent();\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this.dragEnd();\n      }\n      this.removeAllListeners();\n      this._handlerDom = null;\n    }\n  }, {\n    key: \"hasDragStarted\",\n    value: function hasDragStarted(moveVector) {\n      return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n    }\n  }, {\n    key: \"checkContain\",\n    value: function checkContain(axis, drag, grid) {\n      if (drag + grid < 0) {\n        return 0 - grid;\n      }\n      if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n        return this.startPos.maxX - grid;\n      }\n      if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n        return this.startPos.maxY - grid;\n      }\n      return drag;\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var style = window.getComputedStyle(this._root);\n      var x = this._getPositionCoord(style.left, \"width\");\n      var y = this._getPositionCoord(style.top, \"height\");\n      this.position.x = Number.isNaN(x) ? 0 : x;\n      this.position.y = Number.isNaN(y) ? 0 : y;\n      this._addTransformPosition(style);\n    }\n  }, {\n    key: \"_addTransformPosition\",\n    value: function _addTransformPosition(style) {\n      var transform = style.transform;\n      if (transform.indexOf(\"matrix\") !== 0) {\n        return;\n      }\n      var matrixValues = transform.split(\",\");\n      var xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n      var translateX = parseInt(matrixValues[xIndex], 10);\n      var translateY = parseInt(matrixValues[xIndex + 1], 10);\n      this.position.x += translateX;\n      this.position.y += translateY;\n    }\n  }, {\n    key: \"_getPositionCoord\",\n    value: function _getPositionCoord(styleSide, measure) {\n      if (styleSide.indexOf(\"%\") !== -1) {\n        var parentSize = getSize(this._root.parentNode);\n        return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n      }\n      return parseInt(styleSide, 10);\n    }\n  }]);\n  return Draggabilly2;\n}(EventEmitter);\nexport { Draggabilly as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nvar MiniScreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreen2, _Plugin);\n  var _super = _createSuper(MiniScreen2);\n  function MiniScreen2(args) {\n    var _this;\n    _classCallCheck(this, MiniScreen2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onCancelClick\", function(e) {\n      _this.exitMini();\n      _this.isClose = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCenterClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      player.paused ? player.play() : player.pause();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function(e) {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - _this.pos.scrollY) < 50) {\n        return;\n      }\n      var scrollHeight = parseInt(util.getCss(_this.player.root, \"height\"));\n      scrollHeight += _this.config.scrollTop;\n      _this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !_this.isMini && !_this.isClose && _this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        _this.isMini && _this.exitMini();\n        _this.isClose = false;\n      }\n    });\n    _this.isMini = false;\n    _this.isClose = false;\n    var _assertThisInitialize2 = _assertThisInitialized(_this), config = _assertThisInitialize2.config;\n    _this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: _this.config.height,\n      width: _this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    _this.lastStyle = null;\n    return _this;\n  }\n  _createClass(MiniScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.mini === \"boolean\") {\n        args.config.isShowIcon = args.player.config.mini;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      this.on(PAUSE, function() {\n        _this2.setAttr(\"data-state\", \"pause\");\n      });\n      this.on(PLAY, function() {\n        _this2.setAttr(\"data-state\", \"play\");\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var _this3 = this;\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      if (this.config.isShowIcon) {\n        var options = {\n          config: {\n            onClick: function onClick() {\n              _this3.getMini();\n            }\n          }\n        };\n        player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n      }\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.bind(\".play-icon\", eventName, this.onCenterClick);\n      if (!this.config.disableDrag) {\n        this._draggabilly = new Draggabilly(this.player.root, {\n          handle: this.root\n        });\n      }\n      if (this.config.isScrollSwitch) {\n        window.addEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".play-icon\", icons.play);\n      this.appendChild(\".play-icon\", icons.pause);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      var _this4 = this;\n      if (this.isMini) {\n        return;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      this.lastStyle = {};\n      util.addClass(player.root, \"xgplayer-mini\");\n      [\"width\", \"height\", \"top\", \"left\"].map(function(key) {\n        _this4.lastStyle[key] = target.style[key];\n        target.style[key] = \"\".concat(_this4.pos[key], \"px\");\n      });\n      if (playerConfig.fluid) {\n        target.style[\"padding-top\"] = \"\";\n      }\n      this.emit(MINI_STATE_CHANGE, true);\n      player.isMini = this.isMini = true;\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      var _this5 = this;\n      if (!this.isMini) {\n        return false;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      util.removeClass(player.root, \"xgplayer-mini\");\n      if (this.lastStyle) {\n        Object.keys(this.lastStyle).map(function(key) {\n          target.style[key] = _this5.lastStyle[key];\n        });\n      }\n      this.lastStyle = null;\n      if (playerConfig.fluid) {\n        player.root.style.width = \"100%\";\n        player.root.style.height = \"0\";\n        player.root.style[\"padding-top\"] = \"\".concat(playerConfig.height * 100 / playerConfig.width, \"%\");\n      }\n      this.emit(MINI_STATE_CHANGE, false);\n      this.isMini = player.isMini = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener(\"scroll\", this.onScroll);\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.unbind(\".play-icon\", eventName, this.onCenterClick);\n      this._draggabilly && this._draggabilly.destroy();\n      this._draggabilly = null;\n      this.exitMini();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n      <xg-mini-layer class=\"xg-mini-layer\">\\n      <xg-mini-header class=\"xgplayer-mini-header\">\\n      '.concat(xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips), '\\n      </xg-mini-header>\\n      <div class=\"mini-cancel-btn\">\\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\\n        </svg>\\n      </div>\\n      <div class=\"play-icon\">\\n      </div>\\n      </xg-mini-layer>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 10,\n        disable: false,\n        width: 320,\n        height: 180,\n        left: -1,\n        top: -1,\n        isShowIcon: false,\n        isScrollSwitch: false,\n        scrollTop: 0,\n        disableDrag: false\n      };\n    }\n  }]);\n  return MiniScreen2;\n}(Plugin);\nexport { MiniScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nvar MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar PCPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(PCPlugin2, _BasePlugin);\n  var _super = _createSuper(PCPlugin2);\n  function PCPlugin2() {\n    var _this;\n    _classCallCheck(this, PCPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      if (!player.isActive) {\n        player.focus({\n          autoHide: !playerConfig.closeDelayBlur\n        });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), playerConfig = _assertThisInitialize2.playerConfig, player = _assertThisInitialize2.player;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({\n          autoHide: false\n        });\n      } else {\n        player.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _this$playerConfig = _this.playerConfig, closePlayerBlur = _this$playerConfig.closePlayerBlur, leavePlayerTime = _this$playerConfig.leavePlayerTime, closeDelayBlur = _this$playerConfig.closeDelayBlur;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          _this.player.focus({\n            autoHide: true,\n            delay: leavePlayerTime\n          });\n        } else {\n          _this.player.blur();\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoClick\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, playerConfig = _assertThisInitialize3.playerConfig;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        _this._clickCount++;\n        if (_this.clickTimer) {\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }\n        _this.clickTimer = setTimeout(function() {\n          if (!_this._clickCount) {\n            return;\n          }\n          _this._clickCount--;\n          runHooks(_assertThisInitialized(_this), HOOKS[0], function(plugin, data) {\n            _this.switchPlayPause(data.e);\n          }, {\n            e,\n            paused: player.paused\n          });\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }, 300);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoDblClick\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), player = _assertThisInitialize4.player, playerConfig = _assertThisInitialize4.playerConfig;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && _this._clickCount < 2) {\n        _this._clickCount = 0;\n        return;\n      }\n      _this._clickCount = 0;\n      if (_this.clickTimer) {\n        clearTimeout(_this.clickTimer);\n        _this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(_assertThisInitialized(_this), HOOKS[1], function(plugin, data) {\n        _this.emitUserAction(data.e, \"switch_fullscreen\", {\n          props: \"fullscreen\",\n          from: player.fullscreen,\n          to: !player.fullscreen\n        });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, {\n        e,\n        fullscreen: player.fullscreen\n      });\n    });\n    return _this;\n  }\n  _createClass(PCPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._clickCount = 0;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n        return;\n      }\n      this.initEvents();\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      var _this3 = this;\n      var _this$player = this.player, media = _this$player.media, root = _this$player.root;\n      var enableContextmenu = this.playerConfig.enableContextmenu;\n      root && root.addEventListener(\"click\", this.onVideoClick, false);\n      root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.addEventListener(item, _this3[MOUSE_EVENTS[item]], false);\n      });\n      !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause(e) {\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        props: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (!player.ended) {\n        player.paused ? player.play() : player.pause();\n      } else {\n        player.duration !== Infinity && player.duration > 0 && player.replay();\n      }\n    }\n  }, {\n    key: \"onContextmenu\",\n    value: function onContextmenu(e) {\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.returnValue = false;\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var _this$player2 = this.player, video = _this$player2.video, root = _this$player2.root;\n      this.clickTimer && clearTimeout(this.clickTimer);\n      root.removeEventListener(\"click\", this.onVideoClick, false);\n      root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n      video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.removeEventListener(item, _this4[MOUSE_EVENTS[item]], false);\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pc\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return PCPlugin2;\n}(BasePlugin);\nexport { PCPlugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nvar EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nvar TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nvar MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nvar Touche = /* @__PURE__ */ function() {\n  function Touche2(dom) {\n    var _this = this;\n    var _config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      eventType: \"touch\"\n    };\n    _classCallCheck(this, Touche2);\n    _defineProperty(this, \"onTouchStart\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      var touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      _this.__setPress(e);\n      root.addEventListener(_this.events.end, _this.onTouchEnd);\n      root.addEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.addEventListener(_this.events.move, _this.onTouchMove);\n      _this.trigger(EVENTS.TOUCH_START, e);\n    });\n    _defineProperty(this, \"onTouchCancel\", function(e) {\n      _this.onTouchEnd(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      _this.__clearPress();\n      root.removeEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.removeEventListener(_this.events.end, _this.onTouchEnd);\n      root.removeEventListener(_this.events.move, _this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && _this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    _defineProperty(this, \"onTouchMove\", function(e) {\n      var _pos = _this._pos, config = _this.config;\n      var touch = getTouch(e.touches);\n      var x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      var y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      var diffx = x - _pos.x;\n      var diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      _this.__clearPress();\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      _this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(_config).map(function(key) {\n      _this.config[key] = _config[key];\n    });\n    this.root = dom;\n    this.events = _config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _createClass(Touche2, [{\n    key: \"_initEvent\",\n    value: function _initEvent() {\n      this.root.addEventListener(this.events.start, this.onTouchStart);\n    }\n  }, {\n    key: \"__setPress\",\n    value: function __setPress(e) {\n      var _this2 = this;\n      var config = this.config;\n      if (this.pressIntrvalId) {\n        this.__clearPress();\n      }\n      this.pressIntrvalId = setTimeout(function() {\n        _this2.trigger(EVENTS.PRESS, e);\n        _this2._pos.press = true;\n        _this2.__clearPress();\n      }, config.pressDelay);\n    }\n  }, {\n    key: \"__clearPress\",\n    value: function __clearPress() {\n      window.clearTimeout(this.pressIntrvalId);\n      this.pressIntrvalId = null;\n    }\n  }, {\n    key: \"__setDb\",\n    value: function __setDb(e) {\n      var _this3 = this;\n      var config = this.config;\n      if (this.dbIntrvalId) {\n        this.__clearDb();\n        this.trigger(EVENTS.DOUBlE_CLICK, e);\n        return;\n      }\n      this.dbIntrvalId = setTimeout(function() {\n        _this3.__clearDb();\n        if (!_this3._pos.start && !_this3._pos.press && !_this3._pos.moving) {\n          _this3.trigger(EVENTS.CLICK, e);\n        }\n      }, config.dbClickDelay);\n    }\n  }, {\n    key: \"__clearDb\",\n    value: function __clearDb() {\n      clearTimeout(this.dbIntrvalId);\n      this.dbIntrvalId = null;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.__handlers[event]) {\n        this.__handlers[event] = [];\n      }\n      this.__handlers[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      var handlers = this.__handlers[event];\n      var index = -1;\n      for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n          index = i;\n          break;\n        }\n      }\n      if (index >= 0) {\n        this.__handlers[event].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, e) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      this.__handlers[event].map(function(handler) {\n        try {\n          handler(e);\n        } catch (error) {\n          console.error(\"trigger>>:\".concat(event), error);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var map = {\n        touchend: \"onTouchEnd\",\n        touchmove: \"onTouchMove\",\n        touchstart: \"onTouchStart\"\n      };\n      Object.keys(map).forEach(function(key) {\n        _this4.root.removeEventListener(key, _this4[map[key]]);\n      });\n    }\n  }]);\n  return Touche2;\n}();\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nvar ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar MobilePlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MobilePlugin2, _Plugin);\n  var _super = _createSuper(MobilePlugin2);\n  function MobilePlugin2(options) {\n    var _this;\n    _classCallCheck(this, MobilePlugin2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config, pos = _assertThisInitialize.pos, playerConfig = _assertThisInitialize.playerConfig;\n      var touche = _this.getTouche(e);\n      if (touche && !config.disableGesture && _this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        _this.find(\".xg-dur\").innerHTML = util.format(_this.duration);\n        var rect = _this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        var _x = parseInt(touche.pageX - pos.left, 10);\n        var _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function(e) {\n      var touche = _this.getTouche(e);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos, config = _assertThisInitialize2.config, player = _assertThisInitialize2.player;\n      if (!touche || config.disableGesture || !_this.duration || !pos.isStart) {\n        return;\n      }\n      var miniMoveStep = config.miniMoveStep, hideControlsActive = config.hideControlsActive;\n      var _x = parseInt(touche.pageX - pos.left, 10);\n      var _y = parseInt(touche.pageY - pos.top, 10);\n      var x = player.rotateDeg === 90 ? _y : _x;\n      var y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        var diffx = x - pos.x;\n        var diffy = y - pos.y;\n        var scope = pos.scope;\n        if (scope === -1) {\n          scope = _this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({\n              autoHide: false\n            }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + _this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        _this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, pos = _assertThisInitialize3.pos, playerConfig = _assertThisInitialize3.playerConfig;\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      var _this$config = _this.config, disableGesture = _this$config.disableGesture, gestureX = _this$config.gestureX;\n      if (!disableGesture && gestureX) {\n        _this.endLastMove(pos.scope);\n        setTimeout(function() {\n          player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n        }, 10);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      _this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      _this.changeAction(ACTIONS.AUTO);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchMove\", function(e) {\n      if (_this.config.disableGesture || !_this.config.gestureX) {\n        return;\n      }\n      if (_this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!_this.pos.isStart) {\n          _this.onTouchStart(e);\n        } else {\n          _this.onTouchMove(e);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchEnd\", function(e) {\n      if (_this.pos.isStart && _this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        _this.onTouchEnd(e);\n      }\n    });\n    _this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    _this.timer = null;\n    return _this;\n  }\n  _createClass(MobilePlugin2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        seekTipIcon: {\n          icon: SeekTipIcon,\n          class: \"xg-seek-pre\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var playerConfig = this.playerConfig, config = this.config, player = this.player;\n      if (playerConfig.closeVideoDblclick === true) {\n        config.closedbClick = true;\n      }\n      this.resetPos();\n      if (!util.isUndefined(playerConfig.disableGesture)) {\n        config.disableGesture = !!playerConfig.disableGesture;\n      }\n      this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n      this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n      player.root.appendChild(this.xgMask);\n      this.initCustomStyle();\n      this.registerThumbnail();\n      var eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n      this.touch = new Touche(this.root, {\n        eventType,\n        needPreventDefault: !this.config.disableGesture\n      });\n      this.root.addEventListener(\"contextmenu\", function(e) {\n        e.preventDefault();\n      });\n      player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n      this.on(DURATION_CHANGE, function() {\n        var player2 = _this2.player, config2 = _this2.config;\n        if (player2.duration * 1e3 < config2.moveDuration) {\n          config2.moveDuration = player2.duration * 1e3;\n        }\n      });\n      this.on([CANPLAY, ENDED], function() {\n        var _this2$pos = _this2.pos, time = _this2$pos.time, isStart = _this2$pos.isStart;\n        if (!isStart && time > 0) {\n          _this2.pos.time = 0;\n        }\n      });\n      var eventsMap = {\n        touchstart: \"onTouchStart\",\n        touchmove: \"onTouchMove\",\n        touchend: \"onTouchEnd\",\n        press: \"onPress\",\n        pressend: \"onPressEnd\",\n        click: \"onClick\",\n        doubleclick: \"onDbClick\"\n      };\n      Object.keys(eventsMap).map(function(key) {\n        _this2.touch.on(key, function(e) {\n          _this2[eventsMap[key]](e);\n        });\n      });\n      if (!config.disableActive) {\n        var progressPlugin = player.plugins.progress;\n        if (progressPlugin) {\n          progressPlugin.addCallBack(\"dragmove\", function(data) {\n            _this2.activeSeekNote(data.currentTime, data.forward);\n          });\n          progressPlugin.addCallBack(\"dragend\", function() {\n            _this2.changeAction(ACTIONS.AUTO);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n        var timePreview = this.find(\".time-preview\");\n        timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var playedColor = commonStyle.playedColor, progressColor = commonStyle.progressColor;\n      if (playedColor) {\n        this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n        this.find(\".xg-cur\").style.color = playedColor;\n      }\n      if (progressColor) {\n        this.find(\".xg-bar\").style.backgroundColor = progressColor;\n        this.find(\".time-preview\").style.color = progressColor;\n      }\n      this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n    }\n  }, {\n    key: \"resetPos\",\n    value: function resetPos() {\n      var _this3 = this;\n      if (this.pos) {\n        this.pos.isStart = false;\n        this.pos.scope = -1;\n        [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map(function(item) {\n          _this3.pos[item] = 0;\n        });\n      } else {\n        this.pos = {\n          isStart: false,\n          x: 0,\n          y: 0,\n          volume: 0,\n          rate: 1,\n          light: 0,\n          width: 0,\n          height: 0,\n          scopeL: 0,\n          scopeR: 0,\n          scopeM1: 0,\n          scopeM2: 0,\n          scope: -1,\n          time: 0\n        };\n      }\n    }\n  }, {\n    key: \"changeAction\",\n    value: function changeAction(action) {\n      var player = this.player, root = this.root;\n      root.setAttribute(\"data-xg-action\", action);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.recover();\n    }\n  }, {\n    key: \"getTouche\",\n    value: function getTouche(e) {\n      var rotateDeg = this.player.rotateDeg;\n      var touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n      return rotateDeg === 0 ? {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      } : {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      };\n    }\n  }, {\n    key: \"checkScope\",\n    value: function checkScope(x, y, diffx, diffy, pos) {\n      var width = pos.width;\n      var scope = -1;\n      if (x < 0 || x > width) {\n        return scope;\n      }\n      var mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n      if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n        scope = 0;\n      } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n        scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n      }\n      return scope;\n    }\n  }, {\n    key: \"executeMove\",\n    value: function executeMove(diffx, diffy, scope, width, height) {\n      switch (scope) {\n        case 0:\n          this.updateTime(diffx / width * this.config.scopeM);\n          break;\n        case 1:\n          this.updateBrightness(diffy / height);\n          break;\n        case 2:\n          if (!sniffer.os.isIos) {\n            this.updateVolume(diffy / height);\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"endLastMove\",\n    value: function endLastMove(lastScope) {\n      var _this4 = this;\n      var pos = this.pos, player = this.player, config = this.config;\n      var time = (pos.time - this.timeOffset) / 1e3;\n      switch (lastScope) {\n        case 0:\n          player.seek(Number(time).toFixed(1));\n          config.hideControlsEnd ? player.blur() : player.focus();\n          this.timer = setTimeout(function() {\n            _this4.pos.time = 0;\n          }, 500);\n          break;\n      }\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"checkIsRootTarget\",\n    value: function checkIsRootTarget(e) {\n      var plugins = this.player.plugins || {};\n      if (plugins.progress && plugins.progress.root.contains(e.target)) {\n        return false;\n      }\n      return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n    }\n  }, {\n    key: \"sendUseAction\",\n    value: function sendUseAction(event) {\n      var paused = this.player.paused;\n      this.emitUserAction(event, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: paused,\n        to: !paused\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var player = this.player, config = this.config, playerConfig = this.playerConfig;\n      if (player.state < STATES.RUNNING) {\n        if (!playerConfig.closeVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          player.play();\n        }\n        return;\n      }\n      if (!config.closedbClick || playerConfig.closeVideoClick) {\n        player.isActive ? player.blur() : player.focus();\n      } else if (!playerConfig.closeVideoClick) {\n        if (player.isActive || config.focusVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          this.switchPlayPause();\n        }\n        player.focus();\n      }\n    }\n  }, {\n    key: \"dbClickHandler\",\n    value: function dbClickHandler(e) {\n      var config = this.config, player = this.player;\n      if (!config.closedbClick && player.state >= STATES.RUNNING) {\n        this.sendUseAction(util.createEvent(\"dblclick\"));\n        this.switchPlayPause();\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var _this5 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[0], function(plugin, data) {\n        _this5.clickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onDbClick\",\n    value: function onDbClick(e) {\n      var _this6 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[1], function(plugin, data) {\n        _this6.dbClickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      pos.rate = this.player.playbackRate;\n      this.emitUserAction(\"press\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: config.pressRate\n      });\n      player.playbackRate = config.pressRate;\n      this.changeAction(ACTIONS.PLAYBACK);\n    }\n  }, {\n    key: \"onPressEnd\",\n    value: function onPressEnd(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      this.emitUserAction(\"pressend\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: pos.rate\n      });\n      player.playbackRate = pos.rate;\n      pos.rate = 1;\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(percent) {\n      var player = this.player, config = this.config;\n      var duration = this.player.duration;\n      percent = Number(percent.toFixed(4));\n      var time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n      time += this.pos.time;\n      time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n      player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n      player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n      this.activeSeekNote(time / 1e3, percent > 0);\n      if (config.isTouchingSeek) {\n        player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n      }\n      this.pos.time = time;\n    }\n  }, {\n    key: \"updateVolume\",\n    value: function updateVolume(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var player = this.player, pos = this.pos;\n      percent = parseInt(percent * 100, 10);\n      pos.volume += percent;\n      if (Math.abs(pos.volume) < 10) {\n        return;\n      }\n      var volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n      volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n      player.volume = volume / 10;\n      pos.volume = 0;\n    }\n  }, {\n    key: \"updateBrightness\",\n    value: function updateBrightness(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var pos = this.pos, config = this.config, xgMask = this.xgMask;\n      var light = pos.light + 0.8 * percent;\n      light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n      if (xgMask) {\n        xgMask.style.backgroundColor = \"rgba(0,0,0,\".concat(light, \")\");\n      }\n      pos.light = light;\n    }\n  }, {\n    key: \"activeSeekNote\",\n    value: function activeSeekNote(time) {\n      var isForward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var player = this.player, config = this.config;\n      var isLive = !(this.duration !== Infinity && this.duration > 0);\n      if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n        return;\n      }\n      if (time < 0) {\n        time = 0;\n      } else if (time > player.duration) {\n        time = player.duration - 0.2;\n      }\n      this.changeAction(ACTIONS.SEEKING);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.focusHide();\n      this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n      this.find(\".xg-cur\").innerHTML = util.format(time);\n      this.find(\".xg-curbar\").style.width = \"\".concat(time / this.duration * 100, \"%\");\n      if (isForward) {\n        util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      } else {\n        util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      }\n      this.updateThumbnails(time);\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n      }\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause() {\n      var player = this.player;\n      if (player.state < STATES.ATTACHED) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }, {\n    key: \"disableGesture\",\n    value: function disableGesture() {\n      this.config.disableGesture = false;\n    }\n  }, {\n    key: \"enableGesture\",\n    value: function enableGesture() {\n      this.config.disableGesture = true;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.timer && clearTimeout(this.timer);\n      this.thumbnail = null;\n      player.root.removeChild(this.xgMask);\n      this.xgMask = null;\n      this.touch && this.touch.destroy();\n      this.touch = null;\n      player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.config.gradient !== \"normal\" ? \"gradient \".concat(this.config.gradient) : \"gradient\";\n      return '\\n     <xg-trigger class=\"trigger\">\\n     <div class=\"'.concat(className, '\"></div>\\n        <div class=\"time-preview\">\\n            <div class=\"xg-seek-show ').concat(this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\", '\">\\n              <i class=\"xg-seek-icon\"></i>\\n              <span class=\"xg-cur\">00:00</span>\\n              <span>/</span>\\n              <span class=\"xg-dur\">00:00</span>\\n            </div>\\n              <div class=\"xg-bar xg-timebar\">\\n                <div class=\"xg-curbar\"></div>\\n              </div>\\n        </div>\\n        <div class=\"xg-playbackrate xg-top-note\">\\n            <span><i>').concat(this.config.pressRate, \"X</i>\").concat(this.i18n.FORWARD, \"</span>\\n        </div>\\n     </xg-trigger>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"mobile\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0,\n        disableGesture: false,\n        gestureX: true,\n        gestureY: true,\n        gradient: \"normal\",\n        isTouchingSeek: false,\n        miniMoveStep: 5,\n        miniYPer: 5,\n        scopeL: 0.25,\n        scopeR: 0.25,\n        scopeM: 0.9,\n        pressRate: 2,\n        darkness: true,\n        maxDarkness: 0.8,\n        disableActive: false,\n        disableTimeProgress: false,\n        hideControlsActive: false,\n        hideControlsEnd: false,\n        moveDuration: 60 * 6 * 1e3,\n        closedbClick: false,\n        disablePress: true,\n        disableSeekIcon: false,\n        focusVideoClick: false\n      };\n    }\n  }]);\n  return MobilePlugin2;\n}(Plugin);\nexport { MobilePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  var tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nvar Keyboard = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Keyboard2, _BasePlugin);\n  var _super = _createSuper(Keyboard2);\n  function Keyboard2() {\n    var _this;\n    _classCallCheck(this, Keyboard2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyDown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var keyCode = e.keyCode;\n      var _assertThisInitialize = _assertThisInitialized(_this), _keyState = _assertThisInitialize._keyState, player = _assertThisInitialize.player;\n      var _this$config = _this.config, disable = _this$config.disable, disableBodyTrigger = _this$config.disableBodyTrigger, isIgnoreUserActive = _this$config.isIgnoreUserActive;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !_this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || _this.config.isGlobalTrigger && !isDisableTag(e.target)) && _this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", _this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyUp\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", _this.onBodyKeyUp);\n      _this.handleKeyUp(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _keyState = _assertThisInitialize2._keyState;\n      if (!e.repeat) {\n        if (_this.config.disable || _this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || _this.checkCode(e.keyCode)) && (e.target === _this.player.root || e.target === _this.player.video || e.target === _this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        _this.player.root.addEventListener(\"keyup\", _this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyup\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      _this.player.root.removeEventListener(\"keyup\", _this.onKeyup);\n      _this.handleKeyUp(event);\n    });\n    return _this;\n  }\n  _createClass(Keyboard2, [{\n    key: \"mergekeyCodeMap\",\n    value: function mergekeyCodeMap() {\n      var _this2 = this;\n      var extendkeyCodeMap = this.config.keyCodeMap;\n      if (extendkeyCodeMap) {\n        Object.keys(extendkeyCodeMap).map(function(key) {\n          if (!_this2.keyCodeMap[key]) {\n            _this2.keyCodeMap[key] = extendkeyCodeMap[key];\n          } else {\n            [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map(function(key1) {\n              extendkeyCodeMap[key][key1] && (_this2.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.config.disable = !this.playerConfig.keyShortcut;\n      var seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n      if (!(!seekStep || typeof seekStep !== \"number\")) {\n        this.seekStep = seekStep;\n      }\n      this.keyCodeMap = {\n        space: {\n          keyCode: 32,\n          action: \"playPause\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: false\n        },\n        up: {\n          keyCode: 38,\n          action: \"upVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        down: {\n          keyCode: 40,\n          action: \"downVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        left: {\n          keyCode: 37,\n          action: \"seekBack\",\n          disablePress: false,\n          disable: false\n        },\n        right: {\n          keyCode: 39,\n          action: \"seek\",\n          pressAction: \"changePlaybackRate\",\n          disablePress: false,\n          disable: false\n        },\n        esc: {\n          keyCode: 27,\n          action: \"exitFullscreen\",\n          disablePress: true,\n          disable: false\n        }\n      };\n      this.mergekeyCodeMap();\n      this._keyState = {\n        isKeyDown: false,\n        isBodyKeyDown: false,\n        isPress: false,\n        tt: 0,\n        playbackRate: 0\n      };\n      this.player.root.addEventListener(\"keydown\", this.onKeydown);\n      document.addEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"checkIsVisible\",\n    value: function checkIsVisible() {\n      if (!this.config.checkVisible) {\n        return true;\n      }\n      var rec = this.player.root.getBoundingClientRect();\n      var height = rec.height, top = rec.top, bottom = rec.bottom;\n      var h = window.innerHeight;\n      if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"checkCode\",\n    value: function checkCode(code, isBodyTarget) {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        if (_this3.keyCodeMap[key] && code === _this3.keyCodeMap[key].keyCode && !_this3.keyCodeMap[key].disable) {\n          flag = !isBodyTarget || isBodyTarget && !_this3.keyCodeMap[key].noBodyTarget;\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"downVolume\",\n    value: function downVolume(event) {\n      var player = this.player;\n      if (player.volume <= 0) {\n        return;\n      }\n      var val = parseFloat((player.volume - 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val >= 0) {\n        player.volume = val;\n      } else {\n        player.volume = 0;\n      }\n    }\n  }, {\n    key: \"upVolume\",\n    value: function upVolume(event) {\n      var player = this.player;\n      if (player.volume >= 1) {\n        return;\n      }\n      var val = parseFloat((player.volume + 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val <= 1) {\n        player.volume = val;\n      } else {\n        player.volume = 1;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      var _this$player = this.player, currentTime = _this$player.currentTime, offsetCurrentTime = _this$player.offsetCurrentTime, duration = _this$player.duration, offsetDuration = _this$player.offsetDuration, timeSegments = _this$player.timeSegments;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _duration = offsetDuration || duration;\n      var _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      if (_time + _step <= _duration) {\n        _time = _time + _step;\n      } else {\n        _time = _duration;\n      }\n      var _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"seekBack\",\n    value: function seekBack(event) {\n      var _this$player2 = this.player, currentTime = _this$player2.currentTime, offsetCurrentTime = _this$player2.offsetCurrentTime, timeSegments = _this$player2.timeSegments;\n      var _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _seekTime = _time - _step;\n      if (_seekTime < 0) {\n        _seekTime = 0;\n      }\n      _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"changePlaybackRate\",\n    value: function changePlaybackRate(event) {\n      var _keyState = this._keyState, config = this.config, player = this.player;\n      if (_keyState.playbackRate === 0) {\n        _keyState.playbackRate = player.playbackRate;\n        player.playbackRate = config.playbackRate;\n      }\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause(event) {\n      var player = this.player;\n      if (!player) {\n        return;\n      }\n      this.emitUserAction(event, \"switch_play_pause\");\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(event) {\n      var player = this.player;\n      var fullscreen = player.fullscreen, cssfullscreen = player.cssfullscreen;\n      if (fullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n        player.exitFullscreen();\n      }\n      if (cssfullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n          prop: \"cssfullscreen\",\n          from: cssfullscreen,\n          to: !cssfullscreen\n        });\n        player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var _keyState = this._keyState;\n      if (e.repeat) {\n        _keyState.isPress = true;\n        var _t = Date.now();\n        if (_t - _keyState.tt < 200) {\n          return;\n        }\n        _keyState.tt = _t;\n      }\n      this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      var _keyState = this._keyState;\n      if (_keyState.playbackRate > 0) {\n        this.player.playbackRate = _keyState.playbackRate;\n        _keyState.playbackRate = 0;\n      }\n      _keyState.isKeyDown = false;\n      _keyState.isPress = false;\n      _keyState.tt = 0;\n    }\n  }, {\n    key: \"handleKeyCode\",\n    value: function handleKeyCode(curKeyCode, event, isPress) {\n      var arr = Object.keys(this.keyCodeMap);\n      for (var i = 0; i < arr.length; i++) {\n        var _this$keyCodeMap$arr$ = this.keyCodeMap[arr[i]], action = _this$keyCodeMap$arr$.action, keyCode = _this$keyCodeMap$arr$.keyCode, disable = _this$keyCodeMap$arr$.disable, pressAction = _this$keyCodeMap$arr$.pressAction, disablePress = _this$keyCodeMap$arr$.disablePress;\n        if (keyCode === curKeyCode) {\n          if (!disable && !(isPress && disablePress)) {\n            var _action = !isPress ? action : pressAction || action;\n            if (typeof _action === \"function\") {\n              action(event, this.player, isPress);\n            } else if (typeof _action === \"string\") {\n              if (typeof this[_action] === \"function\") {\n                this[_action](event, this.player, isPress);\n              }\n            }\n            this.emit(SHORTCUT, _objectSpread2({\n              key: arr[i],\n              target: event.target,\n              isPress\n            }, this.keyCodeMap[arr[i]]));\n          }\n          preventDefault(event);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n      document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"keyboard\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        seekStep: 10,\n        checkVisible: false,\n        disableBodyTrigger: false,\n        disableRootTrigger: false,\n        isGlobalTrigger: true,\n        keyCodeMap: {},\n        disable: false,\n        playbackRate: 2,\n        isIgnoreUserActive: true\n      };\n    }\n  }]);\n  return Keyboard2;\n}(BasePlugin);\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nvar Loading = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Loading2, _Plugin);\n  var _super = _createSuper(Loading2);\n  function Loading2() {\n    _classCallCheck(this, Loading2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Loading2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        loadingIcon\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '\\n    <xg-loading class=\"xgplayer-loading\">\\n      <xg-loading-inner></xg-loading-inner>\\n    </xg-loading>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"loading\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT\n      };\n    }\n  }]);\n  return Loading2;\n}(Plugin);\nexport { Loading as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar TPL = [{\n  tag: \"xg-cache\",\n  className: \"xgplayer-progress-cache\",\n  styleKey: \"cachedColor\"\n}, {\n  tag: \"xg-played\",\n  className: \"xgplayer-progress-played\",\n  styleKey: \"playedColor\"\n}];\nvar InnerList = /* @__PURE__ */ function() {\n  function InnerList2(args) {\n    _classCallCheck(this, InnerList2);\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({\n        percent: 1\n      });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  _createClass(InnerList2, [{\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this = this;\n      this.duration = duration;\n      var start = 0;\n      var fragments = this.fragments;\n      this.fragments = fragments.map(function(item) {\n        item.start = parseInt(start, 10);\n        item.end = parseInt(start + item.percent * _this.duration, 10);\n        item.duration = parseInt(item.percent * _this.duration, 10);\n        start += item.percent * _this.duration;\n        return item;\n      });\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"played\";\n      var data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        newIndex: 0,\n        curIndex: 0,\n        millisecond: 0\n      };\n      var progressList = this.progressList, fragments = this.fragments;\n      if (progressList.length < 1) {\n        return;\n      }\n      var newIndex = data.newIndex, curIndex = data.curIndex, millisecond = data.millisecond;\n      if (newIndex !== curIndex) {\n        progressList.map(function(item, index) {\n          if (index < newIndex) {\n            item[type].style.width = \"100%\";\n          } else if (index > newIndex) {\n            item[type].style.width = 0;\n          }\n        });\n      }\n      var curPFrag = fragments[newIndex];\n      var per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n      progressList[newIndex][type].style.width = per < 0 ? 0 : \"\".concat(per * 100, \"%\");\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(data) {\n      if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n        return;\n      }\n      if (!data) {\n        if (this.focusIndex > -1) {\n          this.unHightLight(this.focusIndex);\n          var _data = {\n            index: -1,\n            preIndex: this.focusIndex,\n            fragment: null\n          };\n          this._callBack && this._callBack(_data);\n          this.focusIndex = -1;\n        }\n        return;\n      }\n      var newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n      if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n        this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n        this.setHightLight(newPIndex);\n        var _data2 = {\n          index: newPIndex,\n          preIndex: this.focusIndex,\n          fragment: this.fragments[this.focusIndex]\n        };\n        this.focusIndex = newPIndex;\n        this._callBack && this._callBack(_data2);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n        if (!duration && duration !== 0) {\n          return;\n        }\n        this.updateDuration(parseInt(duration * 1e3, 10));\n      }\n      var playedIndex = this.playedIndex, cachedIndex = this.cachedIndex;\n      if (util.typeOf(data.played) !== \"Undefined\") {\n        var newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n        if (newPIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"played\", {\n          newIndex: newPIndex,\n          curIndex: playedIndex,\n          millisecond: parseInt(data.played * 1e3, 10)\n        });\n        this.playedIndex = newPIndex;\n      }\n      if (util.typeOf(data.cached) !== \"Undefined\") {\n        var newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n        if (newCIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"cached\", {\n          newIndex: newCIndex,\n          curIndex: cachedIndex,\n          millisecond: parseInt(data.cached * 1e3, 10)\n        });\n        this.cachedIndex = newCIndex;\n      }\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(time, curIndex) {\n      var fragments = this.fragments;\n      if (!fragments || fragments.length === 0) {\n        return -1;\n      }\n      if (fragments.length === 1) {\n        return 0;\n      }\n      if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n        return curIndex;\n      }\n      if (time > fragments[fragments.length - 1].start) {\n        return fragments.length - 1;\n      }\n      for (var i = 0; i < fragments.length; i++) {\n        if (time > fragments[i].start && time <= fragments[i].end) {\n          curIndex = i;\n          break;\n        }\n      }\n      return curIndex;\n    }\n  }, {\n    key: \"findHightLight\",\n    value: function findHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n          return {\n            dom: children[i],\n            pos: children[i].getBoundingClientRect()\n          };\n        }\n      }\n    }\n  }, {\n    key: \"findFragment\",\n    value: function findFragment(index) {\n      var children = this.root.children;\n      if (index < 0 || index >= children.length) {\n        return null;\n      }\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }, {\n    key: \"unHightLight\",\n    value: function unHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        util.removeClass(children[i], this.fragConfig.fragFocusClass);\n      }\n    }\n  }, {\n    key: \"setHightLight\",\n    value: function setHightLight(index) {\n      var children = this.root.children;\n      if (index < children.length) {\n        util.addClass(children[index], this.fragConfig.fragFocusClass);\n        return {\n          dom: children[index],\n          pos: children[index].getBoundingClientRect()\n        };\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.progressList = null;\n      this.fragments = null;\n      this.root.innerHTML = \"\";\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(newOptions) {\n      var _this2 = this;\n      Object.keys(this.fragConfig).forEach(function(key) {\n        if (newOptions[key] !== void 0) {\n          _this2.fragConfig[key] = newOptions[key];\n        }\n      });\n      if (newOptions.fragments) {\n        this.fragments = newOptions.fragments.length === 0 ? [{\n          percent: 1\n        }] : newOptions.fragments;\n        this.updateDuration(this.duration);\n        this.playedIndex = 0;\n        this.cachedIndex = 0;\n        if (this.root) {\n          var _c = this.root.children;\n          while (_c.length > 0) {\n            this.root.removeChild(_c[0]);\n          }\n        }\n        this.render();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var progressColor = this.style.progressColor;\n      if (!this.root) {\n        this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n      }\n      if (this.fragments) {\n        var _this$fragConfig = this.fragConfig, fragClass = _this$fragConfig.fragClass, fragFocusClass = _this$fragConfig.fragFocusClass;\n        this.progressList = this.fragments.map(function(item) {\n          var inner = util.createDom(\"xg-inner\", \"\", {\n            style: progressColor ? \"background:\".concat(progressColor, \"; flex: \").concat(item.percent) : \"flex: \".concat(item.percent)\n          }, \"\".concat(item.isFocus ? fragFocusClass : \"\", \" xgplayer-progress-inner \").concat(fragClass));\n          _this3.root.appendChild(inner);\n          TPL.forEach(function(item2) {\n            inner.appendChild(util.createDom(item2.tag, \"\", {\n              style: item2.styleKey ? \"background: \".concat(_this3.style[item2.styleKey], \"; width:0;\") : \"width:0;\"\n            }, item2.className));\n          });\n          return {\n            cached: inner.children[0],\n            played: inner.children[1]\n          };\n        });\n      }\n      return this.root;\n    }\n  }]);\n  return InnerList2;\n}();\nexport { InnerList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nvar FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nvar Progress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Progress2, _Plugin);\n  var _super = _createSuper(Progress2);\n  function Progress2(args) {\n    var _this;\n    _classCallCheck(this, Progress2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMoveOnly\", function(e, data) {\n      var _assertThisInitialize = _assertThisInitialized(_this), pos = _assertThisInitialize.pos, config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      var ret = data;\n      if (e) {\n        util.event(e);\n        var _ePos = util.getEventPos(e, player.zoom);\n        var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = _this.computeTime(e, x);\n      }\n      _this.triggerCallbacks(\"dragmove\", ret, e);\n      _this._updateInnerFocus(ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyClick\", function(e) {\n      if (!_this.pos.isLocked) {\n        return;\n      }\n      _this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDownHandler\", function(event, data) {\n      _this._state.time = data.currentTime;\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseUpHandler\", function(e, data) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos;\n      pos.moving && _this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseMoveHandler\", function(e, data) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), _state = _assertThisInitialize3._state, pos = _assertThisInitialize3.pos, config = _assertThisInitialize3.config, player = _assertThisInitialize3.player;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        _this.triggerCallbacks(\"dragstart\", data, e);\n        _this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      _this.triggerCallbacks(\"dragmove\", data, e);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _state = _assertThisInitialize4._state, player = _assertThisInitialize4.player, pos = _assertThisInitialize4.pos, config = _assertThisInitialize4.config, playerConfig = _assertThisInitialize4.playerConfig;\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      _this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({\n        autoHide: false\n      });\n      _this.isProgressMoving = true;\n      util.addClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseDownHandlerHook(e, ret);\n      var eventType = e.type;\n      if (eventType === \"touchstart\") {\n        _this.root.addEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.addEventListener(\"touchend\", _this.onMouseUp);\n      } else {\n        _this.unbind(\"mousemove\", _this.onMoveOnly);\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n      }\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function(e) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this), player = _assertThisInitialize5.player, config = _assertThisInitialize5.config, pos = _assertThisInitialize5.pos, playerConfig = _assertThisInitialize5.playerConfig, _state = _assertThisInitialize5._state;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        _this.triggerCallbacks(\"dragend\", ret, e);\n        _this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        _this.triggerCallbacks(\"click\", ret, e);\n        _this.emitUserAction(\"click\", \"click\", ret);\n      }\n      _this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      var eventType = e.type;\n      if (eventType === \"touchend\") {\n        _this.root.removeEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.removeEventListener(\"touchend\", _this.onMouseUp);\n        _this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n        if (!pos.isEnter) {\n          _this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && _this.bind(\"mousemove\", _this.onMoveOnly);\n        }\n      }\n      util.setTimeout(_assertThisInitialized(_this), function() {\n        _this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize6 = _assertThisInitialized(_this), _state = _assertThisInitialize6._state, pos = _assertThisInitialize6.pos, player = _assertThisInitialize6.player, config = _assertThisInitialize6.config;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseMoveHandlerHook(e, ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", function(e) {\n      _this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function(e) {\n      _this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this), player = _assertThisInitialize7.player, pos = _assertThisInitialize7.pos;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      _this.bind(\"mousemove\", _this.onMoveOnly);\n      _this.bind(\"mouseleave\", _this.onMouseLeave);\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var ret = _this.computeTime(e, x);\n      _this.triggerCallbacks(\"mouseenter\", ret, e);\n      _this.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      _this.triggerCallbacks(\"mouseleave\", null, e);\n      _this.unlock();\n      _this._updateInnerFocus(null);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoResize\", function() {\n      var _this$pos = _this.pos, x = _this$pos.x, isDown = _this$pos.isDown, isEnter = _this$pos.isEnter;\n      if (isEnter && !isDown) {\n        var ret = _this.computeTime(null, x);\n        _this.onMoveOnly(null, ret);\n      }\n    });\n    _this.useable = false;\n    _this.isProgressMoving = false;\n    _this.__dragCallBacks = [];\n    _this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    _this._disableBlur = false;\n    return _this;\n  }\n  _createClass(Progress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState() {\n      var useable = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this.useable = useable;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.root && (this.root.style.display = \"flex\");\n    }\n  }, {\n    key: \"_initInner\",\n    value: function _initInner() {\n      var _this2 = this;\n      var fragments = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (!fragments || fragments.length === 0) {\n        fragments = [{\n          percent: 1\n        }];\n      }\n      var _c = _objectSpread2(_objectSpread2({\n        fragments\n      }, config), {}, {\n        actionCallback: function actionCallback(data) {\n          _this2.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n        }\n      });\n      if (!this.innerList) {\n        this.innerList = new InnerList(_c);\n        this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n        [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map(function(item) {\n          _this2[item] = _this2.innerList[item].bind(_this2.innerList);\n        });\n      } else {\n        this.innerList.reset(_c);\n      }\n    }\n  }, {\n    key: \"_updateInnerFocus\",\n    value: function _updateInnerFocus(data) {\n      this.innerList && this.innerList.updateFocus(data);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this3 = this;\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      this.pos = {\n        x: 0,\n        y: 0,\n        moving: false,\n        isDown: false,\n        isEnter: false,\n        isLocked: false\n      };\n      this.outer = this.find(\"xg-outer\");\n      var _this$config = this.config, fragFocusClass = _this$config.fragFocusClass, fragAutoFocus = _this$config.fragAutoFocus, fragClass = _this$config.fragClass;\n      this._initInner(this.config.fragments, {\n        fragFocusClass,\n        fragAutoFocus,\n        fragClass,\n        style: this.playerConfig.commonStyle || {}\n      });\n      if (sniffer.device === \"mobile\") {\n        this.config.isDragingSeek = false;\n        this.isMobile = true;\n      }\n      this.progressBtn = this.find(\".xgplayer-progress-btn\");\n      this.on(DURATION_CHANGE, function() {\n        _this3.onMouseLeave();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this3.onTimeupdate();\n      });\n      this.on(SEEKED, function() {\n        _this3.onTimeupdate();\n        _this3.onCacheUpdate();\n      });\n      this.on(PROGRESS, function() {\n        _this3.onCacheUpdate();\n      });\n      this.on(ENDED, function() {\n        _this3.onCacheUpdate(true);\n        _this3.onTimeupdate(true);\n        _this3._state.now = 0;\n      });\n      this.on(EMPTIED, function() {\n        _this3.onReset();\n      });\n      this.on(VIDEO_RESIZE, function() {\n        _this3.onVideoResize();\n      });\n      this.bindDomEvents();\n      this.initCustomStyle();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this4 = this;\n      var frags = null;\n      Object.keys(config).forEach(function(key) {\n        _this4.config[key] = config[key];\n        if (key === \"fragments\") {\n          frags = config[key];\n        }\n      });\n      if (frags) {\n        this._initInner(frags, config);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var sliderBtnStyle = commonStyle.sliderBtnStyle;\n      var progressBtn = this.progressBtn;\n      if (sliderBtnStyle) {\n        if (typeof sliderBtnStyle === \"string\") {\n          progressBtn.style.boxShadow = sliderBtnStyle;\n        } else if (_typeof(sliderBtnStyle) === \"object\") {\n          Object.keys(sliderBtnStyle).map(function(key) {\n            progressBtn.style[key] = sliderBtnStyle[key];\n          });\n        }\n      }\n    }\n  }, {\n    key: \"triggerCallbacks\",\n    value: function triggerCallbacks(type, data, event) {\n      if (this.__dragCallBacks.length > 0) {\n        this.__dragCallBacks.map(function(item) {\n          if (item && item.handler && item.type === type) {\n            try {\n              item.handler(data, event);\n            } catch (error) {\n              console.error(\"[XGPLAYER][triggerCallbacks] \".concat(item, \" error\"), error);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addCallBack\",\n    value: function addCallBack(type, handle) {\n      if (handle && typeof handle === \"function\") {\n        this.__dragCallBacks.push({\n          type,\n          handler: handle\n        });\n      }\n    }\n  }, {\n    key: \"removeCallBack\",\n    value: function removeCallBack(type, event) {\n      var __dragCallBacks = this.__dragCallBacks;\n      var _index = -1;\n      __dragCallBacks.map(function(item, index) {\n        if (item && item.type === type && item.handler === event) {\n          _index = index;\n        }\n      });\n      if (_index > -1) {\n        __dragCallBacks.splice(_index, 1);\n      }\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      var player = this.player, pos = this.pos;\n      pos.isEnter = false;\n      if (player.isMini) {\n        return;\n      }\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      if (pos.isDown) {\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        return;\n      }\n      this.blur();\n    }\n  }, {\n    key: \"bindDomEvents\",\n    value: function bindDomEvents() {\n      var _this$player2 = this.player, controls = _this$player2.controls, config = _this$player2.config;\n      this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n      this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n      this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n      if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n        this.root.addEventListener(\"touchstart\", this.onMouseDown);\n        if (controls) {\n          controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n        this.bind(\"mousedown\", this.onMouseDown);\n        config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseover\", this.onMouseOver);\n        this.bind(\"mouseout\", this.onMouseOut);\n        this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.controls.pauseAutoHide();\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._disableBlur) {\n        return;\n      }\n      this.player.controls.recoverAutoHide();\n      util.removeClass(this.root, \"active\");\n    }\n  }, {\n    key: \"disableBlur\",\n    value: function disableBlur() {\n      this._disableBlur = true;\n    }\n  }, {\n    key: \"enableBlur\",\n    value: function enableBlur() {\n      this._disableBlur = false;\n    }\n  }, {\n    key: \"updateWidth\",\n    value: function updateWidth(currentTime, seekTime, percent, type) {\n      var config = this.config, player = this.player;\n      if (config.isCloseClickSeek && type === 0) {\n        return;\n      }\n      var realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n      this.updatePercent(percent);\n      this.updateTime(currentTime);\n      if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n        return;\n      }\n      this._state.now = realTime;\n      this._state.direc = realTime > player.currentTime ? 0 : 1;\n      player.seek(realTime);\n    }\n  }, {\n    key: \"computeTime\",\n    value: function computeTime(e, x) {\n      var player = this.player;\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, top = _this$root$getBoundin.top, left = _this$root$getBoundin.left;\n      var rWidth, rLeft;\n      var clientX = x;\n      if (player.rotateDeg === 90) {\n        rWidth = height;\n        rLeft = top;\n      } else {\n        rWidth = width;\n        rLeft = left;\n      }\n      var offset = clientX - rLeft;\n      offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n      var percent = offset / rWidth;\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n      var currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n      var seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n      return {\n        percent,\n        currentTime,\n        seekTime,\n        offset,\n        width: rWidth,\n        left: rLeft,\n        e\n      };\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      var player = this.player, duration = this.duration;\n      if (time > duration) {\n        time = duration;\n      } else if (time < 0) {\n        time = 0;\n      }\n      var timeIcon = player.plugins.time;\n      if (timeIcon) {\n        timeIcon.updateTime(time);\n      }\n    }\n  }, {\n    key: \"resetSeekState\",\n    value: function resetSeekState() {\n      this.isProgressMoving = false;\n      var timeIcon = this.player.plugins.time;\n      timeIcon && timeIcon.resetActive();\n    }\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent(percent, notSeek) {\n      this.isProgressMoving = true;\n      if (this.config.disable) {\n        return;\n      }\n      percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n      this.progressBtn.style.left = \"\".concat(percent * 100, \"%\");\n      this.innerList.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate(isEnded) {\n      var player = this.player, _state = this._state, offsetDuration = this.offsetDuration;\n      if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n        return;\n      }\n      if (_state.now > -1) {\n        var abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n        if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n          _state.now = -1;\n          return;\n        } else {\n          _state.now = -1;\n        }\n      }\n      var time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n      this.innerList.update({\n        played: time\n      }, offsetDuration);\n      this.progressBtn.style.left = \"\".concat(time / offsetDuration * 100, \"%\");\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: time\n      }, offsetDuration);\n    }\n  }, {\n    key: \"onCacheUpdate\",\n    value: function onCacheUpdate(isEnded) {\n      var player = this.player, duration = this.duration;\n      if (!player) {\n        return;\n      }\n      var _end = player.bufferedPoint.end;\n      _end = util.adjustTimeByDuration(_end, duration, isEnded);\n      this.innerList.update({\n        cached: _end\n      }, duration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: _end\n      }, duration);\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.innerList.update({\n        played: 0,\n        cached: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: 0,\n        played: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      var controls = player.controls;\n      this.thumbnailPlugin = null;\n      this.innerList.destroy();\n      this.innerList = null;\n      var domEventType = this.domEventType;\n      if (domEventType === \"touch\" || domEventType === \"compatible\") {\n        this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        if (controls) {\n          controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n        this.unbind(\"mousedown\", this.onMouseDown);\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        player.root.removeEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      var controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n      var className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n      return '\\n    <xg-progress class=\"xgplayer-progress '.concat(className, '\">\\n      <xg-outer class=\"xgplayer-progress-outer\">\\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\\n      </xg-outer>\\n    </xg-progress>\\n    ');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_CENTER,\n        index: 0,\n        disable: false,\n        isDragingSeek: true,\n        closeMoveSeek: false,\n        isPauseMoving: false,\n        isCloseClickSeek: false,\n        fragments: [{\n          percent: 1\n        }],\n        fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n        fragClass: \"\",\n        fragAutoFocus: false,\n        miniMoveStep: 5,\n        miniStartStep: 2,\n        onMoveStart: function onMoveStart() {\n        },\n        onMoveEnd: function onMoveEnd() {\n        },\n        endedDiff: 0.2\n      };\n    }\n  }, {\n    key: \"FRAGMENT_FOCUS_CLASS\",\n    get: function get() {\n      return FRAGMENT_FOCUS_CLASS;\n    }\n  }]);\n  return Progress2;\n}(Plugin);\nexport { Progress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Icon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Icon2, _Plugin);\n  var _super = _createSuper(Icon2);\n  function Icon2() {\n    var _this;\n    _classCallCheck(this, Icon2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseenter\", function(e) {\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseLeave\", function(e) {\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    return _this;\n  }\n  _createClass(Icon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.bind(\"mouseenter\", this._onMouseenter);\n      this.bind(\"mouseleave\", this._onMouseLeave);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\"mouseenter\", this._onMouseenter);\n      this.unbind(\"mouseleave\", this._onMouseLeave);\n    }\n  }]);\n  return Icon2;\n}(Plugin);\nexport { Icon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar Play = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Play2, _IconPlugin);\n  var _super = _createSuper(Play2);\n  function Play2() {\n    _classCallCheck(this, Play2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Play2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(Play2.prototype), \"afterCreate\", this).call(this);\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      this.initIcons();\n      this.btnClick = this.btnClick.bind(this);\n      this.bind([\"touchend\", \"click\"], this.btnClick);\n      this.on([PAUSE, ERROR, EMPTIED], function() {\n        _this.animate(player.paused);\n      });\n      this.on(PLAY, function() {\n        _this.animate(player.paused);\n      });\n      this.animate(true);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (player.ended) {\n        player.replay();\n      } else if (player.paused) {\n        player.play();\n        this.animate(false);\n      } else {\n        player.pause();\n        this.animate(true);\n      }\n      return false;\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.play);\n      this.appendChild(\".xgplayer-icon\", icons.pause);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(paused) {\n      if (!this.player) {\n        return;\n      }\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      if (paused) {\n        this.setAttr(\"data-state\", \"pause\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n      } else {\n        this.setAttr(\"data-state\", \"play\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Play2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"touchend\", \"click\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-play\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"play\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Play2;\n}(Icon);\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nvar TopBackIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(TopBackIcon2, _Plugin);\n  var _super = _createSuper(TopBackIcon2);\n  function TopBackIcon2() {\n    _classCallCheck(this, TopBackIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TopBackIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.initIcons();\n      this.onClick = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.config.onClick(e);\n      };\n      this.bind([\"click\", \"touchend\"], this.onClick);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenBack: {\n          icon: BackSVG,\n          class: \"xg-fullscreen-back\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(this.root, icons.screenBack);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-back\">\\n    </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"topbackicon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT_TOP,\n        index: 0\n      };\n    }\n  }]);\n  return TopBackIcon2;\n}(Plugin);\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nvar Fullscreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Fullscreen2, _IconPlugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onOrientationChange\", function(e) {\n      if (_this.player.fullscreen && _this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          _this.player.setRotateDeg(0);\n        } else {\n          _this.player.setRotateDeg(90);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config, playerConfig = this.playerConfig;\n      if (config.disable) {\n        return;\n      }\n      if (config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      var fullEl = util.getFullScreenEl();\n      if (playerConfig.fullscreenTarget === fullEl) {\n        this.player.getFullscreen().catch(function(e) {\n        });\n      }\n      this.initIcons();\n      this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n        pre: function pre(e) {\n          var fullscreen = _this2.player.fullscreen;\n          _this2.emitUserAction(e, \"switch_fullscreen\", {\n            prop: \"fullscreen\",\n            from: fullscreen,\n            to: !fullscreen\n          });\n        }\n      });\n      this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n      this.on(FULLSCREEN_CHANGE, function(isFullScreen) {\n        var tipsDom = _this2.find(\".xg-tips\");\n        tipsDom && _this2.changeLangTextKey(tipsDom, isFullScreen ? _this2.i18nKeys.EXITFULLSCREEN_TIPS : _this2.i18nKeys.FULLSCREEN_TIPS);\n        _this2.animate(isFullScreen);\n      });\n      if (this.config.needBackIcon) {\n        this.topBackIcon = this.player.registerPlugin({\n          plugin: TopBackIcon,\n          options: {\n            config: {\n              onClick: function onClick(e) {\n                _this2.handleFullscreen(e);\n              }\n            }\n          }\n        });\n      }\n      if (sniffer.device === \"mobile\") {\n        window.addEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        fullscreen: {\n          icon: FullScreenSvg,\n          class: \"xg-get-fullscreen\"\n        },\n        exitFullscreen: {\n          icon: ExitFullScreenSvg,\n          class: \"xg-exit-fullscreen\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n      if (sniffer.device === \"mobile\") {\n        window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n      this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n    }\n  }, {\n    key: \"toggleFullScreen\",\n    value: function toggleFullScreen(e) {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      var player = this.player, config = this.config;\n      var useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n      if (useCssFullscreen) {\n        if (player.fullscreen) {\n          player.exitCssFullscreen();\n        } else {\n          player.getCssFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.rotateFullscreen) {\n        if (player.fullscreen) {\n          player.exitRotateFullscreen();\n        } else {\n          player.getRotateFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n        config.switchCallback(player.fullscreen);\n      } else {\n        if (player.fullscreen) {\n          player.exitFullscreen();\n        } else {\n          player.getFullscreen().catch(function(e2) {\n          });\n        }\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      if (this.topBackIcon) {\n        if (isFullScreen) {\n          this.topBackIcon.show();\n          this.hide();\n        } else {\n          this.topBackIcon.hide();\n          this.show();\n        }\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"hide\", this).call(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var langKey = \"FULLSCREEN_TIPS\";\n      return '<xg-icon class=\"xgplayer-fullscreen\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, langKey, this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"fullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 0,\n        useCssFullscreen: false,\n        rotateFullscreen: false,\n        switchCallback: null,\n        target: null,\n        disable: false,\n        needBackIcon: false\n      };\n    }\n  }]);\n  return Fullscreen2;\n}(Icon);\nexport { Fullscreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar Time = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Time2, _Plugin);\n  var _super = _createSuper(Time2);\n  function Time2(args) {\n    var _this;\n    _classCallCheck(this, Time2);\n    _this = _super.call(this, args);\n    _this.isActiving = false;\n    return _this;\n  }\n  _createClass(Time2, [{\n    key: \"duration\",\n    get: function get() {\n      var _this$player = this.player, offsetDuration = _this$player.offsetDuration, duration = _this$player.duration;\n      return this.playerConfig.customDuration || offsetDuration || duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player2 = this.player, offsetCurrentTime = _this$player2.offsetCurrentTime, currentTime = _this$player2.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var constrolsMode = this.player.controls.config.mode;\n      this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n      if (this.config.disable) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.createCenterTime();\n        this.root.style.display = \"none\";\n      }\n      this.durationDom = this.find(\".time-duration\");\n      this.timeDom = this.find(\".time-current\");\n      this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], function(e) {\n        if (e.eventName === \"durationchange\") {\n          _this2.isActiving = false;\n        }\n        _this2.onTimeUpdate();\n      });\n      this.on(ENDED, function() {\n        _this2.onTimeUpdate(true);\n      });\n      this.on(EMPTIED, function() {\n        _this2.onReset();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n        return;\n      }\n      this.root.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n        return;\n      }\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(isEnded) {\n      var player = this.player, config = this.config, duration = this.duration;\n      if (config.disable || this.isActiving || !player.hasStart) {\n        return;\n      }\n      var current = this.currentTime + this.timeOffset;\n      current = util.adjustTimeByDuration(current, duration, isEnded);\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.centerDurDom.innerHTML = util.format(duration);\n        }\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.durationDom.innerHTML = util.format(duration);\n        }\n      }\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n        this.centerDurDom.innerHTML = util.format(0);\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n        this.durationDom.innerHTML = util.format(0);\n      }\n    }\n  }, {\n    key: \"createCenterTime\",\n    value: function createCenterTime() {\n      var player = this.player;\n      if (!player.controls || !player.controls.center) {\n        return;\n      }\n      var center = player.controls.center;\n      this.centerCurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-left\");\n      this.centerDurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-right\");\n      center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n      center.appendChild(this.centerDurDom);\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n      var config = this.config;\n      if (this.duration === Infinity || this.playerConfig.isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n      }\n      if (config.hide) {\n        this.hide();\n        return;\n      }\n      this.show();\n    }\n  }, {\n    key: \"changeLiveState\",\n    value: function changeLiveState(isLive) {\n      if (isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n        util.show(this.find(\".time-separator\"));\n        util.show(this.durationDom);\n        util.show(this.timeDom);\n      }\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      this.isActiving = true;\n      if (!time && time !== 0 || time > this.duration) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n        return;\n      }\n      this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n    }\n  }, {\n    key: \"minWidthTime\",\n    value: function minWidthTime(timeStr) {\n      return timeStr.split(\":\").map(function(value) {\n        return '<span class=\"time-min-width\">'.concat(value, \"</span>\");\n      }).join(\":\");\n    }\n  }, {\n    key: \"resetActive\",\n    value: function resetActive() {\n      var _this3 = this;\n      var player = this.player;\n      var updateState = function updateState2() {\n        _this3.isActiving = false;\n      };\n      this.off(SEEKED, updateState);\n      if (player.isSeeking && player.media.seeking) {\n        this.once(SEEKED, updateState);\n      } else {\n        this.isActiving = false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var center = this.player.controls.center;\n      this.centerCurDom && center.removeChild(this.centerCurDom);\n      this.centerCurDom = null;\n      this.centerDurDom && center.removeChild(this.centerDurDom);\n      this.centerDurDom = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-time\">\\n    <span class=\"time-current\">00:00</span>\\n    <span class=\"time-separator\">/</span>\\n    <span class=\"time-duration\">00:00</span>\\n    <span class=\"time-live-tag\">'.concat(this.i18n.LIVE_TIP, \"</span>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"time\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 2,\n        disable: false\n      };\n    }\n  }]);\n  return Time2;\n}(Plugin);\nexport { Time as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar TimeSegmentsControls = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TimeSegmentsControls2, _BasePlugin);\n  var _super = _createSuper(TimeSegmentsControls2);\n  function TimeSegmentsControls2() {\n    var _this;\n    _classCallCheck(this, TimeSegmentsControls2);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onDurationChange\", function() {\n      _this.updateSegments();\n      var _this$player = _this.player, currentTime = _this$player.currentTime, timeSegments = _this$player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      var time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(index, timeSegments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadedData\", function() {\n      var timeSegments = _this.player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var time = util.getOffsetCurrentTime(0, timeSegments);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(0, timeSegments);\n      if (_this.curPos.start > 0) {\n        _this.player.currentTime = _this.curPos.start;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      var _this$player2 = _this.player, currentTime = _this$player2.currentTime, timeSegments = _this$player2.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var _len = timeSegments.length;\n      _this.lastCurrentTime = currentTime;\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== _this.curIndex) {\n        _this.changeIndex(index, timeSegments);\n      }\n      var curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = curTime;\n      if (!_this.curPos) {\n        return;\n      }\n      var _this$curPos = _this.curPos, start = _this$curPos.start, end = _this$curPos.end;\n      if (currentTime < start) {\n        _this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        _this.player.pause();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      var _this$player3 = _this.player, currentTime = _this$player3.currentTime, timeSegments = _this$player3.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        _this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        var _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          var _seekTime = _this.getSeekTime(currentTime, _this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            _this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", function() {\n      var _this$player4 = _this.player, currentTime = _this$player4.currentTime, timeSegments = _this$player4.timeSegments;\n      if (_this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[0].start;\n      }\n    });\n    return _this;\n  }\n  _createClass(TimeSegmentsControls2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.curIndex = -1;\n      this.curPos = null;\n      this.lastCurrentTime = 0;\n      this.updateSegments();\n      this.on(DURATION_CHANGE, this._onDurationChange);\n      this.on(LOADED_DATA, this._onLoadedData);\n      this.on(TIME_UPDATE, this._onTimeupdate);\n      this.on(SEEKING, this._onSeeking);\n      this.on(PLAY, this._onPlay);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this2 = this;\n      if (!newConfig) {\n        return;\n      }\n      var keys = Object.keys(newConfig);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this2.config[key] = newConfig[key];\n      });\n      this.updateSegments();\n    }\n  }, {\n    key: \"updateSegments\",\n    value: function updateSegments() {\n      var _this$config = this.config, disable = _this$config.disable, segments = _this$config.segments;\n      var player = this.player;\n      if (disable || !segments || segments.length === 0) {\n        player.timeSegments = [];\n        player.offsetDuration = 0;\n        player.offsetCurrentTime = -1;\n      } else {\n        var _segs = this.formatTimeSegments(segments, player.duration);\n        player.timeSegments = _segs;\n        player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n      }\n    }\n  }, {\n    key: \"formatTimeSegments\",\n    value: function formatTimeSegments(timeSegments, duration) {\n      var ret = [];\n      if (!timeSegments) {\n        return [];\n      }\n      timeSegments.sort(function(a, b) {\n        return a.start - b.start;\n      });\n      timeSegments.forEach(function(item, index) {\n        var _item = {};\n        _item.start = item.start < 0 ? 0 : item.start;\n        _item.end = duration > 0 && item.end > duration ? duration : item.end;\n        if (duration > 0 && _item.start > duration) {\n          return;\n        }\n        ret.push(_item);\n        var _segDuration = _item.end - _item.start;\n        if (index === 0) {\n          _item.offset = item.start;\n          _item.cTime = 0;\n          _item.segDuration = _segDuration;\n          _item.duration = _segDuration;\n        } else {\n          var last = ret[index - 1];\n          _item.offset = last.offset + (_item.start - last.end);\n          _item.cTime = last.duration + last.cTime;\n          _item.segDuration = _segDuration;\n          _item.duration = last.duration + _segDuration;\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n      var _time = -1;\n      var _timeSegments$index = timeSegments[index], start = _timeSegments$index.start, end = _timeSegments$index.end;\n      if (currentTime >= start && currentTime <= end) {\n        return _time;\n      }\n      var diff = currentTime - lastCurrentTime;\n      if (diff < 0) {\n        if (currentTime < start) {\n          var diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n          _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n          return _time;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"_checkIfEnabled\",\n    value: function _checkIfEnabled(segments) {\n      return !(!segments || segments.length < 1);\n    }\n  }, {\n    key: \"changeIndex\",\n    value: function changeIndex(index, timeSegments) {\n      this.curIndex = index;\n      if (index >= 0 && timeSegments.length > 0) {\n        this.curPos = timeSegments[index];\n      } else {\n        this.curPos = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"TimeSegmentsControls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: true,\n        segments: []\n      };\n    }\n  }]);\n  return TimeSegmentsControls2;\n}(BasePlugin);\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nvar Volume = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Volume2, _Plugin);\n  var _super = _createSuper(Volume2);\n  function Volume2() {\n    var _this;\n    _classCallCheck(this, Volume2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBarMousedown\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      var bar = _this.find(\".xgplayer-bar\");\n      util.event(e);\n      var barRect = bar.getBoundingClientRect();\n      var pos = util.getEventPos(e, player.zoom);\n      var height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      _this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      _this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", _this.onBarMouseUp);\n      _this._d.isStart = true;\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseMove\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _d = _assertThisInitialize2._d;\n      if (!_d.isStart) {\n        return;\n      }\n      var _assertThisInitialize3 = _assertThisInitialized(_this), pos = _assertThisInitialize3.pos, player = _assertThisInitialize3.player;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      var w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      _this.updateVolumePos(w, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseUp\", function(e) {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", _this.onBarMouseUp);\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _d = _assertThisInitialize4._d;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseenter\", function(e) {\n      _this._d.isActive = true;\n      _this.focus();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseleave\", function(e) {\n      _this._d.isActive = false;\n      _this.unFocus(100, false, e);\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChange\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      var _this$player = _this.player, muted = _this$player.muted, volume = _this$player.volume;\n      if (!_this._d.isMoving) {\n        _this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : \"\".concat(volume * 100, \"%\");\n        if (_this.config.showValueLabel) {\n          _this.updateVolumeValue();\n        }\n      }\n      _this.animate(muted, volume);\n    });\n    return _this;\n  }\n  _createClass(Volume2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        volumeSmall: {\n          icon: volumeSmallSvg,\n          class: \"xg-volume-small\"\n        },\n        volumeLarge: {\n          icon: volumeLargeSvg,\n          class: \"xg-volume\"\n        },\n        volumeMuted: {\n          icon: volumeMutedSvg,\n          class: \"xg-volume-mute\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._timerId = null;\n      this._d = {\n        isStart: false,\n        isMoving: false,\n        isActive: false\n      };\n      if (this.config.disable) {\n        return;\n      }\n      this.initIcons();\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, volume = _this$playerConfig.volume;\n      if (commonStyle.volumeColor) {\n        this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n      }\n      this.changeMutedHandler = this.hook(\"mutedChange\", function(e) {\n        _this2.changeMuted(e);\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n      this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n      if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this._onMouseenterHandler);\n        this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n        this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n        this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n        this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      }\n      this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n      this.on(VOLUME_CHANGE, this.onVolumeChange);\n      this.once(LOADED_DATA, this.onVolumeChange);\n      if (util.typeOf(volume) !== \"Number\") {\n        this.player.volume = this.config.default;\n      }\n      this.onVolumeChange();\n    }\n  }, {\n    key: \"updateVolumePos\",\n    value: function updateVolumePos(height, event) {\n      var player = this.player;\n      var drag = this.find(\".xgplayer-drag\");\n      var bar = this.find(\".xgplayer-bar\");\n      if (!bar || !drag) {\n        return;\n      }\n      var now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n      drag.style.height = \"\".concat(height, \"px\");\n      var to = Math.max(Math.min(now / 1e3, 1), 0);\n      var props = {\n        volume: {\n          from: player.volume,\n          to\n        }\n      };\n      if (player.muted) {\n        props.muted = {\n          from: true,\n          to: false\n        };\n      }\n      this.emitUserAction(event, \"change_volume\", {\n        muted: player.muted,\n        volume: player.volume,\n        props\n      });\n      player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n      player.muted && (player.muted = false);\n      if (this.config.showValueLabel) {\n        this.updateVolumeValue();\n      }\n    }\n  }, {\n    key: \"updateVolumeValue\",\n    value: function updateVolumeValue() {\n      var _this$player2 = this.player, volume = _this$player2.volume, muted = _this$player2.muted;\n      var $labelValue = this.find(\".xgplayer-value-label\");\n      var vol = Math.max(Math.min(volume, 1), 0);\n      $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var player = this.player;\n      player.focus({\n        autoHide: false\n      });\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      util.addClass(this.root, \"slide-show\");\n    }\n  }, {\n    key: \"unFocus\",\n    value: function unFocus() {\n      var _this3 = this;\n      var delay = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 100;\n      var isForce = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var e = arguments.length > 2 ? arguments[2] : void 0;\n      var _d = this._d, player = this.player;\n      if (_d.isActive) {\n        return;\n      }\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this._timerId = util.setTimeout(this, function() {\n        if (!_d.isActive) {\n          isForce ? player.blur() : player.focus();\n          util.removeClass(_this3.root, \"slide-show\");\n          _d.isStart && _this3.onBarMouseUp(e);\n        }\n        _this3._timerId = null;\n      }, delay);\n    }\n  }, {\n    key: \"changeMuted\",\n    value: function changeMuted(e) {\n      e && e.stopPropagation();\n      var player = this.player, _d = this._d;\n      _d.isStart && this.onBarMouseUp(e);\n      this.emitUserAction(e, \"change_muted\", {\n        muted: player.muted,\n        volume: player.volume,\n        props: {\n          muted: {\n            from: player.muted,\n            to: !player.muted\n          }\n        }\n      });\n      if (player.volume > 0) {\n        player.muted = !player.muted;\n      }\n      if (player.volume < 0.01) {\n        player.volume = this.config.miniVolume;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(muted, volume) {\n      if (muted || volume === 0) {\n        this.setAttr(\"data-state\", \"mute\");\n      } else if (volume < 0.5 && this.icons.volumeSmall) {\n        this.setAttr(\"data-state\", \"small\");\n      } else {\n        this.setAttr(\"data-state\", \"normal\");\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n      this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n      this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this.unbind(\"mouseenter\", this.onMouseenter);\n      this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n      this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var volume = this.config.default || this.player.volume;\n      var isShowVolumeValue = this.config.showValueLabel;\n      return '\\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      <xg-slider class=\"xgplayer-slider\">\\n        '.concat(isShowVolumeValue ? '<div class=\"xgplayer-value-label\">'.concat(volume * 100, \"</div>\") : \"\", '\\n        <div class=\"xgplayer-bar\">\\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ').concat(volume * 100, '%\"></xg-drag>\\n        </div>\\n      </xg-slider>\\n    </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"volume\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        showValueLabel: false,\n        default: 0.6,\n        miniVolume: 0.2\n      };\n    }\n  }]);\n  return Volume2;\n}(Plugin);\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nvar Rotate = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Rotate2, _IconPlugin);\n  var _super = _createSuper(Rotate2);\n  function Rotate2(args) {\n    var _this;\n    _classCallCheck(this, Rotate2);\n    _this = _super.call(this, args);\n    _this.rotateDeg = _this.config.rotateDeg || 0;\n    return _this;\n  }\n  _createClass(Rotate2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.config.disable) {\n        return;\n      }\n      _get(_getPrototypeOf(Rotate2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n      this.onBtnClick = this.onBtnClick.bind(this);\n      this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n      this.on(VIDEO_RESIZE, function() {\n        if (_this2.rotateDeg && _this2.config.innerRotate) {\n          util.setTimeout(_this2, function() {\n            _this2.updateRotateDeg(_this2.rotateDeg, _this2.config.innerRotate);\n          }, 100);\n        }\n      });\n      var root = this.player.root;\n      this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n      this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n      if (this.rotateDeg) {\n        this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Rotate2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    }\n  }, {\n    key: \"onBtnClick\",\n    value: function onBtnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"rotate\");\n      this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n    }\n  }, {\n    key: \"updateRotateDeg\",\n    value: function updateRotateDeg(rotateDeg, innerRotate) {\n      if (!rotateDeg) {\n        rotateDeg = 0;\n      }\n      if (innerRotate) {\n        this.player.videoRotateDeg = rotateDeg;\n        return;\n      }\n      var player = this.player, rootWidth = this.rootWidth, rootHeight = this.rootHeight;\n      var root = player.root, innerContainer = player.innerContainer;\n      var video = player.media;\n      var width = root.offsetWidth;\n      var height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n      var rWidth = rootWidth;\n      var rHeight = rootHeight;\n      var x = 0;\n      var y = 0;\n      if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n        rWidth = \"\".concat(height, \"px\");\n        rHeight = \"\".concat(width, \"px\");\n        x = -(height - width) / 2;\n        y = -(width - height) / 2;\n      }\n      var _transform = \"translate(\".concat(x, \"px,\").concat(y, \"px) rotate(\").concat(rotateDeg, \"turn)\");\n      var _styles = {\n        transformOrigin: \"center center\",\n        transform: _transform,\n        webKitTransform: _transform,\n        height: rHeight,\n        width: rWidth\n      };\n      var _target = innerRotate ? video : root;\n      var poster = innerRotate ? player.getPlugin(\"poster\") : null;\n      Object.keys(_styles).map(function(key) {\n        _target.style[key] = _styles[key];\n        poster && poster.root && (poster.root.style[key] = _styles[key]);\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      var clockwise = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var innerRotate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var times = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;\n      var player = this.player;\n      if (!this.rotateDeg) {\n        this.rotateDeg = 0;\n      }\n      var factor = clockwise ? 1 : -1;\n      this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n      this.updateRotateDeg(this.rotateDeg, innerRotate);\n      player.emit(ROTATE, this.rotateDeg * 360);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        rotate: RotateSvg\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n    <xg-icon class=\"xgplayer-rotate\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"rotate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        innerRotate: true,\n        clockwise: false,\n        rotateDeg: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Rotate2;\n}(Icon);\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nvar PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nvar PIP = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(PIP2, _IconPlugin);\n  var _super = _createSuper(PIP2);\n  function PIP2() {\n    var _this;\n    _classCallCheck(this, PIP2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"switchPIP\", function(e) {\n      if (!_this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (_this.isPip) {\n        _this.exitPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: true,\n          to: false\n        });\n        _this.setAttr(\"data-state\", \"normal\");\n      } else if (_this.player.media.readyState === 4) {\n        _this.requestPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: false,\n          to: true\n        });\n        _this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n    return _this;\n  }\n  _createClass(PIP2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.pip === \"boolean\") {\n        args.config.showIcon = args.player.config.pip;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.isPIPAvailable()) {\n        return;\n      }\n      _get(_getPrototypeOf(PIP2.prototype), \"afterCreate\", this).call(this);\n      this.pMode = PresentationMode.INLINE;\n      this.initPipEvents();\n      if (this.config.showIcon) {\n        this.initIcons();\n      }\n      this.once(COMPLETE, function() {\n        if (_this2.config.showIcon) {\n          util.removeClass(_this2.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n          _this2.bind(\"click\", _this2.switchPIP);\n        }\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        pipIcon: {\n          icon: PipIcon,\n          class: \"xg-get-pip\"\n        },\n        pipIconExit: {\n          icon: PipIconExit,\n          class: \"xg-exit-pip\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n      this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n    }\n  }, {\n    key: \"initPipEvents\",\n    value: function initPipEvents() {\n      var _this3 = this;\n      var player = this.player;\n      this.leavePIPCallback = function() {\n        var paused = player.paused;\n        util.setTimeout(_this3, function() {\n          !paused && player.mediaPlay();\n        }, 0);\n        !paused && player.mediaPlay();\n        _this3.setAttr(\"data-state\", \"normal\");\n        player.emit(PIP_CHANGE, false);\n      };\n      this.enterPIPCallback = function(e) {\n        player.emit(PIP_CHANGE, true);\n        _this3.pipWindow = e.pictureInPictureWindow;\n        _this3.setAttr(\"data-state\", \"pip\");\n      };\n      this.onWebkitpresentationmodechanged = function(e) {\n        var mode = player.media.webkitPresentationMode;\n        if (_this3.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n          player.onFullscreenChange(null, false);\n        }\n        _this3.pMode = mode;\n        if (mode === PresentationMode.PIP) {\n          _this3.enterPIPCallback(e);\n        } else if (mode === PresentationMode.INLINE) {\n          _this3.leavePIPCallback(e);\n        }\n      };\n      if (player.media) {\n        player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n        player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n        PIP2.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      }\n    }\n  }, {\n    key: \"requestPIP\",\n    value: function requestPIP() {\n      var player = this.player, playerConfig = this.playerConfig;\n      if (!this.isPIPAvailable() || this.isPip) {\n        return;\n      }\n      try {\n        var poster = playerConfig.poster;\n        if (poster) {\n          player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n        }\n        PIP2.checkWebkitSetPresentationMode(player.media) ? player.media.webkitSetPresentationMode(\"picture-in-picture\") : player.media.requestPictureInPicture();\n        return true;\n      } catch (reason) {\n        console.error(\"requestPiP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"exitPIP\",\n    value: function exitPIP() {\n      var player = this.player;\n      try {\n        if (this.isPIPAvailable() && this.isPip) {\n          PIP2.checkWebkitSetPresentationMode(player.media) ? player.media.webkitSetPresentationMode(\"inline\") : document.exitPictureInPicture();\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"exitPIP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"isPip\",\n    get: function get() {\n      var player = this.player;\n      return document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n    }\n  }, {\n    key: \"isPIPAvailable\",\n    value: function isPIPAvailable() {\n      var video = this.player.media;\n      var _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n      return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PIP2.prototype), \"destroy\", this).call(this);\n      var player = this.player;\n      player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP2.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      this.exitPIP();\n      this.unbind(\"click\", this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.showIcon || !this.isPIPAvailable()) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-pip\">\\n      <div class=\"xgplayer-icon xg-icon-disable\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PIP\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pip\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        showIcon: false\n      };\n    }\n  }, {\n    key: \"checkWebkitSetPresentationMode\",\n    value: function checkWebkitSetPresentationMode(video) {\n      return typeof video.webkitSetPresentationMode === \"function\";\n    }\n  }]);\n  return PIP2;\n}(Icon);\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nvar PlayNextIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(PlayNextIcon2, _Plugin);\n  var _super = _createSuper(PlayNextIcon2);\n  function PlayNextIcon2(options) {\n    var _this;\n    _classCallCheck(this, PlayNextIcon2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"playNext\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.idx + 1 < _this.config.urlList.length) {\n        _this.idx++;\n        _this.nextHandler(_this.config.urlList[_this.idx], _this.idx);\n        player.emit(PLAYNEXT, _this.idx + 1);\n      } else {\n        _this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    _this.idx = -1;\n    return _this;\n  }\n  _createClass(PlayNextIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n      this.initEvents();\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        playNext: Next\n      };\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n      var event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n      this.bind(event, this.playNext);\n      this.show();\n    }\n  }, {\n    key: \"changeSrc\",\n    value: function changeSrc(url) {\n      var player = this.player;\n      if (!url) {\n        return;\n      }\n      player.pause();\n      player.currentTime = 0;\n      if (player.switchURL) {\n        player.switchURL(url);\n      } else {\n        player.src = url;\n      }\n      player.config.url = url;\n      player.play();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"touchend\", \"click\"], this.playNext);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      return '\\n     <xg-icon class=\"xgplayer-playnext\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips), \"\\n     </xg-icon>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playNext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 1,\n        url: null,\n        urlList: []\n      };\n    }\n  }]);\n  return PlayNextIcon2;\n}(Plugin);\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nvar Download = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Download2, _IconPlugin);\n  var _super = _createSuper(Download2);\n  function Download2(args) {\n    var _this;\n    _classCallCheck(this, Download2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"download\", function(e) {\n      if (_this.isLock) {\n        return;\n      }\n      _this.emitUserAction(e, \"download\");\n      var url = _this.playerConfig.url;\n      var dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      var newUrl = _this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      _this.isLock = true;\n      _this.timer = window.setTimeout(function() {\n        _this.isLock = false;\n        window.clearTimeout(_this.timer);\n        _this.timer = null;\n      }, 300);\n    });\n    _this.timer = null;\n    _this.isLock = false;\n    return _this;\n  }\n  _createClass(Download2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Download2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.download);\n      this._handler = this.hook(\"click\", this.download, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this._handler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        download: DownloadSvg\n      };\n    }\n  }, {\n    key: \"getAbsoluteURL\",\n    value: function getAbsoluteURL(url) {\n      if (!url.match(/^https?:\\/\\//)) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = '<a href=\"'.concat(url, '\">x</a>');\n        url = div.firstChild.href;\n      }\n      return url;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Download2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.download);\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-download\">\\n   <div class=\"xgplayer-icon\">\\n   </div>\\n   '.concat(xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"download\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        disable: true\n      };\n    }\n  }]);\n  return Download2;\n}(Icon);\nexport { Download as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nvar ScreenShot = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(ScreenShot2, _IconPlugin);\n  var _super = _createSuper(ScreenShot2);\n  function ScreenShot2() {\n    _classCallCheck(this, ScreenShot2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ScreenShot2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.screenShot === \"boolean\") {\n        args.config.disable = !args.player.config.screenShot;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n      var config = this.config;\n      this.initSize = function(data) {\n        if (config.fitVideo) {\n          config.width = data.vWidth;\n          config.height = data.vHeight;\n        }\n      };\n      this.once(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      this.show();\n      this.onClickBtn = this.onClickBtn.bind(this);\n      this.bind([\"click\", \"touchend\"], this.onClickBtn);\n    }\n  }, {\n    key: \"saveScreenShot\",\n    value: function saveScreenShot(data, filename) {\n      var saveLink = document.createElement(\"a\");\n      saveLink.href = data;\n      saveLink.download = filename;\n      var event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      saveLink.dispatchEvent(event);\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(width, height) {\n      var canvas = document.createElement(\"canvas\");\n      var canvasCtx = canvas.getContext(\"2d\");\n      this.canvasCtx = canvasCtx;\n      this.canvas = canvas;\n      canvas.width = width || this.config.width;\n      canvas.height = height || this.config.height;\n      canvasCtx.imageSmoothingEnabled = true;\n      if (canvasCtx.imageSmoothingEnabled) {\n        canvasCtx.imageSmoothingQuality = \"high\";\n      }\n    }\n  }, {\n    key: \"onClickBtn\",\n    value: function onClickBtn(e) {\n      var _this = this;\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"shot\");\n      this.shot().then(function(data) {\n        _this.emit(SCREEN_SHOT, data);\n        _this.saveScreenShot(data, _this.config.name + _this.config.format);\n      });\n    }\n  }, {\n    key: \"shot\",\n    value: function shot(width, height) {\n      var _this2 = this;\n      var option = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n        quality: 0.92,\n        type: \"image/png\"\n      };\n      var config = this.config, player = this.player;\n      var quality = option.quality || config.quality;\n      var type = option.type || config.type;\n      return new Promise(function(resolve, reject) {\n        var canvas = null;\n        var canvasCtx;\n        if (player.media.canvas) {\n          canvas = player.media.canvas;\n        } else {\n          if (!_this2.canvas) {\n            _this2.createCanvas(width, height);\n          } else {\n            _this2.canvas.width = width || config.width;\n            _this2.canvas.height = height || config.height;\n          }\n          canvas = _this2.canvas;\n          canvasCtx = _this2.canvasCtx;\n          var mediaRatio = player.media.videoWidth / player.media.videoHeight;\n          var canvasRatio = canvas.width / canvas.height;\n          var sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n          var dx, dy, dw, dh;\n          if (mediaRatio > canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.width / mediaRatio;\n            dx = 0;\n            dy = Math.round((canvas.height - dh) / 2);\n          } else if (mediaRatio === canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.height;\n            dx = 0;\n            dy = 0;\n          } else if (mediaRatio < canvasRatio) {\n            dw = canvas.height * mediaRatio;\n            dh = canvas.height;\n            dx = Math.round((canvas.width - dw) / 2);\n            dy = 0;\n          }\n          canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n        }\n        var src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n        src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n        resolve(src);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenshotIcon: null\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n      this.off(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n      var langKey = \"SCREENSHOT\";\n      return '\\n      <xg-icon class=\"xgplayer-shot\">\\n      <div class=\"'.concat(className, '\">\\n      ').concat(this.icons.screenshotIcon ? \"\" : '<span lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span>\"), \"\\n      </div>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"screenShot\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 5,\n        quality: 0.92,\n        type: \"image/png\",\n        format: \".png\",\n        width: 600,\n        height: 337,\n        fitVideo: true,\n        disable: false,\n        name: \"screenshot\"\n      };\n    }\n  }]);\n  return ScreenShot2;\n}(Icon);\nexport { ScreenShot as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar OptionList = /* @__PURE__ */ function() {\n  function OptionList2(args) {\n    _classCallCheck(this, OptionList2);\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, \"xg-options-list xg-list-slide-scroll \".concat(this.config.className));\n    args.root.appendChild(this.root);\n    var maxHeight = this.config.maxHeight;\n    if (maxHeight) {\n      this.setStyle({\n        maxHeight\n      });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    var eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  _createClass(OptionList2, [{\n    key: \"renderItemList\",\n    value: function renderItemList(data) {\n      var _this = this;\n      var config = this.config, root = this.root;\n      if (data) {\n        config.data = data;\n      } else {\n        data = config.data;\n      }\n      if (config.style) {\n        Object.keys(config.style).map(function(key) {\n          root.style[key] = config[key];\n        });\n      }\n      if (data.length > 0) {\n        this.attrKeys = Object.keys(data[0]);\n      }\n      this.root.innerHTML = \"\";\n      data.map(function(item, index) {\n        var className = item.selected ? \"option-item selected\" : \"option-item\";\n        item[\"data-index\"] = index;\n        _this.root.appendChild(util.createDom(\"li\", \"<span>\".concat(item.showText, \"</span>\"), item, className));\n      });\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e) {\n      if (!e.delegateTarget) {\n        e.delegateTarget = e.target;\n      }\n      var target = e.delegateTarget;\n      if (target && util.hasClass(target, \"selected\")) {\n        return false;\n      }\n      var changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n      var curSelected = this.root.querySelector(\".selected\");\n      util.addClass(target, \"selected\");\n      curSelected && util.removeClass(curSelected, \"selected\");\n      changeCallback(e, {\n        from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n        to: this.getAttrObj(target, this.attrKeys)\n      });\n    }\n  }, {\n    key: \"getAttrObj\",\n    value: function getAttrObj(dom, keys) {\n      if (!dom || !keys) {\n        return {};\n      }\n      var obj = {};\n      keys.map(function(key) {\n        obj[key] = dom.getAttribute(key);\n      });\n      var index = dom.getAttribute(\"data-index\");\n      if (index) {\n        obj.index = Number(index);\n      }\n      return obj;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"active\");\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).forEach(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._delegates) {\n        this._delegates.map(function(item) {\n          item.destroy && item.destroy();\n        });\n        this._delegates = null;\n      }\n      this.root.innerHTML = null;\n      this.parent.removeChild(this.root);\n      this.root = null;\n    }\n  }]);\n  return OptionList2;\n}();\nexport { OptionList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nvar LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nvar TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nvar IS_MOBILE = sniffer.device === \"mobile\";\nvar OptionsIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(OptionsIcon2, _Plugin);\n  var _super = _createSuper(OptionsIcon2);\n  function OptionsIcon2(args) {\n    var _this;\n    _classCallCheck(this, OptionsIcon2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n      _this.switchActiveState(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"switchActiveState\", function(e) {\n      e.stopPropagation();\n      var toggleMode = _this.config.toggleMode;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        _this.toggle(!_this.isActive);\n      } else {\n        _this.toggle(true);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onLeave\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n      if (_this.config.listType !== LIST_TYPES.SIDE) {\n        _this.isActive && _this.toggle(false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListEnter\", function(e) {\n      _this.enterType = 2;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListLeave\", function(e) {\n      _this.enterType = 0;\n      _this.isActive && _this.toggle(false);\n    });\n    _this.isIcons = false;\n    _this.isActive = false;\n    _this.curValue = null;\n    _this.curIndex = 0;\n    return _this;\n  }\n  _createClass(OptionsIcon2, [{\n    key: \"updateLang\",\n    value: function updateLang(value) {\n      this.renderItemList(this.config.list, this.curIndex);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var config = this.config;\n      this.initIcons();\n      if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n        config.listType = LIST_TYPES.SIDE;\n      }\n      config.hidePortrait && util.addClass(this.root, \"portrait\");\n      this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], function() {\n        _this2._resizeList();\n      });\n      this.once(CANPLAY, function() {\n        if (config.list && config.list.length > 0) {\n          _this2.renderItemList(config.list);\n          _this2.show();\n        }\n      });\n      IS_MOBILE && this.on(PLAYER_FOCUS, function() {\n        if (!_this2.isActive) {\n          return;\n        }\n        _this2.optionsList && _this2.optionsList.hide();\n        _this2.isActive = false;\n      });\n      if (IS_MOBILE) {\n        config.toggleMode = TOGGLE_MODES.CLICK;\n        this.activeEvent = \"touchend\";\n      } else {\n        this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n      }\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.bind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.bind(this.activeEvent, this.onEnter);\n        this.bind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.bind(\"click\", this.onIconClick);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var _this3 = this;\n      var icons = this.icons;\n      var _c = Object.keys(icons);\n      var _isIcons = false;\n      if (_c.length > 0) {\n        _c.forEach(function(key) {\n          _this3.appendChild(\".xgplayer-icon\", icons[key]);\n          !_isIcons && (_isIcons = icons[key]);\n        });\n        this.isIcons = _isIcons;\n      }\n      if (_isIcons) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n      util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"getTextByLang\",\n    value: function getTextByLang(item, key, lang) {\n      if (item === void 0) {\n        return \"\";\n      }\n      var list = this.config.list;\n      !lang && (lang = this.player.lang);\n      key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n      typeof item === \"number\" && (item = list[item]);\n      try {\n        if (_typeof(item[key]) === \"object\") {\n          return item[key][lang] || item[key].en;\n        } else {\n          return item[key];\n        }\n      } catch (err) {\n        console.warn(err);\n        return \"\";\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isActive) {\n      if (isActive === this.isActive)\n        return;\n      var controls = this.player.controls;\n      var listType = this.config.listType;\n      if (isActive) {\n        listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n        this.optionsList && this.optionsList.show();\n      } else {\n        listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n        this.optionsList && this.optionsList.hide();\n      }\n      this.isActive = isActive;\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      e.stopPropagation();\n      var _this$config = this.config, listType = _this$config.listType, list = _this$config.list;\n      this.curIndex = data.to.index;\n      this.curItem = list[this.curIndex];\n      this.changeCurrentText();\n      var isItemClickHide = this.config.isItemClickHide;\n      (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n    }\n  }, {\n    key: \"onIconClick\",\n    value: function onIconClick(e) {\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      if (!curItem)\n        return;\n      this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList(itemList, curIndex) {\n      var _this4 = this;\n      var config = this.config, optionsList = this.optionsList, player = this.player;\n      if (typeof curIndex === \"number\") {\n        this.curIndex = curIndex;\n        this.curItem = config.list[curIndex];\n      }\n      if (optionsList) {\n        optionsList.renderItemList(itemList);\n        this.changeCurrentText();\n        return;\n      }\n      var options = {\n        config: {\n          data: itemList || [],\n          className: getListClassName(config.listType, config.position),\n          onItemClick: function onItemClick(e, data) {\n            _this4.onItemClick(e, data);\n          }\n        },\n        root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n      };\n      if (this.config.isShowIcon) {\n        var _this$player$root$get = this.player.root.getBoundingClientRect(), height = _this$player$root$get.height;\n        var _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n        if (_maxH && config.heightLimit) {\n          options.config.maxHeight = \"\".concat(_maxH, \"px\");\n        }\n        this.optionsList = new OptionList(options);\n        this.changeCurrentText();\n        this.show();\n      }\n      this._resizeList();\n    }\n  }, {\n    key: \"_resizeList\",\n    value: function _resizeList() {\n      if (!this.config.heightLimit) {\n        return;\n      }\n      var _this$player$root$get2 = this.player.root.getBoundingClientRect(), height = _this$player$root$get2.height;\n      var _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      this.optionsList && this.optionsList.setStyle({\n        maxHeight: \"\".concat(_maxH, \"px\")\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var config = this.config;\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.unbind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.unbind(this.activeEvent, this.onEnter);\n        this.unbind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.unbind(\"click\", this.onIconClick);\n      if (this.optionsList) {\n        this.optionsList.destroy();\n        this.optionsList = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.isShowIcon) {\n        return;\n      }\n      return '<xg-icon class=\"xg-options-icon '.concat(this.config.className || \"\", '\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n   </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"optionsIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 100,\n        list: [],\n        listType: \"middle\",\n        listStyle: {},\n        hidePortrait: true,\n        isShowIcon: false,\n        isItemClickHide: true,\n        toggleMode: TOGGLE_MODES.HOVER,\n        heightLimit: true\n      };\n    }\n  }]);\n  return OptionsIcon2;\n}(Plugin);\nexport { OptionsIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar DefinitionIcon = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(DefinitionIcon2, _OptionsIcon);\n  var _super = _createSuper(DefinitionIcon2);\n  function DefinitionIcon2(args) {\n    var _this;\n    _classCallCheck(this, DefinitionIcon2);\n    _this = _super.call(this, args);\n    _this.curTime = 0;\n    _this.isPaused = true;\n    return _this;\n  }\n  _createClass(DefinitionIcon2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var list = args.config.list;\n      if (Array.isArray(list) && list.length > 0) {\n        args.config.list = list.map(function(item) {\n          if (!item.text && item.name) {\n            item.text = item.name;\n          }\n          if (!item.text) {\n            item.text = item.definition;\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"afterCreate\", this).call(this);\n      this.on(\"resourceReady\", function(list) {\n        _this2.changeDefinitionList(list);\n      });\n      this.on(DEFINITION_CHANGE, function(data) {\n        _this2.renderItemList(_this2.config.list, data.to);\n      });\n      if (this.player.definitionList.length < 2) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"initDefinition\",\n    value: function initDefinition() {\n      var _this$config = this.config, list = _this$config.list, defaultDefinition = _this$config.defaultDefinition;\n      if (list.length > 0) {\n        var to = null;\n        list.map(function(item) {\n          if (item.definition === defaultDefinition) {\n            to = item;\n          }\n        });\n        if (!to) {\n          to = list[0];\n        }\n        this.changeDefinition(to);\n      }\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.list || [];\n      var to = arguments.length > 1 ? arguments[1] : void 0;\n      var targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n      if (to) {\n        list.forEach(function(item) {\n          item.selected = false;\n        });\n      }\n      var curIndex = 0;\n      var items = list.map(function(item, index) {\n        var showItem = _objectSpread2(_objectSpread2({}, item), {}, {\n          showText: _this3.getTextByLang(item) || item.definition,\n          selected: false\n        });\n        if (item.selected || item.definition && item.definition == targetDef) {\n          showItem.selected = true;\n          curIndex = index;\n        }\n        return showItem;\n      });\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeDefinitionList\",\n    value: function changeDefinitionList(list) {\n      if (!Array.isArray(list)) {\n        return;\n      }\n      this.config.list = list.map(function(item) {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n      this.renderItemList();\n      this.config.list.length < 2 ? this.hide() : this.show();\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      this.player.changeDefinition(to, from);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      var definitionList = this.player.definitionList;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"onItemClick\", this).apply(this, arguments);\n      this.emitUserAction(e, \"change_definition\", {\n        from: data.from,\n        to: data.to\n      });\n      for (var i = 0; i < definitionList.length; i++) {\n        if (data.to && definitionList[i].definition === data.to.definition) {\n          data.to.url = definitionList[i].url;\n        }\n        if (data.from && definitionList[i].definition === data.from.definition) {\n          data.from.url = definitionList[i].url;\n        }\n      }\n      this.player.changeDefinition(data.to, data.from);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"definition\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        list: [],\n        defaultDefinition: \"\",\n        disable: false,\n        hidePortrait: false,\n        className: \"xgplayer-definition\",\n        isShowIcon: true\n      });\n    }\n  }]);\n  return DefinitionIcon2;\n}(OptionsIcon);\nexport { DefinitionIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar PlaybackRate = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(PlaybackRate2, _OptionsIcon);\n  var _super = _createSuper(PlaybackRate2);\n  function PlaybackRate2(args) {\n    var _this;\n    _classCallCheck(this, PlaybackRate2);\n    _this = _super.call(this, args);\n    _this.curRate = 1;\n    return _this;\n  }\n  _createClass(PlaybackRate2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var playbackRate = args.player.config.playbackRate;\n      var list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n      if (Array.isArray(list)) {\n        args.config.list = list.map(function(item) {\n          if (typeof item === \"number\") {\n            item = {\n              rate: item,\n              text: \"\".concat(item, \"x\")\n            };\n          } else if (!item.text && item.rate) {\n            item.text = \"\".concat(item.rate, \"x\");\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"afterCreate\", this).call(this);\n      this.on(RATE_CHANGE, function() {\n        if (_this2.curValue === _this2.player.playbackRate) {\n          return;\n        }\n        _this2.renderItemList();\n      });\n      this.renderItemList();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length === 0) {\n        return;\n      }\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"onItemClick\", this).apply(this, arguments);\n      var target = e.delegateTarget;\n      var rate = Number(target.getAttribute(\"rate\"));\n      if (!rate || rate === this.curValue) {\n        return false;\n      }\n      var props = {\n        playbackRate: {\n          from: this.player.playbackRate,\n          to: rate\n        }\n      };\n      this.emitUserAction(e, \"change_rate\", {\n        props\n      });\n      this.curValue = rate;\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var playbackRate = this.player.playbackRate || 1;\n      this.curValue = playbackRate;\n      var curIndex = -1;\n      var items = this.config.list.map(function(item, index) {\n        var itemInfo = {\n          rate: item.rate\n        };\n        if (itemInfo.rate === playbackRate) {\n          itemInfo.selected = true;\n          curIndex = index;\n        }\n        itemInfo.showText = _this3.getTextByLang(item);\n        return itemInfo;\n      });\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      var _text = \"\";\n      if (!curItem || this.curIndex < 0) {\n        _text = \"\".concat(this.player.playbackRate, \"x\");\n      } else {\n        _text = this.getTextByLang(curItem, \"iconText\");\n      }\n      this.find(\".icon-text\").innerHTML = _text;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playbackRate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 4,\n        list: [2, 1.5, 1, 0.75, 0.5],\n        className: \"xgplayer-playbackrate\",\n        isShowIcon: true,\n        hidePortrait: false\n      });\n    }\n  }]);\n  return PlaybackRate2;\n}(OptionsIcon);\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nvar CssFullScreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(CssFullScreen2, _IconPlugin);\n  var _super = _createSuper(CssFullScreen2);\n  function CssFullScreen2() {\n    _classCallCheck(this, CssFullScreen2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CssFullScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.cssFullscreen === \"boolean\") {\n        args.config.disable = !args.player.config.cssFullscreen;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      if (this.config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      this.initIcons();\n      this.on(CSS_FULLSCREEN_CHANGE, function(isCssfullScreen) {\n        _this.animate(isCssfullScreen);\n      });\n      this.btnClick = this.btnClick.bind(this);\n      this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      var contentIcon = this.find(\".xgplayer-icon\");\n      contentIcon.appendChild(icons.cssFullscreen);\n      contentIcon.appendChild(icons.exitCssFullscreen);\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var isCssfullScreen = this.player.isCssfullScreen;\n      this.emitUserAction(e, \"switch_cssfullscreen\", {\n        cssfullscreen: isCssfullScreen\n      });\n      if (!isCssfullScreen) {\n        this.player.getCssFullscreen();\n      } else {\n        this.player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      if (!this.root) {\n        return;\n      }\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      this.switchTips(isFullScreen);\n    }\n  }, {\n    key: \"switchTips\",\n    value: function switchTips(isFullScreen) {\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        cssFullscreen: {\n          icon: CssFullSceenSvg,\n          class: \"xg-get-cssfull\"\n        },\n        exitCssFullscreen: {\n          icon: ExitCssFullSceenSvg,\n          class: \"xg-exit-cssfull\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    `.concat(xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"cssFullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        target: null\n      };\n    }\n  }]);\n  return CssFullScreen2;\n}(Icon);\nexport { CssFullScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar ErrorPlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ErrorPlugin2, _Plugin);\n  var _super = _createSuper(ErrorPlugin2);\n  function ErrorPlugin2() {\n    _classCallCheck(this, ErrorPlugin2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ErrorPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.onError = this.hook(\"showError\", this.handleError);\n      this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n      this.on(ERROR, function(error) {\n        _this.onError(error);\n      });\n    }\n  }, {\n    key: \"errorRetry\",\n    value: function errorRetry(e) {\n      this.emitUserAction(e, \"error_retry\", {});\n      this.player.retry();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var error = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      var player = this.player;\n      var type = error.errorType;\n      var errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n      if (!errorNote) {\n        switch (type) {\n          case \"decoder\":\n            errorNote = this.i18n.MEDIA_ERR_DECODE;\n            break;\n          case \"network\":\n            errorNote = this.i18n.MEDIA_ERR_NETWORK;\n            break;\n          default:\n            errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n        }\n      }\n      this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n      this.find(\".xgplayer-error-tips\").innerHTML = \"\".concat(this.i18n.REFRESH_TIPS, '<span class=\"xgplayer-error-refresh\">').concat(this.i18n.REFRESH, \"</span>\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-error class=\"xgplayer-error\">\\n      <div class=\"xgplayer-errornote\">\\n       <span class=\"xgplayer-error-text\"></span>\\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\\n      </div>\\n    </xg-error>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"error\";\n    }\n  }]);\n  return ErrorPlugin2;\n}(Plugin);\nexport { ErrorPlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Prompt = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Prompt2, _Plugin);\n  var _super = _createSuper(Prompt2);\n  function Prompt2() {\n    _classCallCheck(this, Prompt2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Prompt2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.intervalId = 0;\n      this.customConfig = null;\n      this.bind(\".highlight\", [\"click\", \"touchend\"], function(e) {\n        if (_this.config.onClick || _this.customOnClick) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this.customOnClick ? _this.customOnClick(e) : _this.config.onClick(e);\n        }\n      });\n      this.player.showPrompt = function() {\n        _this.show.apply(_this, arguments);\n      };\n      this.player.hidePrompt = function() {\n        _this.hide();\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(detail) {\n      var _this3 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var onClick = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n      };\n      if (!detail) {\n        return;\n      }\n      this.customOnClick = onClick;\n      var interval = this.config.interval;\n      if (this.intervalId) {\n        clearTimeout(this.intervalId);\n        this.intervalId = null;\n      }\n      util.addClass(this.root, \"show\");\n      config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n      if (typeof detail === \"string\") {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n      } else {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = \"\".concat(detail.text || \"\") + \"\".concat(detail.highlight ? '<i class=\"highlight\">'.concat(detail.highlight, \"</i>\") : \"\");\n      }\n      config.style && this.setStyle(config.style);\n      var autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n      if (autoHide) {\n        var hideinterval = config.interval || interval;\n        this.intervalId = setTimeout(function() {\n          _this3.hide();\n        }, hideinterval);\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n      util.removeClass(this.root, \"arrow\");\n      this.root.removeAttribute(\"style\");\n      this.customOnClick = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-prompt class=\"xgplayer-prompt '.concat(STATE_CLASS.CONTROLS_FOLLOW, '\">\\n    <span class=\"xgplayer-prompt-detail\"></span>\\n    </xg-prompt>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"prompt\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        interval: 3e3,\n        style: {},\n        mode: \"arrow\",\n        autoHide: true,\n        detail: {\n          text: \"\",\n          highlight: \"\"\n        },\n        onClick: function onClick() {\n        }\n      };\n    }\n  }]);\n  return Prompt2;\n}(Plugin);\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map(function(key) {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nvar APIS = {\n  _updateDotDom: function _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots: function initDots() {\n    var _this = this;\n    this._ispots.map(function(item) {\n      _this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot: function createDot(iSpot) {\n    var isNew = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    var className = \"xgspot_\".concat(iSpot.id, \" xgplayer-spot\");\n    ret.isMini && (className += \" mini\");\n    var _t = iSpot.template ? '<div class=\"xgplayer-spot-pop\">'.concat(iSpot.template, \"</div>\") : \"\";\n    var dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot: function findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    var ret = this._ispots.filter(function(cur, index) {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot: function updateDot(iSpot) {\n    var needShow = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map(function(key) {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    var dotDom = progress.find('xg-spot[data-id=\"'.concat(iSpot.id, '\"]'));\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot: function deleteDot(id) {\n    var _ispots = this._ispots;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var del = [];\n    for (var i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    var len = del.length;\n    for (var _i = len - 1; _i >= 0; _i--) {\n      _ispots.splice(del[_i], 1);\n      if (this.ispotsInit) {\n        var dotDom = progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots: function deleteAllDots() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (var i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots: function updateAllDots() {\n    var _this2 = this;\n    var iSpots = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    var len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (var i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach(function(ispot, index) {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", \"\".concat(ispot.id));\n        _this2._ispots.push(ispot);\n        _this2.updateDot(ispot);\n      } else {\n        _this2.createDot(ispot);\n      }\n    });\n  },\n  positionDots: function positionDots() {\n    var _this3 = this;\n    var _ispots = this._ispots, playerSize = this.playerSize;\n    var sizeInfo = this.player.sizeInfo;\n    var progress = this.player.plugins.progress;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      dotDom && _this3.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot: function positionDot(dotDom, id) {\n    var _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    var pRect = this.playerSize;\n    var rect1 = dotDom.getBoundingClientRect();\n    var rect = _pop.getBoundingClientRect();\n    var _left = rect1.left - pRect.left;\n    var _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      var t = rect.width / 2 - _left;\n      _pop.style.left = \"\".concat(t, \"px\");\n    } else if (_diff < rect.width / 2) {\n      var _t2 = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = \"\".concat(_t2, \"px\");\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration: function updateDuration() {\n    var _this4 = this;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var _ispots = this._ispots;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      _this4._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom: function getAllDotsDom() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return [];\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom: function getDotDom(id) {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    return progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n  }\n};\nfunction initDotsAPI(plugin) {\n  var config = plugin.config, player = plugin.player;\n  Object.keys(APIS).map(function(item) {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  var ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map(function(item) {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, function() {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, function() {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nvar CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nvar ProgressPreview = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ProgressPreview2, _Plugin);\n  var _super = _createSuper(ProgressPreview2);\n  function ProgressPreview2(args) {\n    var _this;\n    _classCallCheck(this, ProgressPreview2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMousemove\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && _this.config.isHideThumbnailHover) {\n        _this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMousedown\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseup\", function(e) {\n      if (!_this.isDrag) {\n        return;\n      }\n      var progress = _this.player.plugins.progress;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDotMouseLeave\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      _this._curDot.removeEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      _this.blurDot(e.target);\n      _this._curDot = null;\n      var progress = _this.player.plugins.progress;\n      progress && progress.enableBlur();\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onProgressMouseOver\", function(data, e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !_this._curDot) {\n        _this._curDot = e.target;\n        _this.focusDot(e.target);\n        if (_this._curDot.children.length > 0) {\n          _this.hide();\n        }\n        var progress = _this.player.plugins.progress;\n        progress && progress.disableBlur();\n        _this._curDot.addEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      }\n    });\n    _this._ispots = [];\n    _this.videoPreview = null;\n    _this.videothumbnail = null;\n    _this.thumbnail = null;\n    _this.timeStr = \"\";\n    _this._state = {\n      now: 0,\n      f: false\n    };\n    return _this;\n  }\n  _createClass(ProgressPreview2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._curDot = null;\n      this.handlerSpotClick = this.hook(\"spotClick\", function(_event, data) {\n        if (data.seekTime) {\n          _this2.player.seek(data.seekTime);\n        }\n      });\n      this.transformTimeHook = this.hook(\"transformTime\", function(time) {\n        _this2.setTimeContent(util.format(time));\n      });\n      initDotsAPI(this);\n      this.on(DURATION_CHANGE, function() {\n        _this2.show();\n      });\n      if (this.config.disable) {\n        this.disable();\n      }\n      this.extTextRoot = this.find(\".xg-spot-ext-text\");\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var player = this.player;\n      if (!player.plugins.progress) {\n        return;\n      }\n      this.previewLine = this.find(\".xg-spot-line\");\n      this.timePoint = this.find(\".xgplayer-progress-point\");\n      this.timeText = this.find(\".xg-spot-time\");\n      this.tipText = this.find(\".spot-inner-text\");\n      this._hasThumnail = false;\n      this.registerThumbnail();\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this4 = this;\n      var progress = this.player.plugins.progress;\n      if (!progress) {\n        return;\n      }\n      Object.keys(CALLBACK_MAP).map(function(key) {\n        _this4[CALLBACK_MAP[key]] = _this4[CALLBACK_MAP[key]].bind(_this4);\n        progress.addCallBack(key, _this4[CALLBACK_MAP[key]]);\n      });\n      if (sniffer.device === \"mobile\")\n        return;\n      this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      var fun = this.hook(\"previewClick\", function() {\n      });\n      this.handlerPreviewClick = function(e) {\n        e.stopPropagation();\n        fun(parseInt(_this4._state.now * 1e3, 10) / 1e3, e);\n      };\n      this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"onProgressMove\",\n    value: function onProgressMove(data, e) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n    }\n  }, {\n    key: \"onProgressDragStart\",\n    value: function onProgressDragStart(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = true;\n      this.videoPreview && util.addClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressDragEnd\",\n    value: function onProgressDragEnd(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = false;\n      this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressClick\",\n    value: function onProgressClick(data, e) {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\")) {\n        e.stopPropagation();\n        e.preventDefault();\n        [\"time\", \"id\", \"text\"].map(function(key) {\n          data[key] = e.target.getAttribute(\"data-\".concat(key));\n        });\n        data.time && (data.time = Number(data.time));\n        this.handlerSpotClick(e, data);\n      }\n    }\n  }, {\n    key: \"updateLinePos\",\n    value: function updateLinePos(offset, cwidth) {\n      var root = this.root, previewLine = this.previewLine, player = this.player, config = this.config;\n      var mode = player.controls.mode;\n      var isflex = mode === \"flex\";\n      var lwidth = root.getBoundingClientRect().width;\n      if (!lwidth && this._hasThumnail) {\n        return;\n      }\n      lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n      var x = offset - lwidth / 2;\n      var _t;\n      if (x < 0 && !isflex) {\n        x = 0;\n        _t = offset - lwidth / 2;\n      } else if (x > cwidth - lwidth && !isflex) {\n        _t = x - (cwidth - lwidth);\n        x = cwidth - lwidth;\n      } else {\n        _t = 0;\n      }\n      _t !== void 0 && (previewLine.style.transform = \"translateX(\".concat(_t.toFixed(2), \"px)\"));\n      root.style.transform = \"translateX(\".concat(x.toFixed(2), \"px) translateZ(0)\");\n    }\n  }, {\n    key: \"updateTimeText\",\n    value: function updateTimeText(timeStr) {\n      var timeText = this.timeText, timePoint = this.timePoint;\n      timeText.innerHTML = timeStr;\n      !this.thumbnail && (timePoint.innerHTML = timeStr);\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(offset, cwidth, time, e) {\n      var root = this.root, config = this.config, _state = this._state;\n      if (!root) {\n        return;\n      }\n      _state.now = time;\n      this.transformTimeHook(time);\n      var timeStr = this.timeStr;\n      if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n        this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n        this.focusDot(e.target);\n        _state.f = true;\n        config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n      } else if (config.defaultText) {\n        _state.f = false;\n        this.showTips(config.defaultText, true, timeStr);\n      } else {\n        _state.f = false;\n        this.hideTips(\"\");\n      }\n      this.updateTimeText(timeStr);\n      this.updateThumbnails(_state.now);\n      this.updateLinePos(offset, cwidth);\n    }\n  }, {\n    key: \"setTimeContent\",\n    value: function setTimeContent(str) {\n      this.timeStr = str;\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player, videoPreview = this.videoPreview, config = this.config;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n        var rect = videoPreview && videoPreview.getBoundingClientRect();\n        this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var thumbnailConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      if (sniffer.device === \"mobile\") {\n        return;\n      }\n      var player = this.player, config = this.config;\n      var thumbnail = player.getPlugin(\"thumbnail\");\n      if (thumbnail) {\n        thumbnail.setConfig(thumbnailConfig);\n      }\n      if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n        util.addClass(this.root, \"short-line no-thumbnail\");\n        return;\n      } else {\n        util.removeClass(this.root, \"short-line no-thumbnail\");\n      }\n      if (config.mode === \"short\") {\n        util.addClass(this.root, \"short-line\");\n      }\n      this._hasThumnail = true;\n      var tRoot = this.find(\".xg-spot-thumbnail\");\n      this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n      if (config.isShowCoverPreview) {\n        this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n        player.root.appendChild(this.videoPreview);\n        this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n      }\n      this.updateThumbnails(0);\n    }\n  }, {\n    key: \"calcuPosition\",\n    value: function calcuPosition(time, duration) {\n      var progress = this.player.plugins.progress;\n      var player = this.player;\n      var totalWidth = progress.root.getBoundingClientRect().width;\n      var widthPerSeconds = player.duration / totalWidth * 6;\n      if (time + duration > player.duration) {\n        duration = player.duration - time;\n      }\n      time / player.duration * 100;\n      duration / player.duration;\n      return {\n        left: time / player.duration * 100,\n        width: duration / player.duration * 100,\n        isMini: duration < widthPerSeconds\n      };\n    }\n  }, {\n    key: \"showDot\",\n    value: function showDot(id) {\n      var dot = this.findDot(id);\n      if (dot) {\n        var rect = this.root.getBoundingClientRect();\n        var width = rect.width;\n        var offset = dot.time / this.player.duration * width;\n        this.updatePosition(offset, width, dot.time);\n      }\n    }\n  }, {\n    key: \"focusDot\",\n    value: function focusDot(target, id) {\n      if (!target) {\n        return;\n      }\n      if (!id) {\n        id = target.getAttribute(\"data-id\");\n      }\n      util.addClass(target, \"active\");\n      this._activeDotId = id;\n    }\n  }, {\n    key: \"blurDot\",\n    value: function blurDot(target) {\n      if (!target) {\n        var id = this._activeDotId;\n        target = this.getDotDom(id);\n      }\n      if (!target) {\n        return;\n      }\n      util.removeClass(target, \"active\");\n      this._activeDotId = null;\n    }\n  }, {\n    key: \"showTips\",\n    value: function showTips(text, isDefault) {\n      var timeStr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      util.addClass(this.root, \"no-timepoint\");\n      if (!text) {\n        return;\n      }\n      util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n      if (isDefault && this.config.mode === \"production\") {\n        util.addClass(this.root, \"product\");\n        this.tipText.textContent = text;\n      } else {\n        util.removeClass(this.root, \"product\");\n        this.tipText.textContent = this._hasThumnail ? text : \"\".concat(timeStr, \" \").concat(text);\n      }\n    }\n  }, {\n    key: \"hideTips\",\n    value: function hideTips() {\n      util.removeClass(this.root, \"no-timepoint\");\n      this.tipText.textContent = \"\";\n      util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n      util.removeClass(this.root, \"product\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var config = this.config, playerConfig = this.playerConfig;\n      this.config.disable = false;\n      this.show();\n      if (!this.thumbnail && config.isShowThumbnail) {\n        this.registerThumbnail(playerConfig.thumbnail || {});\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      var progress = this.player.plugins.progress;\n      progress && Object.keys(CALLBACK_MAP).map(function(key) {\n        progress.removeCallBack(key, _this5[CALLBACK_MAP[key]]);\n      });\n      this.videothumbnail = null;\n      this.thumbnail = null;\n      this.videoPreview && this.player.root.removeChild(this.videoPreview);\n      this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n        return \"\";\n      }\n      return '<div class=\"xg-spot-info hide '.concat(this.config.mode === \"short\" ? \"short-line\" : \"\", '\">\\n      <div class=\"xg-spot-content\">\\n        <div class=\"xg-spot-thumbnail\">\\n          <span class=\"xg-spot-time\"></span>\\n        </div>\\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\\n      </div>\\n      <div class=\"xgplayer-progress-point\">00:00</div>\\n      <div class=\"xg-spot-ext-text\"></div>\\n      <div class=\"xg-spot-line\"></div>\\n    </div>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progresspreview\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        miniWidth: 6,\n        ispots: [],\n        defaultText: \"\",\n        isFocusDots: true,\n        isHideThumbnailHover: true,\n        isShowThumbnail: true,\n        isShowCoverPreview: false,\n        mode: \"\",\n        disable: false,\n        width: 160,\n        height: 90\n      };\n    }\n  }]);\n  return ProgressPreview2;\n}(Plugin);\nexport { ProgressPreview as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Thumbnail = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Thumbnail2, _BasePlugin);\n  var _super = _createSuper(Thumbnail2);\n  function Thumbnail2(args) {\n    var _this;\n    _classCallCheck(this, Thumbnail2);\n    _this = _super.call(this, args);\n    _this.ratio = 1;\n    _this.interval = null;\n    _this._preloadMark = {};\n    return _this;\n  }\n  _createClass(Thumbnail2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.usable) {\n        this.initThumbnail();\n      }\n      this.on([DURATION_CHANGE], function() {\n        var _this2$config = _this2.config, pic_num = _this2$config.pic_num, interval = _this2$config.interval;\n        _this2.usable && (_this2.interval = interval > 0 ? interval : Math.round(_this2.player.duration * 1e3 / pic_num) / 1e3);\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      var keys = Object.keys(config);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this3.config[key] = config[key];\n      });\n      this.usable && this.initThumbnail();\n    }\n  }, {\n    key: \"usable\",\n    get: function get() {\n      var _this$config = this.config, urls = _this$config.urls, pic_num = _this$config.pic_num;\n      return urls && urls.length > 0 && pic_num > 0;\n    }\n  }, {\n    key: \"initThumbnail\",\n    value: function initThumbnail() {\n      var _this$config2 = this.config, width = _this$config2.width, height = _this$config2.height, pic_num = _this$config2.pic_num, interval = _this$config2.interval;\n      this.ratio = width / height * 100;\n      this.interval = interval || Math.round(this.player.duration / pic_num);\n      this._preloadMark = {};\n    }\n  }, {\n    key: \"getUrlByIndex\",\n    value: function getUrlByIndex(index) {\n      return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      var _this4 = this;\n      if (this._preloadMark[index]) {\n        return;\n      }\n      var urls = this.config.urls;\n      var len = urls.length;\n      var arr = [];\n      index > 0 && arr.push(index - 1);\n      arr.push(index);\n      index > 0 && index < len - 1 && arr.push(index + 1);\n      arr.map(function(item) {\n        if (!_this4._preloadMark[item] && item >= 0 && item < len) {\n          _this4._preloadMark[item] = 1;\n          util.preloadImg(urls[item], function() {\n            _this4._preloadMark[item] = 2;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(now) {\n      var containerWidth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var containerHeight = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var _this$config3 = this.config, pic_num = _this$config3.pic_num, row = _this$config3.row, col = _this$config3.col, width = _this$config3.width, height = _this$config3.height;\n      this.interval = Math.round(this.player.duration / pic_num);\n      var index = Math.ceil(now / this.interval);\n      index = index > pic_num ? pic_num : index;\n      var urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n      var indexInPage = index - urlIndex * (col * row);\n      var rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n      var colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n      var swidth = 0;\n      var sHeight = 0;\n      if (containerWidth && containerHeight) {\n        var per = containerWidth / containerHeight;\n        if (per < width / height) {\n          sHeight = containerHeight;\n          swidth = sHeight * (width / height);\n        } else {\n          swidth = containerWidth;\n          sHeight = swidth / (width / height);\n        }\n      } else if (!containerHeight) {\n        swidth = containerWidth || width;\n        sHeight = swidth / (width / height);\n      } else if (!containerWidth) {\n        sHeight = containerHeight || height;\n        swidth = sHeight * (width / height);\n      }\n      var url = this.getUrlByIndex(urlIndex);\n      return {\n        urlIndex,\n        rowIndex,\n        colIndex,\n        url,\n        height: sHeight,\n        width: swidth,\n        style: {\n          backgroundImage: \"url(\".concat(url, \")\"),\n          backgroundSize: \"\".concat(swidth * col, \"px auto\"),\n          backgroundPosition: \"-\".concat(colIndex * swidth, \"px -\").concat(rowIndex * sHeight, \"px\"),\n          width: \"\".concat(swidth, \"px\"),\n          height: \"\".concat(sHeight, \"px\")\n        }\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(dom, now) {\n      var containerWidth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var containerHeight = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var customStyle = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n      var _this$config4 = this.config, pic_num = _this$config4.pic_num, urls = _this$config4.urls;\n      if (pic_num <= 0 || !urls || urls.length === 0) {\n        return;\n      }\n      var pos = this.getPosition(now, containerWidth, containerHeight);\n      this.preload(pos.urlIndex);\n      Object.keys(pos.style).map(function(key) {\n        dom.style[key] = pos.style[key];\n      });\n      Object.keys(customStyle).map(function(key) {\n        dom.style[key] = customStyle[key];\n      });\n    }\n  }, {\n    key: \"changeConfig\",\n    value: function changeConfig() {\n      var newConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      this.setConfig(newConfig);\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(root, className) {\n      var dom = util.createDom(\"xg-thumbnail\", \"\", {}, \"thumbnail \".concat(className));\n      root && root.appendChild(dom);\n      return dom;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"thumbnail\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShow: false,\n        urls: [],\n        pic_num: 0,\n        col: 0,\n        row: 0,\n        height: 90,\n        width: 160,\n        scale: 1,\n        className: \"\",\n        hidePortrait: false\n      };\n    }\n  }]);\n  return Thumbnail2;\n}(Plugin);\nexport { Thumbnail as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? \"background:\".concat(color, \";\") : \"\";\n}\nvar MiniProgress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniProgress2, _Plugin);\n  var _super = _createSuper(MiniProgress2);\n  function MiniProgress2() {\n    _classCallCheck(this, MiniProgress2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniProgress2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!duration || !this.root) {\n        return;\n      }\n      if (data.cached) {\n        this.find(\"xg-mini-progress-cache\").style.width = \"\".concat(data.cached / duration * 100, \"%\");\n      }\n      if (data.played) {\n        this.find(\"xg-mini-progress-played\").style.width = \"\".concat(data.played / duration * 100, \"%\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.playerConfig.progress || !this.playerConfig.miniprogress) {\n        return;\n      }\n      var commonStyle = this.playerConfig.commonStyle;\n      var _style = {\n        cached: getBgColor(commonStyle.cachedColor),\n        played: getBgColor(commonStyle.playedColor),\n        progress: getBgColor(commonStyle.progressColor)\n      };\n      return '<xg-mini-progress class=\"xg-mini-progress\" style=\"'.concat(_style.progress, '\">\\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"').concat(_style.cached, '\"></xg-mini-progress-cache>\\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"').concat(_style.played, '\"></xg-mini-progress-played>\\n    </xg-mini-progress>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"MiniProgress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return MiniProgress2;\n}(Plugin);\nexport { MiniProgress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { TIME_UPDATE, COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    var ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nvar isSupportCanvas = null;\nvar DynamicBg = /* @__PURE__ */ function(_Plugin) {\n  _inherits(DynamicBg2, _Plugin);\n  var _super = _createSuper(DynamicBg2);\n  function DynamicBg2() {\n    var _this;\n    _classCallCheck(this, DynamicBg2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onLoadedData\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      _this._frameCount = _this.config.startFrameCount;\n      _this.stop();\n      _this.renderOnTimeupdate(e);\n      _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n      _this.on(TIME_UPDATE, _this.renderOnTimeupdate);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVisibilitychange\", function(e) {\n      if (document.visibilityState === \"visible\") {\n        _this._checkIfCanStart() && _this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        _this.stop();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderOnTimeupdate\", function(e) {\n      if (_this._frameCount > 0) {\n        _this.renderOnce();\n        _this._frameCount--;\n      } else {\n        _this._isLoaded = true;\n        _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n        var startInterval = _this.config.startInterval;\n        !_this.player.paused && _this._checkIfCanStart() && _this.start(0, startInterval);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"start\", function(time, interval) {\n      var video = _this.player.video;\n      var _now = nowTime();\n      var _sVideo = _this.checkVideoIsSupport(video);\n      if (!_sVideo || !_this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = _this.interval;\n      }\n      _this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        _this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (_this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        } else if (_now - _this.preTime >= interval) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        }\n      }\n      _this.frameId = _this._loopType === \"timer\" ? util.setTimeout(_assertThisInitialized(_this), _this.start, interval) : util.requestAnimationFrame(_this.start);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stop\", function() {\n      if (_this.frameId) {\n        _this._loopType === \"timer\" ? util.clearTimeout(_assertThisInitialized(_this), _this.frameId) : util.cancelAnimationFrame(_this.frameId);\n        _this.frameId = null;\n      }\n    });\n    return _this;\n  }\n  _createClass(DynamicBg2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.playerConfig.dynamicBg === true) {\n        this.config.disable = false;\n      }\n      if (!DynamicBg2.isSupport) {\n        this.config.disable = true;\n      }\n      var _this$config = this.config, disable = _this$config.disable, mode = _this$config.mode, frameRate = _this$config.frameRate;\n      if (disable) {\n        return;\n      }\n      this._pos = {\n        width: 0,\n        height: 0,\n        rwidth: 0,\n        rheight: 0,\n        x: 0,\n        y: 0,\n        pi: 0\n      };\n      this.isStart = false;\n      this._isLoaded = false;\n      this.videoPI = 0;\n      this.preTime = 0;\n      this.interval = parseInt(1e3 / frameRate, 10);\n      this.canvas = null;\n      this.canvasCtx = null;\n      this._frameCount = 0;\n      this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n      this.once(COMPLETE, function() {\n        if (!_this2.player) {\n          return;\n        }\n        _this2.init();\n        _this2.renderByPoster();\n        if (!_this2.player.paused) {\n          _this2.start();\n        }\n      });\n      if (mode === MODES.POSTER) {\n        return;\n      }\n      if (mode !== MODES.FIRST_FRAME) {\n        this.on(EMPTIED, function() {\n          _this2.stop();\n        });\n        this.on(PLAY, function() {\n          var startInterval = _this2.config.startInterval;\n          _this2._checkIfCanStart() && _this2.start(0, startInterval);\n        });\n        this.on(PAUSE, function() {\n          _this2.stop();\n        });\n      }\n      this.on(LOADED_DATA, this.onLoadedData);\n      this.on(LOAD_START, function() {\n        _this2._isLoaded = false;\n        _this2.stop();\n      });\n      document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      Object.keys(config).forEach(function(key) {\n        if (key === \"root\" && config[key] !== _this3.config[key]) {\n          _this3.reRender(config[key]);\n        } else if (key === \"frameRate\") {\n          _this3.interval = parseInt(1e3 / config[key], 10);\n        } else if (key === \"disable\" && config[key]) {\n          _this3.stop();\n        }\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init(_root) {\n      var player = this.player, config = this.config;\n      this.canvasFilter = DynamicBg2.supportCanvasFilter();\n      try {\n        var parent = _root || config.root;\n        if (!parent) {\n          parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n        }\n        parent.insertAdjacentHTML(\"afterbegin\", '<div class=\"xgplayer-dynamic-bg\" data-index=\"'.concat(config.index, '\"><canvas>\\n        </canvas><xgmask></xgmask></div>'));\n        this.root = parent.children[0];\n        this.canvas = this.find(\"canvas\");\n        if (!this.canvasFilter) {\n          this.canvas.style.filter = config.filter;\n          this.canvas.style.webkitFilter = config.filter;\n        }\n        this.mask = this.find(\"xgmask\");\n        config.addMask && (this.mask.style.background = config.maskBg);\n        this.canvasCtx = this.canvas.getContext(\"2d\");\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(root) {\n      var disable = this.config.disable;\n      if (!disable && !this.root) {\n        return;\n      }\n      this.stop();\n      var _p = this.root ? this.root.parentElement : null;\n      if (_p !== root) {\n        _p.removeChild(this.root);\n      }\n      if (!root) {\n        this.root = null;\n        return;\n      }\n      this.init(root);\n      this.renderOnce();\n      var startInterval = this.config.startInterval;\n      this._checkIfCanStart() && this.start(0, startInterval);\n    }\n  }, {\n    key: \"checkVideoIsSupport\",\n    value: function checkVideoIsSupport(video) {\n      if (!video) {\n        return null;\n      }\n      var _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n      if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n        return _tVideo;\n      }\n      var _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n      if (_tagName === \"canvas\" || _tagName === \"img\") {\n        return _tVideo;\n      }\n      return null;\n    }\n  }, {\n    key: \"renderByPoster\",\n    value: function renderByPoster() {\n      var poster = this.playerConfig.poster;\n      if (poster) {\n        var url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n        this.updateImg(url);\n      }\n    }\n  }, {\n    key: \"_checkIfCanStart\",\n    value: function _checkIfCanStart() {\n      var mode = this.config.mode;\n      return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n    }\n  }, {\n    key: \"renderOnce\",\n    value: function renderOnce() {\n      var video = this.player.video;\n      if (!video.videoWidth || !video.videoHeight) {\n        return;\n      }\n      this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n      var _sVideo = this.checkVideoIsSupport(video);\n      _sVideo && this.update(_sVideo, this.videoPI);\n    }\n  }, {\n    key: \"updateImg\",\n    value: function updateImg(url) {\n      var _this4 = this;\n      if (!url) {\n        return;\n      }\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound.width, height = _this$canvas$getBound.height;\n      var image = new window.Image();\n      image.onload = function() {\n        if (!_this4.canvas || _this4.frameId || _this4.isStart) {\n          return;\n        }\n        _this4.canvas.height = height;\n        _this4.canvas.width = width;\n        var pi = parseInt(width / height * 100, 10);\n        _this4.update(image, pi);\n        image = null;\n      };\n      image.src = url;\n    }\n  }, {\n    key: \"update\",\n    value: function update(video, sourcePI) {\n      if (!this.canvas || !this.canvasCtx || !sourcePI) {\n        return;\n      }\n      try {\n        var _pos = this._pos, config = this.config;\n        var _this$canvas$getBound2 = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound2.width, height = _this$canvas$getBound2.height;\n        if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n          var pi = parseInt(width / height * 100, 10);\n          _pos.pi = sourcePI;\n          _pos.width !== width && (_pos.width = this.canvas.width = width);\n          _pos.height !== height && (_pos.height = this.canvas.height = height);\n          var rheight = height;\n          var rwidth = width;\n          if (pi < sourcePI) {\n            rwidth = parseInt(height * sourcePI / 100, 10);\n          } else if (pi > sourcePI) {\n            rheight = parseInt(width * 100 / sourcePI, 10);\n          }\n          _pos.rwidth = rwidth * config.multiple;\n          _pos.rheight = rheight * config.multiple;\n          _pos.x = (width - _pos.rwidth) / 2;\n          _pos.y = (height - _pos.rheight) / 2;\n        }\n        this.canvasFilter && (this.canvasCtx.filter = config.filter);\n        this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n      this.canvasCtx = null;\n      this.canvas = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"dynamicBg\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isInnerRender: false,\n        disable: true,\n        index: -1,\n        mode: \"framerate\",\n        frameRate: 10,\n        filter: \"blur(50px)\",\n        startFrameCount: 2,\n        startInterval: 0,\n        addMask: true,\n        multiple: 1.2,\n        maskBg: \"rgba(0,0,0,0.7)\"\n      };\n    }\n  }, {\n    key: \"isSupport\",\n    get: function get() {\n      if (typeof isSupportCanvas === \"boolean\") {\n        return isSupportCanvas;\n      }\n      isSupportCanvas = checkIsSupportCanvas();\n      return isSupportCanvas;\n    }\n  }, {\n    key: \"supportCanvasFilter\",\n    value: function supportCanvasFilter() {\n      return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n    }\n  }]);\n  return DynamicBg2;\n}(Plugin);\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { USER_ACTION, STATS_EVENTS as STATS_EVENTS$1 } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar INFO = \"info\";\nvar STATS_EVENTS = STATS_EVENTS$1;\nvar Stats = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Stats2, _BasePlugin);\n  var _super = _createSuper(Stats2);\n  function Stats2() {\n    var _this;\n    _classCallCheck(this, Stats2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_recordUserActions\", function(actionData) {\n      var time = _this._getTime();\n      var payload = Object.assign({}, actionData, {\n        msg: actionData.msg || actionData.action\n      });\n      _this._stats[INFO].push(_objectSpread2(_objectSpread2({\n        type: \"userAction\"\n      }, time), {}, {\n        payload\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_recordInfo\", function(data) {\n      _this.info(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_downloadStats\", function() {\n      var stats = _this.getStats();\n      var blob = new Blob([JSON.stringify(stats)], {\n        type: \"application/json\"\n      });\n      var downloadUrl = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n    return _this;\n  }\n  _createClass(Stats2, [{\n    key: \"_getTime\",\n    value: function _getTime() {\n      return {\n        timestamp: Date.now(),\n        timeFormat: new Date().toISOString()\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.reset();\n      this.on(USER_ACTION, this._recordUserActions);\n      this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n      this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n      this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.offAll();\n    }\n  }, {\n    key: \"downloadStats\",\n    value: function downloadStats() {\n      this._downloadStats();\n    }\n  }, {\n    key: \"info\",\n    value: function info(data) {\n      if (data.profile) {\n        this._infoProfile(data);\n      } else {\n        this._info(data);\n      }\n    }\n  }, {\n    key: \"_info\",\n    value: function _info(data) {\n      var time = this._getTime();\n      this._stats[INFO].push(_objectSpread2(_objectSpread2({}, time), {}, {\n        payload: data\n      }));\n    }\n  }, {\n    key: \"_infoProfile\",\n    value: function _infoProfile(data) {\n      if (data && data.startMs) {\n        var endMs = Date.now();\n        var dur = endMs - data.startMs;\n        var profile = _objectSpread2({\n          cat: \"function\",\n          dur,\n          name: data.name || data.msg,\n          ph: \"X\",\n          pid: 0,\n          tid: 0,\n          ts: data.startMs,\n          profile: true\n        }, data);\n        this._info(profile);\n      } else {\n        console.warn(\"infoProfile need object data, include startMs\");\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$_stats;\n      this._stats = (_this$_stats = {}, _defineProperty(_this$_stats, INFO, []), _defineProperty(_this$_stats, \"media\", {}), _this$_stats);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var player = this.player;\n      var mediaElem = player.media;\n      var buffered = [];\n      for (var i = 0; i < mediaElem.buffered.length; i++) {\n        buffered.push({\n          start: mediaElem.buffered.start(i),\n          end: mediaElem.buffered.end(i)\n        });\n      }\n      var mediaInfo = {\n        currentTime: mediaElem.currentTime,\n        readyState: mediaElem.readyState,\n        buffered,\n        paused: mediaElem.paused,\n        ended: mediaElem.ended\n      };\n      this._stats.media = mediaInfo;\n      return {\n        raw: this._stats,\n        timestat: this._getTimeStats(),\n        profile: this._getProfile()\n      };\n    }\n  }, {\n    key: \"_getTimeStats\",\n    value: function _getTimeStats() {\n      var allStat = this._stats[INFO];\n      var msgs = allStat.map(function(stat) {\n        var data = stat.payload.data;\n        var msg = \"\";\n        try {\n          if (data instanceof Error) {\n            msg = data.msg;\n          } else if (data !== void 0) {\n            msg = JSON.stringify(data);\n          }\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n        return \"[\".concat(stat.timeFormat, \"] : \").concat(stat.payload.msg, \" \").concat(msg, \" \");\n      });\n      return msgs;\n    }\n  }, {\n    key: \"_getProfile\",\n    value: function _getProfile() {\n      var profile = {\n        traceEvents: []\n      };\n      var allStat = this._stats[INFO];\n      allStat.forEach(function(stat) {\n        if (stat.payload.profile) {\n          profile.traceEvents.push(stat.payload);\n        }\n      });\n      return profile;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"stats\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return Stats2;\n}(BasePlugin);\nexport { Stats as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar GapJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(GapJump2, _BasePlugin);\n  var _super = _createSuper(GapJump2);\n  function GapJump2() {\n    var _this;\n    _classCallCheck(this, GapJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onGapJump\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!_this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        _this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      var buffered = player.media.buffered;\n      var smallGapLimit = config.smallGapLimit || 0.5;\n      var gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      var currentTime = player.media.currentTime;\n      var idx = _this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      var jumpTo = buffered.start(idx) + 0.1;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      var jumpSize = jumpTo - currentTime;\n      var isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump2.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = _this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        _this.player && _this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(GapJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var useGapJump = this.config.useGapJump;\n      if (useGapJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.seekingEventReceived = false;\n      this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n      this.on(WAITING, this.onGapJump);\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n      this.on(SEEKING, function() {\n        _this2.seekingEventReceived = true;\n      });\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(buffered, time, threshold) {\n      if (!buffered || !buffered.length) {\n        return null;\n      }\n      if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n        return null;\n      }\n      var bufferedInfo = this._getBuffered(buffered);\n      var idx = null;\n      for (var i = 0; i < bufferedInfo.length; i++) {\n        var item = bufferedInfo[i];\n        if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n          idx = i;\n          break;\n        }\n      }\n      return idx;\n    }\n  }, {\n    key: \"_getBuffered\",\n    value: function _getBuffered(b) {\n      if (!b) {\n        return [];\n      }\n      var ret = [];\n      for (var i = 0; i < b.length; i++) {\n        ret.push({\n          start: b.start(i),\n          end: b.end(i)\n        });\n      }\n      return ret;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"gapJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useGapJump: false,\n        smallGapLimit: 0.5,\n        gapDetectionThreshold: 0.3\n      };\n    }\n  }]);\n  return GapJump2;\n}(Plugin);\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar WaitingTimeoutJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(WaitingTimeoutJump2, _BasePlugin);\n  var _super = _createSuper(WaitingTimeoutJump2);\n  function WaitingTimeoutJump2() {\n    var _this;\n    _classCallCheck(this, WaitingTimeoutJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onWaiting\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n      if (_this.jumpCnt > config.jumpCntMax || _this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      _this.timer = setTimeout(_this.onJump, config.waitingTime * 1e3);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onJump\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player, config = _assertThisInitialize2.config;\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (_this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      _this.jumpSize = config.jumpSize * (_this.jumpCnt + 1);\n      if (_this.jumpCnt === config.jumpSize && _this.jumpSize < 6) {\n        _this.jumpSize = 6;\n      }\n      var jumpTo = player.currentTime + _this.jumpSize;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      _this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n    return _this;\n  }\n  _createClass(WaitingTimeoutJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, useWaitingTimeoutJump = _this$config.useWaitingTimeoutJump, jumpSize = _this$config.jumpSize;\n      if (useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.jumpCnt = 0;\n      this.timer = null;\n      this.jumpSize = jumpSize;\n      this.on(WAITING, this.onWaiting);\n      this.on([PLAYING, CANPLAY], function() {\n        clearTimeout(_this2.timer);\n        _this2.timer = null;\n        _this2.jumpSize = _this2.config.jumpSize;\n      });\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"waitingTimeoutJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useWaitingTimeoutJump: false,\n        waitingTime: 15,\n        jumpSize: 2,\n        jumpCntMax: 4\n      };\n    }\n  }]);\n  return WaitingTimeoutJump2;\n}(Plugin);\nexport { WaitingTimeoutJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DOWNLOAD_SPEED_CHANGE, LOADED_DATA, REPLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar DEFAULT_SPEED_TYPE = \"cdn\";\nvar SPEED_TYPE = [\"cdn\"];\nvar TestSpeed = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TestSpeed2, _BasePlugin);\n  var _super = _createSuper(TestSpeed2);\n  function TestSpeed2() {\n    var _this;\n    _classCallCheck(this, TestSpeed2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"getSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return 0;\n      if (_this.speedListCache[type].length <= 0)\n        return 0;\n      var total = 0;\n      _this.speedListCache[type].map(function(item) {\n        total += item;\n      });\n      return Math.floor(total / _this.speedListCache[type].length);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startTimer\", function() {\n      if (util.isMSE(_this.player.video)) {\n        return;\n      }\n      _this.initSpeedList();\n      _this.cnt = 0;\n      _this.timer = setTimeout(_this.testSpeed, _this.config.testTimeStep);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"initSpeedList\", function() {\n      _this.speedListCache = {};\n      SPEED_TYPE.forEach(function(type) {\n        _this.speedListCache[type] = [];\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onRealSpeedChange\", function(data) {\n      data.speed && _this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"testSpeed\", function() {\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (!_this.player || !_this.config.openSpeed)\n        return;\n      var _this$config = _this.config, url = _this$config.url, loadSize = _this$config.loadSize, testCnt = _this$config.testCnt, testTimeStep = _this$config.testTimeStep;\n      var testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (_this.cnt >= testCnt) {\n        return;\n      }\n      _this.cnt++;\n      try {\n        var start = new Date().getTime();\n        var end = null;\n        var xhr = new XMLHttpRequest();\n        _this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        var headers = {};\n        var random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            _this.xhr = null;\n            end = new Date().getTime();\n            var size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            var speed = Math.round(size * 1e3 / (end - start));\n            _this.appendList(speed);\n            _this.timer = setTimeout(_this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"appendList\", function(speed) {\n      var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return;\n      var saveSpeedMax = _this.config.saveSpeedMax;\n      if (_this.speedListCache[type].length >= saveSpeedMax) {\n        _this.speedListCache[type].shift();\n      }\n      _this.speedListCache[type].push(speed);\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[_this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      _this.updateSpeed(type);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      var speed = _this.getSpeed(type);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        } else {\n          var speedName = _this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(TestSpeed2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this$config2 = this.config, openSpeed = _this$config2.openSpeed, addSpeedTypeList = _this$config2.addSpeedTypeList;\n      if ((addSpeedTypeList === null || addSpeedTypeList === void 0 ? void 0 : addSpeedTypeList.length) > 0) {\n        SPEED_TYPE.push.apply(SPEED_TYPE, _toConsumableArray(addSpeedTypeList));\n      }\n      this.initSpeedList();\n      this.on(\"real_time_speed\", this._onRealSpeedChange);\n      this.timer = null;\n      this.cnt = 0;\n      this.xhr = null;\n      if (!openSpeed) {\n        return;\n      }\n      this.on([LOADED_DATA, REPLAY], this.startTimer);\n    }\n  }, {\n    key: \"getSpeedName\",\n    value: function getSpeedName(namePrefix, type) {\n      return namePrefix + \"Speed\" + type.toUpperCase();\n    }\n  }, {\n    key: \"openSpeed\",\n    get: function get() {\n      return this.config.openSpeed;\n    },\n    set: function set(value) {\n      this.config.openSpeed = value;\n      if (!value && this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        return;\n      }\n      if (this.config.openSpeed) {\n        if (this.timer)\n          return;\n        this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.off(\"real_time_speed\", this._onRealSpeedChange);\n      this.off([LOADED_DATA, REPLAY], this.startTimer);\n      SPEED_TYPE.forEach(function(type) {\n        _this2.speedListCache && _this2.speedListCache[type] && (_this2.speedListCache[type] = []);\n      });\n      this.speedListCache && (this.speedListCache = {});\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.xhr && this.xhr.readyState !== 4) {\n        this.xhr.cancel && this.xhr.cancel();\n        this.xhr = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"testspeed\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        openSpeed: false,\n        testCnt: 3,\n        loadSize: 200 * 1024,\n        testTimeStep: 3e3,\n        url: \"\",\n        saveSpeedMax: 5,\n        addSpeedTypeList: []\n      };\n    }\n  }]);\n  return TestSpeed2;\n}(Plugin);\nexport { TestSpeed as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar FpsDetect = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(FpsDetect2, _BasePlugin);\n  var _super = _createSuper(FpsDetect2);\n  function FpsDetect2() {\n    _classCallCheck(this, FpsDetect2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FpsDetect2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      var player = this.player, config = this.config;\n      this.timer = null;\n      this._lastDecodedFrames = 0;\n      this._currentStuckCount = 0;\n      this._lastCheckPoint = null;\n      this._payload = [];\n      if (config.disabled)\n        return;\n      var getVideoPlaybackQuality = player.media.getVideoPlaybackQuality;\n      if (!getVideoPlaybackQuality)\n        return;\n      this.on(PLAY, function() {\n        _this._startTick();\n      });\n      this.on(PAUSE, function() {\n        _this._stopTick();\n      });\n      this.on(ENDED, function() {\n        _this._stopTick();\n      });\n      this.on(EMPTIED, function() {\n        _this._stopTick();\n      });\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      var _this2 = this;\n      this._stopTick();\n      this._timer = setTimeout(function() {\n        _this2._checkDecodeFPS();\n        _this2._startTick();\n      }, this.config.tick);\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }, {\n    key: \"_checkStuck\",\n    value: function _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n      var media = this.player.media;\n      var hidden = document.hidden;\n      var paused = media.paused;\n      if (typeof hidden === \"boolean\" && !hidden && !paused) {\n        var curTime = media.currentTime;\n        var buffered = media.buffered;\n        var enoughBuffer = false;\n        var bufs = [];\n        for (var i = 0; i < buffered.length; i++) {\n          var start = buffered.start(i);\n          var end = buffered.end(i);\n          bufs.push({\n            start,\n            end\n          });\n          if (start <= curTime && curTime <= end - 1) {\n            enoughBuffer = true;\n            break;\n          }\n        }\n        if (media.readyState === 4 && enoughBuffer) {\n          if (this._currentStuckCount > this.config.stuckCount) {\n            this.emit(FPS_STUCK, this._payload);\n            this._reset();\n          } else {\n            if (curDecodedFrames <= this.config.reportFrame) {\n              this._currentStuckCount++;\n              this._payload.push({\n                bufs,\n                currentTime: media.currentTime,\n                curDecodedFrames,\n                totalVideoFrames,\n                droppedVideoFrames,\n                checkInterval\n              });\n            } else {\n              this._reset();\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._payload = [];\n      this._currentStuckCount = 0;\n    }\n  }, {\n    key: \"_checkDecodeFPS\",\n    value: function _checkDecodeFPS() {\n      if (!this.player.media) {\n        return;\n      }\n      var _this$player$media$ge = this.player.media.getVideoPlaybackQuality(), totalVideoFrames = _this$player$media$ge.totalVideoFrames, droppedVideoFrames = _this$player$media$ge.droppedVideoFrames;\n      var currTime = performance.now();\n      if (totalVideoFrames) {\n        if (this._lastCheckPoint) {\n          var curDecoded = totalVideoFrames - this._lastDecodedFrames;\n          var checkInterval = currTime - this._lastCheckPoint;\n          this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n        }\n      }\n      this._lastDecodedFrames = totalVideoFrames;\n      this._lastCheckPoint = currTime;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._stopTick();\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"FpsDetect\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disabled: false,\n        tick: 1e3,\n        stuckCount: 3,\n        reportFrame: 0\n      };\n    }\n  }]);\n  return FpsDetect2;\n}(Plugin);\nexport { FpsDetect as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport sniffer from \"../utils/sniffer.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nvar DefaultPreset = /* @__PURE__ */ _createClass(function DefaultPreset2(options, playerConfig) {\n  var _this$plugins, _this$plugins2, _this$plugins3;\n  _classCallCheck(this, DefaultPreset2);\n  var simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n  var isLive = playerConfig.isLive;\n  var vodPlugins = isLive ? [] : [TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n  var contolsIcons = [].concat(vodPlugins, [Play, Fullscreen, Rotate, PlayNextIcon, DefinitionIcon, PlaybackRate, Download, ScreenShot, Volume, PIP]);\n  var layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n  this.plugins = [Stats, XGLogger].concat(_toConsumableArray(contolsIcons), layers, [GapJump, WaitingTimeoutJump]);\n  var mode = simulateMode ? \"mobile\" : sniffer.device;\n  switch (mode) {\n    case \"pc\":\n      (_this$plugins = this.plugins).push.apply(_this$plugins, [Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n      break;\n    case \"mobile\":\n      (_this$plugins2 = this.plugins).push.apply(_this$plugins2, [MobilePlugin]);\n      break;\n    default:\n      (_this$plugins3 = this.plugins).push.apply(_this$plugins3, [Keyboard, PCPlugin, CssFullScreen]);\n  }\n  if (sniffer.os.isIpad || mode === \"pc\") {\n    this.plugins.push(DynamicBg);\n  }\n  if (sniffer.os.isIpad) {\n    this.plugins.push(PCPlugin);\n  }\n  this.ignores = [];\n  this.i18n = [];\n});\nexport { DefaultPreset as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport DefaultPreset from \"./presets/default.js\";\nvar PresetPlayer = /* @__PURE__ */ function(_Player) {\n  _inherits(PresetPlayer2, _Player);\n  var _super = _createSuper(PresetPlayer2);\n  function PresetPlayer2() {\n    _classCallCheck(this, PresetPlayer2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(PresetPlayer2);\n}(Player);\n_defineProperty(PresetPlayer, \"defaultPreset\", DefaultPreset);\n_defineProperty(PresetPlayer, \"Util\", util);\n_defineProperty(PresetPlayer, \"Sniffer\", sniffer);\n_defineProperty(PresetPlayer, \"Errors\", Errors);\n_defineProperty(PresetPlayer, \"Events\", events);\n_defineProperty(PresetPlayer, \"Plugin\", Plugin);\n_defineProperty(PresetPlayer, \"BasePlugin\", BasePlugin);\n_defineProperty(PresetPlayer, \"I18N\", I18N);\n_defineProperty(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\nexport { PresetPlayer as default };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = this._prefix + nowTime() + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$bufferIn = _this$_core4.bufferInfo()) === null || _this$_core4$bufferIn === void 0 ? void 0 : _this$_core4$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nexport { createPublicPromise, nowTime };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { createPublicPromise, nowTime } from \"./utils.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { isBrowser } from \"./env.js\";\nimport { Logger } from \"./logger.js\";\nfunction getMediaSource() {\n  try {\n    return isBrowser ? window.MediaSource : null;\n  } catch (e) {\n  }\n}\nvar MediaSource = getMediaSource();\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd\", op.opName, costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this3 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this3.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this3.isEnded) {\n          _this3._logger.debug(\"[debug mse] setDuration ended\");\n          return;\n        }\n        if (_this3.mediaSource) {\n          _this3.mediaSource.duration = duration;\n          _this3._logger.debug(\"[debug mse] setDuration\");\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this4 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costtime = nowTime() - _this4._st;\n          _this4._logger.debug(\"MSE OPEN\", costtime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this4._openPromise.resolve({\n            costtime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this5 = this;\n        var ms, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                if (!(!media || !MediaSource)) {\n                  _context.next = 5;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 5:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource();\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costtime = nowTime() - _this5._st;\n                  _this5._logger.debug(\"MSE OPEN\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this5._openPromise.resolve({\n                    costtime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this6 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this6._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this6._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                }\n                if (this.media) {\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this7 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\")\n        return Promise.reject();\n      return this._enqueueOp(type, function() {\n        sb.changeType(mimeType);\n        sb.mimeType = mimeType;\n        _this7._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this8 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this8$_sourceBuffer$;\n        if (!_this8.mediaSource || _this8.media.error)\n          return;\n        _this8._logger.debug(\"MSE APPEND START\", context);\n        _this8._opst = nowTime();\n        (_this8$_sourceBuffer$ = _this8._sourceBuffer[type]) === null || _this8$_sourceBuffer$ === void 0 ? void 0 : _this8$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this9 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        var sb = _this9._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this9._onSBUpdateEnd(type);\n          return;\n        }\n        _this9._opst = nowTime();\n        _this9._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this10 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this10.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this11._sourceBuffer[k];\n        p = _this11.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initOpque = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initOpque.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initOpque.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initOpque);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this12 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this12.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this12._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this13 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this13._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this14 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this14._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this14._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this14._queue[t];\n                      var sb = _this14._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this14._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this15 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this15._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this15._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this16 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this16._sourceBuffer[type].abort();\n        _this16._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false\n      };\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      if (!MediaSource)\n        return false;\n      try {\n        return MediaSource.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nimport { AAC } from \"../codec/aac.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._baseDts;\n        x.pts -= _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      } else {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts,\n            originPts: sample.originPts,\n            count,\n            nextPts,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts,\n              originPts: sample.originPts,\n              nextPts,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts,\n                originPts: sample.originPts,\n                nextPts,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nexport { MAX_SIZE, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64 };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && this.codecType === AudioCodecType.AAC);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.trackId = readBig32(data, 16);\n          ret.duration = readBig64(data, 24);\n          start += 32;\n        } else {\n          ret.trackId = readBig32(data, 8);\n          ret.duration = readBig32(data, 16);\n          start += 20;\n        }\n        ret.width = readBig32(data, start + 52);\n        ret.height = readBig32(data, start + 56);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i = 0; _i < (\"\" + numKeyIds).length; _i++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i2 = 0; _i2 < ret.ppsLength; _i2++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i3 = 0; _i3 < entryCount; _i3++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length)\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          content = MP42.mp4a(track);\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var mdatSize = 0;\n      samples.forEach(function(s) {\n        mdatSize += s.units.reduce(function(t, c) {\n          return t + c.byteLength;\n        }, 0);\n        mdatSize += s.units.length * 4;\n      });\n      var mdata = new Uint8Array(mdatSize);\n      var mdatView = new DataView(mdata.buffer);\n      var _loop = function _loop2(_offset, _sample) {\n        _sample = samples[i];\n        var sampleSize = 0;\n        _sample.units.forEach(function(u) {\n          mdatView.setUint32(_offset, u.byteLength);\n          _offset += 4;\n          mdata.set(u, _offset);\n          _offset += u.byteLength;\n          sampleSize += 4 + u.byteLength;\n        });\n        _sample.size = sampleSize;\n        offset = _offset, sample = _sample;\n      };\n      for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n        _loop(offset, sample);\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer();\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? {\n            codec: videoTrack.codec,\n            data: v\n          } : void 0, a ? {\n            codec: audioTrack.codec,\n            data: a\n          } : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      logger.debug(videoTrack.samples, audioTrack.samples);\n      if (discontinuity) {\n        if (videoTrack.exist()) {\n          this.hls.emit(Event.METADATA_PARSED, {\n            type: \"video\",\n            track: videoTrack,\n            meta: {\n              codec: videoTrack.codec,\n              timescale: videoTrack.timescale,\n              width: videoTrack.width,\n              height: videoTrack.height,\n              sarRatio: videoTrack.sarRatio,\n              baseDts: videoTrack.baseDts\n            }\n          });\n        }\n        if (audioTrack.exist()) {\n          this.hls.emit(Event.METADATA_PARSED, {\n            type: \"audio\",\n            track: audioTrack,\n            meta: {\n              codec: audioTrack.codec,\n              channelCount: audioTrack.channelCount,\n              sampleRate: audioTrack.sampleRate,\n              timescale: audioTrack.timescale,\n              baseDts: audioTrack.baseDts\n            }\n          });\n        }\n        logger.debug(\"discontinuity\", videoTrack, audioTrack);\n      }\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE();\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media);\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpend\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                if (!this._directAppend) {\n                  _context2.next = 7;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p));\n              case 7:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 18;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                _context2.next = 28;\n                break;\n              case 18:\n                if (!this._mse) {\n                  _context2.next = 28;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio);\n                }\n                if (video)\n                  _p.push(mse.append(MSE.VIDEO, video.data));\n                if (audio)\n                  _p.push(mse.append(MSE.AUDIO, audio.data));\n                return _context2.abrupt(\"return\", Promise.all(_p));\n              case 28:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                if (!this._mse) {\n                  _context9.next = 4;\n                  break;\n                }\n                _context9.next = 4;\n                return this._mse.unbindMedia();\n              case 4:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs));\n          }\n        }\n      });\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return this._mse.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, millisec) {\n  return Math.round(byteLen * 8 * 1e3 / millisec / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && !!window.fetch ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2() {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nexport { getAbsoluteUrl, getCodecs, getLines, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment();\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (endOfList) {\n      break;\n    }\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment();\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          var _lastSegment = media.segments[media.segments.length - 1];\n          if (_lastSegment) {\n            _lastSegment.isLast = true;\n          }\n          media.live = false;\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment();\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          if (_attr3.METHOD !== \"AES-128\")\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment();\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { StreamingError, ERR, EVENT, NetLoader } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) || -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2() {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeeds\", []);\n    _defineProperty(this, \"_speeds\", []);\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-3);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._chunkSpeeds.push(8e3 * totalByte / ms);\n      this._chunkSpeeds = this._chunkSpeeds.slice(-100);\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      if (!this._chunkSpeeds.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      return this._chunkSpeeds.reduce(function(a, c) {\n        return a += c;\n      }) / this._chunkSpeeds.length;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkSpeeds.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeeds[this._chunkSpeeds.length - 1];\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkSpeeds = [];\n      this._speeds = [];\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var nextSeg, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              nextSeg = _this._playlist.nextSegment;\n              if (nextSeg) {\n                _context.next = 5;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 5:\n              if (_this.isLive) {\n                _context.next = 13;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < 0.1;\n              if (!(bInfo.remaining >= _this.config.preloadTime || bufferThroughout)) {\n                _context.next = 12;\n                break;\n              }\n              if (bufferThroughout && _this._bufferService.msIsOpend) {\n                _this._bufferService.endOfStream();\n              }\n              return _context.abrupt(\"return\");\n            case 12:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSeg.sn - 1 && bInfo.end && Math.abs(nextSeg.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 13:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 15;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 19;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 19:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 24;\n              return _this._segmentLoader.cancel();\n            case 24:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 28;\n                break;\n              }\n              _context3.next = 28;\n              return _this._loadSegmentDirect(true);\n            case 28:\n              _this._startTick();\n            case 29:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) < 0.1 || !media.readyState)\n        return;\n      if (isMediaPlaying(media)) {\n        _this._loadSegment();\n        if (_this._gapService) {\n          _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n        }\n      } else {\n        if (media.readyState < 2 && _this._gapService) {\n          _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n        }\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(url) {\n        var reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                reuseMse = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : false;\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 5;\n                return this._reset(reuseMse);\n              case 5:\n                _context4.next = 7;\n                return this._loadData(url);\n              case 7:\n                this._startTick();\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load(_x) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, _this$_switchUrlOpts, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts3;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 17;\n                  break;\n                }\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 17;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 17;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 17:\n                if (manifest) {\n                  _context5.next = 19;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 19:\n                if (!this.isLive) {\n                  _context5.next = 30;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 27;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 27:\n                _context5.next = 29;\n                return this._loadSegment();\n              case 29:\n                return _context5.abrupt(\"return\");\n              case 30:\n                _context5.next = 32;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 32:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts3 = this._switchUrlOpts) !== null && _this$_switchUrlOpts3 !== void 0 && _this$_switchUrlOpts3.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 36;\n                return this._loadSegment();\n              case 36:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x2) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                _context6.next = 3;\n                return this.load();\n              case 3:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x3) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 45;\n                return this._clear();\n              case 45:\n                _context7.next = 47;\n                return this._loadData(url);\n              case 47:\n                this._startTick();\n              case 48:\n                this._switchUrlOpts = null;\n              case 49:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x4) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x5) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x6) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x7) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (this.media) {\n                  _context11.next = 2;\n                  break;\n                }\n                return _context11.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context11.next = 12;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 12:\n                this.media = null;\n              case 13:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context12.next = 6;\n                  break;\n                }\n                _context12.t0 = this._manifestLoader.parseText(manifest, url);\n                _context12.next = 9;\n                break;\n              case 6:\n                _context12.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context12.t0 = _context12.sent;\n              case 9:\n                _ref4 = _context12.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context12.next = 17;\n                break;\n              case 14:\n                _context12.prev = 14;\n                _context12.t1 = _context12[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context12.t1));\n              case 17:\n                if (playlist) {\n                  _context12.next = 19;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context12.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context12.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context12.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x8) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration * 2 || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(loadOnce) {\n        var seg, appended, cachedError;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context13.next = 3;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context13.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                _context13.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context13.sent;\n                _context13.next = 16;\n                break;\n              case 13:\n                _context13.prev = 13;\n                _context13.t0 = _context13[\"catch\"](5);\n                cachedError = _context13.t0;\n              case 16:\n                _context13.prev = 16;\n                this._segmentProcessing = false;\n                return _context13.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context13.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context13.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context13.abrupt(\"return\", false);\n              case 25:\n                return _context13.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  if (this._urlSwitching) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context13.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x9) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context14.prev = 3;\n                _context14.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context14.sent;\n                _context14.next = 14;\n                break;\n              case 9:\n                _context14.prev = 9;\n                _context14.t0 = _context14[\"catch\"](3);\n                _context14.t0.fatal = false;\n                this._segmentLoader.error = _context14.t0;\n                throw _context14.t0;\n              case 14:\n                if (responses[0]) {\n                  _context14.next = 16;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 16:\n                _context14.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context14.sent;\n                if (data) {\n                  _context14.next = 21;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                _context14.next = 28;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, this._prevSegSn === sn - 1, start);\n              case 28:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context14.next = 31;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 31:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context14.abrupt(\"return\", true);\n              case 34:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x10, _x11) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context15.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context15.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context15.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context15.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context15.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context15.next = 17;\n                  break;\n                }\n                _context15.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context16.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        var _this$_seiService3;\n        var reuseMse, _args17 = arguments;\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                reuseMse = _args17.length > 0 && _args17[0] !== void 0 ? _args17[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context17.next = 11;\n                return this._clear();\n              case 11:\n                return _context17.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.11\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\":\n      Object.assign(options, args);\n      break;\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(_args));\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchURL\", function(url, args) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, hls = _assertThisInitialize.hls;\n      if (hls) {\n        var _this$player$config, _this$player$config$h;\n        var options = parseSwitchUrlArgs(args, _assertThisInitialized(_this));\n        player.config.url = url;\n        hls.switchURL(url, options).catch(function(e) {\n        });\n        if (!options.seamless && (_this$player$config = _this.player.config) !== null && _this$player$config !== void 0 && (_this$player$config$h = _this$player$config.hls) !== null && _this$player$config$h !== void 0 && _this$player$config$h.keepStatusAfterSwitch) {\n          _this._keepPauseStatus();\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config2;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config2 = _this$player.config) === null || _this$player$config2 === void 0 ? void 0 : _this$player$config2.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      if (!config.url && !config.__allowHlsEmptyUrl__) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      this.player.switchURL = this._onSwitchURL;\n      var hlsOpts = config.hls || {};\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: this.player.media || this.player.video,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: this.player.video\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.URL_CHANGE, this._onSwitchURL);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, true).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","import { Plugin } from 'xgplayer'\n\nconst { POSITIONS } = Plugin\n\nexport default class TopBack extends Plugin {\n\n    // 插件的名称，将作为插件实例的唯一key值\n    static get pluginName() {\n      return 'TopBack'\n    }\n  \n    static get defaultConfig () {\n        return {\n          // 挂载在controls的右侧，如果不指定则默认挂载在播放器根节点上\n          position: POSITIONS.ROOT_TOP,\n          handleBack: function() {\n            // 在外部使用 TopBack:{ handleBack:()=>{}} \n          },\n          vodName:''\n        }\n    }\n  \n    constructor (args) {\n      super(args)\n    }\n  \n    beforePlayerInit () {\n     // TODO 播放器调用start初始化播放源之前的逻辑\n    }\n  \n    afterPlayerInit () {\n      // TODO 播放器调用start初始化播放源之后的逻辑\n    }\n  \n    afterCreate () {\n      const { config } = this  \n      this.vodname = this.find('.vodname') \n      this.vodname.innerText = config.vodName\n      this.icon = this.find('.divicon')\n      // this.icon.insertAdjacentText('beforeend',config.vodName)\n      this.onIconClick = (e) => {\n        console.log('class为icon元素点击回调')\n      }\n      this.onClick = () => {\n        console.log('当前插件根节点点击事件')\n        config.handleBack()\n      }\n      // 对当前插件根节点内部类名为.icon的元素绑定click事件\n      this.bind('.icon', 'click', this.onIconClick)\n      // 对当前插件根节点绑定click事件\n      this.bind('click', this.onClick)\n      //TODO 插件实例化之后的一些逻辑\n    }\n  \n    destroy () {\n      this.unbind('.icon', 'click', this.onIconClick)\n      this.unbind('click', this.onClick)\n      this.icon = null\n    }\n\n    updateVodName(name) {\n      this.vodname = this.find('.vodname') \n      this.vodname.innerText = name\n    }\n  \n    render () {\n      return `<div class=\"topback-plugin\" style=\"display: flex;align-items: center;justify-content: center;\">\n                <div class=\"divicon\" style=\"margin-top: .1rem;margin-right:.2rem;\">\n                    <svg t=\"1705936805165\" \n                    class=\"icon\" \n                    viewBox=\"0 0 1024 1024\" \n                    version=\"1.1\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    p-id=\"4220\" width=\"25\" height=\"25\">\n                    <path d=\"M711.1 928.3c-13.2 0-26.3-5-36.4-15.2L297.8 532.9c-20.1-20.2-20.1-53.1 0-73.3L674.7 79.2c20.1-20.3 52.6-20.3 72.7 0 20.1 20.2 20.1 53.1 0 73.3L406.9 496.2l340.5 343.6c20.1 20.3 20.1 53.1 0 73.3-10 10.1-23.2 15.2-36.3 15.2z\" fill=\"#ffffff\" p-id=\"4221\">\n                    </path>\n                    </svg>\n                </div>\n                <span class=\"vodname\" style=\"display:flex;color:white;font-size:.26rem;font-weight:600\"></span>\n              </div>\n      `\n    }\n  }","import { Plugin } from 'xgplayer'\n\nconst { POSITIONS } = Plugin\n\nexport default class JujiPlugin extends Plugin {\n\n    // 插件的名称，将作为插件实例的唯一key值\n    static get pluginName() {\n      return 'juji'\n    }\n  \n    static get defaultConfig () {\n        return {\n          // 挂载在controls的右侧，如果不指定则默认挂载在播放器根节点上\n          position: POSITIONS.CONTROLS_RIGHT,\n          handleJuji: function() {\n            // 在外部使用 TopBack:{ handleBack:()=>{}} \n          }\n        }\n    }\n  \n    constructor (args) {\n      super(args)\n    }\n  \n    beforePlayerInit () {\n    }\n  \n    afterPlayerInit () {\n    }\n  \n    afterCreate () {\n      const { config } = this  \n      this.juji = this.find('.juji-plugin') \n    //   this.onIconClick = (e) => {\n    //     console.log('class为icon元素点击回调')\n    //   }\n      this.onClick = () => {\n        console.log('当前插件根节点点击事件')\n        config.handleJuji()\n      }\n      // 对当前插件根节点内部类名为.icon的元素绑定click事件\n    //   this.bind('.icon', 'click', this.onIconClick)\n      // 对当前插件根节点绑定click事件\n      this.bind('click', this.onClick)\n      //TODO 插件实例化之后的一些逻辑\n    }\n  \n    destroy () {\n    //   this.unbind('.icon', 'click', this.onIconClick)\n      this.unbind('click', this.onClick)\n      this.icon = null\n    }\n  \n    render () {\n      return `<div class=\"juji-plugin\" style=\"display: flex;align-items: center;justify-content: center;padding-right:.2rem;padding-top:.2rem;\">                \n                 <svg t=\"1706527282240\" \n                 class=\"icon\" \n                 viewBox=\"0 0 1024 1024\" \n                 version=\"1.1\" \n                 xmlns=\"http://www.w3.org/2000/svg\" \n                 p-id=\"1319\" \n                 width=\"25\" height=\"25\">\n                 <path d=\"M665.47 417.65l-345.03-244.3c-69.8-49.42-166.29 0.49-166.29 86.01v502.27c0 85.52 96.49 135.43 166.29 86.01l345.03-244.31c64.02-45.34 64.02-140.34 0-185.68zM811.82 868.52c-30.38 0-55-24.62-55-55V207.46c0-30.38 24.62-55 55-55s55 24.62 55 55v606.07c0 30.37-24.62 54.99-55 54.99z\" fill=\"#ffffff\" p-id=\"1320\">\n                 </path>\n                 </svg>\n              </div>\n      `\n    }\n  }","// event-bus.js\nimport Vue from 'vue';\nexport const EventBus = new Vue();\n","<template>\n    <div class=\"player-wrapper\">\n      <div id=\"mse\"/>\n    </div>\n</template>\n\n<script>\nimport Player from 'xgplayer'\nimport HlsPlugin from 'xgplayer-hls'\nimport { Events } from 'xgplayer'\nimport 'xgplayer/dist/index.min.css'\nimport TopBackPlugin from 'common/XGBackPlugin.js'\nimport JujiPlugin from 'common/JujiPlugin.js'\nimport { EventBus } from 'common/event-bus.js'\nimport db from 'common/db.js'\n\nexport default {\n  name: 'DetailHeader',\n  props: {\n    detail:Object,    \n    playPosMap:{}\n  },\n  mounted() {\n    this.initPlayer()\n    EventBus.$on('changePlayUrl', this.changePlay)\n  },\n  data () {\n    return {\n      isfull:false,\n      player: null,\n      playPos:0,\n      urls:[]\n    }\n  },\n  watch: {\n  },\n  methods: {\n    initPlayer() {\n      this.player = new Player({\n          id: 'mse',\n          plugins: [HlsPlugin,TopBackPlugin,JujiPlugin],\n          ignores: ['volume'],\n          playbackRate: {\n            hidePortrait:true,\n            list: [\n              {\n                text: '0.5X',\n                rate: 0.5\n              }, {\n                text: '1X',\n                iconText: '倍速',\n                rate: 1\n              }, {\n                text: '1.5X',\n                rate: 1.5\n              },\n              {\n                text: '1.75X',\n                rate: 1.75\n              },\n              {\n                text: '2X',\n                rate: 2\n              } \n            ]\n          },\n          topBack: { // 插件名字\n            handleBack: ()=> {\n              if (this.isfull) {\n                this.player.exitCssFullscreen()\n              } else {\n                this.$router.back(-1)\n              }\n            },\n            vodName:''\n          },\n          juji: {\n            handleJuji: ()=> {\n              console.log(\"handleJujihandleJujihandleJuji\")\n              this.playNext()\n            }\n          },\n          hls: {\n              retryCount: 3, // 重试 3 次，默认值\n              retryDelay: 1000, // 每次重试间隔 1 秒，默认值\n              loadTimeout: 10000, // 请求超时时间为 10 秒，默认值\n              fetchOptions: {\n                  mode: 'cors' // 该参数会透传给 fetch，默认值为 undefined\n              },\n              preloadTime: 120 // 预加载时间s 30默认值\n          },\n          playsinline:true,\n          autoplay:false,\n          fullscreen: {\n              useCssFullscreen: true\n          },\n          url: 'https://dwfef.cdw.mp4',\n          fluid:true,\n          width:'100%',\n          height:'100%',\n          // playnext: {\n          //   url:videoUrl,\n          //   urlList: urls,\n          //   idx:self.$utils.espIndex,\n          // }\n      })\n    },\n    changePlay(url,urls,index) {\n      // console.log('changePlay: '+JSON.stringify(this.playPosMap))\n      this.urls = urls\n      if (this.player) {\n        this.player.resetState()\n        this.player.currentTime = 0\n        this.playPos = 0\n        if(this.playPosMap[index]){\n          this.playPos = this.playPosMap[index]\n        }\n        this.player.config.url = url\n        this.player.src = url\n        this.player.play()\n         //视频起播数据加载完成\n        this.player.on(Events.LOADED_DATA, () => {\n        })\n        this.player.on(Events.ENDED, () => {\n           this.playNext()\n        })\n        this.player.on(Events.PAUSE, () => {\n          window.location.href = 'jdzj://function?pauseddd=1'\n        })\n        const topBack = this.player.getPlugin('topBack')\n        topBack.updateVodName(this.$utils.playTitle)\n        const juji = this.player.getPlugin('juji')\n        if(!this.isfull){\n          juji.hide()\n        }\n        // 监听网页全屏\n        this.player.on(Events.FULLSCREEN_CHANGE, (isFullscreen) => {\n            //获取插件\n            if (isFullscreen) {\n                juji.show()\n                this.isfull = true\n                this.callNativeFunction(1)\n            } else {\n                juji.hide()\n                this.isfull = false\n                this.callNativeFunction(0)\n            }\n        })\n\n        if (this.player) {\n          this.player.once('canplay', () => {\n            this.player.seek(this.playPos)\n          })\n        }\n      }\n    },\n    callNativeFunction(full) {\n       window.location.href = 'jdzj://function?isHengping='+full\n    },\n    insertVodHistory() {\n      let percentage = 0\n      if (this.player) {\n        const currentPosition = this.player.currentTime || 0\n        const duration = this.player.duration || 1 // 防止除以零\n        percentage = (currentPosition * 100) / duration\n      }\n      const historyVod = {\n        vodId: this.detail.id,\n        vodName: this.detail.name,\n        percent: percentage,\n        cover: this.detail.imgy,\n        selected: 0,\n        datetime: this.$utils.getNowDateString(),\n        esptitle: this.$utils.playTitle,\n        playIndex: this.$utils.espIndex,\n        playPos: this.player.currentTime,\n        sourceIndex: this.$utils.sourceIndex,\n        watchTime: this.$utils.formatTimeSeconds(this.player.currentTime),\n        year: this.detail.yat,\n        director: this.detail.direc,\n      }\n      db.vodhistory.put(historyVod).then(() => {\n        console.log('Item was added or replaced successfully!')\n      }).catch(e => {\n        console.error('Error: ' + e)\n      })\n    },\n    playNext () {\n       if (this.$utils.espIndex >= this.urls.length - 1) {\n          this.$utils.espIndex = 0\n       } else {\n          this.$utils.espIndex += 1\n       }\n       EventBus.$emit('playNext', this.$utils.espIndex)\n    }\n  },\n  beforeDestroy() {\n     this.insertVodHistory()\n    // 在组件销毁前销毁播放器，避免内存泄漏\n    if (this.player) {\n      console.log('this.player.destroy()')\n      this.player.destroy()\n    }\n    EventBus.$off('changePlayUrl', this.changePlay)\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n  .player-wrapper\n    width 100%\n    height: 0\n    padding-bottom: 56.25%\n    background: #000\n    position: relative\n/deep/.xgplayer-mobile .xg-top-bar\n    position: absolute\n    width: 100%\n    left: 0\n    right: 0\n    top: 0\n\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailHeader.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailHeader.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DetailHeader.vue?vue&type=template&id=9e33a142&scoped=true\"\nimport script from \"./DetailHeader.vue?vue&type=script&lang=js\"\nexport * from \"./DetailHeader.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailHeader.vue?vue&type=style&index=0&id=9e33a142&prod&lang=stylus&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e33a142\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"detail-info\"},[_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{staticClass:\"detail-name\",attrs:{\"span\":\"15\"}},[_vm._v(_vm._s(_vm.ysname))])],1),_c('span',{staticClass:\"yatinfo\"},[_vm._v(_vm._s(_vm.yatinfo))]),_c('span',{staticClass:\"actorinfo\"},[_vm._v(_vm._s(_vm.actorinfo))]),_c('span',{staticClass:\"contentinfo\"},[_vm._v(_vm._s(_vm.contentinfo))]),_c('van-row',{staticClass:\"handle4btn\",attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('van-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticClass:\"downbtn\",attrs:{\"span\":\"6\"},on:{\"click\":_vm.handleDown}},[_c('van-icon',{attrs:{\"name\":\"down\"}}),_vm._v(\"下载 \")],1),_c('van-col',{staticClass:\"sharebtn\",attrs:{\"span\":\"6\"},on:{\"click\":_vm.handleShare}},[_c('van-icon',{attrs:{\"name\":\"share-o\"}}),_vm._v(\"分享 \")],1),_c('van-col',{staticClass:\"likebtn\",attrs:{\"span\":\"6\"},on:{\"click\":_vm.handleLike}},[_c('van-icon',{attrs:{\"name\":_vm.likeIcon}}),_vm._v(_vm._s(_vm.likeText)+\" \")],1)],1),_c('van-row',{staticClass:\"esplay\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[_c('van-col',{staticClass:\"detail-estitle\",attrs:{\"span\":\"10\"}},[_vm._v(\"选集\")]),_c('van-col',{staticClass:\"detail-espmark\",attrs:{\"span\":\"13\"},on:{\"click\":_vm.handleEspSlide}},[_vm._v(\" \"+_vm._s(_vm.espmark)+\" \")]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_c('div',{staticClass:\"detail-sources\"},[_c('div',{ref:\"sourcescroll\",staticClass:\"sourcescroll-wrapper\"},[_c('div',{staticClass:\"sourcescroll-content\",style:(_vm.sourcescrollContentStyle)},_vm._l((_vm.bfqes),function(bfq,index){return _c('div',{key:index,style:(_vm.selSourceIndex === index ? _vm.bfqSelbtn : _vm.bfqbtn),on:{\"click\":function($event){return _vm.sourceClick(index)}}},[_vm._v(\" \"+_vm._s(bfq.name)+\" \")])}),0)])]),_c('div',{staticClass:\"detail-esps\"},[_c('div',{ref:\"espscroll\",staticClass:\"espscroll-wrapper\"},[_c('div',{staticClass:\"espscroll-content\",style:(_vm.espscrollContentStyle)},_vm._l((_vm.espes),function(esp,index){return _c('div',{key:index,style:(_vm.selEspIndex === index ? _vm.espSelcedBtn : _vm.espBtn),on:{\"click\":function($event){return _vm.espClick(index)}}},[_vm._v(\" \"+_vm._s(esp.t)+\" \")])}),0)])]),_c('van-popup',{style:({ height: '74%' }),attrs:{\"position\":\"bottom\",\"overlay\":false},model:{value:(_vm.gridshow),callback:function ($$v) {_vm.gridshow=$$v},expression:\"gridshow\"}},[_c('div',[_c('van-row',{staticClass:\"esgridplay\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[_c('van-col',{staticClass:\"grid-estitle\",attrs:{\"span\":\"10\"}},[_vm._v(_vm._s(_vm.ysname))]),_c('van-col',{staticClass:\"gridclose\",attrs:{\"span\":\"10\"},on:{\"click\":_vm.handleGridClose}},[_c('van-icon',{attrs:{\"name\":\"cross\"}})],1)],1),_c('div',{staticClass:\"detail-espgrid\"},_vm._l((_vm.espgrid),function(outList,outIndex){return _c('van-row',{key:outIndex,attrs:{\"type\":\"flex\"}},_vm._l((outList),function(esp){return _c('van-col',{key:esp.index,style:(_vm.selEspIndex === esp.index ? _vm.espSelGridBtn : _vm.espGridBtn),on:{\"click\":function($event){return _vm.espClick(esp.index)}}},[_vm._v(\" \"+_vm._s(esp.value.t)+\" \")])}),1)}),1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detail-info\">\n    <van-row type=\"flex\" justify=\"space-between\">\n        <van-col span=\"15\" class=\"detail-name\">{{ ysname }}</van-col>\n    </van-row>\n    <span class=\"yatinfo\">{{ yatinfo }}</span>\n    <span class=\"actorinfo\">{{ actorinfo }}</span>\n    <span class=\"contentinfo\">{{ contentinfo }}</span>\n\n    <van-row type=\"flex\" class=\"handle4btn\" justify=\"space-around\">\n        <van-col span=\"6\" class=\"downbtn\" @click=\"handleDown\" v-show=\"false\">\n          <van-icon name=\"down\"/>下载\n        </van-col>\n        <van-col span=\"6\" class=\"sharebtn\" @click=\"handleShare\">\n          <van-icon name=\"share-o\"/>分享\n        </van-col>\n        <van-col span=\"6\" class=\"likebtn\" @click=\"handleLike\">\n          <van-icon :name=\"likeIcon\"/>{{ likeText }}\n        </van-col>\n    </van-row>\n\n    <van-row type=\"flex\" justify=\"space-between\" align=\"middle\" class=\"esplay\">\n      <van-col span=\"10\" class=\"detail-estitle\">选集</van-col>  \n      <van-col span=\"13\" \n        class=\"detail-espmark\"\n        @click=\"handleEspSlide\"\n        >\n        {{ espmark }}\n      </van-col>\n      <van-icon name=\"arrow\" />\n    </van-row>\n\n    <!-- <div class=\"detail-sources\">\n      <van-row type=\"flex\" gutter=\"10\">\n        <van-col span=\"8\"\n          v-for=\"(bfq,index) of bfqes\" \n          :key=\"index\"\n          class=\"bfqbtn\"\n          :class=\"{ 'button-selected': selSourceIndex === index }\"\n          @click=\"sourceClick(index)\"\n          >\n          {{ bfq.name }}\n        </van-col>\n      </van-row>\n    </div> -->\n\n    <div class=\"detail-sources\">\n        <div class=\"sourcescroll-wrapper\" ref=\"sourcescroll\">\n          <div class=\"sourcescroll-content\" :style=\"sourcescrollContentStyle\">\n            <div\n              v-for=\"(bfq,index) of bfqes\"\n              :style=\"selSourceIndex === index ? bfqSelbtn : bfqbtn\"\n              :key=\"index\"\n              @click=\"sourceClick(index)\"\n              >\n              {{ bfq.name }}\n            </div>\n          </div>\n        </div>\n    </div>\n\n    <!-- <div class=\"detail-esps\">\n      <van-row type=\"flex\" gutter=\"10\">\n        <van-col span=\"8\"\n          v-for=\"(esp,index) of espes\" \n          :key=\"index\"\n          class=\"espbtn\"\n          :class=\"{ 'espbtn-selected': selEspIndex === index }\"\n          @click=\"espClick(index)\"\n          >\n          {{ esp.t }}\n        </van-col>\n      </van-row>\n    </div> -->\n\n    <div class=\"detail-esps\">\n        <div class=\"espscroll-wrapper\" ref=\"espscroll\">\n          <div class=\"espscroll-content\" :style=\"espscrollContentStyle\">\n            <div\n              :style=\"selEspIndex === index ? espSelcedBtn : espBtn\"\n              v-for=\"(esp,index) of espes\" \n              :key=\"index\"\n              @click=\"espClick(index)\"\n              >\n              {{ esp.t }}\n            </div>\n          </div>\n        </div>\n    </div>\n    \n    <van-popup\n      v-model=\"gridshow\"\n      position=\"bottom\"\n      :overlay=\"false\"\n      :style=\"{ height: '74%' }\"\n    >\n      <div>\n        <van-row type=\"flex\" justify=\"space-between\" align=\"middle\" class=\"esgridplay\">\n          <van-col span=\"10\" class=\"grid-estitle\">{{ ysname }}</van-col>  \n          <van-col span=\"10\" \n            class=\"gridclose\"\n            @click=\"handleGridClose\"\n            >\n            <van-icon name=\"cross\" />\n          </van-col>\n        </van-row>\n\n        <div class=\"detail-espgrid\">\n          <van-row type=\"flex\" \n            v-for=\"(outList,outIndex) of espgrid\"\n            :key=\"outIndex\">\n              <van-col\n                v-for=\"esp of outList\" \n                :key=\"esp.index\"\n                :style=\"selEspIndex === esp.index ? espSelGridBtn : espGridBtn\"\n                @click=\"espClick(esp.index)\"\n                >\n                {{ esp.value.t }}\n              </van-col>\n          </van-row>\n        </div>\n      </div>\n    </van-popup>\n\n  </div>\n\n</template>\n\n<script>\nimport { Row, Col, Icon, Popup} from 'vant'\nimport 'vant/lib/row/style'\nimport 'vant/lib/col/style'\nimport 'vant/lib/popup/style'\nimport 'vant/lib/icon/style'\nimport { EventBus } from 'common/event-bus.js'\nimport db from 'common/db.js'\nimport BScroll from '@better-scroll/core'\n\nfunction chunkArrayWithIndex(array, chunkSize) {\n  let result = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    // 使用map来创建一个新数组，其中包含原始索引和值\n    const chunkWithIndex = array.slice(i, i + chunkSize).map((item, index) => {\n      return { index: i + index, value: item };\n    });\n    // 将新创建的带索引的数组添加到结果数组中\n    result.push(chunkWithIndex)\n  }\n  return result;\n}\n\nexport default {\n  name: 'DetailInfo',\n  components: {\n    [Row.name]: Row,\n    [Col.name]: Col,\n    [Icon.name]:Icon,\n    [Popup.name]:Popup,\n  },\n  props: {\n    detail:Object\n  },\n  data () {\n    return {\n      selSourceIndex: 0,\n      selEspIndex: 0,\n      espes: [],\n      espgrid:[],\n      isLike: 0,\n      likeText:'收藏',\n      likeIcon:'like-o',\n      gridshow:false,\n      espWidth: 1,\n      espHeight: 1,\n      sourceWidth: 1.4,\n      sourceHeight: 0.66,\n    }\n  },\n  mounted () {\n    EventBus.$on('playNext', this.espClick)\n  },\n  beforeDestroy() {\n    this.bs.destroy()\n    this.sourceBS.destroy()\n    EventBus.$off('playNext', this.espClick)\n  },\n  methods : {\n    initScroll () {\n      this.bs = new BScroll(this.$refs.espscroll, {\n        scrollX: true,\n        scrollY: false,\n        click: true\n      })\n    },\n    initSourceScroll () {\n      this.sourceBS = new BScroll(this.$refs.sourcescroll, {\n        scrollX: true,\n        scrollY: false,\n        click: true\n      })\n    },\n    jiaziad() {\n      //  console.log(`this.$utils.config.adShow: ${typeof(this.$utils.config.adShow)}`)\n       if(this.$utils.config.adShow === 1) {\n          window.location.href = 'jdzj://function?showad=1'\n       }\n    },\n    handleDown() {\n      \n    },\n    handleShare () {\n      if (this.$utils.config.shareText){\n        window.location.href = 'jdzj://function?dakaiwx='+this.$utils.config.shareText\n        Toast('复制成功，请打开微信粘贴')\n      }\n    },\n    handleLike () {\n      if (this.isLike === 1) {\n        this.isLike = 0\n        this.likeText = '收藏'\n        this.likeIcon = 'like-o'\n        db.vodlike.delete(this.detail.id).then(() => {\n          console.log('记录已删除')\n        }).catch((error) => {\n          console.error('删除记录失败', error)\n        })\n      } else {\n        this.isLike = 1\n        this.likeText = '已收藏'\n        this.likeIcon = 'like'\n        const likeVod = {\n          vodId: this.detail.id,\n          vodName: this.detail.name,\n          cover: this.detail.imgy,\n          selected: 0,\n          datetime: this.$utils.getNowDateString(),\n          year: this.detail.yat,\n          director: this.detail.direc,\n        }\n        db.vodlike.put(likeVod).then(() => {\n          console.log('Item was added or replaced successfully!')\n        }).catch(e => {\n          console.error('Error: ' + e)\n        })\n      }\n    },\n    handleEspSlide () {\n      this.gridshow = true\n    },\n    handleGridClose () {\n      this.gridshow = false\n    },\n    sourceClick (index) {\n      this.selSourceIndex = index\n      this.$utils.sourceIndex = index\n      const code = this.bfqes[index].code\n      if (code) {\n        const esplist = this.$utils.espMap.get(code)\n        if(esplist !== undefined && esplist !== null) {\n          this.espes = esplist\n        } else {\n          if (this.detail) {\n            this.getBofang(this.detail.id,code)\n          }\n        }\n      }\n    },\n    espClick (index) {\n      this.jiaziad()\n      this.selEspIndex = index\n      this.$utils.espIndex = index\n      const url = this.espes[this.selEspIndex].u\n      this.$utils.playTitle = this.ysname + ' ' +this.espes[this.selEspIndex].t\n      //改变共享数据\n      // console.log('改变共享数据 '+url)\n      const uList = this.espes.map(item => item.u)\n      EventBus.$emit('changePlayUrl', url,uList,index)\n      // this.$store.commit('changePlayUrl', url)\n    },\n    getBofang (id,code) {\n        this.$http.get('/api/bfdz',{\n            params: {\n             id: id,\n             code:code\n            }\n        }).then((res)=>{\n          this.bofangSucc(res,code)\n        })\n     },\n     bofangSucc (res,code) {\n      // console.log(res)\n      res = res.data\n      if(res.code === 1000 && res.data){\n        this.espes = res.data\n        this.$utils.espMap.set(code,this.espes)\n      }\n     },\n     queryVodLike (vId) {\n      db.vodlike.get({vodId: vId})\n      .then((vod)=> {\n        if (vod) {\n          this.isLike = 1\n          this.likeText = '已收藏'\n          this.likeIcon = 'like'\n        }\n      }).catch(function(error) {\n        console.error(\"查找出错：\", error)\n      })\n     }\n  },\n  computed: {\n    ysname () {\n      if (this.detail) {\n        return this.detail.name\n      } else {\n        return ''\n      }\n    },\n    yatinfo () {\n      if (this.detail) {\n        const year = this.detail.year === \"\" ? \"\" : this.detail.year\n        const types = this.detail.type.split(',')\n        const type = types.length > 2 ? types.slice(0, 2).join(\"·\") : types.join(\"·\")\n        const yatinfo = year + '︲'+this.detail.area + '︲' + type\n        this.detail.yat = yatinfo\n        return yatinfo\n      } else {\n        return ''\n      }   \n    },\n    actorinfo () {\n      if (this.detail) {\n        const directors = this.detail.director.split(',')\n        let director = directors.length > 0 ? directors[0] : \"\"\n        director = director === \"\" ? \"\" : `${director} ‣`\n        let actors = `${this.detail.actor}`.split(',')\n        let isChinese = true\n        if (actors.length > 0) {\n            isChinese = actors[0].length <= 4\n        }\n        let actor = actors.length > 4 ? actors.slice(0, 4).join(\"▪\") : actors.join(\"▪\")\n        if (!isChinese) {\n            actor = actors.length > 2 ? actors.slice(0, 2).join(\"▪\") : actors.join(\"▪\")\n        }\n        director = `${director} ${actor === \"未知\" ? \"未知\" : actor}`\n        this.detail.direc = director\n        return director\n      } else {\n        return ''\n      }\n    },\n    contentinfo () {\n      if (this.detail) {\n        return this.detail.content\n      } else {\n        return ''\n      }\n    },\n    espmark () {\n      if (this.detail) {\n        return this.detail.remarks\n      } else {\n        return ''\n      }\n    },\n    bfqes () {\n      if (this.detail) {\n        return this.detail.bfq\n      } else {\n        return []\n      }\n    },\n    espscrollContentStyle () {\n      const widrem = this.$utils.screenWidth / 50\n      let count = 6.5\n      const fenxiArr = this.espes.slice(0,3)\n      let maxLength = 5\n      maxLength = fenxiArr.reduce((max, current) => Math.max(max, current.t.length), 0)\n      if(maxLength > 5) {\n         count = 4.5\n      }\n      if (this.$utils.screenWidth > 0) {\n        this.espWidth = (widrem - (0.18 * 5)) / count\n        if(count <= 4.5){\n          this.espHeight = this.espWidth / 1.5\n        } else {\n          this.espHeight = this.espWidth\n        }\n      }\n      const width = `${(this.espWidth * this.espes.length) + (widrem/1.2)}rem`\n      // console.log(`scrollContentStyle- width: ${width}  ${this.espWidth}`)\n      return {\n        width: width,\n        height: this.espHeight + 'rem',\n        display: 'inline-block'\n      }\n    },\n    espBtn () {\n      // console.log(`espBtn- width: ${this.espWidth}`)\n      return {\n        width: `${this.espWidth}rem`,\n        height: `${this.espHeight}rem`,\n        display: 'inline-block',\n        marginRight: '.18rem',\n        lineHeight: `${this.espHeight}rem`,\n        textAlign: 'center',\n        borderRadius: '.08rem',\n        border: '0 solid #cccccc',\n        background: '#eeeeee',\n        color: '#666666',\n        fontSize: '.2rem',\n        userSelect: 'none'\n      }\n    },\n    espSelcedBtn () {\n      // console.log(`espSelcedBtn- width: ${this.espWidth}`)\n      return {\n        width: `${this.espWidth}rem`,\n        height: `${this.espHeight}rem`,\n        display: 'inline-block',\n        marginRight: '.18rem',\n        lineHeight: `${this.espHeight}rem`,\n        textAlign: 'center',\n        borderRadius: '.08rem',\n        border: '0 solid #41ae3c',\n        background: '#c6dfc8',\n        color: '#41ae3c',\n        fontSize: '.2rem',\n        userSelect: 'none'\n      } \n    },\n    sourcescrollContentStyle() {\n      const widrem = this.$utils.screenWidth / 50\n      let count = 4.5\n      if (this.$utils.screenWidth > 0) {\n        this.sourceWidth = (widrem - (0.18 * 4)) / count\n        this.sourceHeight = this.sourceWidth / 2.12\n      }\n      const width = `${(this.sourceWidth * this.bfqes.length) + (widrem/1.2)}rem`\n      // console.log(`sourcescrollContentStyle- width: ${width}  ${this.sourceWidth}`)\n      return {\n        width: width,\n        height: this.sourceHeight + 'rem',\n        display: 'inline-block'\n      }\n    },\n    bfqbtn () {\n      // console.log(`bfqbtn- width: ${this.sourceWidth}`)\n      return {\n        width: `${this.sourceWidth}rem`,\n        height: `${this.sourceHeight}rem`,\n        display: 'inline-block',\n        marginRight: '.18rem',\n        lineHeight: `${this.sourceHeight}rem`,\n        textAlign: 'center',\n        borderRadius: '.08rem',\n        border: '0 solid #cccccc',\n        background: '#eeeeee',\n        color: '#666666',\n        fontSize: '.2rem',\n        userSelect: 'none'\n      }\n    },\n    bfqSelbtn () {\n      // console.log(`bfqSelbtn- width: ${this.sourceWidth}`)\n      return {\n        width: `${this.sourceWidth}rem`,\n        height: `${this.sourceHeight}rem`,\n        display: 'inline-block',\n        marginRight: '.18rem',\n        lineHeight: `${this.sourceHeight}rem`,\n        textAlign: 'center',\n        borderRadius: '.08rem',\n        border: '0 solid #41ae3c',\n        background: '#c6dfc8',\n        color: '#41ae3c',\n        fontSize: '.2rem',\n        userSelect: 'none'\n      } \n    },\n    espSelGridBtn () {\n      return {\n        display: 'inline-block',\n        marginRight: '.18rem',\n        flex: '0 0 auto',\n        width: `${this.espWidth}rem`,\n        height: `${this.espHeight}rem`,\n        lineHeight: `${this.espHeight}rem`,\n        textAlign: 'center',\n        borderRadius: '.08rem',\n        border: '0 solid #41ae3c',\n        color: '#41ae3c',\n        background: '#c6dfc8',\n        fontSize: '.2rem',\n        userselect: 'none'\n      } \n    },\n    espGridBtn () {\n      return {\n        display: 'inline-block',\n        marginRight: '.18rem',\n        flex: '0 0 auto',\n        width: `${this.espWidth}rem`,\n        height: `${this.espHeight}rem`,\n        lineHeight: `${this.espHeight}rem`,\n        textAlign: 'center',\n        borderRadius: '.08rem',\n        border: '0 solid #cccccc', //#bacf65\n        background: '#eeeeee',\n        color: '#666666',\n        fontSize: '.2rem',\n        userselect: 'none'\n      }\n    }\n  },\n  watch: {\n    espscrollContentStyle(newValue){\n      this.$nextTick(() => {\n        if (this.bs) {\n          this.bs.refresh()\n          setTimeout(()=>{\n            // console.log(`scrollTo: ${this.espWidth * 50 * this.$utils.espIndex}`)\n            this.bs.scrollTo(-(this.espWidth * 50 * this.$utils.espIndex),0)\n          },1000)\n        }\n      })\n    },\n    sourcescrollContentStyle(newValue){\n      this.$nextTick(() => {\n        if (this.sourceBS) {\n          this.sourceBS.refresh()\n        }\n      })\n    },\n    detail (newDetail,oldDetail) {\n      this.queryVodLike(newDetail.id)\n    },\n    //监听computed的属性bfqes\n    bfqes () {\n      this.sourceClick(this.$utils.sourceIndex)\n      this.initSourceScroll()\n    },\n    // 监听espes 的变化 播放剧集发生变化开始取url\n    espes () {\n      console.log('espClick '+this.$utils.espIndex)\n      this.espClick(this.$utils.espIndex)\n      this.espgrid = chunkArrayWithIndex(this.espes,6)\n      this.initScroll()\n    }\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n  .detail-info\n    position: relative\n    padding-left: .2rem\n    padding-right: .2rem\n    padding-top: .2rem\n    .detail-name\n      color: #222222\n      font-size: .35rem\n      font-weight: bold\n    .yatinfo\n      display: block\n      color: #777777\n      font-size: .24rem  \n      padding-top: .16rem\n    .actorinfo\n      display: block\n      color: #777777\n      font-size: .24rem  \n      padding-top: .16rem \n    .contentinfo\n      display: block\n      color: #777777\n      font-size: .24rem  \n      padding-top: .16rem \n      overflow: hidden\n      text-overflow: ellipsis\n      max-height: .64rem\n      line-height: .32rem\n    .handle4btn\n      margin-top: .4rem  \n      .downbtn\n        font-size:.28rem\n        color: #555555\n      .sharebtn\n        font-size:.28rem\n        color: #555555\n      .likebtn\n        font-size:.28rem\n        color: #555555\n    .esplay\n      margin-top: .5rem\n      .detail-estitle\n        display: flex\n        align-items: center\n        font-size: .30rem\n        font-weight: 600\n      .detail-espmark\n        display: flex\n        align-items: center\n        justify-content: flex-end\n        padding-right: .03rem\n        color: #777777\n        font-size:.20rem\n    .detail-sources\n      margin-top: .2rem\n      .sourcescroll-wrapper\n        position relative\n        width 100%\n        white-space nowrap\n        overflow hidden\n        .sourcescroll-content\n          display inline-block\n    .detail-esps\n      margin-top: .2rem\n      .espscroll-wrapper\n        position relative\n        width 100%\n        white-space nowrap\n        overflow hidden\n        .espscroll-content\n          display inline-block\n    .grid-estitle\n      font-size: .32rem\n      font-weight: 600\n      color #333333\n      padding-top: .2rem\n      padding-left: .2rem\n    .gridclose  \n      display: flex\n      align-items: center\n      justify-content: flex-end\n      padding-right: .5rem \n      padding-top: .2rem\n    .detail-espgrid\n      margin-top: .2rem\n      padding-left: .2rem\n      overflow-x: auto\n      white-space: nowrap\n      scrollbar-width: none\n    .detail-espgrid::-webkit-scrollbar\n      display: none\n    .detail-espgrid .van-row\n      display: flex\n      flex-wrap: nowrap\n      margin-bottom: .2rem\n           \n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DetailInfo.vue?vue&type=template&id=220e111d&scoped=true\"\nimport script from \"./DetailInfo.vue?vue&type=script&lang=js\"\nexport * from \"./DetailInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailInfo.vue?vue&type=style&index=0&id=220e111d&prod&lang=stylus&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"220e111d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <detail-header :detail=\"detail\" :playPosMap=\"playPosMap\"></detail-header>\n    <detail-info :detail=\"detail\"></detail-info>\n  </div>\n</template>\n\n<script>\nimport DetailHeader from './components/DetailHeader.vue'\nimport DetailInfo from './components/DetailInfo.vue'\nimport db from 'common/db.js'\n\nexport default {\n   name: 'Detail',\n   components: {\n      DetailHeader,\n      DetailInfo\n   },\n   data () {\n     return {\n        detail:null,\n        playPosMap:{}\n     }\n   },\n   methods: {\n     queryVodHistory(callback) {\n       //+this.$route.params.id 转换为整数  parseInt也可以\n       db.vodhistory.get({vodId: +this.$route.params.id})\n        .then(function(vod) {\n         console.log(`queryVodHistory: ${vod}`)\n            if (vod) {\n               callback(vod)\n            }\n         }).catch(function(error) {\n            console.error(\"查找出错：\", error)\n       })\n     },\n     getDetail () {\n        this.$http.get('/api/spxq',{\n            params: {\n             id: this.$route.params.id\n            }\n        }).then(this.detailSucc)\n     },\n     detailSucc (res) {\n        console.log(res)\n        res = res.data\n        if (res.code == 1000 && res.data) {\n            this.detail = res.data\n        }\n     },\n     nativeJsFunction() {\n      this.$router.back(-1)\n     }\n   },\n   mounted () {\n      this.$utils.espMap.clear()\n      this.$utils.espIndex = 0\n      this.$utils.sourceIndex = 0\n      this.$utils.playTitle = ''\n      this.queryVodHistory((vod)=>{\n         // console.log(`this.$utils.espIndex: ${JSON.stringify(vod)}`)\n         this.$utils.playTitle = vod.esptitle\n         this.$utils.espIndex = vod.playIndex\n         this.$utils.sourceIndex = vod.sourceIndex\n         this.playPos = vod.playPos\n         this.playPosMap[vod.playIndex] = vod.playPos\n      })\n      this.getDetail()\n      window.callbackdetal = this.nativeJsFunction\n   }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=922833f2&scoped=true\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"922833f2\",\n  null\n  \n)\n\nexport default component.exports","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('col'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanRow')],\n  props: {\n    span: [Number, String],\n    offset: [Number, String],\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  computed: {\n    style: function style() {\n      var index = this.index;\n\n      var _ref = this.parent || {},\n          spaces = _ref.spaces;\n\n      if (spaces && spaces[index]) {\n        var _spaces$index = spaces[index],\n            left = _spaces$index.left,\n            right = _spaces$index.right;\n        return {\n          paddingLeft: left ? left + \"px\" : null,\n          paddingRight: right ? right + \"px\" : null\n        };\n      }\n    }\n  },\n  methods: {\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    }\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n    var span = this.span,\n        offset = this.offset;\n    return h(this.tag, {\n      \"style\": this.style,\n      \"class\": bem((_bem = {}, _bem[span] = span, _bem[\"offset-\" + offset] = offset, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots()]);\n  }\n});","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, addUnit } from '../utils';\nimport { inherit } from '../utils/functional'; // Components\n\nimport Info from '../info'; // Types\n\nvar _createNamespace = createNamespace('icon'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction isImage(name) {\n  return name ? name.indexOf('/') !== -1 : false;\n} // compatible with legacy usage, should be removed in next major version\n\n\nvar LEGACY_MAP = {\n  medel: 'medal',\n  'medel-o': 'medal-o',\n  'calender-o': 'calendar-o'\n};\n\nfunction correctName(name) {\n  return name && LEGACY_MAP[name] || name;\n}\n\nfunction Icon(h, props, slots, ctx) {\n  var _props$badge;\n\n  var name = correctName(props.name);\n  var imageIcon = isImage(name);\n\n  if (process.env.NODE_ENV === 'development' && props.info) {\n    console.warn('[Vant] Icon: \"info\" prop is deprecated, use \"badge\" prop instead.');\n  }\n\n  return h(props.tag, _mergeJSXProps([{\n    \"class\": [props.classPrefix, imageIcon ? '' : props.classPrefix + \"-\" + name],\n    \"style\": {\n      color: props.color,\n      fontSize: addUnit(props.size)\n    }\n  }, inherit(ctx, true)]), [slots.default && slots.default(), imageIcon && h(\"img\", {\n    \"class\": bem('image'),\n    \"attrs\": {\n      \"src\": name\n    }\n  }), h(Info, {\n    \"attrs\": {\n      \"dot\": props.dot,\n      \"info\": (_props$badge = props.badge) != null ? _props$badge : props.info\n    }\n  })]);\n}\n\nIcon.props = {\n  dot: Boolean,\n  name: String,\n  size: [Number, String],\n  // @deprecated\n  // should be removed in next major version\n  info: [Number, String],\n  badge: [Number, String],\n  color: String,\n  tag: {\n    type: String,\n    default: 'i'\n  },\n  classPrefix: {\n    type: String,\n    default: bem()\n  }\n};\nexport default createComponent(Icon);","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { inherit } from '../utils/functional'; // Types\n\nvar _createNamespace = createNamespace('info'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Info(h, props, slots, ctx) {\n  var dot = props.dot,\n      info = props.info;\n  var showInfo = isDef(info) && info !== '';\n\n  if (!dot && !showInfo) {\n    return;\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem({\n      dot: dot\n    })\n  }, inherit(ctx, true)]), [dot ? '' : props.info]);\n}\n\nInfo.props = {\n  dot: Boolean,\n  info: [Number, String]\n};\nexport default createComponent(Info);","/**\n * Bind event when mounted or activated\n */\nimport { on, off } from '../utils/dom/event';\nvar uid = 0;\nexport function BindEventMixin(handler) {\n  var key = \"binded_\" + uid++;\n\n  function bind() {\n    if (!this[key]) {\n      handler.call(this, on, true);\n      this[key] = true;\n    }\n  }\n\n  function unbind() {\n    if (this[key]) {\n      handler.call(this, off, false);\n      this[key] = false;\n    }\n  }\n\n  return {\n    mounted: bind,\n    activated: bind,\n    deactivated: unbind,\n    beforeDestroy: unbind\n  };\n}","function flattenVNodes(vnodes) {\n  var result = [];\n\n  function traverse(vnodes) {\n    vnodes.forEach(function (vnode) {\n      result.push(vnode);\n\n      if (vnode.componentInstance) {\n        traverse(vnode.componentInstance.$children.map(function (item) {\n          return item.$vnode;\n        }));\n      }\n\n      if (vnode.children) {\n        traverse(vnode.children);\n      }\n    });\n  }\n\n  traverse(vnodes);\n  return result;\n} // sort children instances by vnodes order\n\n\nexport function sortChildren(children, parent) {\n  var componentOptions = parent.$vnode.componentOptions;\n\n  if (!componentOptions || !componentOptions.children) {\n    return;\n  }\n\n  var vnodes = flattenVNodes(componentOptions.children);\n  children.sort(function (a, b) {\n    return vnodes.indexOf(a.$vnode) - vnodes.indexOf(b.$vnode);\n  });\n}","import { sortChildren } from '../utils/vnodes';\nexport function ChildrenMixin(_parent, options) {\n  var _inject, _computed;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  var indexKey = options.indexKey || 'index';\n  return {\n    inject: (_inject = {}, _inject[_parent] = {\n      default: null\n    }, _inject),\n    computed: (_computed = {\n      parent: function parent() {\n        if (this.disableBindRelation) {\n          return null;\n        }\n\n        return this[_parent];\n      }\n    }, _computed[indexKey] = function () {\n      this.bindRelation();\n\n      if (this.parent) {\n        return this.parent.children.indexOf(this);\n      }\n\n      return null;\n    }, _computed),\n    watch: {\n      disableBindRelation: function disableBindRelation(val) {\n        if (!val) {\n          this.bindRelation();\n        }\n      }\n    },\n    mounted: function mounted() {\n      this.bindRelation();\n    },\n    beforeDestroy: function beforeDestroy() {\n      var _this = this;\n\n      if (this.parent) {\n        this.parent.children = this.parent.children.filter(function (item) {\n          return item !== _this;\n        });\n      }\n    },\n    methods: {\n      bindRelation: function bindRelation() {\n        if (!this.parent || this.parent.children.indexOf(this) !== -1) {\n          return;\n        }\n\n        var children = [].concat(this.parent.children, [this]);\n        sortChildren(children, this.parent);\n        this.parent.children = children;\n      }\n    }\n  };\n}\nexport function ParentMixin(parent) {\n  return {\n    provide: function provide() {\n      var _ref;\n\n      return _ref = {}, _ref[parent] = this, _ref;\n    },\n    data: function data() {\n      return {\n        children: []\n      };\n    }\n  };\n}","import { createNamespace, isDef } from '../utils';\nimport { PopupMixin } from '../mixins/popup';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('popup'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    round: Boolean,\n    duration: [Number, String],\n    closeable: Boolean,\n    transition: String,\n    safeAreaInsetBottom: Boolean,\n    closeIcon: {\n      type: String,\n      default: 'cross'\n    },\n    closeIconPosition: {\n      type: String,\n      default: 'top-right'\n    },\n    position: {\n      type: String,\n      default: 'center'\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function (event) {\n        return _this.$emit(eventName, event);\n      };\n    };\n\n    this.onClick = createEmitter('click');\n    this.onOpened = createEmitter('opened');\n    this.onClosed = createEmitter('closed');\n  },\n  methods: {\n    onClickCloseIcon: function onClickCloseIcon(event) {\n      this.$emit('click-close-icon', event);\n      this.close();\n    }\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    var round = this.round,\n        position = this.position,\n        duration = this.duration;\n    var isCenter = position === 'center';\n    var transitionName = this.transition || (isCenter ? 'van-fade' : \"van-popup-slide-\" + position);\n    var style = {};\n\n    if (isDef(duration)) {\n      var key = isCenter ? 'animationDuration' : 'transitionDuration';\n      style[key] = duration + \"s\";\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"appear\": this.transitionAppear,\n        \"name\": transitionName\n      },\n      \"on\": {\n        \"afterEnter\": this.onOpened,\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"style\": style,\n      \"class\": bem((_bem = {\n        round: round\n      }, _bem[position] = position, _bem['safe-area-inset-bottom'] = this.safeAreaInsetBottom, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots(), this.closeable && h(Icon, {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\",\n        \"name\": this.closeIcon\n      },\n      \"class\": bem('close-icon', this.closeIconPosition),\n      \"on\": {\n        \"click\": this.onClickCloseIcon\n      }\n    })])]);\n  }\n});","import { createNamespace } from '../utils';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('row'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanRow')],\n  props: {\n    type: String,\n    align: String,\n    justify: String,\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    gutter: {\n      type: [Number, String],\n      default: 0\n    }\n  },\n  computed: {\n    spaces: function spaces() {\n      var gutter = Number(this.gutter);\n\n      if (!gutter) {\n        return;\n      }\n\n      var spaces = [];\n      var groups = [[]];\n      var totalSpan = 0;\n      this.children.forEach(function (item, index) {\n        totalSpan += Number(item.span);\n\n        if (totalSpan > 24) {\n          groups.push([index]);\n          totalSpan -= 24;\n        } else {\n          groups[groups.length - 1].push(index);\n        }\n      });\n      groups.forEach(function (group) {\n        var averagePadding = gutter * (group.length - 1) / group.length;\n        group.forEach(function (item, index) {\n          if (index === 0) {\n            spaces.push({\n              right: averagePadding\n            });\n          } else {\n            var left = gutter - spaces[item - 1].right;\n            var right = averagePadding - left;\n            spaces.push({\n              left: left,\n              right: right\n            });\n          }\n        });\n      });\n      return spaces;\n    }\n  },\n  methods: {\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    }\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n    var align = this.align,\n        justify = this.justify;\n    var flex = this.type === 'flex';\n    return h(this.tag, {\n      \"class\": bem((_bem = {\n        flex: flex\n      }, _bem[\"align-\" + align] = flex && align, _bem[\"justify-\" + justify] = flex && justify, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots()]);\n  }\n});","/**\n * bem helper\n * b() // 'button'\n * b('text') // 'button__text'\n * b({ disabled }) // 'button button--disabled'\n * b('text', { disabled }) // 'button__text button__text--disabled'\n * b(['disabled', 'primary']) // 'button button--disabled button--primary'\n */\nfunction gen(name, mods) {\n  if (!mods) {\n    return '';\n  }\n\n  if (typeof mods === 'string') {\n    return \" \" + name + \"--\" + mods;\n  }\n\n  if (Array.isArray(mods)) {\n    return mods.reduce(function (ret, item) {\n      return ret + gen(name, item);\n    }, '');\n  }\n\n  return Object.keys(mods).reduce(function (ret, key) {\n    return ret + (mods[key] ? gen(name, key) : '');\n  }, '');\n}\n\nexport function createBEM(name) {\n  return function (el, mods) {\n    if (el && typeof el !== 'string') {\n      mods = el;\n      el = '';\n    }\n\n    el = el ? name + \"__\" + el : name;\n    return \"\" + el + gen(el, mods);\n  };\n}","var camelizeRE = /-(\\w)/g;\nexport function camelize(str) {\n  return str.replace(camelizeRE, function (_, c) {\n    return c.toUpperCase();\n  });\n}\nexport function padZero(num, targetLength) {\n  if (targetLength === void 0) {\n    targetLength = 2;\n  }\n\n  var str = num + '';\n\n  while (str.length < targetLength) {\n    str = '0' + str;\n  }\n\n  return str;\n}","/**\n * Use scopedSlots in Vue 2.6+\n * downgrade to slots in lower version\n */\nexport var SlotsMixin = {\n  methods: {\n    slots: function slots(name, props) {\n      if (name === void 0) {\n        name = 'default';\n      }\n\n      var $slots = this.$slots,\n          $scopedSlots = this.$scopedSlots;\n      var scopedSlot = $scopedSlots[name];\n\n      if (scopedSlot) {\n        return scopedSlot(props);\n      }\n\n      return $slots[name];\n    }\n  }\n};","/**\n * Create a basic component with common options\n */\nimport '../../locale';\nimport { isFunction } from '..';\nimport { camelize } from '../format/string';\nimport { SlotsMixin } from '../../mixins/slots';\nimport Vue from 'vue';\n\nfunction install(Vue) {\n  var name = this.name;\n  Vue.component(name, this);\n  Vue.component(camelize(\"-\" + name), this);\n} // unify slots & scopedSlots\n\n\nexport function unifySlots(context) {\n  // use data.scopedSlots in lower Vue version\n  var scopedSlots = context.scopedSlots || context.data.scopedSlots || {};\n  var slots = context.slots();\n  Object.keys(slots).forEach(function (key) {\n    if (!scopedSlots[key]) {\n      scopedSlots[key] = function () {\n        return slots[key];\n      };\n    }\n  });\n  return scopedSlots;\n} // should be removed after Vue 3\n\nfunction transformFunctionComponent(pure) {\n  return {\n    functional: true,\n    props: pure.props,\n    model: pure.model,\n    render: function render(h, context) {\n      return pure(h, context.props, unifySlots(context), context);\n    }\n  };\n}\n\nexport function createComponent(name) {\n  return function (sfc) {\n    if (isFunction(sfc)) {\n      sfc = transformFunctionComponent(sfc);\n    }\n\n    if (!sfc.functional) {\n      sfc.mixins = sfc.mixins || [];\n      sfc.mixins.push(SlotsMixin);\n    }\n\n    sfc.name = name;\n    sfc.install = install;\n    return sfc;\n  };\n}","import { isDef, isObject } from '.';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction assignKey(to, from, key) {\n  var val = from[key];\n\n  if (!isDef(val)) {\n    return;\n  }\n\n  if (!hasOwnProperty.call(to, key) || !isObject(val)) {\n    to[key] = val;\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    to[key] = deepAssign(Object(to[key]), from[key]);\n  }\n}\n\nexport function deepAssign(to, from) {\n  Object.keys(from).forEach(function (key) {\n    assignKey(to, from, key);\n  });\n  return to;\n}","export default {\n  name: '姓名',\n  tel: '电话',\n  save: '保存',\n  confirm: '确认',\n  cancel: '取消',\n  delete: '删除',\n  complete: '完成',\n  loading: '加载中...',\n  telEmpty: '请填写电话',\n  nameEmpty: '请填写姓名',\n  nameInvalid: '请输入正确的姓名',\n  confirmDelete: '确定要删除吗',\n  telInvalid: '请输入正确的手机号',\n  vanCalendar: {\n    end: '结束',\n    start: '开始',\n    title: '日期选择',\n    confirm: '确定',\n    startEnd: '开始/结束',\n    weekdays: ['日', '一', '二', '三', '四', '五', '六'],\n    monthTitle: function monthTitle(year, month) {\n      return year + \"\\u5E74\" + month + \"\\u6708\";\n    },\n    rangePrompt: function rangePrompt(maxRange) {\n      return \"\\u9009\\u62E9\\u5929\\u6570\\u4E0D\\u80FD\\u8D85\\u8FC7 \" + maxRange + \" \\u5929\";\n    }\n  },\n  vanCascader: {\n    select: '请选择'\n  },\n  vanContactCard: {\n    addText: '添加联系人'\n  },\n  vanContactList: {\n    addText: '新建联系人'\n  },\n  vanPagination: {\n    prev: '上一页',\n    next: '下一页'\n  },\n  vanPullRefresh: {\n    pulling: '下拉即可刷新...',\n    loosing: '释放即可刷新...'\n  },\n  vanSubmitBar: {\n    label: '合计：'\n  },\n  vanCoupon: {\n    unlimited: '无使用门槛',\n    discount: function discount(_discount) {\n      return _discount + \"\\u6298\";\n    },\n    condition: function condition(_condition) {\n      return \"\\u6EE1\" + _condition + \"\\u5143\\u53EF\\u7528\";\n    }\n  },\n  vanCouponCell: {\n    title: '优惠券',\n    tips: '暂无可用',\n    count: function count(_count) {\n      return _count + \"\\u5F20\\u53EF\\u7528\";\n    }\n  },\n  vanCouponList: {\n    empty: '暂无优惠券',\n    exchange: '兑换',\n    close: '不使用优惠券',\n    enable: '可用',\n    disabled: '不可用',\n    placeholder: '请输入优惠码'\n  },\n  vanAddressEdit: {\n    area: '地区',\n    postal: '邮政编码',\n    areaEmpty: '请选择地区',\n    addressEmpty: '请填写详细地址',\n    postalEmpty: '邮政编码格式不正确',\n    defaultAddress: '设为默认收货地址',\n    telPlaceholder: '收货人手机号',\n    namePlaceholder: '收货人姓名',\n    areaPlaceholder: '选择省 / 市 / 区'\n  },\n  vanAddressEditDetail: {\n    label: '详细地址',\n    placeholder: '街道门牌、楼层房间号等信息'\n  },\n  vanAddressList: {\n    add: '新增地址'\n  }\n};","import Vue from 'vue';\nimport { deepAssign } from '../utils/deep-assign';\nimport defaultMessages from './lang/zh-CN';\nvar proto = Vue.prototype;\nvar defineReactive = Vue.util.defineReactive;\ndefineReactive(proto, '$vantLang', 'zh-CN');\ndefineReactive(proto, '$vantMessages', {\n  'zh-CN': defaultMessages\n});\nexport default {\n  messages: function messages() {\n    return proto.$vantMessages[proto.$vantLang];\n  },\n  use: function use(lang, messages) {\n    var _this$add;\n\n    proto.$vantLang = lang;\n    this.add((_this$add = {}, _this$add[lang] = messages, _this$add));\n  },\n  add: function add(messages) {\n    if (messages === void 0) {\n      messages = {};\n    }\n\n    deepAssign(proto.$vantMessages, messages);\n  }\n};","import { get, isFunction } from '..';\nimport { camelize } from '../format/string';\nimport locale from '../../locale';\nexport function createI18N(name) {\n  var prefix = camelize(name) + '.';\n  return function (path) {\n    var messages = locale.messages();\n    var message = get(messages, prefix + path) || get(messages, path);\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return isFunction(message) ? message.apply(void 0, args) : message;\n  };\n}","import { createBEM } from './bem';\nimport { createComponent } from './component';\nimport { createI18N } from './i18n';\nexport function createNamespace(name) {\n  name = 'van-' + name;\n  return [createComponent(name), createBEM(name), createI18N(name)];\n}","import { isServer } from '..';\n// eslint-disable-next-line import/no-mutable-exports\nexport var supportsPassive = false;\n\nif (!isServer) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', {\n      // eslint-disable-next-line getter-return\n      get: function get() {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener('test-passive', null, opts); // eslint-disable-next-line no-empty\n  } catch (e) {}\n}\n\nexport function on(target, event, handler, passive) {\n  if (passive === void 0) {\n    passive = false;\n  }\n\n  if (!isServer) {\n    target.addEventListener(event, handler, supportsPassive ? {\n      capture: false,\n      passive: passive\n    } : false);\n  }\n}\nexport function off(target, event, handler) {\n  if (!isServer) {\n    target.removeEventListener(event, handler);\n  }\n}\nexport function stopPropagation(event) {\n  event.stopPropagation();\n}\nexport function preventDefault(event, isStopPropagation) {\n  /* istanbul ignore else */\n  if (typeof event.cancelable !== 'boolean' || event.cancelable) {\n    event.preventDefault();\n  }\n\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}","function isWindow(val) {\n  return val === window;\n} // get nearest scroll element\n// https://github.com/vant-ui/vant/issues/3823\n\n\nvar overflowScrollReg = /scroll|auto|overlay/i;\nexport function getScroller(el, root) {\n  if (root === void 0) {\n    root = window;\n  }\n\n  var node = el;\n\n  while (node && node.tagName !== 'HTML' && node.tagName !== 'BODY' && node.nodeType === 1 && node !== root) {\n    var _window$getComputedSt = window.getComputedStyle(node),\n        overflowY = _window$getComputedSt.overflowY;\n\n    if (overflowScrollReg.test(overflowY)) {\n      return node;\n    }\n\n    node = node.parentNode;\n  }\n\n  return root;\n}\nexport function getScrollTop(el) {\n  var top = 'scrollTop' in el ? el.scrollTop : el.pageYOffset; // iOS scroll bounce cause minus scrollTop\n\n  return Math.max(top, 0);\n}\nexport function setScrollTop(el, value) {\n  if ('scrollTop' in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\nexport function getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\nexport function setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n} // get distance from element top to page top or scroller top\n\nexport function getElementTop(el, scroller) {\n  if (isWindow(el)) {\n    return 0;\n  }\n\n  var scrollTop = scroller ? getScrollTop(scroller) : getRootScrollTop();\n  return el.getBoundingClientRect().top + scrollTop;\n}\nexport function getVisibleHeight(el) {\n  if (isWindow(el)) {\n    return el.innerHeight;\n  }\n\n  return el.getBoundingClientRect().height;\n}\nexport function getVisibleTop(el) {\n  if (isWindow(el)) {\n    return 0;\n  }\n\n  return el.getBoundingClientRect().top;\n}","import { isDef, inBrowser } from '..';\nimport { isNumeric } from '../validate/number';\nexport function addUnit(value) {\n  if (!isDef(value)) {\n    return undefined;\n  }\n\n  value = String(value);\n  return isNumeric(value) ? value + \"px\" : value;\n} // cache\n\nvar rootFontSize;\n\nfunction getRootFontSize() {\n  if (!rootFontSize) {\n    var doc = document.documentElement;\n    var fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize;\n    rootFontSize = parseFloat(fontSize);\n  }\n\n  return rootFontSize;\n}\n\nfunction convertRem(value) {\n  value = value.replace(/rem/g, '');\n  return +value * getRootFontSize();\n}\n\nfunction convertVw(value) {\n  value = value.replace(/vw/g, '');\n  return +value * window.innerWidth / 100;\n}\n\nfunction convertVh(value) {\n  value = value.replace(/vh/g, '');\n  return +value * window.innerHeight / 100;\n}\n\nexport function unitToPx(value) {\n  if (typeof value === 'number') {\n    return value;\n  }\n\n  if (inBrowser) {\n    if (value.indexOf('rem') !== -1) {\n      return convertRem(value);\n    }\n\n    if (value.indexOf('vw') !== -1) {\n      return convertVw(value);\n    }\n\n    if (value.indexOf('vh') !== -1) {\n      return convertVh(value);\n    }\n  }\n\n  return parseFloat(value);\n}","export function isNumeric(val) {\n  return /^\\d+(\\.\\d+)?$/.test(val);\n}\nexport function isNaN(val) {\n  if (Number.isNaN) {\n    return Number.isNaN(val);\n  } // eslint-disable-next-line no-self-compare\n\n\n  return val !== val;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nvar inheritKey = ['ref', 'key', 'style', 'class', 'attrs', 'refInFor', 'nativeOn', 'directives', 'staticClass', 'staticStyle'];\nvar mapInheritKey = {\n  nativeOn: 'on'\n}; // inherit partial context, map nativeOn to on\n\nexport function inherit(context, inheritListeners) {\n  var result = inheritKey.reduce(function (obj, key) {\n    if (context.data[key]) {\n      obj[mapInheritKey[key] || key] = context.data[key];\n    }\n\n    return obj;\n  }, {});\n\n  if (inheritListeners) {\n    result.on = result.on || {};\n\n    _extends(result.on, context.data.on);\n  }\n\n  return result;\n} // emit event\n\nexport function emit(context, eventName) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var listeners = context.listeners[eventName];\n\n  if (listeners) {\n    if (Array.isArray(listeners)) {\n      listeners.forEach(function (listener) {\n        listener.apply(void 0, args);\n      });\n    } else {\n      listeners.apply(void 0, args);\n    }\n  }\n} // mount functional component\n\nexport function mount(Component, data) {\n  var instance = new Vue({\n    el: document.createElement('div'),\n    props: Component.props,\n    render: function render(h) {\n      return h(Component, _extends({\n        props: this.$props\n      }, data));\n    }\n  });\n  document.body.appendChild(instance.$el);\n  return instance;\n}","import Vue from 'vue';\nexport { createNamespace } from './create';\nexport { addUnit } from './format/unit';\nexport var inBrowser = typeof window !== 'undefined';\nexport var isServer = Vue.prototype.$isServer; // eslint-disable-next-line @typescript-eslint/no-empty-function\n\nexport function noop() {}\nexport function isDef(val) {\n  return val !== undefined && val !== null;\n}\nexport function isFunction(val) {\n  return typeof val === 'function';\n}\nexport function isObject(val) {\n  return val !== null && typeof val === 'object';\n}\nexport function isPromise(val) {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n}\nexport function get(object, path) {\n  var keys = path.split('.');\n  var result = object;\n  keys.forEach(function (key) {\n    var _result$key;\n\n    result = isObject(result) ? (_result$key = result[key]) != null ? _result$key : '' : '';\n  });\n  return result;\n}\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @function isEmpty\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\n\nexport function isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n\n  if (typeof value !== 'object') {\n    return true;\n  }\n\n  return Object.keys(value).length === 0;\n}","require('../../style/base.css');\nrequire('../index.css');","require('../../style/base.css');\nrequire('../../info/index.css');\nrequire('../index.css');","require('../../style/base.css');\nrequire('../../overlay/index.css');\nrequire('../../info/index.css');\nrequire('../../icon/index.css');\nrequire('../index.css');","require('../../style/base.css');\nrequire('../index.css');","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}"],"names":["_extends","Object","assign","bind","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","this","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","indexOf","Array","e","concat","f","g","h","i","mergeFn","module","exports","render","_vm","_c","_self","attrs","detail","playPosMap","staticRenderFns","_m","staticClass","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread2","target","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","obj2","constructor","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","protoProps","staticProps","value","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","o2","__proto__","p","p2","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","Derived","hasNativeReflectConstruct","result","Super","NewTarget","_superPropBase","property","_get","get","receiver","base","desc","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","isArray","_arrayLikeToArray","iter","from","minLen","n","toString","slice","name","test","len","arr2","_toPrimitive","input","hint","prim","toPrimitive","res","String","Number","arg","XG_DEBUG_OPEN","window","location","href","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","_console","_len","optionalParams","_key","console","log","logWarn","_console2","_len2","_key2","logError","_console3","_fun","_len3","_key3","bindDebug","player","XgplayerTimeRange","XgplayerTimeRange2","bufferedList","index","start","end","util","checkIsIn","list","isObject","type","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","args","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","setTimeout","cancelTimer","id","clearTimeout","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","Math","min","shouldInvoke","Date","now","trailingEdge","cancel","flush","pending","debounced","isInvoking","max","throttle","getLang","lang","document","documentElement","getAttribute","navigator","language","toLocaleLowerCase","checkIsCurrentVideo","element","playerId","pid","tagName","createDom","el","tpl","cname","dom","createElement","className","innerHTML","item","setAttribute","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","match","RegExp","replace","split","add","removeClass","remove","reg","toggleClass","classNames","_arguments","_loop","i2","typeOf","map","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","deepCopy","dst","src","Node","deepMerge","_dst$key","getBgImage","url","backgroundImage","copyDom","nodeType","back","attributes","node","setInterval","context","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","w","unit","btn","style","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","display","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","styleArr","filterStyleFromText","_cssText","cssText","ret","remain","getStyleFromCsstext","preloadImg","onload","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","body","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","diff","buffered2","_i","buf2len","buf2end","getEventPos","zoom","x","y","callback","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","getTime","performance","uuid","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","root","appendChild","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","fn","lastIndex","convertDeg","abs","getIndexByTime","segments","_index","getOffsetCurrentTime","currentTime","_segments$_index","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","android","ios","H264_MIMETYPES","sniffer","device","os","isPc","browser","ua","userAgent","toLowerCase","ie","firefox","chrome","opera","safari","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","Errors2","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","media","ended","_player$media","readyState","networkState","_errc","code","playerVersion","stack","host","_r","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","emit","errorHandler","getVideoEventHandler","_err","eData","originalEvent","timeStamp","paused","isInternalOp","_internalOp","muted","volume","vtype","removeInnerOP","_currentTime","_rate","playbackRate","_duration","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","_EventEmitter","MediaProxy2","_super","_this","_hasStart","mediaConfig","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","defaultPlaybackRate","attachVideoEvents","middlewares","_this2","_this3","_this4","_evHandlers","funName","charAt","toUpperCase","on","addEventListener","_this5","removeEventListener","off","urls","_this6","removeAttribute","load","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","removeChild","_e","k","pause","detachVideoEvents","removeAllListeners","set","play","range","isTrue","_buffered","crossOrigin","defaultMuted","status","rate","Infinity","played","preload","seekable","seeking","onWaiting","_detachSourceEvents","_attachSourceEvents","vol","data","_get2","_get3","_get4","_get5","_len4","_key4","INDEXDB","INDEXDB2","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","request","open","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deleteDatabase","close","storename","store","objectStore","put","delete","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","then","args2","hook","hookName","preset","pre","__hooks","_preset$pre","pluginName","_this$__hooks$hookNam","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","presetHooks","delHooksDescriptor","runHooks","_len5","_key5","_obj$__hooks$hookName","showErrorMsg","BasePlugin","BasePlugin2","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","logger","i18nKeys","domEventType","once","_this$player","action","params","nParams","emitUserAction","registerPlugin","getPlugin","offAll","destroy","unRegisterPlugin","Obj","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","isUrl","mergeIconClass","icon","class","mergeIconAttr","attr","createIcon","newIcon","Element","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","registerTextObj","textConfig","langText","Plugin","_BasePlugin","Plugin2","__delegates","_parent","_el","parent","_orgicons","registerIcons","defaultTexConfig","registerLanguageTexts","renderStr","Error","insert","setAttr","setStyle","__registerChildren","_children","_Plugin","_plugin","checkChildren","langKey","langTextShow","qs","eventType","bindEL","delegate","unbindEL","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","find","_this7","parentNode","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","capture","dels","ret2","ResizeObserver","ResizeObserver2","entries","t","__runHandler","__handlers","observer","__trigger","observe","_pid","unobserve","disconnect","resizeObserver","addObserver","unObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","isUserActive","_player","_originalOptions","_plugins","checkPlayerRoot","_keys","_p","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","position","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","disable","defaultConfig","unRegister","_instance","afterCreate","__destroy","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","prevTask","_loadingPlugins","all","pluginsRet","pName","beforePlayerInit","afterInit","afterPlayerInit","setLang","updateLang","reRender","_pList","onPluginsReady","setCurrentUserActive","isActive","getCurrentUseActiveId","_Object$keys","_isUseActive","isUseActive","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","LOADING","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","MOBILE","MINI","getDefaultConfig","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","marginControls","fullscreenTarget","screenShot","pip","download","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","usePreset","Preset","_player$config$plugin","_player$config$ignore","presetInst","_presetInst","_presetInst$plugins","_presetInst$ignores","_presetInst$icons","_presetInst$i18n","_ci18n","Controls","Controls2","_assertThisInitialize","focus","autoHide","_assertThisInitialize2","_this$config","left","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","blur","ignorePaused","unbind","_this$config2","initShow","EN","LANG","TEXT","network","mse","parse","decoder","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","extend","i18nTextList","i18nLangs","lang2","keyLang","_i18nLangs","use","langData","_clang","texts","_ret$langKeys","pId","I18N","zh","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","Player","_MediaProxy","Player2","_config","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","_fullscreenEl","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","rootInit","_initDOM","_this$config2$definit","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","vid","line","handle","_initBaseDoms","XgVideoProxy","_nVideo","_root","_this$config3","_width","_height","_this$root$getBoundin","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","mousemoveFunc","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","_retPlugin","exits","_getRootByPosition","removedFromConfig","deregister","removePluginFromConfig","_this8","_furl","_startInit","fileName","lineNumber","_this9","_src","curTime","isPaused","_error","_canplay","_this10","playPromise","onError","_errorTimer","_this11","_this12","_this13","_this$config4","isSeekedPlay","_status","_this14","_this$config5","_this15","bitrate","switchURL","seamless","reloadFunc","_this16","REPLAY2","ERROR2","clsList","mediaPause","cls","_this17","unregisterPlugins","isResetConfig","resetState","pn","de","_this18","updateAcc","_unbindEvents","exitFullscreen","cList","_this19","onPlay","_this20","cur","_srcRet","rootClass","pClassName","_orgPCss","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","_class","_this$config$fullscre","useCssFullscreen","_this$config$fullscre2","setRotateDeg","_rootStyle","innerHeight","deg","orientation","delay","onFocus","onBlur","_this21","isLock","_ref","_ref$ignorePaused","_this22","_this23","videoHeight","endType","_at","_this$videoPos","_pi","videoWidth","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","resizePosition","_this24","setConfig","_this25","_this26","containerSize","_this$media","_this$config6","controlsHeight","videoFit","fit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","preProcessUrl2","bool","_this27","curDef","targetDef","_this27$curDefinition","changeDefinition","total","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","_this$_accPlayed","isMuted","addInnerOP","LOG_TYPES","FIRST_FRAME","WAIT_START","WAIT_END","SEEK_START","SEEK_END","XGLogger","XGLogger2","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_this2$_state","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","_this$_state","costTime","waitTimeout","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","Replay2","replay","__handleReplay","preventDefault","path","Poster","Poster2","isEndedShow","hideCanplay","onTimeUpdate","_bg","fillMode","getBgSize","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","Start2","autoPlayStart","onPlayPause","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","isAnimate","endShow","_animateId","switchStatus","isShowPause","isShowEnd","endAnimate","disableAnimate","animate","Enter","Enter2","innerHtml","HTMLElement","barStr","logo","xgIconTips","textKey","isShow","MiniScreenIcon","MiniScreenIcon2","getMini","exitMini","onClick","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","size","innerWidth","outerWidth","outerHeight","measurement","getStyle","elem","getSize","isBorderBox","boxSizing","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","START","MOVE","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","Draggabilly2","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","events","_boundPointerEvents","onUp","positionDrag","webKitTransform","dragStart","dragMove","dragEnd","touchIdentifier","pointerId","dragCancel","pointer","_getPosition","maxY","maxX","setLeftTop","_bindPostStartEvents","_unbindPostStartEvents","presetInfo","moveVector","hasDragStarted","dragRealStart","_this$startPos","_dragPointerMove","dragX","dragY","checkContain","_unbindStartEvent","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","MiniScreen2","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","onCancelClick","onCenterClick","disableDrag","_draggabilly","isScrollSwitch","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","PCPlugin2","_this$playerConfig","_assertThisInitialize3","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","_assertThisInitialize4","getFullscreen","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","_this$player2","PRESS","PRESS_END","DOUBlE_CLICK","CLICK","TOUCH_MOVE","TOUCH_START","TOUCH_END","TOUCHS","move","MOUSES","pressDelay","dbClickDelay","disablePress","disableDbClick","miniStep","needPreventDefault","Touche","Touche2","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","handlers","touchend","touchmove","SeekTipIcon","ACTIONS","AUTO","PLAYBACK","LIGHT","MobilePlugin","MobilePlugin2","touche","getTouche","disableGesture","isStart","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","endLastMove","resetSeekState","resetPos","changeAction","checkIsRootTarget","light","timer","seekTipIcon","closedbClick","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","moveDuration","_this2$pos","eventsMap","pressend","click","doubleclick","disableActive","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","backgroundColor","color","disableTimeProgress","startPlugin","recover","mold","updateTime","updateBrightness","updateVolume","lastScope","seek","toFixed","hideControlsEnd","sendUseAction","focusVideoClick","dbClickHandler","pressRate","percent","updatePercent","isTouchingSeek","maxDarkness","isForward","focusHide","updateThumbnails","gradient","disableSeekIcon","miniYPer","darkness","isDisableTag","isContentEditable","Keyboard","Keyboard2","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","extendkeyCodeMap","keyCodeMap","key1","seekStep","space","noBodyTarget","up","down","pressAction","esc","mergekeyCodeMap","isPress","tt","onKeydown","onBodyKeyDown","checkVisible","rec","bottom","isBodyTarget","flag","offsetCurrentTime","offsetDuration","_time","_step","_seekTime","handleKeyCode","curKeyCode","_this$keyCodeMap$arr$","_action","loadingIcon","Loading","Loading2","TPL","styleKey","InnerList","InnerList2","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","newIndex","curIndex","millisecond","progressList","curPFrag","per","newPIndex","findIndex","unHightLight","setHightLight","_data2","preIndex","fragment","_data","cached","updateDuration","updateProgress","newCIndex","newOptions","_this$fragConfig","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","Progress2","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","isPlaying","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","_assertThisInitialize5","onMoveEnd","_mouseUpHandlerHook","isEnter","_assertThisInitialize6","miniStartStep","_mouseMoveHandlerHook","_assertThisInitialize7","unlock","_this$pos","useable","__dragCallBacks","direc","_disableBlur","innerList","reset","outer","updateFocus","_initInner","isDragingSeek","isMobile","onTimeupdate","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","pauseAutoHide","recoverAutoHide","isCloseClickSeek","realTime","endedDiff","rLeft","timeIcon","resetActive","notSeek","_end","bufferedPoint","thumbnailPlugin","controlsMode","Icon","Icon2","_onMouseenter","_onMouseLeave","Play","_IconPlugin","Play2","btnClick","tipDom","changeLangTextKey","BackSVG","TopBackIcon","TopBackIcon2","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","Fullscreen2","rotateFullscreen","handleFullscreen","toggleFullScreen","tipsDom","needBackIcon","topBackIcon","_onOrientationChange","getCssFullscreen","getRotateFullscreen","switchCallback","e2","Time","Time2","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","timeStr","updateState","TimeSegmentsControls","TimeSegmentsControls2","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","_this$curPos","_this$player3","getSeekTime","_this$player4","_onDurationChange","_onLoadedData","_onPlay","newConfig","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","_timeSegments$index","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","Volume2","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","miniVolume","isShowVolumeValue","RotateSvg","Rotate","Rotate2","onBtnClick","innerRotate","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","clockwise","videoRotateDeg","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","INLINE","PIP2","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","enterPIPCallback","pipWindow","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","checkWebkitSetPresentationMode","webkitSetPresentationMode","requestPictureInPicture","reason","exitPictureInPicture","pictureInPictureElement","_isEnabled","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","Next","PlayNextIcon","PlayNextIcon2","idx","urlList","nextHandler","playNext","changeSrc","DownloadSvg","Download","Download2","dUrl","newUrl","getAbsoluteURL","_handler","div","ScreenShot","ScreenShot2","screenshotIcon","initSize","fitVideo","onClickBtn","filename","saveLink","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","saveScreenShot","option","quality","createCanvas","dx","dy","dw","dh","mediaRatio","canvasRatio","sx","sy","sw","sh","drawImage","toDataURL","OptionList","OptionList2","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","delegateTarget","changeCallback","curSelected","getAttrObj","LIST_TYPES","SIDE","MIDDLE","TOGGLE_MODES","HOVER","getListClassName","listType","IS_MOBILE","OptionsIcon","OptionsIcon2","switchActiveState","toggleMode","toggle","enterType","isIcons","curValue","hidePortrait","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","focusAwhile","curItem","changeCurrentText","isItemClickHide","getTextByLang","itemList","_this$player$root$get","_maxH","heightLimit","_this$player$root$get2","listStyle","DefinitionIcon","_OptionsIcon","DefinitionIcon2","changeDefinitionList","definitionList","items","showItem","PlaybackRate","PlaybackRate2","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","CssFullScreen2","isCssfullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","ErrorPlugin2","errorRetry","handleError","retry","errorNote","Prompt","Prompt2","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","interval","highlight","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","parentElement","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","_t2","getAllDotsDom","getDotDom","initDotsAPI","ispots","progressDot","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","ProgressPreview2","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","enableBlur","focusDot","disableBlur","videoPreview","videothumbnail","handlerSpotClick","_event","transformTimeHook","setTimeContent","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","updatePosition","cwidth","isflex","lwidth","showTips","isFocusDots","defaultText","hideTips","updateTimeText","updateLinePos","thumbnailConfig","isShowThumbnail","tRoot","isShowCoverPreview","totalWidth","widthPerSeconds","_activeDotId","isDefault","textContent","removeCallBack","miniWidth","Thumbnail","Thumbnail2","ratio","_preloadMark","initThumbnail","_this2$config","pic_num","containerWidth","containerHeight","row","col","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","getUrlByIndex","backgroundPosition","customStyle","getPosition","getBgColor","MiniProgress","MiniProgress2","MODES","REAL_TIME","FRAME_RATE","POSTER","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","DynamicBg2","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","dynamicBg","frameRate","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","supportCanvasFilter","isInnerRender","webkitFilter","mask","addMask","background","maskBg","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","_this$canvas$getBound","image","sourcePI","_this$canvas$getBound2","multiple","ZH","INFO","Stats","Stats2","actionData","_getTime","payload","_stats","stats","getStats","blob","Blob","JSON","stringify","downloadUrl","URL","createObjectURL","link","disabled","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","profile","_infoProfile","_info","startMs","endMs","dur","cat","ph","tid","ts","_this$_stats","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","allStat","msgs","stat","traceEvents","GapJump","GapJump2","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","seekEnd","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","WaitingTimeoutJump2","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","TestSpeed2","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","XMLHttpRequest","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","send","saveSpeedMax","shift","realTimeSpeed","getSpeedName","updateSpeed","getSpeed","avgSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","FpsDetect2","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","tick","curDecodedFrames","checkInterval","hidden","enoughBuffer","bufs","stuckCount","_reset","reportFrame","_this$player$media$ge","currTime","curDecoded","_checkStuck","DefaultPreset","DefaultPreset2","_this$plugins","_this$plugins2","_this$plugins3","simulateMode","vodPlugins","contolsIcons","layers","PresetPlayer","_Player","PresetPlayer2","_iterableToArrayLimit","_arr","_n","done","return","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","value2","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","next2","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","reverse","pop","skipTempReset","prev","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_slicedToArray","_arrayWithHoles","_nonIterableRest","EVENT","TTFB","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","ANALYZE_DURATION_EXCEEDED","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","_construct","Parent","Class","Parent2","Class2","Function","_isNativeFunction","_cache","Map","has","Wrapper","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","step","LogCacheLevel","LOG_MAX_SIZE","SIMPLE_TYPE","Logger","Logger2","_prefix","logCacheLevel","logMaxSize","logSize","logTextArray","logCache","DEBUG","LOG","WARN","_console4","logText","finLogText","logable","delLog","_console5","group","table","groupEnd","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","_ERR_CODE","Buffer","Buffer2","buf","maxHole","buffers2","l","bufLen","lastEnd","buffers","nextStart","nextEnd","prevStart","prevEnd","behind","remaining","totalLength","ERR","MANIFEST","NETWORK","NETWORK_TIMEOUT","NETWORK_FORBIDDEN","NETWORK_NOTFOUND","NETWROK_RANGE_NOT_SATISFIABLE","DEMUX","REMUX","MEDIA","DRM","OTHER","RUNTIME","SUB_TYPES","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","subType","origin","_error$response","isTimeout","response","httpCode","isMediaPlaying","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","concatUint8Array","Uint8Array","byteLength","prevLen","sleep","SeiService","SeiService2","emitter","Set","sei","_seiSet","toThrow","GapService","GapService2","maxJumpDistance","seekThreshold","_prevCurrentTime","timescale","_timescale","encodeType","audioCodec","videoCodec","fps","samplerate","channelCount","gop","encode","_data$onMetaData","onMetaData","framerate","track","codec","fpsNum","fpsDen","sampleRate","responseUrl","samples","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","downloadSpeed","speedInfo","bufferEnd","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","createPublicPromise","rej","promise","used","isBrowser","getMediaSource","OP_NAME","APPEND","REMOVE","UPDATE_DURATION","MSE","MSE2","queue","_queue","op","opName","costtime","_opst","_startQueue","bindMedia","openLog","enable","_this$mediaSource","mediaSource","_url","_this$mediaSource2","_mseFullFlag","VIDEO","isReduceDuration","_sourceBuffer","_enqueueBlockingOp","_openPromise","isOpened","ms","onOpen","onOpen2","_st","_bindMedia","_callee","_context","unbindMedia","revokeObjectURL","_unbindMedia","_callee2","hasMetadata","mseOpen","_context2","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","mimeType","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","changeType","_enqueueOp","createSource","buffer","_this8$_sourceBuffer$","appendBuffer","endTime","isInsertHead","allClear","_this$_queue$type","initOpque","isinit","setLiveSeekableRange","_enqueueBlockingOp2","_callee3","types","waiters","_context3","prom","updating","_x2","_x3","_x4","timestampOffset","abort","TrackType","AUDIO","METADATA","VideoCodecType","AVC","HEVC","AudioCodecType","AAC","G711PCMA","G711PCMU","WarningType","LARGE_AV_SHIFT","LARGE_VIDEO_GAP","LARGE_VIDEO_GAP_BETWEEN_CHUNK","LARGE_AUDIO_GAP","AUDIO_FILLED","AUDIO_DROPPED","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","isFirefox","AAC2","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","LARGE_AV_FIRST_FRAME_GAP","AUDIO_GAP_OVERLAP_THRESHOLD_COUNT","MAX_SILENT_FRAME_DURATION","AUDIO_EXCETION_LOG_EMIT_DURATION","MAX_VIDEO_FRAME_DURATION","MAX_DTS_DELTA_WITH_NEXT_CHUNK","TsFixer","TsFixer2","audioTrack","metadataTrack","_baseDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","exist","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","_samples$i","prevDts","first","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","videoBaseDts","baseDts","delta","isFinite","calc","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","j","silentSample","MAX_SIZE","pow","readBig16","readBig24","readBig32","readBig64","getAvcCodec","codecs","NALu","NALu2","dataLen","isHevc","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_bytesAvailable","_loadWord","availableBytes","workingBytes","_word","DataView","getUint32","_bitsAvailable","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","deltaScale","lastScale","nextScale","readEG","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","aspectRatioIdc","numUnitsInTick","timeScale","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","VideoTrack","VideoTrack2","sequenceNumber","present","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","_pushVideoSample","lastSample","_parseAacData","_track$samples","parseADTS","sampleRateIndex","headerDataLen","startPrefix","pesLen","ptsDtsFlags","MP4Parser","MP4Parser2","names","headerSize","fromCharCode","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","mdhd","hdlr","minf","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","avc1","hvc1","mp4a","alaw","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","bodyStart","parseVisualSampleEntry","bodyData","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","_i3","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","v","_vTrackId","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","segmentDuration","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","videoData","audioData","videoExist","audioExist","moovBox","moovToTrack","moofBox","moofToSamples","baseOffset","sampleData","_moovBox","_moofBox","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","trak2","tkhd2","mdia2","mdhd2","hdlr2","HDLR_TYPES","minf2","VMHD","SMHD","DINF","extBox","stbl2","STTS","STSC","STSZ","STCO","avc1hev1","stsd2","_concat$concat","avcc","btrt","charCodeAt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","esds2","mvex2","trex","trex2","moof2","mfhd2","sencLength","videoSencLength","saiz","saio","trun1","traf2","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_traf","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","_traf2","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat2","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","mdatView","_offset","_sample","u","setUint32","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","newId","_initSegmentId","_fireEvents","_this$_remuxer$remux","remux","meta","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","append","_needInitSegment","transmux","setTrackExist","_handleCodecChange","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","removeBuffer","_evictBuffer","_callee4","bufferBehind","_context4","evictBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_destroy","_callee9","_this$_decryptor","_context9","codecList","sourceBuffer","getSourceBuffer","isFull","getConfig","cfg","maxPlaylistSize","retryCount","retryDelay","pollRetryCount","loadTimeout","manifestLoadTimeout","preloadTime","useLowLatency","targetLatency","maxLatency","allowedStreamTrackChange","seiInTime","manifestList","minSegmentsStartPlay","LoaderType","FETCH","XHR","ResponseType","ARRAY_BUFFER","NetError","NetError2","isPlainObject","isDate","getRangeValue","encodeURIComponent","setUrlParams","hashIndex","createResponse","contentLength","age","firstByteTime","priOptions","calculateSpeed","byteLen","millisec","CACHESIZE","FetchLoader","FetchLoader2","_this$_abortControlle","responseType","onProgress","onTimeout","onCancel","transformResponse","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_range","_vid","_priOptions","signal","_timeoutTimer","rangeValue","Headers","fetch","_response","ok","json","_loadChunk","arrayBuffer","_cancel","_reader","st","getReader","_writeIdx","reader","pump","_this3$_range","startRange","startByte","curLen","retData","temp","read","_receivedLength","loaderType","onRetryError","transformRequest","transformError","integrity","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","_internalOpen","_startTime","_xhr","withCredentials","_onLoad","_onReadyStatechange","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","headerLines","getAllResponseHeaders","_iterator","header","parts","_excluded","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","rest","isRetry","running","NetLoader","NetLoader2","task","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","Audio","Video","SubTitle","ClosedCaptions","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","parseAttr","getAbsoluteUrl","parentUrl","pairs","CODECS_REGEXP","getCodecs","re","parseMasterPlaylist","lines","master","audioStreams","subtitleStreams","_tag","stream","TYPE","URI","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli","_attr$RESOLUTION$spli2","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","curSegment","curInitSegment","curKey","totalDuration","curSN","curCC","endOfList","partSegmentIndex","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","_lastSegment","isLast","live","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split","_data$split2","title","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","lastSegment","endSN","endPartIndex","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","_useLowLatency","_this$hls$config","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","clamp","Stream","Stream2","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","_this$currentSubtitle","currentSubtitleStream","currentAudioStream","_clearSegments","snDiff","_updateSegments","skippedSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","endSeg","hasNew","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","newSubtitleSegs","updateSubtitle","_this$currentStream10","switchSubtitle","clearOldSegment","nbSb","findSegmentIndexByTime","getSegmentByIndex","BandwidthService","BandwidthService2","totalByte","_speeds","_chunkSpeeds","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","nextSeg","bInfo","bufferThroughout","_segmentProcessing","nextSegment","_bufferService","msIsOpend","_urlSwitching","_prevSegSn","setNextSegmentByIndex","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","disconnectTime","_clear","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","latency","_seiService","throw","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","bufferMaxHoleTolerance","fatal","_emitError","_gapService","do","_manifestLoader","_onPause","hasSubtitle","_this$_bufferService","_args4","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts2","switchTimePoint","segIdx","bufferClearStartPoint","_this$_switchUrlOpts3","_loadM3U8","_switchUrlOpts","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","_replay","isPlayEmit","_switchURL","defaultOpts","_options","appended","_args7","t2","_prevSegCc","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","switchStream","_switchAudioStream","audioStream","_args9","switchAudioStream","_switchSubtitleStream","_callee10","_context10","stopPoll","switchSubtitleStream","_callee11","_this$_seiService2","_context11","_loadM3U","_callee12","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context12","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","switchToNoEmpty","hadSegmentLoaded","_loadSegmentDirect2","_callee13","loadOnce","cachedError","_context13","_reqAndBufferSegment","moveSegmentPointer","_reqAndBufferSegment2","_callee14","_this$_bufferService2","responses","before","_context14","decryptBuffer","_onCheckQuotaExceeded2","_callee15","inBuffered","mediaTime","_context15","changedSeg","checkSegmentTrackChange","_clear2","_callee16","_context16","_reset2","_callee17","_this$_seiService3","_args17","_context17","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","nextLoadPoint","latestKbps","WebAssembly","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","opts","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","_this$_opts","_opts","innerDegrade","degradeInfo","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","replaceChild","hlsPlugin","_init","_this$_opts2","setPlayMode","_onLowDecode","_this$_opts3","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","HlsPlugin2","_args","_this$hls","_this$hls2","_this$player$config","_this$player$config$h","keepStatusAfterSwitch","_keepPauseStatus","_this$hls3","_this$player$config2","__allowHlsEmptyUrl__","_onSwitchURL","hlsOpts","defineGetterOrSetter","_this2$hls","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","_this2$hls2","_onSwitchSubtitle","_transError","_transCoreEvent","_this$pluginExtension","_emitSeiPaylodTime","seiJson","TopBack","handleBack","vodName","super","vodname","updateVodName","JujiPlugin","handleJuji","juji","EventBus","Vue","mounted","initPlayer","$on","changePlay","isfull","playPos","watch","methods","TopBackPlugin","iconText","topBack","$router","Events","$utils","playTitle","isFullscreen","callNativeFunction","full","insertVodHistory","percentage","currentPosition","historyVod","vodId","cover","imgy","datetime","getNowDateString","esptitle","playIndex","espIndex","watchTime","formatTimeSeconds","year","yat","director","vodhistory","$emit","beforeDestroy","$off","component","_v","ysname","yatinfo","actorinfo","contentinfo","directives","rawName","expression","handleDown","handleShare","handleLike","likeIcon","likeText","handleEspSlide","espmark","sourcescrollContentStyle","bfqes","bfq","selSourceIndex","bfqSelbtn","bfqbtn","$event","sourceClick","espscrollContentStyle","espes","esp","selEspIndex","espSelcedBtn","espBtn","espClick","model","gridshow","$$v","handleGridClose","espgrid","outList","outIndex","espSelGridBtn","espGridBtn","chunkArrayWithIndex","array","chunkWithIndex","components","Row","Col","Popup","isLike","espWidth","espHeight","sourceWidth","sourceHeight","bs","sourceBS","initScroll","BScroll","$refs","espscroll","scrollX","initSourceScroll","sourcescroll","jiaziad","adShow","shareText","Toast","vodlike","likeVod","esplist","espMap","undefined","getBofang","uList","$http","bofangSucc","queryVodLike","vId","vod","computed","area","directors","actors","actor","isChinese","remarks","widrem","screenWidth","fenxiArr","maxLength","lineHeight","textAlign","borderRadius","border","fontSize","userSelect","flex","userselect","newValue","$nextTick","refresh","newDetail","oldDetail","DetailHeader","DetailInfo","queryVodHistory","$route","getDetail","detailSucc","nativeJsFunction","callbackdetal","DOCUMENT_NODE_TYPE","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","selector","_delegate","useCapture","listenerFn","listener","elements","querySelectorAll","factory","strFileName","strMimeType","defaultMime","anchor","myBlob","MozBlob","WebKitBlob","ajax","msSaveBlob","dataUrlToBlob","saver","tempUiArr","mx","strUrl","atob","decodeURIComponent","binData","uiArr","winMode","confirm","btoa","FileReader","readAsDataURL","prefix","EE","addListener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","listeners","ee","listenerCount","a1","a2","a3","a4","a5","removeListener","prefixed","_createNamespace","createComponent","bem","mixins","span","spaces","_spaces$index","_bem","slots","isImage","LEGACY_MAP","medel","correctName","_props$badge","imageIcon","classPrefix","badge","Info","showInfo","uid","BindEventMixin","activated","deactivated","flattenVNodes","vnodes","traverse","vnode","componentInstance","$children","$vnode","sortChildren","componentOptions","ChildrenMixin","_inject","_computed","indexKey","inject","disableBindRelation","bindRelation","ParentMixin","provide","closeable","transition","safeAreaInsetBottom","closeIcon","closeIconPosition","overlay","closeOnClickOverlay","createEmitter","onOpened","onClosed","onClickCloseIcon","shouldRender","isCenter","transitionName","transitionAppear","align","justify","gutter","groups","totalSpan","averagePadding","mods","createBEM","camelizeRE","camelize","_","SlotsMixin","$slots","$scopedSlots","scopedSlot","install","unifySlots","scopedSlots","transformFunctionComponent","pure","functional","sfc","assignKey","deepAssign","tel","save","loading","telEmpty","nameEmpty","nameInvalid","confirmDelete","telInvalid","vanCalendar","startEnd","weekdays","monthTitle","month","rangePrompt","maxRange","vanCascader","select","vanContactCard","addText","vanContactList","vanPagination","vanPullRefresh","pulling","loosing","vanSubmitBar","label","vanCoupon","unlimited","discount","_discount","condition","_condition","vanCouponCell","tips","_count","vanCouponList","empty","exchange","placeholder","vanAddressEdit","postal","areaEmpty","addressEmpty","postalEmpty","defaultAddress","telPlaceholder","namePlaceholder","areaPlaceholder","vanAddressEditDetail","vanAddressList","defineReactive","messages","$vantMessages","$vantLang","_this$add","createI18N","locale","createNamespace","supportsPassive","passive","isStopPropagation","isWindow","overflowScrollReg","getScroller","_window$getComputedSt","overflowY","getScrollTop","setScrollTop","getRootScrollTop","setRootScrollTop","getElementTop","scroller","getVisibleHeight","getVisibleTop","rootFontSize","isNumeric","addUnit","getRootFontSize","convertRem","convertVw","convertVh","unitToPx","inheritKey","mapInheritKey","nativeOn","inherit","inheritListeners","mount","Component","$props","$el","inBrowser","isServer","$isServer","noop","isDef","isFunction","isPromise","_result$key"],"sourceRoot":""}