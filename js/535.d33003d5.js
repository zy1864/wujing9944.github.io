(self["webpackChunkjdzj"]=self["webpackChunkjdzj"]||[]).push([[535],{1932:function(t,i,e){"use strict";e.r(i),e.d(i,{default:function(){return v}});var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"topic"},[i("van-nav-bar",{staticClass:"backBar",attrs:{title:t.topicTitle,"left-arrow":""},on:{"click-left":t.onClickLeft}}),i("van-list",{staticClass:"vod-list",attrs:{"finished-text":"没有更多了"}},t._l(t.vodsgrid,(function(e,n){return i("van-row",{key:n,attrs:{type:"flex"}},t._l(e,(function(e){return i("van-col",{key:e.index,staticClass:"vod-class",on:{click:function(i){return t.vodClick(e.value.id)}}},[i("div",{staticClass:"vod-container",style:t.vodStyle},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.value.imgy,expression:"vod.value.imgy"}],style:t.vodStyle}),i("span",{staticClass:"span-mark"},[t._v(t._s(e.value.remarks))])]),i("span",{staticClass:"vod-name",style:t.vodNameStyle},[t._v(" "+t._s(e.value.name)+" ")])])})),1)})),1)],1)},s=[],r=(e(560),e(8521)),o=e(6458),a=e(765),l=e(6109);e(3916),e(4300),e(6507),e(6849);function c(t,i){let e=[];for(let n=0;n<t.length;n+=i){const s=t.slice(n,n+i).map(((t,i)=>({index:n+i,value:t})));e.push(s)}return e}var h={name:"Topicpage",components:{[r.Z.name]:r.Z,[o.Z.name]:o.Z,[a.Z.name]:a.Z,[l.Z.name]:l.Z},data(){return{topicTitle:"",vods:[],vodsgrid:[]}},activated(){this.vods=[],this.vodsgrid=[],this.topicTitle="",this.topicDetail()},watch:{vods(){this.vodsgrid=c(this.vods,3)}},computed:{vodStyle(){let t=2.34,i=3.11;return this.$utils.vodlistWidth>0&&(t=this.$utils.vodlistWidth,i=this.$utils.vodlistHeight),{width:t+"rem",height:i+"rem",marginRight:"0.2rem",marginBottom:"0.2rem"}},vodNameStyle(){let t=2.34;return this.$utils.vodlistWidth>0&&(t=this.$utils.vodlistWidth),{width:t+"rem",height:"0.32rem",position:"absolute",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.26rem",color:"#444444",textAlign:"center"}}},methods:{onClickLeft(){this.$router.back(-1)},topicDetail(){this.$http.get("/api/jjsp",{params:{id:this.$route.params.id}}).then((t=>{console.log(t);const i=t.data;if(1e3===i.code&&i.data){const t=i.data;this.topicTitle=t.title,this.vods.push(...t.vod)}}))},vodClick(t){this.$router.push({path:`/detail/${t}`})}}},d=h,u=e(1001),f=(0,u.Z)(d,n,s,!1,null,"0408d803",null),v=f.exports},3498:function(t,i,e){"use strict";e.r(i)},9193:function(t,i,e){"use strict";e.r(i)},8223:function(t,i,e){"use strict";e.r(i)},8942:function(t,i,e){"use strict";e.r(i)},765:function(t,i,e){"use strict";var n=e(2787),s=e(6108),r=(0,n.d)("col"),o=r[0],a=r[1];i.Z=o({mixins:[(0,s.j)("vanRow")],props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{style:function(){var t=this.index,i=this.parent||{},e=i.spaces;if(e&&e[t]){var n=e[t],s=n.left,r=n.right;return{paddingLeft:s?s+"px":null,paddingRight:r?r+"px":null}}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,i=arguments[0],e=this.span,n=this.offset;return i(this.tag,{style:this.style,class:a((t={},t[e]=e,t["offset-"+n]=n,t)),on:{click:this.onClick}},[this.slots()])}})},6109:function(t,i,e){"use strict";var n=e(2787),s=e(591),r=e(1750),o=e(9045),a=e(3432),l=(0,n.d)("list"),c=l[0],h=l[1],d=l[2];i.Z=c({mixins:[(0,o.X)((function(t){this.scroller||(this.scroller=(0,r.Ob)(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var i,e=t.$el,n=t.scroller,r=t.offset,o=t.direction;i=n.getBoundingClientRect?n.getBoundingClientRect():{top:0,bottom:n.innerHeight};var a=i.bottom-i.top;if(!a||(0,s.x)(e))return!1;var l=!1,c=t.$refs.placeholder.getBoundingClientRect();l="up"===o?i.top-c.top<=r:c.bottom-i.bottom<=r,l&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:h("loading")},[this.slots("loading")||t(a.Z,{attrs:{size:"16"}},[this.loadingText||d("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var i=this.slots("finished")||this.finishedText;if(i)return t("div",{class:h("finished-text")},[i])}},genErrorText:function(){var t=this.$createElement;if(this.error){var i=this.slots("error")||this.errorText;if(i)return t("div",{on:{click:this.clickErrorText},class:h("error-text")},[i])}}},render:function(){var t=arguments[0],i=t("div",{ref:"placeholder",key:"placeholder",class:h("placeholder")});return t("div",{class:h(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():i,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():i])}})},6108:function(t,i,e){"use strict";function n(t){var i=[];function e(t){t.forEach((function(t){i.push(t),t.componentInstance&&e(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&e(t.children)}))}return e(t),i}function s(t,i){var e=i.$vnode.componentOptions;if(e&&e.children){var s=n(e.children);t.sort((function(t,i){return s.indexOf(t.$vnode)-s.indexOf(i.$vnode)}))}}function r(t,i){var e,n;void 0===i&&(i={});var r=i.indexKey||"index";return{inject:(e={},e[t]={default:null},e),computed:(n={parent:function(){return this.disableBindRelation?null:this[t]}},n[r]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},n),watch:{disableBindRelation:function(t){t||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(i){return i!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);s(t,this.parent),this.parent.children=t}}}}}function o(t){return{provide:function(){var i;return i={},i[t]=this,i},data:function(){return{children:[]}}}}e.d(i,{j:function(){return r},G:function(){return o}})},8521:function(t,i,e){"use strict";var n=e(2787),s=e(1541),r=e(1392),o=(0,n.d)("nav-bar"),a=o[0],l=o[1];i.Z=a({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){var t=this;if(this.placeholder&&this.fixed){var i=function(){t.height=t.$refs.navBar.getBoundingClientRect().height};i(),setTimeout(i,100)}},methods:{genLeft:function(){var t=this.$createElement,i=this.slots("left");return i||[this.leftArrow&&t(r.Z,{class:l("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:l("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,i=this.slots("right");return i||(this.rightText?t("span",{class:l("text")},[this.rightText]):void 0)},genNavBar:function(){var t,i=this.$createElement;return i("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[l({fixed:this.fixed,"safe-area-inset-top":this.safeAreaInsetTop}),(t={},t[s.xe]=this.border,t)]},[i("div",{class:l("content")},[this.hasLeft()&&i("div",{class:l("left"),on:{click:this.onClickLeft}},[this.genLeft()]),i("div",{class:[l("title"),"van-ellipsis"]},[this.slots("title")||this.title]),this.hasRight()&&i("div",{class:l("right"),on:{click:this.onClickRight}},[this.genRight()])])])},hasLeft:function(){return this.leftArrow||this.leftText||this.slots("left")},hasRight:function(){return this.rightText||this.slots("right")},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:l("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}})},6458:function(t,i,e){"use strict";var n=e(2787),s=e(6108),r=(0,n.d)("row"),o=r[0],a=r[1];i.Z=o({mixins:[(0,s.G)("vanRow")],props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},computed:{spaces:function(){var t=Number(this.gutter);if(t){var i=[],e=[[]],n=0;return this.children.forEach((function(t,i){n+=Number(t.span),n>24?(e.push([i]),n-=24):e[e.length-1].push(i)})),e.forEach((function(e){var n=t*(e.length-1)/e.length;e.forEach((function(e,s){if(0===s)i.push({right:n});else{var r=t-i[e-1].right,o=n-r;i.push({left:r,right:o})}}))})),i}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,i=arguments[0],e=this.align,n=this.justify,s="flex"===this.type;return i(this.tag,{class:a((t={flex:s},t["align-"+e]=s&&e,t["justify-"+n]=s&&n,t)),on:{click:this.onClick}},[this.slots()])}})},591:function(t,i,e){"use strict";function n(t){var i=window.getComputedStyle(t),e="none"===i.display,n=null===t.offsetParent&&"fixed"!==i.position;return e||n}e.d(i,{x:function(){return n}})},6507:function(t,i,e){e(1546),e(3498)},6849:function(t,i,e){e(1546),e(6737),e(9193)},3916:function(t,i,e){e(1546),e(2251),e(4511),e(8223)},4300:function(t,i,e){e(1546),e(8942)}}]);
//# sourceMappingURL=535.d33003d5.js.map