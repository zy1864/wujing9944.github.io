(self["webpackChunkjdzj"]=self["webpackChunkjdzj"]||[]).push([[595],{8410:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return dt}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("div",{staticClass:"search-header"},[e("div",{staticClass:"search-back",on:{click:t.backClick}},[e("van-icon",{staticClass:"back-icon",staticStyle:{"padding-left":".16rem"},attrs:{name:"arrow-left"}})],1),e("van-search",{staticClass:"search-input",attrs:{"show-action":"",placeholder:"请搜索您想看的影视"},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHis,expression:"showHis"}],staticClass:"hishotlay"},[e("van-sticky",{attrs:{"offset-top":"1.08rem"}},[e("van-row",{staticStyle:{background:"#fff"},attrs:{type:"flex",justify:"space-between"}},[e("van-col",{staticClass:"hisleft-title",attrs:{span:"6"}},[t._v("历史搜索")]),e("van-col",{staticClass:"hisright-lay",attrs:{span:"6"},on:{click:t.clearHisClick}},[t._v(" 清空"),e("van-icon",{attrs:{name:"delete-o"}})],1)],1),e("div",{staticClass:"hiswords-lay",staticStyle:{background:"#fff"}},[e("van-grid",{staticStyle:{background:"#fff"},attrs:{"column-num":3,border:!1,gutter:".06rem"}},t._l(t.hisWords,(function(i){return e("van-grid-item",{key:i.wid,staticClass:"his-word",on:{click:function(e){return t.hotSearch(i.word)}}},[e("span",{staticClass:"word-button"},[t._v(" "+t._s(i.word)+" ")])])})),1)],1),e("div",{staticClass:"hottitle",staticStyle:{background:"#fff"}},[t._v(" 热门搜索 ")])],1),e("van-list",{staticClass:"hotlist",attrs:{finished:!0,"finished-text":"没有更多了"}},t._l(t.hotWords,(function(i,n){return e("span",{key:n,staticClass:"hot-item",on:{click:function(e){return t.hotSearch(i.word)}}},[t._v(" "+t._s(i.word)+" ")])})),0)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showLxc,expression:"showLxc"}],staticClass:"lxclay"},[e("van-list",{staticClass:"lxclist",attrs:{finished:!0,"finished-text":"没有更多了"}},t._l(t.lxcWords,(function(i,n){return e("span",{key:n,staticClass:"lxc-item",domProps:{innerHTML:t._s(t.highlightItem(i))},on:{click:function(e){return t.hotSearch(i)}}})})),0)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showVods,expression:"showVods"}],staticClass:"vodslay"},[e("van-list",{staticClass:"vodslist",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.computedVods,(function(i,n){return e("div",{key:n,staticClass:"vod-class",on:{click:function(e){return t.handleToDetail(i.id)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.imgy,expression:"vod.imgy"}],staticClass:"fixed-size-image"}),e("div",{staticClass:"vod-info"},[e("p",{staticClass:"name-class"},[t._v(t._s(i.name))]),e("p",{staticClass:"year-class"},[t._v(t._s(i.computedYat))]),e("p",{staticClass:"director-class"},[t._v(t._s(i.computedDirec))])])])})),0)],1)])},s=[],o=(i(560),i(6568)),a=i.n(o),r=i(7378),l=i(2787),c=i(6122),h=i(5566),u=i(8546);function d(){return!u.sk&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var f=i(1750),g=d();function p(){g&&(0,f.kn)((0,f.oD)())}var v=i(8169),m=i(789),y=i(1392),k=i(9233),b=i(806),w=(0,l.d)("field"),C=w[0],x=w[1],S=C({inheritAttrs:!1,provide:function(){return{vanField:this}},inject:{vanForm:{default:null}},props:(0,r.Z)({},b.T,{name:String,rules:Array,disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,formatter:Function,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,placeholder:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,value:{type:[Number,String],default:""},type:{type:String,default:"text"},error:{type:Boolean,default:null},colon:{type:Boolean,default:null},clearTrigger:{type:String,default:"focus"},formatTrigger:{type:String,default:"onChange"}}),data:function(){return{focused:!1,validateFailed:!1,validateMessage:""}},watch:{value:function(){this.updateValue(this.value),this.resetValidation(),this.validateWithTrigger("onChange"),this.$nextTick(this.adjustSize)}},mounted:function(){this.updateValue(this.value,this.formatTrigger),this.$nextTick(this.adjustSize),this.vanForm&&this.vanForm.addField(this)},beforeDestroy:function(){this.vanForm&&this.vanForm.removeField(this)},computed:{showClear:function(){var t=this.getProp("readonly");if(this.clearable&&!t){var e=(0,u.Xq)(this.value)&&""!==this.value,i="always"===this.clearTrigger||"focus"===this.clearTrigger&&this.focused;return e&&i}},showError:function(){return null!==this.error?this.error:!!(this.vanForm&&this.vanForm.showError&&this.validateFailed)||void 0},listeners:function(){return(0,r.Z)({},this.$listeners,{blur:this.onBlur,focus:this.onFocus,input:this.onInput,click:this.onClickInput,keypress:this.onKeypress})},labelStyle:function(){var t=this.getProp("labelWidth");if(t)return{width:(0,m.N)(t)}},formValue:function(){return this.children&&(this.$scopedSlots.input||this.$slots.input)?this.children.value:this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},runValidator:function(t,e){return new Promise((function(i){var n=e.validator(t,e);if((0,u.tI)(n))return n.then(i);i(n)}))},isEmptyValue:function(t){return Array.isArray(t)?!t.length:0!==t&&!t},runSyncRule:function(t,e){return(!e.required||!this.isEmptyValue(t))&&!(e.pattern&&!e.pattern.test(t))},getRuleMessage:function(t,e){var i=e.message;return(0,u.mf)(i)?i(t,e):i},runRules:function(t){var e=this;return t.reduce((function(t,i){return t.then((function(){if(!e.validateFailed){var t=e.formValue;return i.formatter&&(t=i.formatter(t,i)),e.runSyncRule(t,i)?i.validator?e.runValidator(t,i).then((function(n){!1===n&&(e.validateFailed=!0,e.validateMessage=e.getRuleMessage(t,i))})):void 0:(e.validateFailed=!0,void(e.validateMessage=e.getRuleMessage(t,i)))}}))}),Promise.resolve())},validate:function(t){var e=this;return void 0===t&&(t=this.rules),new Promise((function(i){t||i(),e.resetValidation(),e.runRules(t).then((function(){e.validateFailed?i({name:e.name,message:e.validateMessage}):i()}))}))},validateWithTrigger:function(t){if(this.vanForm&&this.rules){var e=this.vanForm.validateTrigger===t,i=this.rules.filter((function(i){return i.trigger?i.trigger===t:e}));i.length&&this.validate(i)}},resetValidation:function(){this.validateFailed&&(this.validateFailed=!1,this.validateMessage="")},updateValue:function(t,e){void 0===e&&(e="onChange"),t=(0,u.Xq)(t)?String(t):"";var i=this.maxlength;if((0,u.Xq)(i)&&t.length>i&&(t=this.value&&this.value.length===+i?this.value:t.slice(0,i)),"number"===this.type||"digit"===this.type){var n="number"===this.type;t=(0,v.uf)(t,n,n)}this.formatter&&e===this.formatTrigger&&(t=this.formatter(t));var s=this.$refs.input;s&&t!==s.value&&(s.value=t),t!==this.value&&this.$emit("input",t)},onInput:function(t){t.target.composing||this.updateValue(t.target.value)},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.$nextTick(this.adjustSize),this.getProp("readonly")&&this.blur()},onBlur:function(t){this.getProp("readonly")||(this.focused=!1,this.updateValue(this.value,"onBlur"),this.$emit("blur",t),this.validateWithTrigger("onBlur"),this.$nextTick(this.adjustSize),p())},onClick:function(t){this.$emit("click",t)},onClickInput:function(t){this.$emit("click-input",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){(0,h.PF)(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){var e=13;if(t.keyCode===e){var i=this.getProp("submitOnEnter");i||"textarea"===this.type||(0,h.PF)(t),"search"===this.type&&this.blur()}this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){var e=(0,f.oD)();t.style.height="auto";var i=t.scrollHeight;if((0,u.Kn)(this.autosize)){var n=this.autosize,s=n.maxHeight,o=n.minHeight;s&&(i=Math.min(i,s)),o&&(i=Math.max(i,o))}i&&(t.style.height=i+"px",(0,f.kn)(e))}},genInput:function(){var t=this.$createElement,e=this.type,i=this.getProp("disabled"),n=this.getProp("readonly"),s=this.slots("input"),o=this.getProp("inputAlign");if(s)return t("div",{class:x("control",[o,"custom"]),on:{click:this.onClickInput}},[s]);var l={ref:"input",class:x("control",o),domProps:{value:this.value},attrs:(0,r.Z)({},this.$attrs,{name:this.name,disabled:i,readonly:n,placeholder:this.placeholder}),on:this.listeners,directives:[{name:"model",value:this.value}]};if("textarea"===e)return t("textarea",a()([{},l]));var c,h=e;return"number"===e&&(h="text",c="decimal"),"digit"===e&&(h="tel",c="numeric"),t("input",a()([{attrs:{type:h,inputmode:c}},l]))},genLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:x("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(y.Z,{attrs:{name:this.leftIcon,classPrefix:this.iconPrefix}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots,i=e("right-icon")||this.rightIcon;if(i)return t("div",{class:x("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(y.Z,{attrs:{name:this.rightIcon,classPrefix:this.iconPrefix}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.maxlength){var e=(this.value||"").length;return t("div",{class:x("word-limit")},[t("span",{class:x("word-num")},[e]),"/",this.maxlength])}},genMessage:function(){var t=this.$createElement;if(!this.vanForm||!1!==this.vanForm.showErrorMessage){var e=this.errorMessage||this.validateMessage;if(e){var i=this.getProp("errorMessageAlign");return t("div",{class:x("error-message",i)},[e])}}},getProp:function(t){return(0,u.Xq)(this[t])?this[t]:this.vanForm&&(0,u.Xq)(this.vanForm[t])?this.vanForm[t]:void 0},genLabel:function(){var t=this.$createElement,e=this.getProp("colon")?":":"";return this.slots("label")?[this.slots("label"),e]:this.label?t("span",[this.label+e]):void 0}},render:function(){var t,e=arguments[0],i=this.slots,n=this.getProp("disabled"),s=this.getProp("labelAlign"),o={icon:this.genLeftIcon},a=this.genLabel();a&&(o.title=function(){return a});var r=this.slots("extra");return r&&(o.extra=function(){return r}),e(k.Z,{attrs:{icon:this.leftIcon,size:this.size,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,valueClass:x("value"),titleClass:[x("label",s),this.labelClass],arrowDirection:this.arrowDirection},scopedSlots:o,class:x((t={error:this.showError,disabled:n},t["label-"+s]=s,t["min-height"]="textarea"===this.type&&!this.autosize,t)),on:{click:this.onClick}},[e("div",{class:x("body")},[this.genInput(),this.showClear&&e(y.Z,{attrs:{name:"clear"},class:x("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),i("button")&&e("div",{class:x("button")},[i("button")])]),this.genWordLimit(),this.genMessage()])}}),B=(0,l.d)("search"),$=B[0],Z=B[1],W=B[2];function T(t,e,i,n){function s(){if(i.label||e.label)return t("div",{class:Z("label")},[i.label?i.label():e.label])}function o(){if(e.showAction)return t("div",{class:Z("action"),attrs:{role:"button",tabindex:"0"},on:{click:s}},[i.action?i.action():e.actionText||W("cancel")]);function s(){i.action||((0,c.j8)(n,"input",""),(0,c.j8)(n,"cancel"))}}var l={attrs:n.data.attrs,on:(0,r.Z)({},n.listeners,{keypress:function(t){13===t.keyCode&&((0,h.PF)(t),(0,c.j8)(n,"search",e.value)),(0,c.j8)(n,"keypress",t)}})},u=(0,c.ED)(n);return u.attrs=void 0,t("div",a()([{class:Z({"show-action":e.showAction}),style:{background:e.background}},u]),[null==i.left?void 0:i.left(),t("div",{class:Z("content",e.shape)},[s(),t(S,a()([{attrs:{type:"search",border:!1,value:e.value,leftIcon:e.leftIcon,rightIcon:e.rightIcon,clearable:e.clearable,clearTrigger:e.clearTrigger},scopedSlots:{"left-icon":i["left-icon"],"right-icon":i["right-icon"]}},l]))]),o()])}T.props={value:String,label:String,rightIcon:String,actionText:String,background:String,showAction:Boolean,clearTrigger:String,shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},leftIcon:{type:String,default:"search"}};var I,P=$(T),F=i(765),j=i(6458),A=i(6109),H=i(7763),L=i(9978),z=i(2163),E=i(144),D=i(1541),V=i(1979),_=i(5791),M=i(6108),O=(0,l.d)("goods-action"),R=O[0],N=O[1],q=R({mixins:[(0,M.G)("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:N({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),K=i(7692),X=(0,l.d)("goods-action-button"),G=X[0],Y=X[1],J=G({mixins:[(0,M.j)("vanGoodsAction")],props:(0,r.Z)({},K.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),(0,K.BC)(this.$router,this)}},render:function(){var t=arguments[0];return t(_.Z,{class:Y([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),Q=(0,l.d)("dialog"),U=Q[0],tt=Q[1],et=Q[2],it=U({mixins:[(0,V.e)()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(i){!1!==i&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){var t=this;this.$emit("opened"),this.$nextTick((function(){var e;null==(e=t.$refs.dialog)||e.focus()}))},onClosed:function(){this.$emit("closed")},onKeydown:function(t){var e=this;if("Escape"===t.key||"Enter"===t.key){if(t.target!==this.$refs.dialog)return;var i={Enter:this.showConfirmButton?function(){return e.handleAction("confirm")}:u.ZT,Escape:this.showCancelButton?function(){return e.handleAction("cancel")}:u.ZT};i[t.key](),this.$emit("keydown",t)}},genRoundButtons:function(){var t=this,e=this.$createElement;return e(q,{class:tt("footer")},[this.showCancelButton&&e(J,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||et("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:tt("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&e(J,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||et("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:tt("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,e=this,i=this.$createElement,n=this.showCancelButton&&this.showConfirmButton;return i("div",{class:[D.k7,tt("footer")]},[this.showCancelButton&&i(_.Z,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||et("cancel"),nativeType:"button"},class:tt("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&i(_.Z,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||et("confirm"),nativeType:"button"},class:[tt("confirm"),(t={},t[D.a8]=n,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])},genContent:function(t,e){var i=this.$createElement;if(e)return i("div",{class:tt("content")},[e]);var n=this.message,s=this.messageAlign;if(n){var o,r,l={class:tt("message",(o={"has-title":t},o[s]=s,o)),domProps:(r={},r[this.allowHtml?"innerHTML":"textContent"]=n,r)};return i("div",{class:tt("content",{isolated:!t})},[i("div",a()([{},l]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var e=this.message,i=this.slots(),n=this.slots("title")||this.title,s=n&&t("div",{class:tt("header",{isolated:!e&&!i})},[n]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||e,tabIndex:0},class:[tt([this.theme]),this.className],style:{width:(0,m.N)(this.width)},ref:"dialog",on:{keydown:this.onKeydown}},[s,this.genContent(n,i),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}});function nt(t){return document.body.contains(t)}function st(){I&&I.$destroy(),I=new(E.ZP.extend(it))({el:document.createElement("div"),propsData:{lazyRender:!1}}),I.$on("input",(function(t){I.value=t}))}function ot(t){return u.sk?Promise.resolve():new Promise((function(e,i){I&&nt(I.$el)||st(),(0,r.Z)(I,ot.currentOptions,t,{resolve:e,reject:i})}))}ot.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){I["confirm"===t?"resolve":"reject"](t)}},ot.alert=ot,ot.confirm=function(t){return ot((0,r.Z)({showCancelButton:!0},t))},ot.close=function(){I&&(I.value=!1)},ot.setDefaultOptions=function(t){(0,r.Z)(ot.currentOptions,t)},ot.resetDefaultOptions=function(){ot.currentOptions=(0,r.Z)({},ot.defaultOptions)},ot.resetDefaultOptions(),ot.install=function(){E.ZP.use(it)},ot.Component=it,E.ZP.prototype.$dialog=ot;var at=ot,rt=(i(4781),i(9588),i(6507),i(4300),i(6849),i(8246),i(5641),i(8516),i(2947),i(5958)),lt={name:"SearchPage",components:{[P.name]:P,[y.Z.name]:y.Z,[F.Z.name]:F.Z,[j.Z.name]:j.Z,[A.Z.name]:A.Z,[H.Z.name]:H.Z,[L.Z.name]:L.Z,[z.Z.name]:z.Z,[at.name]:at},data(){return{keyWord:"",vods:[],page:1,hisWords:[],lxcWords:[],hotWords:[],loading:!1,finished:!1,showHis:!0,showLxc:!1,showVods:!1,isClickHotHis:!1}},mounted(){},computed:{computedVods(){return this.vods.map((t=>({id:t.id,imgy:t.imgy,name:t.name,computedYat:this.computedYatByItem(t),computedDirec:this.computedDirecByItem(t)})))}},watch:{keyWord(){console.log(`search: ${this.keyWord}`),""===this.keyWord?(this.page=1,this.lxcWords=[],this.vods=[],this.showLxc=!1,this.showVods=!1,this.showHis=!0,this.isClickHotHis=!1):this.isClickHotHis?this.getSearchData():this.getLxc()},lxcWords(t){console.log(`this.lxcWords.length: ${this.lxcWords.length}`),t.length>0&&(this.showLxc=!0,this.showHis=!1,this.showVods=!1)},vods(t){t.length>0&&(this.showLxc=!1,this.showHis=!1,this.showVods=!0)}},activated(){console.log("search--activated"),this.keyWord="",this.vods=[],this.hotWords=[],this.getHotWords(),this.hisWords=[],this.getHisWords(),this.showHis=!0,this.showLxc=!1,this.showVods=!1,this.isClickHotHis=!1,this.page=1},methods:{backClick(){this.$router.back(-1)},onLoad(){this.page+=1,this.loading=!0,this.getSearchData()},onSearch(t){console.log(`search-- ${t}`),this.getSearchData()},onCancel(){console.log("取消")},clearHisClick(){at.confirm({title:"提示",message:"确认清空?"}).then((()=>{rt.Z.searchword.clear().then((()=>{this.hisWords=[]}))})).catch((()=>{}))},hotSearch(t){this.isClickHotHis=!0,this.keyWord=t},getHisWords(){rt.Z.searchword.orderBy("wid").reverse().limit(10).toArray().then((t=>{this.hisWords.push(...t)})).catch((t=>{console.error(t)}))},getHotWords(){this.$http.get("/api/ssc").then((t=>{const e=t.data;1e3===e.code&&e.data&&this.hotWords.push(...e.data)}))},getLxc(){this.$http.get(`/api/lxc?page=1&limit=100&w=${this.keyWord}`).then((t=>{const e=t.data;1e3===e.code&&e.data&&(this.lxcWords=[],this.lxcWords.push(...e.data))}))},highlightItem(t){const e=this.keyWord,i=t.replace(new RegExp(e,"g"),`<span style="color: #41ae3c;">${e}</span>`);return i},getSearchData(){rt.Z.searchword.where("word").equals(this.keyWord).toArray().then((t=>{if(t.length<=0){const t={word:this.keyWord,wid:Date.now()};this.hisWords.push(t),rt.Z.searchword.put(t).then((()=>{console.log("Item was added or replaced successfully!")})).catch((t=>{console.error("Error: "+t)}))}})),this.$http.get(`/api/ss?page=${this.page}&limit=10&w=${this.keyWord}`).then((t=>{const e=t.data;1e3===e.code&&e.data&&(e.data.length>0?this.vods.push(...e.data):this.finished=!0),this.loading=!1}))},handleToDetail(t){this.$router.push({path:`/detail/${t}`})},computedYatByItem(t){if(t){const e=""===t.year?"":t.year,i=t.type.split(","),n=i.length>2?i.slice(0,2).join("·"):i.join("·"),s=e+"︲"+t.area+"︲"+n;return s}return""},computedDirecByItem(t){if(t){const e=t.director.split(",");let i=e.length>0?e[0]:"";i=""===i?"":`${i} ‣`;let n=`${t.actor}`.split(","),s=!0;n.length>0&&(s=n[0].length<=4);let o=n.length>4?n.slice(0,4).join("▪"):n.join("▪");return s||(o=n.length>2?n.slice(0,2).join("▪"):n.join("▪")),i=`${i} ${"未知"===o?"未知":o}`,t.direc=i,i}return""}}},ct=lt,ht=i(1001),ut=(0,ht.Z)(ct,n,s,!1,null,"edda45c0",null),dt=ut.exports},7836:function(t,e,i){"use strict";i.r(e)},3498:function(t,e,i){"use strict";i.r(e)},7059:function(t,e,i){"use strict";i.r(e)},1594:function(t,e,i){"use strict";i.r(e)},2970:function(t,e,i){"use strict";i.r(e)},6579:function(t,e,i){"use strict";i.r(e)},8942:function(t,e,i){"use strict";i.r(e)},3086:function(t,e,i){"use strict";i.r(e)},5791:function(t,e,i){"use strict";var n=i(7378),s=i(6568),o=i.n(s),a=i(2787),r=i(6122),l=i(1541),c=i(7692),h=i(1392),u=i(3432),d=(0,a.d)("button"),f=d[0],g=d[1];function p(t,e,i,n){var s,a=e.tag,d=e.icon,f=e.type,p=e.color,v=e.plain,m=e.disabled,y=e.loading,k=e.hairline,b=e.loadingText,w=e.iconPosition,C={};function x(t){e.loading&&t.preventDefault(),y||m||((0,r.j8)(n,"click",t),(0,c.fz)(n))}function S(t){(0,r.j8)(n,"touchstart",t)}p&&(C.color=v?p:"white",v||(C.background=p),-1!==p.indexOf("gradient")?C.border=0:C.borderColor=p);var B=[g([f,e.size,{plain:v,loading:y,disabled:m,hairline:k,block:e.block,round:e.round,square:e.square}]),(s={},s[l._K]=k,s)];function $(){return y?i.loading?i.loading():t(u.Z,{class:g("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}}):i.icon?t("div",{class:g("icon")},[i.icon()]):d?t(h.Z,{attrs:{name:d,classPrefix:e.iconPrefix},class:g("icon")}):void 0}function Z(){var n,s=[];return"left"===w&&s.push($()),n=y?b:i.default?i.default():e.text,n&&s.push(t("span",{class:g("text")},[n])),"right"===w&&s.push($()),s}return t(a,o()([{style:C,class:B,attrs:{type:e.nativeType,disabled:m},on:{click:x,touchstart:S}},(0,r.ED)(n)]),[t("div",{class:g("content")},[Z()])])}p.props=(0,n.Z)({},c.g2,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),e.Z=f(p)},765:function(t,e,i){"use strict";var n=i(2787),s=i(6108),o=(0,n.d)("col"),a=o[0],r=o[1];e.Z=a({mixins:[(0,s.j)("vanRow")],props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{style:function(){var t=this.index,e=this.parent||{},i=e.spaces;if(i&&i[t]){var n=i[t],s=n.left,o=n.right;return{paddingLeft:s?s+"px":null,paddingRight:o?o+"px":null}}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],i=this.span,n=this.offset;return e(this.tag,{style:this.style,class:r((t={},t[i]=i,t["offset-"+n]=n,t)),on:{click:this.onClick}},[this.slots()])}})},6458:function(t,e,i){"use strict";var n=i(2787),s=i(6108),o=(0,n.d)("row"),a=o[0],r=o[1];e.Z=a({mixins:[(0,s.G)("vanRow")],props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},computed:{spaces:function(){var t=Number(this.gutter);if(t){var e=[],i=[[]],n=0;return this.children.forEach((function(t,e){n+=Number(t.span),n>24?(i.push([e]),n-=24):i[i.length-1].push(e)})),i.forEach((function(i){var n=t*(i.length-1)/i.length;i.forEach((function(i,s){if(0===s)e.push({right:n});else{var o=t-e[i-1].right,a=n-o;e.push({left:o,right:a})}}))})),e}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],i=this.align,n=this.justify,s="flex"===this.type;return e(this.tag,{class:r((t={flex:s},t["align-"+i]=s&&i,t["justify-"+n]=s&&n,t)),on:{click:this.onClick}},[this.slots()])}})},6507:function(t,e,i){i(1546),i(3498)},8516:function(t,e,i){i(1546),i(825),i(2251),i(4511),i(8507),i(6737),i(7836),i(2970),i(6579),i(7059)},4300:function(t,e,i){i(1546),i(8942)},4781:function(t,e,i){i(1546),i(2251),i(4511),i(3987),i(1594),i(3086)}}]);
//# sourceMappingURL=595.3be3146f.js.map